import{R as t,u as N,k as D,a as O,o as U,f as F,j as e,N as q,p as _,q as G,t as J,v as K,r as Q}from"./index--81IpRyR.js";import{C as V}from"./chevron-right-DAWom-h6.js";const ee=({title:o,description:d,titleFontFamily:i="PapakiloLight, sans-serif",titleSize:l="text-4xl md:text-5xl lg:text-6xl",descriptionSize:X="text-sm md:text-base",className:b="",children:m,showShareButtons:Y=!0,showNavbar:g=!1,dataPoints:w=[],openPainelFunction:f=null})=>{const y="/opin//hero.png",h=t.useRef(null),S=t.useRef(null),[k,C]=t.useState("auto"),[I,x]=t.useState(!1),n=N(),a=D(),{setSearch:c}=O(),{isAuthenticated:j,user:P,logout:R}=U(),{width:p}=F(),v=t.useMemo(()=>p<=1024&&p>window.innerHeight,[p]),L=t.useMemo(()=>a.pathname==="/conteudo",[a.pathname]),M=t.useMemo(()=>a.pathname==="/search",[a.pathname]),$=t.useMemo(()=>a.pathname==="/admin",[a.pathname]),B=t.useMemo(()=>a.pathname==="/dashboard"||a.pathname==="/painel-dados"||a.pathname==="/dados-escolas-indigenas",[a.pathname]),z=()=>{j?n("/admin"):x(!0)},A=s=>{x(!1),n("/admin")},E=(s,u=null)=>{u?(c(s,u,s),n("/mapa",{state:{searchTerm:s,coordinates:u,highlightSchool:s}})):(c(s),n(`/search?q=${encodeURIComponent(s)}`))},H=s=>{f&&s.data?(f(s.data),a.pathname!=="/mapa"&&n("/mapa")):s.coordinates?(c(s.title,s.coordinates,s.title),n("/mapa",{state:{searchTerm:s.title,coordinates:s.coordinates,highlightSchool:s.title}})):(c(s.title),n(`/search?q=${encodeURIComponent(s.title)}`))},r=t.useCallback(()=>{if(h.current){const s=h.current.offsetHeight;C(`${s}px`)}},[]);return t.useEffect(()=>(r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[r,o,d,m]),e.jsxs("div",{className:`text-white shadow-lg relative overflow-hidden ${b}`,style:{backgroundImage:`url('${y}')`,backgroundSize:"cover",backgroundPosition:"center top",backgroundRepeat:"no-repeat",position:"absolute",top:0,left:0,right:0,width:"100%",height:k,zIndex:10},children:[e.jsx("div",{className:"absolute inset-0 bg-green-900/60"}),e.jsxs("div",{ref:h,className:"relative z-10",style:{paddingTop:g?"0":"80px",paddingBottom:"2rem"},children:[g&&e.jsx("div",{className:"w-full max-w-none px-2 sm:px-4 md:px-6 lg:px-16 xl:px-24",children:e.jsxs("div",{className:"flex items-center justify-between py-1 sm:py-1.5 md:py-2",children:[e.jsx("div",{className:"flex items-center space-x-1 sm:space-x-2 md:space-x-4 min-w-0 flex-shrink",children:e.jsx("button",{onClick:()=>n("/"),className:"text-left hover:opacity-80 transition-opacity focus:outline-none focus:rounded","aria-label":"Ir para página inicial - OPIN",children:e.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[e.jsx("img",{src:"/opin//logo_index.png",alt:"OPIN - Observatório dos Professores Indígenas",className:"h-6 sm:h-7 md:h-8 lg:h-10 xl:h-12 w-auto object-contain object-left",style:{display:"block"}}),e.jsx("div",{className:"hidden sm:block w-px h-4 sm:h-6 md:h-8 bg-white/30 flex-shrink-0"}),e.jsxs("div",{className:"hidden md:flex flex-col justify-center min-w-0",children:[e.jsx("span",{className:"text-white text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl capitalize truncate",style:{fontFamily:"Cinzel, serif"},children:"Observatório Dos Professores Indígenas"}),e.jsx("p",{className:"text-xs sm:text-sm text-white/80 normal-case truncate",children:"do Estado de São Paulo"})]})]})})}),e.jsxs("div",{className:"hidden lg:flex items-center space-x-4 xl:space-x-6 text-sm",children:[e.jsx(q,{isConteudoPage:L,isSearchPage:M,isAdminPage:$,isPainelPage:B,isMobileLandscape:v}),e.jsx("div",{ref:S,className:"flex items-center",children:e.jsx(_,{onSearch:E,onResultClick:H,isMobile:!1,isMobileLandscape:v,dataPoints:w})}),e.jsxs("div",{className:"hidden lg:flex items-center space-x-2 xl:space-x-4",children:[e.jsx("a",{href:"https://unifesp.br/campus/san7/graduacao/cursos/licenciatura-intercultural-indigena",target:"_blank",rel:"noopener noreferrer",className:"flex items-center hover:opacity-80 transition-opacity",children:e.jsx("img",{src:"/opin//lindi.svg",alt:"LINDI - Licenciatura Intercultural Indígena",className:"h-12 xl:h-16 w-auto"})}),e.jsx("a",{href:"https://unifesp.br",target:"_blank",rel:"noopener noreferrer",className:"flex items-center hover:opacity-80 transition-opacity",children:e.jsx("img",{src:"/opin//logo.webp",alt:"UNIFESP",className:"h-8 xl:h-12 w-auto"})})]}),e.jsx("div",{className:"flex items-center space-x-2",children:j?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm text-white/80 hidden xl:inline","aria-live":"polite",children:["Olá, ",P?.username]}),e.jsx("button",{onClick:()=>n("/admin"),className:"p-1.5 rounded hover:bg-white/10 transition-colors focus:outline-none",title:"Painel administrativo","aria-label":"Painel administrativo",children:e.jsx(J,{className:"w-4 h-4"})}),e.jsx("button",{onClick:R,className:"px-3 py-1.5 text-xs rounded hover:bg-white/10 transition-colors focus:outline-none","aria-label":"Sair",children:"Sair"})]}):e.jsx("button",{onClick:z,className:"p-1.5 rounded hover:bg-white/10 transition-colors focus:outline-none",title:"Acesso administrativo","aria-label":"Acesso administrativo",children:e.jsx(G,{className:"w-4 h-4"})})})]})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mt-4",children:e.jsx("h1",{className:`text-white ${l} uppercase leading-none text-center`,style:{fontFamily:i},children:o})}),m&&e.jsx("div",{className:"mt-4",children:m})]})]}),I&&e.jsx(K,{onClose:()=>x(!1),onLoginSuccess:A})]})},W=Q.memo(({breadcrumbs:o})=>{const d=N();return e.jsx("nav",{className:"flex items-center justify-center space-x-2 text-base sm:text-lg text-white/90",style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',letterSpacing:"0.01em"},children:o.map((i,l)=>e.jsxs("div",{className:"flex items-center",children:[l>0&&e.jsx(V,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white/70 mx-2"}),i.path?e.jsx("button",{onClick:()=>d(i.path),className:"hover:text-white transition-colors font-normal",children:i.label}):e.jsx("span",{className:"font-medium text-white",children:i.label})]},l))})});W.displayName="DashboardBreadcrumbs";export{W as D,ee as P};
