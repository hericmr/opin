import{a2 as re,S as Ee,n as V,aH as X,r as we,D as J,u as ve,R as Se,g as je,l as Ce,h as De,aI as _e,Z as Q,G as Me,i as de,aJ as ze,j as Ke,k as R,C as Le,p as fe,m as Ne,L as F,aK as Te,aL as Re,aM as te,z as pe,A as me,B as he,E as ye,N as Fe,M as ge,t as We,J as $e,v as C,w as Ve,y as Ge,H as Ue,aN as Xe,aO as Ye,av as ie,c as D,ar as Ze,aP as Je,b as _,d as M,ak as z,s as Qe,aQ as xe,f as be,aR as Pe,aS as He,aT as qe,aU as ne,aV as ea,aW as aa,aX as oe,aY as ra,az as Y,Q as ta}from"./CategoricalChart-DmXwdBx0.js";import{r as l}from"./index-CyhyWCTU.js";import{u as ia,S as na,G as oa,C as sa}from"./CartesianChart-CcBz-_9U.js";var la="Invariant failed";function ca(e,a){throw new Error(la)}var ua=["x","y"];function Z(){return Z=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},Z.apply(null,arguments)}function se(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,t)}return r}function K(e){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?se(Object(r),!0).forEach(function(t){va(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):se(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function va(e,a,r){return(a=da(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function da(e){var a=fa(e,"string");return typeof a=="symbol"?a:a+""}function fa(e,a){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var t=r.call(e,a);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function pa(e,a){if(e==null)return{};var r,t,n=ma(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)r=i[t],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ma(e,a){if(e==null)return{};var r={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(a.indexOf(t)!==-1)continue;r[t]=e[t]}return r}function ha(e,a){var{x:r,y:t}=e,n=pa(e,ua),i="".concat(r),o=parseInt(i,10),v="".concat(t),d=parseInt(v,10),s="".concat(a.height||n.height),c=parseInt(s,10),f="".concat(a.width||n.width),m=parseInt(f,10);return K(K(K(K(K({},a),n),o?{x:o}:{}),d?{y:d}:{}),{},{height:c,width:m,name:a.name,radius:a.radius})}function W(e){return l.createElement(Ee,Z({shapeType:"rectangle",propTransformer:ha,activeClassName:"recharts-active-bar"},e))}var ya=function(a){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(t,n)=>{if(re(a))return a;var i=re(t)||V(t);return i?a(t,n):(i||ca(),r)}};function ga(e,a){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&X(e.zIndex)?e.zIndex:a}var xa=["onMouseEnter","onMouseLeave","onClick"],ba=["value","background","tooltipPosition"],Pa=["id"],Ia=["onMouseEnter","onClick","onMouseLeave"];function S(){return S=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},S.apply(null,arguments)}function le(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,t)}return r}function A(e){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?le(Object(r),!0).forEach(function(t){Aa(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):le(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Aa(e,a,r){return(a=Oa(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function Oa(e){var a=ka(e,"string");return typeof a=="symbol"?a:a+""}function ka(e,a){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var t=r.call(e,a);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function $(e,a){if(e==null)return{};var r,t,n=Ba(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)r=i[t],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ba(e,a){if(e==null)return{};var r={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(a.indexOf(t)!==-1)continue;r[t]=e[t]}return r}var Ea=e=>{var{dataKey:a,name:r,fill:t,legendType:n,hide:i}=e;return[{inactive:i,dataKey:a,type:n,color:t,value:de(r,a),payload:e}]};function wa(e){var{dataKey:a,stroke:r,strokeWidth:t,fill:n,name:i,hide:o,unit:v}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:t,fill:n,dataKey:a,nameKey:void 0,name:de(i,a),hide:o,type:e.tooltipType,color:e.fill,unit:v}}}function Sa(e){var a=R(pe),{data:r,dataKey:t,background:n,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:v,onClick:d}=i,s=$(i,xa),c=me(o,t),f=he(v),m=ye(d,t);if(!n||r==null)return null;var y=Fe(n);return l.createElement(Q,{zIndex:ga(n,J.barBackground)},r.map((g,h)=>{var{value:P,background:u,tooltipPosition:p}=g,I=$(g,ba);if(!u)return null;var x=c(g,h),O=f(g,h),b=m(g,h),E=A(A(A(A(A({option:n,isActive:String(h)===a},I),{},{fill:"#eee"},u),y),ge(s,g,h)),{},{onMouseEnter:x,onMouseLeave:O,onClick:b,dataKey:t,index:h,className:"recharts-bar-background-rectangle"});return l.createElement(W,S({key:"background-bar-".concat(h)},E))}))}function ja(e){var{showLabels:a,children:r,rects:t}=e,n=t?.map(i=>{var o={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return A(A({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return l.createElement(Ge,{value:a?n:void 0},r)}function Ca(e){var{shape:a,activeBar:r,baseProps:t,entry:n,index:i,dataKey:o}=e,v=R(pe),d=R(Xe),s=r&&String(i)===v&&(d==null||o===d),c=s?r:a;return s?l.createElement(Q,{zIndex:J.activeBar},l.createElement(W,S({},t,{name:String(t.name)},n,{isActive:s,option:c,index:i,dataKey:o}))):l.createElement(W,S({},t,{name:String(t.name)},n,{isActive:s,option:c,index:i,dataKey:o}))}function Da(e){var{shape:a,baseProps:r,entry:t,index:n,dataKey:i}=e;return l.createElement(W,S({},r,{name:String(r.name)},t,{isActive:!1,option:a,index:n,dataKey:i}))}function _a(e){var a,{data:r,props:t}=e,n=(a=Ue(t))!==null&&a!==void 0?a:{},{id:i}=n,o=$(n,Pa),{shape:v,dataKey:d,activeBar:s}=t,{onMouseEnter:c,onClick:f,onMouseLeave:m}=t,y=$(t,Ia),g=me(c,d),h=he(m),P=ye(f,d);return r?l.createElement(l.Fragment,null,r.map((u,p)=>l.createElement(F,S({key:"rectangle-".concat(u?.x,"-").concat(u?.y,"-").concat(u?.value,"-").concat(p),className:"recharts-bar-rectangle"},ge(y,u,p),{onMouseEnter:g(u,p),onMouseLeave:h(u,p),onClick:P(u,p)}),s?l.createElement(Ca,{shape:v,activeBar:s,baseProps:o,entry:u,index:p,dataKey:d}):l.createElement(Da,{shape:v,baseProps:o,entry:u,index:p,dataKey:d})))):null}function Ma(e){var{props:a,previousRectanglesRef:r}=e,{data:t,layout:n,isAnimationActive:i,animationBegin:o,animationDuration:v,animationEasing:d,onAnimationEnd:s,onAnimationStart:c}=a,f=r.current,m=We(a,"recharts-bar-"),[y,g]=l.useState(!1),h=!y,P=l.useCallback(()=>{typeof s=="function"&&s(),g(!1)},[s]),u=l.useCallback(()=>{typeof c=="function"&&c(),g(!0)},[c]);return l.createElement(ja,{showLabels:h,rects:t},l.createElement($e,{animationId:m,begin:o,duration:v,isActive:i,easing:d,onAnimationEnd:P,onAnimationStart:u,key:m},p=>{var I=p===1?t:t?.map((x,O)=>{var b=f&&f[O];if(b)return A(A({},x),{},{x:C(b.x,x.x,p),y:C(b.y,x.y,p),width:C(b.width,x.width,p),height:C(b.height,x.height,p)});if(n==="horizontal"){var E=C(0,x.height,p),w=C(x.stackedBarStart,x.y,p);return A(A({},x),{},{y:w,height:E})}var k=C(0,x.width,p),B=C(x.stackedBarStart,x.x,p);return A(A({},x),{},{width:k,x:B})});return p>0&&(r.current=I??null),I==null?null:l.createElement(F,null,l.createElement(_a,{props:a,data:I}))}),l.createElement(Ve,{label:a.label}),a.children)}function za(e){var a=l.useRef(null);return l.createElement(Ma,{previousRectanglesRef:a,props:e})}var Ie=0,Ka=(e,a)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:fe(e,a)}};class La extends l.PureComponent{render(){var{hide:a,data:r,dataKey:t,className:n,xAxisId:i,yAxisId:o,needClip:v,background:d,id:s}=this.props;if(a||r==null)return null;var c=Ne("recharts-bar",n),f=s;return l.createElement(F,{className:c,id:s},v&&l.createElement("defs",null,l.createElement(oa,{clipPathId:f,xAxisId:i,yAxisId:o})),l.createElement(F,{className:"recharts-bar-rectangles",clipPath:v?"url(#clipPath-".concat(f,")"):void 0},l.createElement(Sa,{data:r,dataKey:t,background:d,allOtherBarProps:this.props}),l.createElement(za,this.props)))}}var Na={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Me.isSsr,legendType:"rect",minPointSize:Ie,xAxisId:0,yAxisId:0,zIndex:J.bar};function Ta(e){var{xAxisId:a,yAxisId:r,hide:t,legendType:n,minPointSize:i,activeBar:o,animationBegin:v,animationDuration:d,animationEasing:s,isAnimationActive:c}=e,{needClip:f}=ia(a,r),m=ze(),y=ve(),g=Ke(e.children,Le),h=R(p=>pr(p,a,r,y,e.id,g));if(m!=="vertical"&&m!=="horizontal")return null;var P,u=h?.[0];return u==null||u.height==null||u.width==null?P=0:P=m==="vertical"?u.height/2:u.width/2,l.createElement(na,{xAxisId:a,yAxisId:r,data:h,dataPointFormatter:Ka,errorBarOffset:P},l.createElement(La,S({},e,{layout:m,needClip:f,data:h,xAxisId:a,yAxisId:r,hide:t,legendType:n,minPointSize:i,activeBar:o,animationBegin:v,animationDuration:d,animationEasing:s,isAnimationActive:c})))}function Ra(e){var{layout:a,barSettings:{dataKey:r,minPointSize:t},pos:n,bandSize:i,xAxis:o,yAxis:v,xAxisTicks:d,yAxisTicks:s,stackedData:c,displayedData:f,offset:m,cells:y,parentViewBox:g,dataStartIndex:h}=e,P=a==="horizontal"?v:o,u=c?P.scale.domain():null,p=Te({numericAxis:P}),I=P.scale(p);return f.map((x,O)=>{var b,E,w,k,B,G;c?b=Re(c[O+h],u):(b=fe(x,r),Array.isArray(b)||(b=[p,b]));var j=ya(t,Ie)(b[1],O);if(a==="horizontal"){var U,[H,N]=[v.scale(b[0]),v.scale(b[1])];E=te({axis:o,ticks:d,bandSize:i,offset:n.offset,entry:x,index:O}),w=(U=N??H)!==null&&U!==void 0?U:void 0,k=n.size;var q=H-N;if(B=Ye(q)?0:q,G={x:E,y:m.top,width:k,height:m.height},Math.abs(j)>0&&Math.abs(B)<Math.abs(j)){var ee=ie(B||j)*(Math.abs(j)-Math.abs(B));w-=ee,B+=ee}}else{var[ae,Oe]=[o.scale(b[0]),o.scale(b[1])];if(E=ae,w=te({axis:v,ticks:s,bandSize:i,offset:n.offset,entry:x,index:O}),k=Oe-ae,B=n.size,G={x:m.left,y:w,width:m.width,height:B},Math.abs(j)>0&&Math.abs(k)<Math.abs(j)){var ke=ie(k||j)*(Math.abs(j)-Math.abs(k));k+=ke}}if(E==null||w==null||k==null||B==null)return null;var Be=A(A({},x),{},{stackedBarStart:I,x:E,y:w,width:k,height:B,value:c?b:b[1],payload:x,background:G,tooltipPosition:{x:E+k/2,y:w+B/2},parentViewBox:g},y&&y[O]&&y[O].props);return Be}).filter(Boolean)}function Fa(e){var a=we(e,Na),r=ve();return l.createElement(Se,{id:a.id,type:"bar"},t=>l.createElement(l.Fragment,null,l.createElement(je,{legendPayload:Ea(a)}),l.createElement(Ce,{fn:wa,args:a}),l.createElement(De,{type:"bar",id:t,data:void 0,xAxisId:a.xAxisId,yAxisId:a.yAxisId,zAxisId:0,dataKey:a.dataKey,stackId:_e(a.stackId),hide:a.hide,barSize:a.barSize,minPointSize:a.minPointSize,maxBarSize:a.maxBarSize,isPanorama:r}),l.createElement(Q,{zIndex:a.zIndex},l.createElement(Ta,S({},a,{id:t})))))}var Wa=l.memo(Fa);Wa.displayName="Bar";function ce(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,t)}return r}function T(e){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?ce(Object(r),!0).forEach(function(t){$a(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ce(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function $a(e,a,r){return(a=Va(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function Va(e){var a=Ga(e,"string");return typeof a=="symbol"?a:a+""}function Ga(e,a){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var t=r.call(e,a);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var Ua=(e,a)=>a,Xa=(e,a,r)=>r,Ya=(e,a,r,t)=>t,Za=(e,a,r,t,n)=>n,L=D([be,Za],(e,a)=>e.filter(r=>r.type==="bar").find(r=>r.id===a)),Ja=D([L],e=>e?.maxBarSize),Qa=(e,a,r,t,n,i)=>i,ue=(e,a,r)=>{var t=r??e;if(!V(t))return Y(t,a,0)},Ha=D([z,be,Ua,Xa,Ya],(e,a,r,t,n)=>a.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===t).filter(i=>i.isPanorama===n).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),qa=(e,a,r,t)=>{var n=z(e);return n==="horizontal"?ne(e,"yAxis",r,t):ne(e,"xAxis",a,t)},er=(e,a,r)=>{var t=z(e);return t==="horizontal"?oe(e,"xAxis",a):oe(e,"yAxis",r)},ar=(e,a,r)=>{var t={},n=e.filter(ra),i=e.filter(s=>s.stackId==null),o=n.reduce((s,c)=>(s[c.stackId]||(s[c.stackId]=[]),s[c.stackId].push(c),s),t),v=Object.entries(o).map(s=>{var[c,f]=s,m=f.map(g=>g.dataKey),y=ue(a,r,f[0].barSize);return{stackId:c,dataKeys:m,barSize:y}}),d=i.map(s=>{var c=[s.dataKey].filter(m=>m!=null),f=ue(a,r,s.barSize);return{stackId:void 0,dataKeys:c,barSize:f}});return[...v,...d]},rr=D([Ha,aa,er],ar),tr=(e,a,r,t,n)=>{var i,o,v=L(e,a,r,t,n);if(v!=null){var d=z(e),s=Pe(e),{maxBarSize:c}=v,f=V(c)?s:c,m,y;return d==="horizontal"?(m=_(e,"xAxis",a,t),y=M(e,"xAxis",a,t)):(m=_(e,"yAxis",r,t),y=M(e,"yAxis",r,t)),(i=(o=xe(m,y,!0))!==null&&o!==void 0?o:f)!==null&&i!==void 0?i:0}},Ae=(e,a,r,t)=>{var n=z(e),i,o;return n==="horizontal"?(i=_(e,"xAxis",a,t),o=M(e,"xAxis",a,t)):(i=_(e,"yAxis",r,t),o=M(e,"yAxis",r,t)),xe(i,o)};function ir(e,a,r,t,n){var i=t.length;if(!(i<1)){var o=Y(e,r,0,!0),v,d=[];if(X(t[0].barSize)){var s=!1,c=r/i,f=t.reduce((u,p)=>u+(p.barSize||0),0);f+=(i-1)*o,f>=r&&(f-=(i-1)*o,o=0),f>=r&&c>0&&(s=!0,c*=.9,f=i*c);var m=(r-f)/2>>0,y={offset:m-o,size:0};v=t.reduce((u,p)=>{var I,x={stackId:p.stackId,dataKeys:p.dataKeys,position:{offset:y.offset+y.size+o,size:s?c:(I=p.barSize)!==null&&I!==void 0?I:0}},O=[...u,x];return y=O[O.length-1].position,O},d)}else{var g=Y(a,r,0,!0);r-2*g-(i-1)*o<=0&&(o=0);var h=(r-2*g-(i-1)*o)/i;h>1&&(h>>=0);var P=X(n)?Math.min(h,n):h;v=t.reduce((u,p,I)=>[...u,{stackId:p.stackId,dataKeys:p.dataKeys,position:{offset:g+(h+o)*I+(h-P)/2,size:P}}],d)}return v}}var nr=(e,a,r,t,n,i,o)=>{var v=V(o)?a:o,d=ir(r,t,n!==i?n:i,e,v);return n!==i&&d!=null&&(d=d.map(s=>T(T({},s),{},{position:T(T({},s.position),{},{offset:s.position.offset-n/2})}))),d},or=D([rr,Pe,He,qe,tr,Ae,Ja],nr),sr=(e,a,r,t)=>_(e,"xAxis",a,t),lr=(e,a,r,t)=>_(e,"yAxis",r,t),cr=(e,a,r,t)=>M(e,"xAxis",a,t),ur=(e,a,r,t)=>M(e,"yAxis",r,t),vr=D([or,L],(e,a)=>{if(!(e==null||a==null)){var r=e.find(t=>t.stackId===a.stackId&&a.dataKey!=null&&t.dataKeys.includes(a.dataKey));if(r!=null)return r.position}}),dr=(e,a)=>{var r=ea(a);if(!(!e||r==null||a==null)){var{stackId:t}=a;if(t!=null){var n=e[t];if(n){var{stackedData:i}=n;if(i)return i.find(o=>o.key===r)}}}},fr=D([qa,L],dr),pr=D([Ze,Je,sr,lr,cr,ur,vr,z,Qe,Ae,fr,L,Qa],(e,a,r,t,n,i,o,v,d,s,c,f,m)=>{var{chartData:y,dataStartIndex:g,dataEndIndex:h}=d;if(!(f==null||o==null||a==null||v!=="horizontal"&&v!=="vertical"||r==null||t==null||n==null||i==null||s==null)){var{data:P}=f,u;if(P!=null&&P.length>0?u=P:u=y?.slice(g,h+1),u!=null)return Ra({layout:v,barSettings:f,pos:o,parentViewBox:a,bandSize:s,xAxis:r,yAxis:t,xAxisTicks:n,yAxisTicks:i,stackedData:c,displayedData:u,offset:e,cells:m,dataStartIndex:g})}}),mr=["axis","item"],xr=l.forwardRef((e,a)=>l.createElement(sa,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:mr,tooltipPayloadSearcher:ta,categoricalChartProps:e,ref:a}));export{xr as B,Wa as a};
