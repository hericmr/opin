(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5142],{97955:function(e,t,r){Promise.resolve().then(r.bind(r,81103))},16463:function(e,t,r){"use strict";var s=r(71169);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},81103:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});var s=r(57437),n=r(2265),a=r(72321),o=r(16463),u=r(23580);function l(){let e=(0,a.T)("Auth"),t=(0,o.useRouter)(),[r,l]=(0,n.useState)(""),[i,c]=(0,n.useState)(""),[d,m]=(0,n.useState)("");(0,n.useEffect)(()=>{let e=new URLSearchParams(window.location.search).get("token");e&&""!==e&&m(e)},[]);let h=async()=>{if(d){let e=await fetch("/api/users/reset-password",{method:"POST",body:JSON.stringify({token:d,password:i})}).then(e=>e.json());e.error?(0,u.Am)(e.error):((0,u.Am)("Password reset! You may now log in."),setTimeout(()=>{t.push("/auth/login")},500))}},x=async()=>{let t=await fetch("/api/users/reset-password?email=".concat(r)).then(e=>e.json());t.error?(0,u.Am)(t.error):(0,u.Am)(e("email-sent"))};return(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-gray-800 text-center text-2xl font-bold",children:e("reset-password")}),(0,s.jsx)("p",{className:"text-black text-sm my-2.5",children:d?e("reset-password-message-reset"):e("reset-password-message")}),(0,s.jsxs)("div",{className:"mt-4",children:[d?(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{value:i,onChange:e=>c(e.target.value),name:"password",type:"password",className:"w-full mb-2.5 text-gray-800 text-sm border border-gray-300 px-4 py-3 rounded-md outline-blue-600",placeholder:e("password-placeholder")}),(0,s.jsx)("button",{onClick:()=>h(),className:"w-full py-3 px-4 text-sm tracking-wide rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none",children:e("reset-password")})]}):(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{value:r,onChange:e=>l(e.target.value),name:"email",type:"text",className:"w-full mb-2.5 text-gray-800 text-sm border border-gray-300 px-4 py-3 rounded-md outline-blue-600",placeholder:e("email-placeholder")}),(0,s.jsx)("button",{onClick:()=>x(),className:"w-full py-3 px-4 text-sm tracking-wide rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none",children:e("reset-password")})]}),(0,s.jsx)("p",{className:"text-gray-800 text-sm !mt-8 text-center",children:(0,s.jsx)("a",{href:"/auth/login",className:"text-blue-600 hover:underline ml-1 whitespace-nowrap font-semibold",children:e("sign-in")})})]})]})}},72321:function(e,t,r){"use strict";r.d(t,{T:function(){return a}});var s=r(2265),n=r(48966);let a=e=>{let{messages:t}=(0,s.useContext)(n.R),r=t[e];return e=>r[e]}},48966:function(e,t,r){"use strict";r.d(t,{LocaleProvider:function(){return a},R:function(){return n}});var s=r(57437);let n=(0,r(2265).createContext)();function a(e){let{children:t,messages:r}=e;return(0,s.jsx)(n.Provider,{value:{messages:r},children:t})}}},function(e){e.O(0,[3580,2971,7023,1744],function(){return e(e.s=97955)}),_N_E=e.O()}]);