{"version":3,"file":"static/js/17.e86c0967.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/check.ts","../node_modules/lucide-react/src/icons/trash-2.ts","services/escolaImageService.js","../node_modules/lucide-react/src/icons/school.ts","../node_modules/lucide-react/src/icons/graduation-cap.ts","../node_modules/lucide-react/src/icons/calendar.ts","../node_modules/lucide-react/src/icons/tag.ts","../node_modules/lucide-react/src/icons/pen-line.ts","components/EditEscolaPanel/LegendasFotosSection.js","../node_modules/lucide-react/src/icons/link.ts","components/EditEscolaPanel/VideoSection.js","../node_modules/lucide-react/src/icons/save.ts","../node_modules/lucide-react/src/icons/user.ts","../node_modules/lucide-react/src/icons/settings.ts","components/EditEscolaPanel/EditEscolaPanel.js","services/professorImageMetaService.js","components/EditEscolaPanel/ProfessorImageUploadSection.js","../node_modules/lucide-react/src/icons/image.ts","../node_modules/lucide-react/src/icons/plus.ts","components/EditEscolaPanel/ImageUploadSection.js","../node_modules/lucide-react/src/icons/video.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'M20 6 9 17l-5-5', key: '1gmf2c' }]];\n\n/**\n * @component @name Check\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgNiA5IDE3bC01LTUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Check = createLucideIcon('Check', __iconNode);\n\nexport default Check;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M3 6h18', key: 'd0wm0j' }],\n  ['path', { d: 'M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6', key: '4alrt4' }],\n  ['path', { d: 'M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2', key: 'v07s0e' }],\n  ['line', { x1: '10', x2: '10', y1: '11', y2: '17', key: '1uufr5' }],\n  ['line', { x1: '14', x2: '14', y1: '11', y2: '17', key: 'xtxkd' }],\n];\n\n/**\n * @component @name Trash2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyA2aDE4IiAvPgogIDxwYXRoIGQ9Ik0xOSA2djE0YzAgMS0xIDItMiAySDdjLTEgMC0yLTEtMi0yVjYiIC8+CiAgPHBhdGggZD0iTTggNlY0YzAtMSAxLTIgMi0yaDRjMSAwIDIgMSAyIDJ2MiIgLz4KICA8bGluZSB4MT0iMTAiIHgyPSIxMCIgeTE9IjExIiB5Mj0iMTciIC8+CiAgPGxpbmUgeDE9IjE0IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjE3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/trash-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Trash2 = createLucideIcon('Trash2', __iconNode);\n\nexport default Trash2;\n","import { supabase } from '../supabaseClient';\n\n// Configurações para imagens das escolas\nconst ESCOLA_IMAGE_CONFIG = {\n  BUCKET_NAME: 'imagens-das-escolas',\n  MAX_FILE_SIZE: 5 * 1024 * 1024, // 5MB\n  ALLOWED_TYPES: ['image/jpeg', 'image/jpg', 'image/png', 'image/webp', 'image/gif'],\n  MAX_IMAGES_PER_SCHOOL: 10,\n  MIN_DIMENSIONS: { width: 200, height: 200 }\n};\n\n// Configurações para imagens dos professores\nconst PROFESSOR_IMAGE_CONFIG = {\n  BUCKET_NAME: 'imagens-professores', // Usando bucket existente\n  MAX_FILE_SIZE: 5 * 1024 * 1024, // 5MB\n  ALLOWED_TYPES: ['image/jpeg', 'image/jpg', 'image/png', 'image/webp', 'image/gif'],\n  MAX_IMAGES_PER_SCHOOL: 5,\n  MIN_DIMENSIONS: { width: 200, height: 200 }\n};\n\n/**\n * Valida um arquivo de imagem\n * @param {File} file - Arquivo a ser validado\n * @param {Object} config - Configuração de validação\n * @returns {Object} Resultado da validação\n */\nconst validateImageFile = (file, config) => {\n  // Verificar tipo MIME\n  if (!config.ALLOWED_TYPES.includes(file.type)) {\n    return {\n      isValid: false,\n      error: `Tipo de arquivo não suportado. Use apenas: ${config.ALLOWED_TYPES.map(t => t.split('/')[1].toUpperCase()).join(', ')}`\n    };\n  }\n\n  // Verificar tamanho\n  if (file.size > config.MAX_FILE_SIZE) {\n    return {\n      isValid: false,\n      error: `Arquivo muito grande. Tamanho máximo: ${config.MAX_FILE_SIZE / (1024 * 1024)}MB`\n    };\n  }\n\n  // Verificar extensão\n  const extension = file.name.split('.').pop().toLowerCase();\n  const allowedExtensions = config.ALLOWED_TYPES.map(t => t.split('/')[1]);\n  if (!allowedExtensions.includes(extension)) {\n    return {\n      isValid: false,\n      error: `Extensão não permitida. Use apenas: ${allowedExtensions.join(', ')}`\n    };\n  }\n\n  return { isValid: true };\n};\n\n/**\n * Gera nome único para o arquivo (sem gênero, para imagens de escola)\n * @param {File} file - Arquivo\n * @param {number} escolaId - ID da escola\n * @returns {string} Nome único do arquivo\n */\nconst generateUniqueFileName = (file, escolaId) => {\n  const timestamp = Date.now();\n  const random = Math.random().toString(36).substring(2, 8);\n  const extension = file.name.split('.').pop().toLowerCase();\n  return `${escolaId}_${timestamp}_${random}.${extension}`;\n};\n\n/**\n * Gera nome único para o arquivo, incluindo o gênero\n * @param {File} file - Arquivo\n * @param {number} escolaId - ID da escola\n * @param {string} genero - 'professor' ou 'professora'\n * @returns {string} Nome único do arquivo\n */\nconst generateUniqueFileNameWithGenero = (file, escolaId, genero) => {\n  const timestamp = Date.now();\n  const random = Math.random().toString(36).substring(2, 8);\n  const extension = file.name.split('.').pop().toLowerCase();\n  return `${genero}_${escolaId}_${timestamp}_${random}.${extension}`;\n};\n\n/**\n * Upload de imagem da escola (versão simplificada sem tabela de metadados)\n * @param {File} file - Arquivo de imagem\n * @param {number} escolaId - ID da escola\n * @param {string} descricao - Descrição da imagem\n * @returns {Promise<Object>} Dados da imagem salva\n */\nexport const uploadEscolaImage = async (file, escolaId, descricao = '') => {\n  try {\n    // Validar arquivo\n    const validation = validateImageFile(file, ESCOLA_IMAGE_CONFIG);\n    if (!validation.isValid) {\n      throw new Error(validation.error);\n    }\n\n    // Gerar nome único\n    const fileName = generateUniqueFileName(file, escolaId);\n    const filePath = `${escolaId}/${fileName}`;\n\n    // Upload ao bucket\n    const { error: uploadError } = await supabase.storage\n      .from(ESCOLA_IMAGE_CONFIG.BUCKET_NAME)\n      .upload(filePath, file, {\n        cacheControl: '3600',\n        upsert: false\n      });\n\n    if (uploadError) {\n      throw new Error(`Erro no upload: ${uploadError.message}`);\n    }\n\n    // Obter URL pública\n    const { data: { publicUrl } } = supabase.storage\n      .from(ESCOLA_IMAGE_CONFIG.BUCKET_NAME)\n      .getPublicUrl(filePath);\n\n    return {\n      id: Date.now(), // ID temporário\n      url: filePath,\n      publicUrl,\n      descricao: descricao.trim() || `Imagem da escola ${escolaId}`,\n      created_at: new Date().toISOString()\n    };\n\n  } catch (error) {\n    console.error('Erro no upload da imagem da escola:', error);\n    throw error;\n  }\n};\n\n/**\n * Upload de imagem do professor (com gênero no nome do arquivo)\n * @param {File} file - Arquivo de imagem\n * @param {number} escolaId - ID da escola\n * @param {string} descricao - Descrição da imagem\n * @param {string} genero - 'professor' ou 'professora'\n * @returns {Promise<Object>} Dados da imagem salva\n */\nexport const uploadProfessorImage = async (file, escolaId, descricao = '', genero = 'professor') => {\n  try {\n    // Validar arquivo\n    const validation = validateImageFile(file, PROFESSOR_IMAGE_CONFIG);\n    if (!validation.isValid) {\n      throw new Error(validation.error);\n    }\n\n    // Gerar nome único com gênero\n    const fileName = generateUniqueFileNameWithGenero(file, escolaId, genero);\n    const filePath = `${escolaId}/${fileName}`;\n\n    // Upload ao bucket\n    const { error: uploadError } = await supabase.storage\n      .from(PROFESSOR_IMAGE_CONFIG.BUCKET_NAME)\n      .upload(filePath, file, {\n        cacheControl: '3600',\n        upsert: false\n      });\n\n    if (uploadError) {\n      console.error('Erro detalhado do upload:', uploadError);\n      throw new Error(`Erro no upload: ${uploadError.message}`);\n    }\n\n    // Obter URL pública\n    const { data: { publicUrl } } = supabase.storage\n      .from(PROFESSOR_IMAGE_CONFIG.BUCKET_NAME)\n      .getPublicUrl(filePath);\n\n    // Retornar objeto simulado (sem metadados na tabela)\n    return {\n      id: Date.now(), // ID temporário\n      url: filePath,\n      publicUrl,\n      descricao: descricao.trim() || `Imagem do ${genero} da escola ${escolaId}`,\n      genero,\n      created_at: new Date().toISOString()\n    };\n\n  } catch (error) {\n    console.error('Erro no upload da imagem do professor:', error);\n    throw error;\n  }\n};\n\n/**\n * Buscar imagens da escola (versão simplificada)\n * @param {number} escolaId - ID da escola\n * @param {string} bucketName - Nome do bucket\n * @returns {Promise<Array>} Lista de imagens\n */\nexport const getEscolaImages = async (escolaId, bucketName = ESCOLA_IMAGE_CONFIG.BUCKET_NAME) => {\n  try {\n    // Listar arquivos no bucket para a escola específica\n    const { data: files, error } = await supabase.storage\n      .from(bucketName)\n      .list(`${escolaId}/`);\n\n    if (error) {\n      throw error;\n    }\n\n    if (!files || files.length === 0) {\n      return [];\n    }\n\n    // Criar objetos de imagem com URLs públicas\n    const imagens = files.map((file, index) => {\n      const filePath = `${escolaId}/${file.name}`;\n      const { data: { publicUrl } } = supabase.storage\n        .from(bucketName)\n        .getPublicUrl(filePath);\n\n      return {\n        id: index + 1, // ID temporário\n        url: filePath,\n        publicUrl,\n        descricao: `Imagem ${index + 1}`,\n        created_at: file.created_at || new Date().toISOString()\n      };\n    });\n\n    return imagens;\n\n  } catch (error) {\n    console.error('Erro ao buscar imagens da escola:', error);\n    throw error;\n  }\n};\n\n/**\n * Deletar imagem (versão simplificada)\n * @param {number} imageId - ID da imagem\n * @param {string} filePath - Caminho do arquivo\n * @param {string} bucketName - Nome do bucket\n * @returns {Promise<void>}\n */\nexport const deleteImage = async (imageId, filePath, bucketName) => {\n  try {\n    // Deletar arquivo do storage\n    const { error: storageError } = await supabase.storage\n      .from(bucketName)\n      .remove([filePath]);\n\n    if (storageError) {\n      throw new Error(`Erro ao deletar arquivo: ${storageError.message}`);\n    }\n\n  } catch (error) {\n    console.error('Erro ao deletar imagem:', error);\n    throw error;\n  }\n};\n\n/**\n * Atualizar descrição da imagem (versão simplificada)\n * @param {number} imageId - ID da imagem\n * @param {string} descricao - Nova descrição\n * @returns {Promise<Object>} Imagem atualizada\n */\nexport const updateImageDescription = async (imageId, descricao) => {\n  try {\n    // Como não temos tabela de metadados, retornamos um objeto simulado\n    return {\n      id: imageId,\n      descricao: descricao.trim()\n    };\n\n  } catch (error) {\n    console.error('Erro ao atualizar descrição da imagem:', error);\n    throw error;\n  }\n};\n\n/**\n * Verificar limite de imagens (versão simplificada)\n * @param {number} escolaId - ID da escola\n * @param {string} bucketName - Nome do bucket\n * @returns {Promise<Object>} Informações sobre o limite\n */\nexport const checkImageLimit = async (escolaId, bucketName) => {\n  try {\n    const config = bucketName === PROFESSOR_IMAGE_CONFIG.BUCKET_NAME \n      ? PROFESSOR_IMAGE_CONFIG \n      : ESCOLA_IMAGE_CONFIG;\n\n    // Listar arquivos no bucket para a escola específica\n    const { data: files, error } = await supabase.storage\n      .from(bucketName)\n      .list(`${escolaId}/`);\n\n    if (error) {\n      throw error;\n    }\n\n    const currentCount = files ? files.length : 0;\n\n    return {\n      current: currentCount,\n      limit: config.MAX_IMAGES_PER_SCHOOL,\n      canUpload: currentCount < config.MAX_IMAGES_PER_SCHOOL\n    };\n\n  } catch (error) {\n    console.error('Erro ao verificar limite de imagens:', error);\n    throw error;\n  }\n}; ","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M14 22v-4a2 2 0 1 0-4 0v4', key: 'hhkicm' }],\n  [\n    'path',\n    {\n      d: 'm18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10',\n      key: '1xqip1',\n    },\n  ],\n  ['path', { d: 'M18 5v17', key: '1sw6gf' }],\n  ['path', { d: 'm4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6', key: '9d2mlk' }],\n  ['path', { d: 'M6 5v17', key: '1xfsm0' }],\n  ['circle', { cx: '12', cy: '9', r: '2', key: '1092wv' }],\n];\n\n/**\n * @component @name School\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTQgMjJ2LTRhMiAyIDAgMSAwLTQgMHY0IiAvPgogIDxwYXRoIGQ9Im0xOCAxMCAzLjQ0NyAxLjcyNGExIDEgMCAwIDEgLjU1My44OTRWMjBhMiAyIDAgMCAxLTIgMkg0YTIgMiAwIDAgMS0yLTJ2LTcuMzgyYTEgMSAwIDAgMSAuNTUzLS44OTRMNiAxMCIgLz4KICA8cGF0aCBkPSJNMTggNXYxNyIgLz4KICA8cGF0aCBkPSJtNCA2IDcuMTA2LTMuNTUzYTIgMiAwIDAgMSAxLjc4OCAwTDIwIDYiIC8+CiAgPHBhdGggZD0iTTYgNXYxNyIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjkiIHI9IjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/school\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst School = createLucideIcon('School', __iconNode);\n\nexport default School;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z',\n      key: 'j76jl0',\n    },\n  ],\n  ['path', { d: 'M22 10v6', key: '1lu8f3' }],\n  ['path', { d: 'M6 12.5V16a6 3 0 0 0 12 0v-3.5', key: '1r8lef' }],\n];\n\n/**\n * @component @name GraduationCap\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEuNDIgMTAuOTIyYTEgMSAwIDAgMC0uMDE5LTEuODM4TDEyLjgzIDUuMThhMiAyIDAgMCAwLTEuNjYgMEwyLjYgOS4wOGExIDEgMCAwIDAgMCAxLjgzMmw4LjU3IDMuOTA4YTIgMiAwIDAgMCAxLjY2IDB6IiAvPgogIDxwYXRoIGQ9Ik0yMiAxMHY2IiAvPgogIDxwYXRoIGQ9Ik02IDEyLjVWMTZhNiAzIDAgMCAwIDEyIDB2LTMuNSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/graduation-cap\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst GraduationCap = createLucideIcon('GraduationCap', __iconNode);\n\nexport default GraduationCap;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M8 2v4', key: '1cmpym' }],\n  ['path', { d: 'M16 2v4', key: '4m81vk' }],\n  ['rect', { width: '18', height: '18', x: '3', y: '4', rx: '2', key: '1hopcy' }],\n  ['path', { d: 'M3 10h18', key: '8toen8' }],\n];\n\n/**\n * @component @name Calendar\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNOCAydjQiIC8+CiAgPHBhdGggZD0iTTE2IDJ2NCIgLz4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjQiIHJ4PSIyIiAvPgogIDxwYXRoIGQ9Ik0zIDEwaDE4IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/calendar\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Calendar = createLucideIcon('Calendar', __iconNode);\n\nexport default Calendar;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z',\n      key: 'vktsd0',\n    },\n  ],\n  ['circle', { cx: '7.5', cy: '7.5', r: '.5', fill: 'currentColor', key: 'kqv944' }],\n];\n\n/**\n * @component @name Tag\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIuNTg2IDIuNTg2QTIgMiAwIDAgMCAxMS4xNzIgMkg0YTIgMiAwIDAgMC0yIDJ2Ny4xNzJhMiAyIDAgMCAwIC41ODYgMS40MTRsOC43MDQgOC43MDRhMi40MjYgMi40MjYgMCAwIDAgMy40MiAwbDYuNTgtNi41OGEyLjQyNiAyLjQyNiAwIDAgMCAwLTMuNDJ6IiAvPgogIDxjaXJjbGUgY3g9IjcuNSIgY3k9IjcuNSIgcj0iLjUiIGZpbGw9ImN1cnJlbnRDb2xvciIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/tag\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Tag = createLucideIcon('Tag', __iconNode);\n\nexport default Tag;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 20h9', key: 't2du7b' }],\n  [\n    'path',\n    {\n      d: 'M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z',\n      key: '1ykcvy',\n    },\n  ],\n];\n\n/**\n * @component @name PenLine\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgMjBoOSIgLz4KICA8cGF0aCBkPSJNMTYuMzc2IDMuNjIyYTEgMSAwIDAgMSAzLjAwMiAzLjAwMkw3LjM2OCAxOC42MzVhMiAyIDAgMCAxLS44NTUuNTA2bC0yLjg3Mi44MzhhLjUuNSAwIDAgMS0uNjItLjYybC44MzgtMi44NzJhMiAyIDAgMCAxIC41MDYtLjg1NHoiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/pen-line\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst PenLine = createLucideIcon('PenLine', __iconNode);\n\nexport default PenLine;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { \n  Image as ImageIcon, \n  Plus, \n  Edit3, \n  Trash2, \n  Save, \n  X, \n  AlertCircle,\n  Check,\n  Calendar,\n  User,\n  Tag,\n  School,\n  GraduationCap\n} from 'lucide-react';\nimport { \n  getLegendasFotos, \n  addLegendaFoto, \n  updateLegendaFoto, \n  deleteLegendaFoto,\n  getLegendaByImageUrl \n} from '../../services/legendasService';\n\nconst LegendasFotosSection = ({ escolaId, onLegendasUpdate }) => {\n  const [legendas, setLegendas] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [showForm, setShowForm] = useState(false);\n  const [editingLegenda, setEditingLegenda] = useState(null);\n  const [tipoFoto, setTipoFoto] = useState('escola'); // 'escola' ou 'professor'\n  const [formData, setFormData] = useState({\n    imagem_url: '',\n    legenda: '',\n    descricao_detalhada: '',\n    autor_foto: '',\n    data_foto: '',\n    categoria: 'geral',\n    tipo_foto: 'escola'\n  });\n\n  // Categorias disponíveis\n  const categorias = [\n    { value: 'geral', label: 'Geral' },\n    { value: 'infraestrutura', label: 'Infraestrutura' },\n    { value: 'atividades', label: 'Atividades' },\n    { value: 'professores', label: 'Professores' },\n    { value: 'alunos', label: 'Alunos' },\n    { value: 'comunidade', label: 'Comunidade' },\n    { value: 'eventos', label: 'Eventos' },\n    { value: 'outros', label: 'Outros' }\n  ];\n\n  // Buscar legendas existentes\n  const fetchLegendas = useCallback(async () => {\n    if (!escolaId) return;\n    \n    try {\n      setLoading(true);\n      const data = await getLegendasFotos(escolaId, tipoFoto);\n      setLegendas(data);\n    } catch (err) {\n      console.error('Erro ao buscar legendas:', err);\n      setError('Erro ao carregar legendas de fotos');\n    } finally {\n      setLoading(false);\n    }\n  }, [escolaId, tipoFoto]);\n\n  useEffect(() => {\n    fetchLegendas();\n  }, [fetchLegendas]);\n\n  // Limpar mensagens após 5 segundos\n  useEffect(() => {\n    if (error || success) {\n      const timer = setTimeout(() => {\n        setError('');\n        setSuccess('');\n      }, 5000);\n      return () => clearTimeout(timer);\n    }\n  }, [error, success]);\n\n  // Limpar formulário\n  const clearForm = () => {\n    setFormData({\n      imagem_url: '',\n      legenda: '',\n      descricao_detalhada: '',\n      autor_foto: '',\n      data_foto: '',\n      categoria: 'geral',\n      tipo_foto: tipoFoto\n    });\n    setEditingLegenda(null);\n    setShowForm(false);\n  };\n\n  // Abrir formulário para edição\n  const handleEdit = (legenda) => {\n    setEditingLegenda(legenda);\n    setFormData({\n      imagem_url: legenda.imagem_url,\n      legenda: legenda.legenda,\n      descricao_detalhada: legenda.descricao_detalhada || '',\n      autor_foto: legenda.autor_foto || '',\n      data_foto: legenda.data_foto || '',\n      categoria: legenda.categoria || 'geral',\n      tipo_foto: legenda.tipo_foto || tipoFoto\n    });\n    setShowForm(true);\n  };\n\n  // Função utilitária para extrair o caminho relativo do bucket Supabase\n  function extrairCaminhoRelativoDaUrl(url) {\n    // Exemplo: https://.../imagens-das-escolas/20/2.png => 20/2.png\n    const match = url.match(/imagens-das-escolas\\/([\\w\\/-]+\\.[a-zA-Z0-9]+)/);\n    return match ? match[1] : url;\n  }\n\n  // Salvar legenda\n  const handleSave = async (e) => {\n    e.preventDefault();\n    \n    if (!formData.imagem_url.trim() || !formData.legenda.trim()) {\n      setError('URL da imagem e legenda são obrigatórios');\n      return;\n    }\n\n    // Sempre salvar o caminho relativo\n    const imagem_url_relativa = extrairCaminhoRelativoDaUrl(formData.imagem_url);\n\n    try {\n      if (editingLegenda) {\n        // LOG: Mostra o ID e os dados enviados para o update\n        console.log('Atualizando legenda:', editingLegenda.id, { ...formData, imagem_url: imagem_url_relativa });\n        const result = await updateLegendaFoto(editingLegenda.id, {\n          ...formData,\n          imagem_url: imagem_url_relativa,\n          escola_id: escolaId\n        });\n        // LOG: Mostra o resultado do update\n        console.log('Resultado do update:', result);\n        setSuccess('Legenda atualizada com sucesso!');\n      } else {\n        // Verificar se já existe legenda para esta imagem\n        const legendaExistente = await getLegendaByImageUrl(imagem_url_relativa, escolaId, tipoFoto);\n        if (legendaExistente) {\n          setError('Já existe uma legenda para esta imagem');\n          return;\n        }\n\n        // Criar nova legenda\n        await addLegendaFoto({\n          ...formData,\n          imagem_url: imagem_url_relativa,\n          escola_id: escolaId,\n          tipo_foto: tipoFoto,\n          ativo: true,\n          created_at: new Date().toISOString(),\n          updated_at: new Date().toISOString()\n        });\n        setSuccess('Legenda adicionada com sucesso!');\n      }\n\n      clearForm();\n      fetchLegendas();\n      \n      if (onLegendasUpdate) {\n        onLegendasUpdate();\n      }\n\n    } catch (err) {\n      console.error('Erro ao salvar legenda:', err);\n      setError(`Erro ao salvar legenda: ${err.message}`);\n    }\n  };\n\n  // Deletar legenda\n  const handleDelete = async (id) => {\n    if (!window.confirm('Tem certeza que deseja excluir esta legenda?')) return;\n\n    try {\n      await deleteLegendaFoto(id);\n      setSuccess('Legenda excluída com sucesso!');\n      fetchLegendas();\n      \n      if (onLegendasUpdate) {\n        onLegendasUpdate();\n      }\n\n    } catch (err) {\n      console.error('Erro ao deletar legenda:', err);\n      setError(`Erro ao excluir legenda: ${err.message}`);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"p-6 bg-gray-50 rounded-lg\">\n        <div className=\"flex items-center justify-center py-8\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n          <span className=\"ml-2 text-gray-600\">Carregando legendas...</span>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <ImageIcon className=\"w-5 h-5 text-blue-600\" />\n          <h3 className=\"text-lg font-semibold text-gray-900\">Legendas de Fotos</h3>\n        </div>\n        <button\n          onClick={() => setShowForm(true)}\n          className=\"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n        >\n          <Plus className=\"w-4 h-4\" />\n          Adicionar Legenda\n        </button>\n      </div>\n\n      {/* Seletor de tipo de foto */}\n      <div className=\"flex items-center gap-4 p-4 bg-gray-50 rounded-lg\">\n        <span className=\"text-sm font-medium text-gray-700\">Tipo de Foto:</span>\n        <div className=\"flex gap-2\">\n          <button\n            onClick={() => setTipoFoto('escola')}\n            className={`flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${\n              tipoFoto === 'escola'\n                ? 'bg-blue-600 text-white'\n                : 'bg-white text-gray-700 hover:bg-gray-100'\n            }`}\n          >\n            <School className=\"w-4 h-4\" />\n            Fotos da Escola\n          </button>\n          <button\n            onClick={() => setTipoFoto('professor')}\n            className={`flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${\n              tipoFoto === 'professor'\n                ? 'bg-blue-600 text-white'\n                : 'bg-white text-gray-700 hover:bg-gray-100'\n            }`}\n          >\n            <GraduationCap className=\"w-4 h-4\" />\n            Fotos dos Professores\n          </button>\n        </div>\n      </div>\n\n      {/* Mensagens */}\n      {error && (\n        <div className=\"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg\">\n          <AlertCircle className=\"w-5 h-5 text-red-600\" />\n          <span className=\"text-red-700\">{error}</span>\n        </div>\n      )}\n\n      {success && (\n        <div className=\"flex items-center gap-2 p-3 bg-green-50 border border-green-200 rounded-lg\">\n          <Check className=\"w-5 h-5 text-green-600\" />\n          <span className=\"text-green-700\">{success}</span>\n        </div>\n      )}\n\n      {/* Formulário */}\n      {showForm && (\n        <div className=\"bg-gray-50 p-6 rounded-lg border\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h4 className=\"text-lg font-medium text-gray-900\">\n              {editingLegenda ? 'Editar Legenda' : 'Adicionar Legenda'}\n            </h4>\n            <button\n              onClick={clearForm}\n              className=\"text-gray-500 hover:text-gray-700\"\n            >\n              <X className=\"w-5 h-5\" />\n            </button>\n          </div>\n\n          <form onSubmit={handleSave} className=\"space-y-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  URL da Imagem *\n                </label>\n                <input\n                  type=\"url\"\n                  value={formData.imagem_url}\n                  onChange={(e) => setFormData({ ...formData, imagem_url: e.target.value })}\n                  className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  placeholder={tipoFoto === 'escola' \n                    ? \"https://exemplo.com/imagem-escola.jpg\" \n                    : \"https://exemplo.com/imagem-professor.jpg\"\n                  }\n                  required\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Categoria\n                </label>\n                <select\n                  value={formData.categoria}\n                  onChange={(e) => setFormData({ ...formData, categoria: e.target.value })}\n                  className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                >\n                  {categorias.map(cat => (\n                    <option key={cat.value} value={cat.value}>\n                      {cat.label}\n                    </option>\n                  ))}\n                </select>\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Legenda *\n              </label>\n              <input\n                type=\"text\"\n                value={formData.legenda}\n                onChange={(e) => setFormData({ ...formData, legenda: e.target.value })}\n                className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                placeholder={`Descrição curta da foto do ${tipoFoto}`}\n                required\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Descrição Detalhada\n              </label>\n              <textarea\n                value={formData.descricao_detalhada}\n                onChange={(e) => setFormData({ ...formData, descricao_detalhada: e.target.value })}\n                className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                rows=\"3\"\n                placeholder={`Descrição mais detalhada da foto do ${tipoFoto}...`}\n              />\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Autor da Foto\n                </label>\n                <div className=\"relative\">\n                  <User className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\n                  <input\n                    type=\"text\"\n                    value={formData.autor_foto}\n                    onChange={(e) => setFormData({ ...formData, autor_foto: e.target.value })}\n                    className=\"w-full border rounded-lg pl-10 pr-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    placeholder=\"Nome do fotógrafo\"\n                  />\n                </div>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Data da Foto\n                </label>\n                <div className=\"relative\">\n                  <Calendar className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\n                  <input\n                    type=\"date\"\n                    value={formData.data_foto}\n                    onChange={(e) => setFormData({ ...formData, data_foto: e.target.value })}\n                    className=\"w-full border rounded-lg pl-10 pr-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            <div className=\"flex gap-2 pt-4\">\n              <button\n                type=\"submit\"\n                className=\"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n              >\n                <Save className=\"w-4 h-4\" />\n                {editingLegenda ? 'Atualizar' : 'Salvar'}\n              </button>\n              <button\n                type=\"button\"\n                onClick={clearForm}\n                className=\"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors\"\n              >\n                Cancelar\n              </button>\n            </div>\n          </form>\n        </div>\n      )}\n\n      {/* Lista de Legendas */}\n      {legendas.length > 0 ? (\n        <div className=\"space-y-4\">\n          <h4 className=\"font-medium text-gray-900\">\n            Legendas de {tipoFoto === 'escola' ? 'Fotos da Escola' : 'Fotos dos Professores'} ({legendas.length})\n          </h4>\n          <div className=\"grid gap-4\">\n            {legendas.map((legenda) => (\n              <div key={legenda.id} className=\"bg-white border rounded-lg p-4 shadow-sm\">\n                <div className=\"flex items-start justify-between\">\n                  <div className=\"flex-1\">\n                    <div className=\"flex items-center gap-2 mb-2\">\n                      <Tag className=\"w-4 h-4 text-gray-400\" />\n                      <span className=\"text-sm text-gray-500 capitalize\">{legenda.categoria}</span>\n                      <span className=\"text-gray-300\">•</span>\n                      <span className=\"text-sm text-gray-500 capitalize\">\n                        {legenda.tipo_foto === 'escola' ? 'Escola' : 'Professor'}\n                      </span>\n                    </div>\n                    \n                    <h5 className=\"font-medium text-gray-900 mb-1\">{legenda.legenda}</h5>\n                    \n                    {legenda.descricao_detalhada && (\n                      <p className=\"text-sm text-gray-600 mb-2\">{legenda.descricao_detalhada}</p>\n                    )}\n                    \n                    <div className=\"flex items-center gap-4 text-xs text-gray-500\">\n                      {legenda.autor_foto && (\n                        <span className=\"flex items-center gap-1\">\n                          <User className=\"w-3 h-3\" />\n                          {legenda.autor_foto}\n                        </span>\n                      )}\n                      {legenda.data_foto && (\n                        <span className=\"flex items-center gap-1\">\n                          <Calendar className=\"w-3 h-3\" />\n                          {new Date(legenda.data_foto).toLocaleDateString('pt-BR')}\n                        </span>\n                      )}\n                    </div>\n                    \n                    <p className=\"text-xs text-blue-600 mt-2 truncate\">{legenda.imagem_url}</p>\n                  </div>\n                  \n                  <div className=\"flex gap-2 ml-4\">\n                    <button\n                      onClick={() => handleEdit(legenda)}\n                      className=\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors\"\n                      title=\"Editar legenda\"\n                    >\n                      <Edit3 className=\"w-4 h-4\" />\n                    </button>\n                    <button\n                      onClick={() => handleDelete(legenda.id)}\n                      className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors\"\n                      title=\"Excluir legenda\"\n                    >\n                      <Trash2 className=\"w-4 h-4\" />\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      ) : (\n        <div className=\"text-center py-8 text-gray-500\">\n          <ImageIcon className=\"w-12 h-12 mx-auto mb-2 text-gray-300\" />\n          <p>Nenhuma legenda adicionada para {tipoFoto === 'escola' ? 'fotos da escola' : 'fotos dos professores'}.</p>\n          <p className=\"text-sm\">Adicione legendas para melhorar a descrição das fotos.</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nLegendasFotosSection.propTypes = {\n  escolaId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  onLegendasUpdate: PropTypes.func\n};\n\nexport default LegendasFotosSection; \n ","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71', key: '1cjeqo' }],\n  ['path', { d: 'M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71', key: '19qd67' }],\n];\n\n/**\n * @component @name Link\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAgMTNhNSA1IDAgMCAwIDcuNTQuNTRsMy0zYTUgNSAwIDAgMC03LjA3LTcuMDdsLTEuNzIgMS43MSIgLz4KICA8cGF0aCBkPSJNMTQgMTFhNSA1IDAgMCAwLTcuNTQtLjU0bC0zIDNhNSA1IDAgMCAwIDcuMDcgNy4wN2wxLjcxLTEuNzEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/link\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Link = createLucideIcon('Link', __iconNode);\n\nexport default Link;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { \n  Video, \n  Plus, \n  Edit3, \n  Trash2, \n  Save, \n  X, \n  AlertCircle,\n  Check,\n  Clock,\n  Tag,\n  Play,\n  Link\n} from 'lucide-react';\nimport { \n  getTitulosVideos, \n  addTituloVideo, \n  updateTituloVideo, \n  deleteTituloVideo,\n  getTituloByVideoUrl \n} from '../../services/legendasService';\n\nconst VideoSection = ({ escolaId, videoUrl, onVideoUrlChange, onTitulosUpdate }) => {\n  const [videos, setVideos] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [showAddVideo, setShowAddVideo] = useState(false);\n  const [newVideo, setNewVideo] = useState({ url: '', titulo: '' });\n\n  // Buscar vídeos existentes\n  const fetchVideos = useCallback(async () => {\n    if (!escolaId) return;\n    \n    try {\n      setLoading(true);\n      const data = await getTitulosVideos(escolaId);\n      \n      // Organizar vídeos por URL\n      const videosOrganizados = data.map(item => ({\n        id: item.id,\n        url: item.video_url,\n        titulo: item.titulo,\n        plataforma: item.plataforma,\n        categoria: item.categoria\n      }));\n      \n      setVideos(videosOrganizados);\n    } catch (err) {\n      console.error('Erro ao buscar vídeos:', err);\n      setError('Erro ao carregar vídeos');\n    } finally {\n      setLoading(false);\n    }\n  }, [escolaId]);\n\n  useEffect(() => {\n    fetchVideos();\n  }, [fetchVideos]);\n\n  // Limpar mensagens após 5 segundos\n  useEffect(() => {\n    if (error || success) {\n      const timer = setTimeout(() => {\n        setError('');\n        setSuccess('');\n      }, 5000);\n      return () => clearTimeout(timer);\n    }\n  }, [error, success]);\n\n  // Detectar plataforma automaticamente\n  const detectPlataforma = (url) => {\n    if (url.includes('youtube.com') || url.includes('youtu.be')) {\n      return 'youtube';\n    } else if (url.includes('vimeo.com')) {\n      return 'vimeo';\n    } else if (url.includes('facebook.com')) {\n      return 'facebook';\n    } else if (url.includes('instagram.com')) {\n      return 'instagram';\n    }\n    return 'outro';\n  };\n\n  // Adicionar novo vídeo\n  const handleAddVideo = async (e) => {\n    e.preventDefault();\n    \n    if (!newVideo.url.trim() || !newVideo.titulo.trim()) {\n      setError('URL e título são obrigatórios');\n      return;\n    }\n\n    try {\n      // Verificar se já existe vídeo com esta URL\n      const videoExistente = videos.find(v => v.url === newVideo.url);\n      if (videoExistente) {\n        setError('Este vídeo já foi adicionado');\n        return;\n      }\n\n      // Criar novo vídeo\n      await addTituloVideo({\n        video_url: newVideo.url,\n        titulo: newVideo.titulo,\n        plataforma: detectPlataforma(newVideo.url),\n        categoria: 'geral',\n        escola_id: escolaId\n      });\n      \n      setSuccess('Vídeo adicionado com sucesso!');\n      setNewVideo({ url: '', titulo: '' });\n      setShowAddVideo(false);\n      fetchVideos();\n      \n      if (onTitulosUpdate) {\n        onTitulosUpdate();\n      }\n    } catch (err) {\n      console.error('Erro ao adicionar vídeo:', err);\n      setError('Erro ao adicionar vídeo');\n    }\n  };\n\n  // Atualizar título de um vídeo\n  const handleTituloChange = async (videoId, novoTitulo) => {\n    if (!novoTitulo.trim()) return;\n\n    try {\n      await updateTituloVideo(videoId, {\n        titulo: novoTitulo,\n        escola_id: escolaId\n      });\n      \n      fetchVideos();\n      if (onTitulosUpdate) {\n        onTitulosUpdate();\n      }\n    } catch (err) {\n      console.error('Erro ao atualizar título:', err);\n      setError('Erro ao atualizar título');\n    }\n  };\n\n  // Remover vídeo\n  const handleRemoveVideo = async (videoId) => {\n    if (!window.confirm('Tem certeza que deseja remover este vídeo?')) return;\n\n    try {\n      await deleteTituloVideo(videoId);\n      setSuccess('Vídeo removido com sucesso!');\n      fetchVideos();\n      \n      if (onTitulosUpdate) {\n        onTitulosUpdate();\n      }\n    } catch (err) {\n      console.error('Erro ao remover vídeo:', err);\n      setError('Erro ao remover vídeo');\n    }\n  };\n\n  // Obter URL de embed para qualquer plataforma\n  const getVideoEmbedUrl = (url) => {\n    if (!url) return '';\n    // YouTube\n    const ytMatch = url.match(/(?:youtu.be\\/|youtube.com\\/(?:watch\\?v=|embed\\/|v\\/))([\\w-]{11})/);\n    if (ytMatch) {\n      return `https://www.youtube.com/embed/${ytMatch[1]}`;\n    }\n    // Vimeo\n    const vimeoMatch = url.match(/vimeo.com\\/(\\d+)/);\n    if (vimeoMatch) {\n      return `https://player.vimeo.com/video/${vimeoMatch[1]}`;\n    }\n    // Outros: retorna o próprio link\n    return url;\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Vídeo Principal (campo original) */}\n      <div className=\"space-y-4\">\n        <div className=\"flex items-center gap-2\">\n          <Link className=\"w-5 h-5 text-blue-600\" />\n          <h3 className=\"text-lg font-semibold text-gray-900\">Vídeo Principal</h3>\n        </div>\n        \n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n            URL do Vídeo\n          </label>\n          <input\n            type=\"url\"\n            className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            value={videoUrl || ''}\n            onChange={(e) => onVideoUrlChange(e.target.value)}\n            placeholder=\"Cole aqui o link do vídeo (YouTube, Vimeo, etc)\"\n          />\n          <p className=\"text-xs text-gray-500 mt-1\">Exemplo: https://www.youtube.com/watch?v=...</p>\n        </div>\n\n        {/* Título do vídeo principal */}\n        {videoUrl && (\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Título do Vídeo\n            </label>\n            <input\n              type=\"text\"\n              className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n              value={videos.find(v => v.url === videoUrl)?.titulo || ''}\n              onChange={(e) => {\n                const video = videos.find(v => v.url === videoUrl);\n                if (video) {\n                  handleTituloChange(video.id, e.target.value);\n                }\n              }}\n              placeholder=\"Digite o título do vídeo\"\n            />\n            <p className=\"text-xs text-gray-500 mt-1\">Exemplo: \"Aula de Matemática na Escola Indígena\"</p>\n          </div>\n        )}\n\n        {/* Pré-visualização do vídeo principal */}\n        {videoUrl && getVideoEmbedUrl(videoUrl) && (\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Pré-visualização</label>\n            <div className=\"aspect-w-16 aspect-h-9 bg-black rounded-lg overflow-hidden\">\n              <iframe\n                src={getVideoEmbedUrl(videoUrl)}\n                title=\"Pré-visualização do vídeo\"\n                frameBorder=\"0\"\n                allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                allowFullScreen\n                className=\"w-full h-full\"\n              />\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Outros Vídeos */}\n      <div className=\"border-t pt-6\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <div className=\"flex items-center gap-2\">\n            <Video className=\"w-5 h-5 text-green-600\" />\n            <h3 className=\"text-lg font-semibold text-gray-900\">Outros Vídeos</h3>\n          </div>\n          <button\n            onClick={() => setShowAddVideo(true)}\n            className=\"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\n          >\n            <Plus className=\"w-4 h-4\" />\n            Adicionar Outro Vídeo\n          </button>\n        </div>\n\n        {/* Lista de outros vídeos */}\n        {videos.filter(v => v.url !== videoUrl).length > 0 && (\n          <div className=\"space-y-4\">\n            {videos.filter(v => v.url !== videoUrl).map((video) => (\n              <div key={video.id} className=\"bg-gray-50 border rounded-lg p-4\">\n                <div className=\"flex items-start justify-between mb-3\">\n                  <div className=\"flex-1\">\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Título do Vídeo\n                    </label>\n                    <input\n                      type=\"text\"\n                      className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                      value={video.titulo}\n                      onChange={(e) => handleTituloChange(video.id, e.target.value)}\n                      placeholder=\"Digite o título do vídeo\"\n                    />\n                  </div>\n                  <button\n                    onClick={() => handleRemoveVideo(video.id)}\n                    className=\"ml-3 p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors\"\n                    title=\"Remover vídeo\"\n                  >\n                    <Trash2 className=\"w-4 h-4\" />\n                  </button>\n                </div>\n                \n                <div className=\"mb-3\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    URL do Vídeo\n                  </label>\n                  <input\n                    type=\"url\"\n                    className=\"w-full border rounded-lg px-3 py-2 bg-gray-100\"\n                    value={video.url}\n                    disabled\n                  />\n                </div>\n\n                {/* Pré-visualização do vídeo */}\n                {getVideoEmbedUrl(video.url) && (\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Pré-visualização</label>\n                    <div className=\"aspect-w-16 aspect-h-9 bg-black rounded-lg overflow-hidden\">\n                      <iframe\n                        src={getVideoEmbedUrl(video.url)}\n                        title={video.titulo}\n                        frameBorder=\"0\"\n                        allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                        allowFullScreen\n                        className=\"w-full h-full\"\n                      />\n                    </div>\n                  </div>\n                )}\n              </div>\n            ))}\n          </div>\n        )}\n\n        {/* Mensagem quando não há outros vídeos */}\n        {videos.filter(v => v.url !== videoUrl).length === 0 && !showAddVideo && (\n          <div className=\"text-center py-8 text-gray-500\">\n            <Video className=\"w-12 h-12 mx-auto mb-2 text-gray-300\" />\n            <p>Nenhum vídeo adicional adicionado.</p>\n            <p className=\"text-sm\">Clique em \"Adicionar Outro Vídeo\" para incluir mais vídeos.</p>\n          </div>\n        )}\n\n        {/* Formulário para adicionar novo vídeo */}\n        {showAddVideo && (\n          <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-6\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h4 className=\"text-lg font-medium text-blue-800\">Adicionar Novo Vídeo</h4>\n              <button\n                onClick={() => {\n                  setShowAddVideo(false);\n                  setNewVideo({ url: '', titulo: '' });\n                }}\n                className=\"text-blue-500 hover:text-blue-700\"\n              >\n                <X className=\"w-5 h-5\" />\n              </button>\n            </div>\n\n            <form onSubmit={handleAddVideo} className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  URL do Vídeo *\n                </label>\n                <input\n                  type=\"url\"\n                  required\n                  className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  value={newVideo.url}\n                  onChange={(e) => setNewVideo({ ...newVideo, url: e.target.value })}\n                  placeholder=\"https://www.youtube.com/watch?v=...\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Título do Vídeo *\n                </label>\n                <input\n                  type=\"text\"\n                  required\n                  className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                  value={newVideo.titulo}\n                  onChange={(e) => setNewVideo({ ...newVideo, titulo: e.target.value })}\n                  placeholder=\"Digite o título do vídeo\"\n                />\n              </div>\n\n              <div className=\"flex gap-2 pt-4\">\n                <button\n                  type=\"submit\"\n                  className=\"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\n                >\n                  <Save className=\"w-4 h-4\" />\n                  Adicionar Vídeo\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={() => {\n                    setShowAddVideo(false);\n                    setNewVideo({ url: '', titulo: '' });\n                  }}\n                  className=\"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors\"\n                >\n                  Cancelar\n                </button>\n              </div>\n            </form>\n          </div>\n        )}\n      </div>\n\n      {/* Mensagens */}\n      {error && (\n        <div className=\"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg\">\n          <AlertCircle className=\"w-5 h-5 text-red-600\" />\n          <span className=\"text-red-700\">{error}</span>\n        </div>\n      )}\n\n      {success && (\n        <div className=\"flex items-center gap-2 p-3 bg-green-50 border border-green-200 rounded-lg\">\n          <Check className=\"w-5 h-5 text-green-600\" />\n          <span className=\"text-green-700\">{success}</span>\n        </div>\n      )}\n    </div>\n  );\n};\n\nVideoSection.propTypes = {\n  escolaId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  videoUrl: PropTypes.string,\n  onVideoUrlChange: PropTypes.func.isRequired,\n  onTitulosUpdate: PropTypes.func\n};\n\nexport default VideoSection; \n ","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z',\n      key: '1c8476',\n    },\n  ],\n  ['path', { d: 'M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7', key: '1ydtos' }],\n  ['path', { d: 'M7 3v4a1 1 0 0 0 1 1h7', key: 't51u73' }],\n];\n\n/**\n * @component @name Save\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUuMiAzYTIgMiAwIDAgMSAxLjQuNmwzLjggMy44YTIgMiAwIDAgMSAuNiAxLjRWMTlhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJWNWEyIDIgMCAwIDEgMi0yeiIgLz4KICA8cGF0aCBkPSJNMTcgMjF2LTdhMSAxIDAgMCAwLTEtMUg4YTEgMSAwIDAgMC0xIDF2NyIgLz4KICA8cGF0aCBkPSJNNyAzdjRhMSAxIDAgMCAwIDEgMWg3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/save\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Save = createLucideIcon('Save', __iconNode);\n\nexport default Save;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2', key: '975kel' }],\n  ['circle', { cx: '12', cy: '7', r: '4', key: '17ys0d' }],\n];\n\n/**\n * @component @name User\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTkgMjF2LTJhNCA0IDAgMCAwLTQtNEg5YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjciIHI9IjQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/user\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst User = createLucideIcon('User', __iconNode);\n\nexport default User;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z',\n      key: '1qme2f',\n    },\n  ],\n  ['circle', { cx: '12', cy: '12', r: '3', key: '1v7zrd' }],\n];\n\n/**\n * @component @name Settings\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIuMjIgMmgtLjQ0YTIgMiAwIDAgMC0yIDJ2LjE4YTIgMiAwIDAgMS0xIDEuNzNsLS40My4yNWEyIDIgMCAwIDEtMiAwbC0uMTUtLjA4YTIgMiAwIDAgMC0yLjczLjczbC0uMjIuMzhhMiAyIDAgMCAwIC43MyAyLjczbC4xNS4xYTIgMiAwIDAgMSAxIDEuNzJ2LjUxYTIgMiAwIDAgMS0xIDEuNzRsLS4xNS4wOWEyIDIgMCAwIDAtLjczIDIuNzNsLjIyLjM4YTIgMiAwIDAgMCAyLjczLjczbC4xNS0uMDhhMiAyIDAgMCAxIDIgMGwuNDMuMjVhMiAyIDAgMCAxIDEgMS43M1YyMGEyIDIgMCAwIDAgMiAyaC40NGEyIDIgMCAwIDAgMi0ydi0uMThhMiAyIDAgMCAxIDEtMS43M2wuNDMtLjI1YTIgMiAwIDAgMSAyIDBsLjE1LjA4YTIgMiAwIDAgMCAyLjczLS43M2wuMjItLjM5YTIgMiAwIDAgMC0uNzMtMi43M2wtLjE1LS4wOGEyIDIgMCAwIDEtMS0xLjc0di0uNWEyIDIgMCAwIDEgMS0xLjc0bC4xNS0uMDlhMiAyIDAgMCAwIC43My0yLjczbC0uMjItLjM4YTIgMiAwIDAgMC0yLjczLS43M2wtLjE1LjA4YTIgMiAwIDAgMS0yIDBsLS40My0uMjVhMiAyIDAgMCAxLTEtMS43M1Y0YTIgMiAwIDAgMC0yLTJ6IiAvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/settings\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Settings = createLucideIcon('Settings', __iconNode);\n\nexport default Settings;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Image as ImageIcon, User, BookOpen, MapPin, Users, Settings, FileText, Video } from 'lucide-react';\nimport ImageUploadSection from './ImageUploadSection';\nimport ProfessorImageUploadSection from './ProfessorImageUploadSection';\nimport LegendasFotosSection from './LegendasFotosSection';\nimport VideoSection from './VideoSection';\n\nconst EditEscolaPanel = ({ escola, onClose, onSave }) => {\n  const [nomeEscola, setNomeEscola] = useState(escola?.Escola || '');\n  const [isSaving, setIsSaving] = useState(false);\n  const [error, setError] = useState('');\n  const [activeTab, setActiveTab] = useState('dados-basicos');\n\n  // Configuração das abas\n  const tabs = [\n    { \n      id: 'dados-basicos', \n      label: 'Dados Básicos', \n      icon: BookOpen,\n      description: 'Informações principais da escola'\n    },\n    { \n      id: 'imagens-escola', \n      label: 'Imagens da Escola', \n      icon: ImageIcon,\n      description: 'Upload e gerenciamento de imagens da escola (máx. 10)'\n    },\n    { \n      id: 'imagens-professores', \n      label: 'Imagens dos Professores', \n      icon: User,\n      description: 'Upload e gerenciamento de imagens dos professores (máx. 5)'\n    },\n    { \n      id: 'legendas-fotos', \n      label: 'Legendas de Fotos', \n      icon: FileText,\n      description: 'Gerenciar legendas descritivas das fotos'\n    },\n    { \n      id: 'video', \n      label: 'Vídeo', \n      icon: Video,\n      description: 'Link do vídeo e gerenciamento de títulos'\n    },\n    { \n      id: 'localizacao', \n      label: 'Localização', \n      icon: MapPin,\n      description: 'Coordenadas e endereço da escola'\n    },\n    { \n      id: 'gestao', \n      label: 'Gestão', \n      icon: Users,\n      description: 'Informações sobre gestão e funcionários'\n    },\n    { \n      id: 'configuracoes', \n      label: 'Configurações', \n      icon: Settings,\n      description: 'Configurações avançadas da escola'\n    }\n  ];\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!nomeEscola.trim()) {\n      setError('O nome da escola é obrigatório.');\n      return;\n    }\n    setError('');\n    setIsSaving(true);\n    try {\n      await onSave({ ...escola, Escola: nomeEscola });\n      onClose();\n    } catch (err) {\n      setError('Erro ao salvar.');\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  // Handler para atualização de imagens\n  const handleImagesUpdate = () => {\n    // Aqui você pode adicionar lógica para atualizar o PainelInformacoes\n    // Por exemplo, disparar um evento ou callback para refresh\n    console.log('Imagens atualizadas - PainelInformacoes deve ser atualizado');\n  };\n\n  // Handler para atualização de legendas\n  const handleLegendasUpdate = () => {\n    console.log('Legendas atualizadas - PainelInformacoes deve ser atualizado');\n  };\n\n  // Handler para atualização de títulos\n  const handleTitulosUpdate = () => {\n    console.log('Títulos atualizados - PainelInformacoes deve ser atualizado');\n  };\n\n  // Renderizar conteúdo da aba ativa\n  const renderTabContent = () => {\n    switch (activeTab) {\n      case 'dados-basicos':\n        return (\n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Nome da Escola *\n              </label>\n              <input\n                type=\"text\"\n                className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                value={nomeEscola}\n                onChange={e => setNomeEscola(e.target.value)}\n                disabled={isSaving}\n                placeholder=\"Digite o nome da escola\"\n              />\n            </div>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Município\n                </label>\n                <input\n                  type=\"text\"\n                  className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  value={escola?.['Município'] || ''}\n                  onChange={e => onSave({ ...escola, 'Município': e.target.value })}\n                  placeholder=\"Nome do município\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Terra Indígena (TI)\n                </label>\n                <input\n                  type=\"text\"\n                  className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  value={escola?.['Terra Indigena (TI)'] || ''}\n                  onChange={e => onSave({ ...escola, 'Terra Indigena (TI)': e.target.value })}\n                  placeholder=\"Nome da terra indígena\"\n                />\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Endereço\n              </label>\n              <textarea\n                className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                rows=\"3\"\n                value={escola?.['Endereço'] || ''}\n                onChange={e => onSave({ ...escola, 'Endereço': e.target.value })}\n                placeholder=\"Endereço completo da escola\"\n              />\n            </div>\n          </div>\n        );\n\n      case 'imagens-escola':\n        return (\n          <ImageUploadSection \n            escolaId={escola?.id} \n            onImagesUpdate={handleImagesUpdate}\n          />\n        );\n\n      case 'imagens-professores':\n        return (\n          <ProfessorImageUploadSection \n            escolaId={escola?.id} \n            onImagesUpdate={handleImagesUpdate}\n          />\n        );\n\n      case 'legendas-fotos':\n        return (\n          <LegendasFotosSection \n            escolaId={escola?.id} \n            onLegendasUpdate={handleLegendasUpdate}\n          />\n        );\n\n      case 'video':\n        return (\n          <VideoSection \n            escolaId={escola?.id}\n            videoUrl={escola?.['link_para_videos'] || ''}\n            onVideoUrlChange={(value) => onSave({ ...escola, 'link_para_videos': value })}\n            onTitulosUpdate={handleTitulosUpdate}\n          />\n        );\n\n      case 'localizacao':\n        return (\n          <div className=\"space-y-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Latitude\n                </label>\n                <input\n                  type=\"number\"\n                  step=\"any\"\n                  className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  value={escola?.latitude || ''}\n                  onChange={e => onSave({ ...escola, latitude: parseFloat(e.target.value) || null })}\n                  placeholder=\"Ex: -23.5505\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Longitude\n                </label>\n                <input\n                  type=\"number\"\n                  step=\"any\"\n                  className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  value={escola?.longitude || ''}\n                  onChange={e => onSave({ ...escola, longitude: parseFloat(e.target.value) || null })}\n                  placeholder=\"Ex: -46.6333\"\n                />\n              </div>\n            </div>\n            \n            <div className=\"p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n              <p className=\"text-sm text-blue-800\">\n                <strong>Dica:</strong> Use o Google Maps para encontrar as coordenadas exatas da escola.\n                Clique com o botão direito no local da escola e selecione as coordenadas.\n              </p>\n            </div>\n          </div>\n        );\n\n      case 'gestao':\n        return (\n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Gestão/Nome\n              </label>\n              <input\n                type=\"text\"\n                className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                value={escola?.gestao || ''}\n                onChange={e => onSave({ ...escola, gestao: e.target.value })}\n                placeholder=\"Nome da gestão atual\"\n              />\n            </div>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Professores Indígenas\n                </label>\n                <input\n                  type=\"text\"\n                  className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  value={escola?.professores_indigenas || ''}\n                  onChange={e => onSave({ ...escola, professores_indigenas: e.target.value })}\n                  placeholder=\"Quantidade ou nomes\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Professores Não Indígenas\n                </label>\n                <input\n                  type=\"text\"\n                  className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  value={escola?.professores_nao_indigenas || ''}\n                  onChange={e => onSave({ ...escola, professores_nao_indigenas: e.target.value })}\n                  placeholder=\"Quantidade ou nomes\"\n                />\n              </div>\n            </div>\n          </div>\n        );\n\n      case 'infraestrutura':\n        return (\n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Merenda diferenciada\n              </label>\n              <textarea\n                className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                rows=\"3\"\n                value={escola?.merenda_diferenciada || ''}\n                onChange={e => onSave({ ...escola, merenda_diferenciada: e.target.value })}\n                placeholder=\"Descreva a situação do fornecimento de merenda (ex: se a escola recebe, se há interrupções, etc.)\"\n              />\n            </div>\n          </div>\n        );\n\n      case 'configuracoes':\n        return (\n          <div className=\"space-y-4\">\n            <div className=\"p-4 bg-yellow-50 border border-yellow-200 rounded-lg\">\n              <p className=\"text-sm text-yellow-800\">\n                <strong>Configurações Avançadas:</strong> Esta seção será implementada em breve.\n                Aqui você poderá configurar permissões, notificações e outras opções avançadas.\n              </p>\n            </div>\n          </div>\n        );\n\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-lg shadow-xl w-full max-w-6xl h-[90vh] flex flex-col\">\n      {/* Header */}\n        <div className=\"flex items-center justify-between p-6 border-b\">\n            <h2 className=\"text-xl font-semibold text-gray-900\">\n              Editar Escola: {escola?.Escola || 'Nova Escola'}\n            </h2>\n          <button\n            onClick={onClose}\n            className=\"text-gray-400 hover:text-gray-600\"\n          >\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </button>\n      </div>\n\n        {/* Tabs */}\n        <div className=\"flex border-b bg-gray-50\">\n          {tabs.map((tab) => {\n            const Icon = tab.icon;\n            return (\n              <button\n                key={tab.id}\n                onClick={() => setActiveTab(tab.id)}\n                className={`flex items-center gap-2 px-4 py-3 text-sm font-medium transition-colors ${\n                  activeTab === tab.id\n                    ? 'text-blue-600 border-b-2 border-blue-600 bg-white'\n                    : 'text-gray-600 hover:text-gray-900 hover:bg-gray-100'\n                }`}\n                title={tab.description}\n              >\n                <Icon className=\"w-4 h-4\" />\n                <span className=\"hidden sm:inline\">{tab.label}</span>\n              </button>\n            );\n          })}\n      </div>\n\n        {/* Content */}\n        <div className=\"flex-1 overflow-y-auto p-6\">\n        <form onSubmit={handleSubmit}>\n          {/* Conteúdo da aba ativa */}\n          <div className=\"min-h-[400px]\">\n            {renderTabContent()}\n          </div>\n\n          {/* Mensagens de erro */}\n          {error && (\n            <div className=\"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg\">\n              <p className=\"text-red-700 text-sm\">{error}</p>\n            </div>\n          )}\n\n          {/* Botões de ação */}\n          <div className=\"flex gap-3 mt-6 pt-6 border-t border-gray-200\">\n            <button\n              type=\"submit\"\n              className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n              disabled={isSaving}\n            >\n              {isSaving ? 'Salvando...' : 'Salvar Alterações'}\n            </button>\n            <button\n              type=\"button\"\n              className=\"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors\"\n              onClick={onClose}\n              disabled={isSaving}\n            >\n              Cancelar\n            </button>\n          </div>\n        </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nEditEscolaPanel.propTypes = {\n  escola: PropTypes.object.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onSave: PropTypes.func.isRequired,\n};\n\nexport default EditEscolaPanel;","import { supabase } from '../supabaseClient';\n\nexport const addProfessorImageMeta = async (meta) => {\n  const { data, error } = await supabase\n    .from('imagens_professores')\n    .insert([meta])\n    .select()\n    .single();\n  if (error) throw error;\n  return data;\n};\n\nexport const updateProfessorImageMeta = async (id, updates) => {\n  const { data, error } = await supabase\n    .from('imagens_professores')\n    .update(updates)\n    .eq('id', id)\n    .select()\n    .single();\n  if (error) throw error;\n  return data;\n};\n\nexport const getProfessorImageMetaByUrl = async (imagem_url, escola_id) => {\n  const { data, error } = await supabase\n    .from('imagens_professores')\n    .select('*')\n    .eq('imagem_url', imagem_url)\n    .eq('escola_id', escola_id)\n    .eq('ativo', true)\n    .single();\n  if (error && error.code !== 'PGRST116') throw error;\n  return data || null;\n}; ","import React, { useState, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { Upload, X, User, Trash2, Edit3, Check, AlertCircle, Save } from 'lucide-react';\nimport { \n  uploadProfessorImage, \n  getEscolaImages, \n  deleteImage, \n  updateImageDescription,\n  checkImageLimit \n} from '../../services/escolaImageService';\nimport { \n  getLegendaByImageUrl, \n  addLegendaFoto, \n  updateLegendaFoto \n} from '../../services/legendasService';\nimport {\n  addProfessorImageMeta,\n  updateProfessorImageMeta,\n  getProfessorImageMetaByUrl\n} from '../../services/professorImageMetaService';\n\nconst ProfessorImageUploadSection = ({ escolaId, onImagesUpdate }) => {\n  const [selectedFiles, setSelectedFiles] = useState([]);\n  const [uploading, setUploading] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [existingImages, setExistingImages] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [imageLimit, setImageLimit] = useState({ current: 0, limit: 5, canUpload: true });\n  const [editingImage, setEditingImage] = useState(null);\n  const [editingDescription, setEditingDescription] = useState('');\n  const [genero, setGenero] = useState('professor');\n  const [titulo, setTitulo] = useState('');\n\n  // Buscar imagens existentes dos professores\n  const fetchExistingImages = useCallback(async () => {\n    if (!escolaId) return;\n    \n    try {\n      setLoading(true);\n      const images = await getEscolaImages(escolaId, 'imagens-professores');\n      setExistingImages(images);\n      \n      // Verificar limite\n      const limit = await checkImageLimit(escolaId, 'imagens-professores');\n      setImageLimit(limit);\n    } catch (err) {\n      console.error('Erro ao buscar imagens dos professores:', err);\n      setError('Erro ao carregar imagens dos professores');\n    } finally {\n      setLoading(false);\n    }\n  }, [escolaId]);\n\n  useEffect(() => {\n    fetchExistingImages();\n  }, [fetchExistingImages]);\n\n  // Buscar legendas para as imagens existentes\n  useEffect(() => {\n    const fetchLegendas = async () => {\n      if (!existingImages.length) return;\n      const legendasMap = {};\n      for (const img of existingImages) {\n        console.log('Buscando legenda para:', img.publicUrl, escolaId, 'professor');\n        const legenda = await getLegendaByImageUrl(img.publicUrl, escolaId, 'professor');\n        legendasMap[img.publicUrl] = legenda;\n      }\n      setExistingImages(prev => prev.map(img => ({\n        ...img,\n        legendaData: legendasMap[img.publicUrl] || {\n          legenda: '',\n          descricao_detalhada: '',\n          autor_foto: '',\n          data_foto: '',\n          categoria: 'geral',\n        }\n      })));\n    };\n    fetchLegendas();\n    // eslint-disable-next-line\n  }, [existingImages.length, escolaId]);\n\n  // Limpar mensagens após 5 segundos\n  useEffect(() => {\n    if (error || success) {\n      const timer = setTimeout(() => {\n        setError('');\n        setSuccess('');\n      }, 5000);\n      return () => clearTimeout(timer);\n    }\n  }, [error, success]);\n\n  // Handler para seleção de arquivos\n  const handleFileSelect = (event) => {\n    const files = Array.from(event.target.files);\n    if (files.length === 0) return;\n\n    // Verificar se ainda pode fazer upload\n    if (!imageLimit.canUpload) {\n      setError(`Limite de ${imageLimit.limit} imagens dos professores atingido. Remova algumas imagens antes de adicionar novas.`);\n      return;\n    }\n\n    // Verificar se não excederá o limite\n    const totalImages = existingImages.length + selectedFiles.length + files.length;\n    if (totalImages > imageLimit.limit) {\n      setError(`Você pode adicionar no máximo ${imageLimit.limit - existingImages.length - selectedFiles.length} imagens dos professores.`);\n      return;\n    }\n\n    // Validar arquivos\n    const validFiles = files.filter(file => {\n      const isValidType = ['image/jpeg', 'image/jpg', 'image/png', 'image/webp', 'image/gif'].includes(file.type);\n      const isValidSize = file.size <= 5 * 1024 * 1024; // 5MB\n      \n      if (!isValidType) {\n        setError(`Arquivo \"${file.name}\" não é uma imagem válida. Use apenas JPG, PNG, WEBP ou GIF.`);\n      }\n      if (!isValidSize) {\n        setError(`Arquivo \"${file.name}\" é muito grande. Tamanho máximo: 5MB.`);\n      }\n      \n      return isValidType && isValidSize;\n    });\n\n    if (validFiles.length > 0) {\n      setSelectedFiles(prev => [...prev, ...validFiles]);\n      setError('');\n    }\n  };\n\n  // Handler para drag & drop\n  const handleDrop = useCallback((event) => {\n    event.preventDefault();\n    const files = Array.from(event.dataTransfer.files);\n    \n    if (files.length === 0) return;\n\n    // Verificar se ainda pode fazer upload\n    if (!imageLimit.canUpload) {\n      setError(`Limite de ${imageLimit.limit} imagens dos professores atingido. Remova algumas imagens antes de adicionar novas.`);\n      return;\n    }\n\n    // Verificar se não excederá o limite\n    const totalImages = existingImages.length + selectedFiles.length + files.length;\n    if (totalImages > imageLimit.limit) {\n      setError(`Você pode adicionar no máximo ${imageLimit.limit - existingImages.length - selectedFiles.length} imagens dos professores.`);\n      return;\n    }\n\n    // Filtrar apenas imagens\n    const imageFiles = files.filter(file => file.type.startsWith('image/'));\n    if (imageFiles.length > 0) {\n      setSelectedFiles(prev => [...prev, ...imageFiles]);\n      setError('');\n    }\n  }, [imageLimit, existingImages.length, selectedFiles.length]);\n\n  const handleDragOver = useCallback((event) => {\n    event.preventDefault();\n  }, []);\n\n  // Remover arquivo selecionado\n  const removeSelectedFile = (index) => {\n    setSelectedFiles(prev => prev.filter((_, i) => i !== index));\n  };\n\n  // Upload das imagens selecionadas\n  const handleUpload = async () => {\n    if (selectedFiles.length === 0) return;\n\n    setUploading(true);\n    setUploadProgress(0);\n    setError('');\n\n    try {\n      const uploadedImages = [];\n      \n      for (let i = 0; i < selectedFiles.length; i++) {\n        const file = selectedFiles[i];\n        const progress = ((i + 1) / selectedFiles.length) * 100;\n        setUploadProgress(progress);\n\n        const uploadedImage = await uploadProfessorImage(file, escolaId, '', genero, titulo);\n        uploadedImages.push(uploadedImage);\n\n        // Criar registro em imagens_professores\n        await addProfessorImageMeta({\n          escola_id: escolaId,\n          imagem_url: uploadedImage.url,\n          nome_arquivo: file.name,\n          autor: '',\n          ativo: true\n        });\n      }\n\n      // Atualizar lista de imagens\n      setExistingImages(prev => [...prev, ...uploadedImages]);\n      setSelectedFiles([]);\n      setUploadProgress(0);\n      setSuccess(`${uploadedImages.length} imagem(ns) do(s) professor(es) carregada(s) com sucesso!`);\n\n      // Atualizar limite\n      const newLimit = await checkImageLimit(escolaId, 'imagens-professores');\n      setImageLimit(newLimit);\n\n      // Notificar componente pai\n      if (onImagesUpdate) {\n        onImagesUpdate();\n      }\n\n    } catch (err) {\n      console.error('Erro no upload:', err);\n      setError(`Erro ao fazer upload: ${err.message}`);\n    } finally {\n      setUploading(false);\n      setUploadProgress(0);\n    }\n  };\n\n  // Deletar imagem existente\n  const handleDeleteImage = async (imageId, filePath) => {\n    if (!window.confirm('Tem certeza que deseja excluir esta imagem do professor?')) return;\n\n    try {\n      await deleteImage(imageId, filePath, 'imagens-professores');\n      \n      // Atualizar lista\n      setExistingImages(prev => prev.filter(img => img.id !== imageId));\n      \n      // Atualizar limite\n      const newLimit = await checkImageLimit(escolaId, 'imagens-professores');\n      setImageLimit(newLimit);\n\n      setSuccess('Imagem do professor excluída com sucesso!');\n\n      // Notificar componente pai\n      if (onImagesUpdate) {\n        onImagesUpdate();\n      }\n\n    } catch (err) {\n      console.error('Erro ao deletar imagem:', err);\n      setError(`Erro ao excluir imagem: ${err.message}`);\n    }\n  };\n\n  // Atualizar descrição da imagem\n  const handleDescriptionChange = async (imageId, novaDescricao) => {\n    if (!novaDescricao.trim()) return;\n\n    try {\n      await updateImageDescription(imageId, novaDescricao);\n      \n      // Atualizar lista\n      setExistingImages(prev => prev.map(img => \n        img.id === imageId \n          ? { ...img, descricao: novaDescricao.trim() }\n          : img\n      ));\n\n      setSuccess('Legenda atualizada com sucesso!');\n\n      // Notificar componente pai\n      if (onImagesUpdate) {\n        onImagesUpdate();\n      }\n\n    } catch (err) {\n      console.error('Erro ao atualizar descrição:', err);\n      setError(`Erro ao atualizar legenda: ${err.message}`);\n    }\n  };\n\n  // Atualizar legenda inline\n  const handleLegendaFieldChange = (imageId, field, value) => {\n    setExistingImages(prev => prev.map(img =>\n      img.id === imageId\n        ? { ...img, legendaData: { ...img.legendaData, [field]: value } }\n        : img\n    ));\n  };\n\n  const handleLegendaSave = async (image) => {\n    const imagem_url_completa = image.publicUrl;\n    const legendaData = image.legendaData;\n    console.log('Salvando legenda para:', imagem_url_completa, legendaData);\n    try {\n      let legenda = await getLegendaByImageUrl(imagem_url_completa, escolaId, 'professor');\n      if (legenda) {\n        await updateLegendaFoto(legenda.id, {\n          ...legendaData,\n          updated_at: new Date().toISOString()\n        });\n      } else {\n        await addLegendaFoto({\n          escola_id: escolaId,\n          imagem_url: imagem_url_completa,\n          ...legendaData,\n          ativo: true,\n          created_at: new Date().toISOString(),\n          updated_at: new Date().toISOString(),\n          tipo_foto: 'professor'\n        });\n      }\n      // Atualizar imagens_professores\n      let meta = await getProfessorImageMetaByUrl(imagem_url_completa, escolaId);\n      if (meta) {\n        await updateProfessorImageMeta(meta.id, {\n          autor: legendaData.autor_foto,\n          updated_at: new Date().toISOString()\n        });\n      }\n      setSuccess('Legenda salva com sucesso!');\n      if (onImagesUpdate) onImagesUpdate();\n    } catch (err) {\n      setError('Erro ao salvar legenda: ' + err.message);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"p-6 bg-gray-50 rounded-lg\">\n        <div className=\"flex items-center justify-center py-8\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600\"></div>\n          <span className=\"ml-2 text-gray-600\">Carregando imagens dos professores...</span>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <User className=\"w-5 h-5 text-green-600\" />\n          <h3 className=\"text-lg font-semibold text-gray-900\">Imagens dos Professores</h3>\n        </div>\n        <div className=\"text-sm text-gray-500\">\n          {imageLimit.current}/{imageLimit.limit} imagens\n        </div>\n      </div>\n\n      {/* Mensagens */}\n      {error && (\n        <div className=\"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg\">\n          <AlertCircle className=\"w-5 h-5 text-red-600\" />\n          <span className=\"text-red-700\">{error}</span>\n        </div>\n      )}\n\n      {success && (\n        <div className=\"flex items-center gap-2 p-3 bg-green-50 border border-green-200 rounded-lg\">\n          <Check className=\"w-5 h-5 text-green-600\" />\n          <span className=\"text-green-700\">{success}</span>\n        </div>\n      )}\n\n      {/* Área de Upload */}\n      {imageLimit.canUpload && (\n        <div className=\"space-y-4\">\n          {/* Drag & Drop */}\n          <div\n            className={`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${\n              uploading \n                ? 'border-gray-300 bg-gray-50' \n                : 'border-green-300 bg-green-50 hover:border-green-400 hover:bg-green-100'\n            }`}\n            onDrop={handleDrop}\n            onDragOver={handleDragOver}\n          >\n            <Upload className=\"w-8 h-8 text-green-600 mx-auto mb-2\" />\n            <p className=\"text-gray-600 mb-2\">\n              Arraste imagens dos professores aqui ou clique para selecionar\n            </p>\n            <p className=\"text-sm text-gray-500 mb-4\">\n              JPG, PNG, WEBP, GIF • Máximo 5MB por arquivo • Máximo 5 imagens\n            </p>\n            \n            <label className=\"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer transition-colors\">\n              <input\n                type=\"file\"\n                multiple\n                accept=\"image/jpeg,image/jpg,image/png,image/webp,image/gif\"\n                onChange={handleFileSelect}\n                className=\"hidden\"\n                disabled={uploading}\n              />\n              Selecionar Arquivos\n            </label>\n          </div>\n\n          {/* Progress Bar */}\n          {uploading && (\n            <div className=\"space-y-2\">\n              <div className=\"flex justify-between text-sm text-gray-600\">\n                <span>Fazendo upload das imagens dos professores...</span>\n                <span>{Math.round(uploadProgress)}%</span>\n              </div>\n              <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                <div \n                  className=\"bg-green-600 h-2 rounded-full transition-all duration-300\"\n                  style={{ width: `${uploadProgress}%` }}\n                ></div>\n              </div>\n            </div>\n          )}\n\n          {/* Arquivos Selecionados */}\n          {selectedFiles.length > 0 && (\n            <div className=\"space-y-3\">\n              <h4 className=\"font-medium text-gray-900\">Arquivos selecionados ({selectedFiles.length})</h4>\n              <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3\">\n                {selectedFiles.map((file, index) => (\n                  <div key={index} className=\"relative group\">\n                    <img\n                      src={URL.createObjectURL(file)}\n                      alt={file.name}\n                      className=\"w-full h-24 object-cover rounded-lg border\"\n                    />\n                    <button\n                      onClick={() => removeSelectedFile(index)}\n                      className=\"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity\"\n                    >\n                      <X className=\"w-3 h-3\" />\n                    </button>\n                    <p className=\"text-xs text-gray-600 mt-1 truncate\">{file.name}</p>\n                  </div>\n                ))}\n              </div>\n              <button\n                onClick={handleUpload}\n                disabled={uploading}\n                className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                {uploading ? 'Fazendo Upload...' : 'Fazer Upload'}\n              </button>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Imagens Existentes */}\n      {existingImages.length > 0 && (\n        <div className=\"space-y-4\">\n          <h4 className=\"font-medium text-gray-900\">Imagens dos Professores ({existingImages.length})</h4>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {existingImages.map((image) => (\n              <div key={image.id} className=\"bg-white border rounded-lg overflow-hidden shadow-sm\">\n                {/* Imagem */}\n                <div className=\"relative group\">\n                <img\n                  src={image.publicUrl}\n                  alt={image.descricao || 'Imagem do professor'}\n                    className=\"w-full h-48 object-cover\"\n                />\n                \n                {/* Overlay de ações */}\n                  <div className=\"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center\">\n                  <div className=\"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity\">\n                    <button\n                      onClick={() => handleDeleteImage(image.id, image.url)}\n                      className=\"p-2 bg-red-600 text-white rounded-full hover:bg-red-700\"\n                      title=\"Excluir imagem\"\n                    >\n                      <Trash2 className=\"w-4 h-4\" />\n                    </button>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Campos de legenda integrados com legendas_fotos */}\n                <div className=\"p-4 space-y-2\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Legenda\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                    value={image.legendaData?.legenda || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'legenda', e.target.value)}\n                    placeholder=\"Digite a legenda da imagem...\"\n                  />\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Descrição Detalhada\n                  </label>\n                  <textarea\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                    value={image.legendaData?.descricao_detalhada || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'descricao_detalhada', e.target.value)}\n                    placeholder=\"Descrição detalhada da imagem...\"\n                  />\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Autor da Foto\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                    value={image.legendaData?.autor_foto || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'autor_foto', e.target.value)}\n                    placeholder=\"Nome do fotógrafo\"\n                  />\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Data da Foto\n                  </label>\n                  <input\n                    type=\"date\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                    value={image.legendaData?.data_foto || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'data_foto', e.target.value)}\n                  />\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Categoria\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                    value={image.legendaData?.categoria || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'categoria', e.target.value)}\n                    placeholder=\"Digite a categoria da imagem...\"\n                  />\n                  <div className=\"flex gap-2 pt-2\">\n                    <button\n                      onClick={() => handleLegendaSave(image)}\n                      className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\n                      type=\"button\"\n                    >\n                      <Save className=\"w-4 h-4\" /> Salvar Legenda\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Mensagem quando não há imagens */}\n      {existingImages.length === 0 && !uploading && (\n        <div className=\"text-center py-8 text-gray-500\">\n          <User className=\"w-12 h-12 mx-auto mb-2 text-gray-300\" />\n          <p>Nenhuma imagem dos professores adicionada ainda.</p>\n          <p className=\"text-sm\">Adicione imagens para mostrar os professores da escola.</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nProfessorImageUploadSection.propTypes = {\n  escolaId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  onImagesUpdate: PropTypes.func\n};\n\nexport default ProfessorImageUploadSection; ","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { width: '18', height: '18', x: '3', y: '3', rx: '2', ry: '2', key: '1m3agn' }],\n  ['circle', { cx: '9', cy: '9', r: '2', key: 'af1f0g' }],\n  ['path', { d: 'm21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21', key: '1xmnt7' }],\n];\n\n/**\n * @component @name Image\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjMiIHJ4PSIyIiByeT0iMiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iOSIgcj0iMiIgLz4KICA8cGF0aCBkPSJtMjEgMTUtMy4wODYtMy4wODZhMiAyIDAgMCAwLTIuODI4IDBMNiAyMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/image\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Image = createLucideIcon('Image', __iconNode);\n\nexport default Image;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'M12 5v14', key: 's699le' }],\n];\n\n/**\n * @component @name Plus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJNMTIgNXYxNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Plus = createLucideIcon('Plus', __iconNode);\n\nexport default Plus;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { Upload, X, Image as ImageIcon, Trash2, Edit3, Check, AlertCircle, Save } from 'lucide-react';\nimport { \n  uploadEscolaImage, \n  getEscolaImages, \n  deleteImage, \n  updateImageDescription,\n  checkImageLimit \n} from '../../services/escolaImageService';\nimport { \n  getLegendaByImageUrl, \n  addLegendaFoto, \n  updateLegendaFoto \n} from '../../services/legendasService';\n\nconst ImageUploadSection = ({ escolaId, onImagesUpdate }) => {\n  const [selectedFiles, setSelectedFiles] = useState([]);\n  const [uploading, setUploading] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [existingImages, setExistingImages] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [imageLimit, setImageLimit] = useState({ current: 0, limit: 10, canUpload: true });\n  const [editingImage, setEditingImage] = useState(null);\n  const [editingDescription, setEditingDescription] = useState('');\n\n  // Buscar imagens existentes\n  const fetchExistingImages = useCallback(async () => {\n    if (!escolaId) return;\n    \n    try {\n      setLoading(true);\n      const images = await getEscolaImages(escolaId, 'imagens-das-escolas');\n      setExistingImages(images);\n      \n      // Verificar limite\n      const limit = await checkImageLimit(escolaId, 'imagens-das-escolas');\n      setImageLimit(limit);\n    } catch (err) {\n      console.error('Erro ao buscar imagens:', err);\n      setError('Erro ao carregar imagens existentes');\n    } finally {\n      setLoading(false);\n    }\n  }, [escolaId]);\n\n  useEffect(() => {\n    fetchExistingImages();\n  }, [fetchExistingImages]);\n\n  // Buscar legendas para as imagens existentes\n  useEffect(() => {\n    const fetchLegendas = async () => {\n      if (!existingImages.length) return;\n      const legendasMap = {};\n      for (const img of existingImages) {\n        const legenda = await getLegendaByImageUrl(img.url, escolaId, 'escola');\n        legendasMap[img.url] = legenda;\n      }\n      setExistingImages(prev => prev.map(img => ({\n        ...img,\n        legendaData: legendasMap[img.url] || {\n          legenda: '',\n          descricao_detalhada: '',\n          autor_foto: '',\n          data_foto: '',\n          categoria: 'geral',\n        }\n      })));\n    };\n    fetchLegendas();\n    // eslint-disable-next-line\n  }, [existingImages.length, escolaId]);\n\n  // Limpar mensagens após 5 segundos\n  useEffect(() => {\n    if (error || success) {\n      const timer = setTimeout(() => {\n        setError('');\n        setSuccess('');\n      }, 5000);\n      return () => clearTimeout(timer);\n    }\n  }, [error, success]);\n\n  // Handler para seleção de arquivos\n  const handleFileSelect = (event) => {\n    const files = Array.from(event.target.files);\n    if (files.length === 0) return;\n\n    // Verificar se ainda pode fazer upload\n    if (!imageLimit.canUpload) {\n      setError(`Limite de ${imageLimit.limit} imagens atingido. Remova algumas imagens antes de adicionar novas.`);\n      return;\n    }\n\n    // Verificar se não excederá o limite\n    const totalImages = existingImages.length + selectedFiles.length + files.length;\n    if (totalImages > imageLimit.limit) {\n      setError(`Você pode adicionar no máximo ${imageLimit.limit - existingImages.length - selectedFiles.length} imagens.`);\n      return;\n    }\n\n    // Validar arquivos\n    const validFiles = files.filter(file => {\n      const isValidType = ['image/jpeg', 'image/jpg', 'image/png', 'image/webp', 'image/gif'].includes(file.type);\n      const isValidSize = file.size <= 5 * 1024 * 1024; // 5MB\n      \n      if (!isValidType) {\n        setError(`Arquivo \"${file.name}\" não é uma imagem válida. Use apenas JPG, PNG, WEBP ou GIF.`);\n      }\n      if (!isValidSize) {\n        setError(`Arquivo \"${file.name}\" é muito grande. Tamanho máximo: 5MB.`);\n      }\n      \n      return isValidType && isValidSize;\n    });\n\n    if (validFiles.length > 0) {\n      setSelectedFiles(prev => [...prev, ...validFiles]);\n      setError('');\n    }\n  };\n\n  // Handler para drag & drop\n  const handleDrop = useCallback((event) => {\n    event.preventDefault();\n    const files = Array.from(event.dataTransfer.files);\n    \n    if (files.length === 0) return;\n\n    // Verificar se ainda pode fazer upload\n    if (!imageLimit.canUpload) {\n      setError(`Limite de ${imageLimit.limit} imagens atingido. Remova algumas imagens antes de adicionar novas.`);\n      return;\n    }\n\n    // Verificar se não excederá o limite\n    const totalImages = existingImages.length + selectedFiles.length + files.length;\n    if (totalImages > imageLimit.limit) {\n      setError(`Você pode adicionar no máximo ${imageLimit.limit - existingImages.length - selectedFiles.length} imagens.`);\n      return;\n    }\n\n    // Filtrar apenas imagens\n    const imageFiles = files.filter(file => file.type.startsWith('image/'));\n    if (imageFiles.length > 0) {\n      setSelectedFiles(prev => [...prev, ...imageFiles]);\n      setError('');\n    }\n  }, [imageLimit, existingImages.length, selectedFiles.length]);\n\n  const handleDragOver = useCallback((event) => {\n    event.preventDefault();\n  }, []);\n\n  // Remover arquivo selecionado\n  const removeSelectedFile = (index) => {\n    setSelectedFiles(prev => prev.filter((_, i) => i !== index));\n  };\n\n  // Upload das imagens selecionadas\n  const handleUpload = async () => {\n    if (selectedFiles.length === 0) return;\n\n    setUploading(true);\n    setUploadProgress(0);\n    setError('');\n\n    try {\n      const uploadedImages = [];\n      \n      for (let i = 0; i < selectedFiles.length; i++) {\n        const file = selectedFiles[i];\n        const progress = ((i + 1) / selectedFiles.length) * 100;\n        setUploadProgress(progress);\n\n        const uploadedImage = await uploadEscolaImage(file, escolaId);\n        uploadedImages.push(uploadedImage);\n      }\n\n      // Atualizar lista de imagens\n      setExistingImages(prev => [...prev, ...uploadedImages]);\n      setSelectedFiles([]);\n      setUploadProgress(0);\n      setSuccess(`${uploadedImages.length} imagem(ns) carregada(s) com sucesso!`);\n\n      // Atualizar limite\n      const newLimit = await checkImageLimit(escolaId, 'imagens-das-escolas');\n      setImageLimit(newLimit);\n\n      // Notificar componente pai\n      if (onImagesUpdate) {\n        onImagesUpdate();\n      }\n\n    } catch (err) {\n      console.error('Erro no upload:', err);\n      setError(`Erro ao fazer upload: ${err.message}`);\n    } finally {\n      setUploading(false);\n      setUploadProgress(0);\n    }\n  };\n\n  // Deletar imagem existente\n  const handleDeleteImage = async (imageId, filePath) => {\n    if (!window.confirm('Tem certeza que deseja excluir esta imagem?')) return;\n\n    try {\n      await deleteImage(imageId, filePath, 'imagens-das-escolas');\n      \n      // Atualizar lista\n      setExistingImages(prev => prev.filter(img => img.id !== imageId));\n      \n      // Atualizar limite\n      const newLimit = await checkImageLimit(escolaId, 'imagens-das-escolas');\n      setImageLimit(newLimit);\n\n      setSuccess('Imagem excluída com sucesso!');\n\n      // Notificar componente pai\n      if (onImagesUpdate) {\n        onImagesUpdate();\n      }\n\n    } catch (err) {\n      console.error('Erro ao deletar imagem:', err);\n      setError(`Erro ao excluir imagem: ${err.message}`);\n    }\n  };\n\n  // Atualizar descrição da imagem\n  const handleDescriptionChange = async (imageId, novaDescricao) => {\n    if (!novaDescricao.trim()) return;\n\n    try {\n      await updateImageDescription(imageId, novaDescricao);\n      \n      // Atualizar lista\n      setExistingImages(prev => prev.map(img => \n        img.id === imageId \n          ? { ...img, descricao: novaDescricao.trim() }\n          : img\n      ));\n\n      setSuccess('Legenda atualizada com sucesso!');\n\n      // Notificar componente pai\n      if (onImagesUpdate) {\n        onImagesUpdate();\n      }\n\n    } catch (err) {\n      console.error('Erro ao atualizar descrição:', err);\n      setError(`Erro ao atualizar legenda: ${err.message}`);\n    }\n  };\n\n  // Atualizar legenda inline\n  const handleLegendaFieldChange = (imageId, field, value) => {\n    setExistingImages(prev => prev.map(img =>\n      img.id === imageId\n        ? { ...img, legendaData: { ...img.legendaData, [field]: value } }\n        : img\n    ));\n  };\n\n  const handleLegendaSave = async (image) => {\n    const imagem_url_relativa = image.url;\n    const legendaData = image.legendaData;\n    try {\n      let legenda = await getLegendaByImageUrl(imagem_url_relativa, escolaId, 'escola');\n      if (legenda) {\n        await updateLegendaFoto(legenda.id, {\n          ...legendaData,\n          updated_at: new Date().toISOString()\n        });\n      } else {\n        await addLegendaFoto({\n          escola_id: escolaId,\n          imagem_url: imagem_url_relativa,\n          ...legendaData,\n          ativo: true,\n          created_at: new Date().toISOString(),\n          updated_at: new Date().toISOString(),\n          tipo_foto: 'escola'\n        });\n      }\n      setSuccess('Legenda salva com sucesso!');\n      if (onImagesUpdate) onImagesUpdate();\n    } catch (err) {\n      setError('Erro ao salvar legenda: ' + err.message);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"p-6 bg-gray-50 rounded-lg\">\n        <div className=\"flex items-center justify-center py-8\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n          <span className=\"ml-2 text-gray-600\">Carregando imagens...</span>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <ImageIcon className=\"w-5 h-5 text-blue-600\" />\n          <h3 className=\"text-lg font-semibold text-gray-900\">Imagens da Escola</h3>\n        </div>\n        <div className=\"text-sm text-gray-500\">\n          {imageLimit.current}/{imageLimit.limit} imagens\n        </div>\n      </div>\n\n      {/* Mensagens */}\n      {error && (\n        <div className=\"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg\">\n          <AlertCircle className=\"w-5 h-5 text-red-600\" />\n          <span className=\"text-red-700\">{error}</span>\n        </div>\n      )}\n\n      {success && (\n        <div className=\"flex items-center gap-2 p-3 bg-green-50 border border-green-200 rounded-lg\">\n          <Check className=\"w-5 h-5 text-green-600\" />\n          <span className=\"text-green-700\">{success}</span>\n        </div>\n      )}\n\n      {/* Área de Upload */}\n      {imageLimit.canUpload && (\n        <div className=\"space-y-4\">\n          {/* Drag & Drop */}\n          <div\n            className={`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${\n              uploading \n                ? 'border-gray-300 bg-gray-50' \n                : 'border-blue-300 bg-blue-50 hover:border-blue-400 hover:bg-blue-100'\n            }`}\n            onDrop={handleDrop}\n            onDragOver={handleDragOver}\n          >\n            <Upload className=\"w-8 h-8 text-blue-600 mx-auto mb-2\" />\n            <p className=\"text-gray-600 mb-2\">\n              Arraste imagens aqui ou clique para selecionar\n            </p>\n            <p className=\"text-sm text-gray-500 mb-4\">\n              JPG, PNG, WEBP, GIF • Máximo 5MB por arquivo\n            </p>\n            \n            <label className=\"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer transition-colors\">\n              <input\n                type=\"file\"\n                multiple\n                accept=\"image/jpeg,image/jpg,image/png,image/webp,image/gif\"\n                onChange={handleFileSelect}\n                className=\"hidden\"\n                disabled={uploading}\n              />\n              Selecionar Arquivos\n            </label>\n          </div>\n\n          {/* Progress Bar */}\n          {uploading && (\n            <div className=\"space-y-2\">\n              <div className=\"flex justify-between text-sm text-gray-600\">\n                <span>Fazendo upload...</span>\n                <span>{Math.round(uploadProgress)}%</span>\n              </div>\n              <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                <div \n                  className=\"bg-blue-600 h-2 rounded-full transition-all duration-300\"\n                  style={{ width: `${uploadProgress}%` }}\n                ></div>\n              </div>\n            </div>\n          )}\n\n          {/* Arquivos Selecionados */}\n          {selectedFiles.length > 0 && (\n            <div className=\"space-y-3\">\n              <h4 className=\"font-medium text-gray-900\">Arquivos selecionados ({selectedFiles.length})</h4>\n              <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3\">\n                {selectedFiles.map((file, index) => (\n                  <div key={index} className=\"relative group\">\n                    <img\n                      src={URL.createObjectURL(file)}\n                      alt={file.name}\n                      className=\"w-full h-24 object-cover rounded-lg border\"\n                    />\n                    <button\n                      onClick={() => removeSelectedFile(index)}\n                      className=\"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity\"\n                    >\n                      <X className=\"w-3 h-3\" />\n                    </button>\n                    <p className=\"text-xs text-gray-600 mt-1 truncate\">{file.name}</p>\n                  </div>\n                ))}\n              </div>\n              <button\n                onClick={handleUpload}\n                disabled={uploading}\n                className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                {uploading ? 'Fazendo Upload...' : 'Fazer Upload'}\n              </button>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Imagens Existentes */}\n      {existingImages.length > 0 && (\n        <div className=\"space-y-4\">\n          <h4 className=\"font-medium text-gray-900\">Imagens da Escola ({existingImages.length})</h4>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {existingImages.map((image) => (\n              <div key={image.id} className=\"bg-white border rounded-lg overflow-hidden shadow-sm\">\n                {/* Imagem */}\n                <div className=\"relative group\">\n                <img\n                  src={image.publicUrl}\n                  alt={image.descricao || 'Imagem da escola'}\n                    className=\"w-full h-48 object-cover\"\n                />\n                \n                {/* Overlay de ações */}\n                  <div className=\"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center\">\n                  <div className=\"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity\">\n                    <button\n                      onClick={() => handleDeleteImage(image.id, image.url)}\n                      className=\"p-2 bg-red-600 text-white rounded-full hover:bg-red-700\"\n                      title=\"Excluir imagem\"\n                    >\n                      <Trash2 className=\"w-4 h-4\" />\n                    </button>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Campos de legenda integrados com legendas_fotos */}\n                <div className=\"p-4 space-y-2\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Legenda\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    value={image.legendaData?.legenda || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'legenda', e.target.value)}\n                    placeholder=\"Digite a legenda da imagem...\"\n                  />\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Descrição Detalhada\n                  </label>\n                  <textarea\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    value={image.legendaData?.descricao_detalhada || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'descricao_detalhada', e.target.value)}\n                    placeholder=\"Descrição detalhada da imagem...\"\n                  />\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Autor da Foto\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    value={image.legendaData?.autor_foto || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'autor_foto', e.target.value)}\n                    placeholder=\"Nome do fotógrafo\"\n                  />\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Data da Foto\n                  </label>\n                  <input\n                    type=\"date\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    value={image.legendaData?.data_foto || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'data_foto', e.target.value)}\n                  />\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Categoria\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    value={image.legendaData?.categoria || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'categoria', e.target.value)}\n                    placeholder=\"Digite a categoria da imagem...\"\n                  />\n                  <div className=\"flex gap-2 pt-2\">\n                    <button\n                      onClick={() => handleLegendaSave(image)}\n                      className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n                      type=\"button\"\n                    >\n                      <Save className=\"w-4 h-4\" /> Salvar Legenda\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Mensagem quando não há imagens */}\n      {existingImages.length === 0 && !uploading && (\n        <div className=\"text-center py-8 text-gray-500\">\n          <ImageIcon className=\"w-12 h-12 mx-auto mb-2 text-gray-300\" />\n          <p>Nenhuma imagem adicionada ainda.</p>\n          <p className=\"text-sm\">Adicione imagens para mostrar a escola.</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nImageUploadSection.propTypes = {\n  escolaId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  onImagesUpdate: PropTypes.func\n};\n\nexport default ImageUploadSection; ","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'm16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5',\n      key: 'ftymec',\n    },\n  ],\n  ['rect', { x: '2', y: '6', width: '14', height: '12', rx: '2', key: '158x01' }],\n];\n\n/**\n * @component @name Video\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTYgMTMgNS4yMjMgMy40ODJhLjUuNSAwIDAgMCAuNzc3LS40MTZWNy44N2EuNS41IDAgMCAwLS43NTItLjQzMkwxNiAxMC41IiAvPgogIDxyZWN0IHg9IjIiIHk9IjYiIHdpZHRoPSIxNCIgaGVpZ2h0PSIxMiIgcng9IjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/video\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Video = createLucideIcon('Video', __iconNode);\n\nexport default Video;\n"],"names":["Check","createLucideIcon","d","key","Trash2","x1","x2","y1","y2","ESCOLA_IMAGE_CONFIG","BUCKET_NAME","MAX_FILE_SIZE","ALLOWED_TYPES","MAX_IMAGES_PER_SCHOOL","MIN_DIMENSIONS","width","height","PROFESSOR_IMAGE_CONFIG","validateImageFile","file","config","includes","type","isValid","error","concat","map","t","split","toUpperCase","join","size","extension","name","pop","toLowerCase","allowedExtensions","uploadEscolaImage","async","escolaId","descricao","arguments","length","undefined","validation","Error","fileName","generateUniqueFileName","timestamp","Date","now","random","Math","toString","substring","filePath","uploadError","supabase","storage","from","upload","cacheControl","upsert","message","data","publicUrl","getPublicUrl","id","url","trim","created_at","toISOString","console","uploadProfessorImage","genero","generateUniqueFileNameWithGenero","getEscolaImages","bucketName","files","list","index","deleteImage","imageId","storageError","remove","updateImageDescription","checkImageLimit","currentCount","current","limit","canUpload","School","cx","cy","r","GraduationCap","Calendar","x","y","rx","Tag","fill","PenLine","_ref","onLegendasUpdate","legendas","setLegendas","useState","loading","setLoading","setError","success","setSuccess","showForm","setShowForm","editingLegenda","setEditingLegenda","tipoFoto","setTipoFoto","formData","setFormData","imagem_url","legenda","descricao_detalhada","autor_foto","data_foto","categoria","tipo_foto","fetchLegendas","useCallback","getLegendasFotos","err","useEffect","timer","setTimeout","clearTimeout","clearForm","_jsx","className","children","_jsxs","ImageIcon","onClick","Plus","AlertCircle","X","onSubmit","e","preventDefault","imagem_url_relativa","match","extrairCaminhoRelativoDaUrl","log","_objectSpread","result","updateLegendaFoto","escola_id","getLegendaByImageUrl","addLegendaFoto","ativo","updated_at","value","onChange","target","placeholder","required","label","cat","rows","User","Save","toLocaleDateString","handleEdit","title","Edit3","window","confirm","deleteLegendaFoto","handleDelete","Link","_videos$find","videoUrl","onVideoUrlChange","onTitulosUpdate","videos","setVideos","showAddVideo","setShowAddVideo","newVideo","setNewVideo","titulo","fetchVideos","videosOrganizados","getTitulosVideos","item","video_url","plataforma","handleTituloChange","videoId","novoTitulo","updateTituloVideo","getVideoEmbedUrl","ytMatch","vimeoMatch","find","v","video","src","frameBorder","allow","allowFullScreen","Video","filter","deleteTituloVideo","handleRemoveVideo","disabled","addTituloVideo","Settings","escola","onClose","onSave","nomeEscola","setNomeEscola","Escola","isSaving","setIsSaving","activeTab","setActiveTab","tabs","icon","BookOpen","description","FileText","MapPin","Users","handleImagesUpdate","handleLegendasUpdate","handleTitulosUpdate","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","tab","Icon","renderTabContent","ImageUploadSection","onImagesUpdate","ProfessorImageUploadSection","LegendasFotosSection","VideoSection","step","latitude","parseFloat","longitude","gestao","professores_indigenas","professores_nao_indigenas","merenda_diferenciada","addProfessorImageMeta","insert","meta","select","single","selectedFiles","setSelectedFiles","uploading","setUploading","uploadProgress","setUploadProgress","existingImages","setExistingImages","imageLimit","setImageLimit","editingImage","setEditingImage","editingDescription","setEditingDescription","setGenero","setTitulo","fetchExistingImages","images","legendasMap","img","prev","legendaData","handleDrop","event","Array","dataTransfer","imageFiles","startsWith","handleDragOver","handleLegendaFieldChange","field","handleLegendaSave","imagem_url_completa","image","eq","code","getProfessorImageMetaByUrl","updates","update","updateProfessorImageMeta","autor","onDrop","onDragOver","Upload","multiple","accept","validFiles","isValidType","isValidSize","round","style","URL","createObjectURL","alt","_","i","removeSelectedFile","uploadedImages","progress","uploadedImage","push","nome_arquivo","newLimit","_image$legendaData","_image$legendaData2","_image$legendaData3","_image$legendaData4","_image$legendaData5","handleDeleteImage","Image","ry"],"sourceRoot":""}