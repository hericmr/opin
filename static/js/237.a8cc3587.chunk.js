"use strict";(self.webpackChunkopin_observatorio_professores_indigenas=self.webpackChunkopin_observatorio_professores_indigenas||[]).push([[237],{5237:(e,a,s)=>{s.r(a),s.d(a,{default:()=>m});var o=s(2555),l=s(5043),t=s(2880),r=(s(4654),s(7484)),d=s(3701),i=s(4581),n=s(579);const c=()=>{const[e,a]=(0,l.useState)([]),[s,c]=(0,l.useState)(""),[m,x]=(0,l.useState)("todos"),[p,g]=(0,l.useState)(null),[b,h]=(0,l.useState)(!1),[v,j]=(0,l.useState)(null),[f,y]=(0,l.useState)(!1),[N,A]=(0,l.useState)([]),[w,k]=(0,l.useState)(!1),[C,E]=(0,l.useState)(!1),[P,_]=(0,l.useState)(null),[T,D]=(0,l.useState)({titulo:"",autoria:"",tipo:"",link_pdf:""});(0,l.useEffect)((()=>{(async()=>{try{const{data:e,error:s}=await t.N.from("escolas_completa").select("*").order("Escola",{ascending:!0});if(s)throw s;a(e)}catch(e){console.error("Erro ao buscar escolas:",e)}})()}),[]);(0,l.useEffect)((()=>{null!==p&&void 0!==p&&p.id&&(async e=>{try{k(!0);const{data:a,error:s}=await t.N.from("documentos_escola").select("*").eq("escola_id",e).order("titulo",{ascending:!0});if(s)throw s;A(a||[])}catch(a){console.error("Erro ao buscar documentos:",a),A([])}finally{k(!1)}})(p.id)}),[null===p||void 0===p?void 0:p.id]);const M=async s=>{s.preventDefault();const l=(e=>{const a=[];return e.Escola&&""!==e.Escola.trim()||a.push("Nome da escola \xe9 obrigat\xf3rio"),a})(p);if(l.length>0)j(l.join(", "));else{h(!0),j(null),y(!1);try{const s={Escola:p.Escola,"Munic\xedpio":p["Munic\xedpio"],"Endere\xe7o":p["Endere\xe7o"],"Terra Indigena (TI)":p["Terra Indigena (TI)"],"Escola Estadual ou Municipal":p["Escola Estadual ou Municipal"],"Parcerias com o munic\xedpio":p["Parcerias com o munic\xedpio"],"Diretoria de Ensino":p["Diretoria de Ensino"],"Ano de cria\xe7\xe3o da escola":p["Ano de cria\xe7\xe3o da escola"],"Povos indigenas":p["Povos indigenas"],"Linguas faladas":p["Linguas faladas"],"Modalidade de Ensino/turnos de funcionamento":p["Modalidade de Ensino/turnos de funcionamento"],"Numero de alunos":p["Numero de alunos"],"Espa\xe7o escolar e estrutura":p["Espa\xe7o escolar e estrutura"],"Cozinha/Merenda escolar/diferenciada":p["Cozinha/Merenda escolar/diferenciada"],"Acesso \xe0 \xe1gua":p["Acesso \xe0 \xe1gua"],"Tem coleta de lixo?":p["Tem coleta de lixo?"],"Acesso \xe0 internet":p["Acesso \xe0 internet"],"Equipamentos Tecnol\xf3gicos (Computadores, tablets e impressoras)":p["Equipamentos Tecnol\xf3gicos (Computadores, tablets e impressoras)"],"Modo de acesso \xe0 escola":p["Modo de acesso \xe0 escola"],"Gest\xe3o/Nome":p["Gest\xe3o/Nome"],"Outros funcion\xe1rios":p["Outros funcion\xe1rios"],"Quantidade de professores ind\xedgenas":p["Quantidade de professores ind\xedgenas"],"Quantidade de professores n\xe3o ind\xedgenas":p["Quantidade de professores n\xe3o ind\xedgenas"],"Professores falam a l\xedngua ind\xedgena?":p["Professores falam a l\xedngua ind\xedgena?"],"Forma\xe7\xe3o dos professores":p["Forma\xe7\xe3o dos professores"],"Forma\xe7\xe3o continuada oferecida":p["Forma\xe7\xe3o continuada oferecida"],"A escola possui PPP pr\xf3prio?":p["A escola possui PPP pr\xf3prio?"],"PPP elaborado com a comunidade?":p["PPP elaborado com a comunidade?"],"Disciplinas bil\xedngues?":p["Disciplinas bil\xedngues?"],"Material pedag\xf3gico n\xe3o ind\xedgena":p["Material pedag\xf3gico n\xe3o ind\xedgena"],"Material pedag\xf3gico ind\xedgena":p["Material pedag\xf3gico ind\xedgena"],"Pr\xe1ticas pedag\xf3gicas ind\xedgenas":p["Pr\xe1ticas pedag\xf3gicas ind\xedgenas"],"Formas de avalia\xe7\xe3o":p["Formas de avalia\xe7\xe3o"],"Projetos em andamento":p["Projetos em andamento"],"Parcerias com universidades?":p["Parcerias com universidades?"],"A\xe7\xf5es com ONGs ou coletivos?":p["A\xe7\xf5es com ONGs ou coletivos?"],"Desejos da comunidade para a escola":p["Desejos da comunidade para a escola"],"Escola utiliza redes sociais?":p["Escola utiliza redes sociais?"],"Links das redes sociais":p["Links das redes sociais"],links:p.links,link_para_videos:p.link_para_videos,historia_da_escola:p.historia_da_escola,historia_do_prof:p.historia_do_prof,latitude:p.latitude,longitude:p.longitude},{error:l}=await t.N.from("escolas_completa").update(s).eq("id",p.id);if(l)throw l;a(e.map((e=>e.id===p.id?(0,o.A)((0,o.A)({},e),p):e))),y(!0),setTimeout((()=>{g(null),y(!1)}),2e3)}catch(r){console.error("Erro ao salvar:",r),j("Erro ao salvar: ".concat(r.message))}finally{h(!1)}}};return(0,n.jsxs)("div",{className:"flex min-h-screen bg-gray-100",children:[(0,n.jsxs)("aside",{className:"w-64 bg-white border-r p-4 overflow-y-auto h-screen sticky top-0",children:[(0,n.jsx)("h2",{className:"text-lg font-bold mb-4 sticky top-0 bg-white pb-2",children:"Escolas"}),(0,n.jsx)("div",{className:"mb-4 sticky top-12 bg-white pb-2",children:(0,n.jsx)("input",{type:"text",placeholder:"Buscar escola...",className:"w-full px-3 py-2 border rounded text-sm",value:s,onChange:e=>c(e.target.value)})}),(0,n.jsx)("ul",{className:"space-y-1",children:e.filter((e=>{var a;return null===(a=e.Escola)||void 0===a?void 0:a.toLowerCase().includes(s.toLowerCase())})).map((e=>(0,n.jsx)("li",{children:(0,n.jsx)("button",{className:"block w-full text-left px-2 py-1 rounded hover:bg-blue-100 text-sm ".concat((null===p||void 0===p?void 0:p.id)===e.id?"bg-blue-200 font-bold":""),onClick:()=>(e=>{g((0,o.A)((0,o.A)({},e),{},{activeTab:"dados-basicos"}))})(e),children:e.Escola})},e.id)))})]}),(0,n.jsxs)("main",{className:"flex-1 p-6 overflow-y-auto h-screen",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Painel de Administra\xe7\xe3o"}),(0,n.jsx)("div",{className:"bg-white p-4 rounded-lg shadow mb-6",children:(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,n.jsx)("div",{className:"relative flex-1",children:(0,n.jsx)("input",{type:"text",placeholder:"Buscar por t\xedtulo ou descri\xe7\xe3o...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:s,onChange:e=>c(e.target.value)})}),(0,n.jsx)("div",{className:"relative",children:(0,n.jsx)("select",{className:"pl-10 pr-4 py-2 border rounded-lg bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:m,onChange:e=>x(e.target.value),children:(0,n.jsx)("option",{value:"todos",children:"Todos"})})})]})}),p&&"object"===typeof p&&p.id&&p.Escola&&(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 max-h-[calc(100vh-200px)] overflow-hidden flex flex-col",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold",children:"Editar Escola"}),(0,n.jsx)("button",{onClick:()=>g(null),className:"text-gray-500 hover:text-gray-700",children:"Fechar"})]}),(0,n.jsx)("div",{className:"border-b border-gray-200 mb-6 flex-shrink-0",children:(0,n.jsx)("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:[{id:"dados-basicos",label:"Dados B\xe1sicos"},{id:"povos-linguas",label:"Povos e L\xednguas"},{id:"ensino",label:"Ensino"},{id:"infraestrutura",label:"Infraestrutura"},{id:"gestao-professores",label:"Gest\xe3o e Professores"},{id:"material-pedagogico",label:"Material Pedag\xf3gico"},{id:"projetos-parcerias",label:"Projetos e Parcerias"},{id:"redes-sociais",label:"Redes Sociais"},{id:"video",label:"V\xeddeo"},{id:"historias",label:"Hist\xf3rias"},{id:"coordenadas",label:"Coordenadas"},{id:"imagens-escola",label:"Imagens da Escola"},{id:"imagens-professores",label:"Imagens dos Professores"},{id:"documentos",label:"Documentos"}].map((e=>(0,n.jsx)("button",{type:"button",onClick:()=>g((0,o.A)((0,o.A)({},p),{},{activeTab:e.id})),className:"whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ".concat((p.activeTab||"dados-basicos")===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:e.label},e.id)))})}),(0,n.jsx)("form",{onSubmit:M,className:"flex-1 flex flex-col overflow-hidden",children:(0,n.jsxs)("div",{className:"flex-1 overflow-y-auto",children:["dados-basicos"===(p.activeTab||"dados-basicos")&&(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Escola *"}),(0,n.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",value:p.Escola||"",onChange:e=>g((0,o.A)((0,o.A)({},p),{},{Escola:e.target.value})),required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Munic\xedpio"}),(0,n.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",value:p["Munic\xedpio"]||"",onChange:e=>g((0,o.A)((0,o.A)({},p),{},{"Munic\xedpio":e.target.value}))})]}),(0,n.jsxs)("div",{className:"md:col-span-2",children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Endere\xe7o"}),(0,n.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",value:p["Endere\xe7o"]||"",onChange:e=>g((0,o.A)((0,o.A)({},p),{},{"Endere\xe7o":e.target.value}))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Terra Ind\xedgena (TI)"}),(0,n.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",value:p["Terra Indigena (TI)"]||"",onChange:e=>g((0,o.A)((0,o.A)({},p),{},{"Terra Indigena (TI)":e.target.value}))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Escola"}),(0,n.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",value:p["Escola Estadual ou Municipal"]||"",onChange:e=>g((0,o.A)((0,o.A)({},p),{},{"Escola Estadual ou Municipal":e.target.value}))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Diretoria de Ensino"}),(0,n.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",value:p["Diretoria de Ensino"]||"",onChange:e=>g((0,o.A)((0,o.A)({},p),{},{"Diretoria de Ensino":e.target.value}))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ano de Cria\xe7\xe3o"}),(0,n.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",value:p["Ano de cria\xe7\xe3o da escola"]||"",onChange:e=>g((0,o.A)((0,o.A)({},p),{},{"Ano de cria\xe7\xe3o da escola":e.target.value}))})]})]}),"povos-linguas"===p.activeTab&&(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Povos Ind\xedgenas"}),(0,n.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",value:p["Povos indigenas"]||"",onChange:e=>g((0,o.A)((0,o.A)({},p),{},{"Povos indigenas":e.target.value}))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"L\xednguas Faladas"}),(0,n.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",value:p["Linguas faladas"]||"",onChange:e=>g((0,o.A)((0,o.A)({},p),{},{"Linguas faladas":e.target.value}))})]})]}),"ensino"===p.activeTab&&(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Modalidade de Ensino/Turnos"}),(0,n.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",value:p["Modalidade de Ensino/turnos de funcionamento"]||"",onChange:e=>g((0,o.A)((0,o.A)({},p),{},{"Modalidade de Ensino/turnos de funcionamento":e.target.value}))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"N\xfamero de Alunos"}),(0,n.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",value:p["Numero de alunos"]||"",onChange:e=>g((0,o.A)((0,o.A)({},p),{},{"Numero de alunos":e.target.value}))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Disciplinas Bil\xedngues"}),(0,n.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",value:p["Disciplinas bil\xedngues?"]||"",onChange:e=>g((0,o.A)((0,o.A)({},p),{},{"Disciplinas bil\xedngues?":e.target.value}))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Formas de Avalia\xe7\xe3o"}),(0,n.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",value:p["Formas de avalia\xe7\xe3o"]||"",onChange:e=>g((0,o.A)((0,o.A)({},p),{},{"Formas de avalia\xe7\xe3o":e.target.value}))})]})]}),"infraestrutura"===p.activeTab&&(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{className:"md:col-span-2",children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Espa\xe7o Escolar e Estrutura"}),(0,n.jsx)("textarea",{className:"w-full border rounded px-3 py-2 h-20",value:p["Espa\xe7o escolar e estrutura"]||"",onChange:e=>g((0,o.A)((0,o.A)({},p),{},{"Espa\xe7o escolar e estrutura":e.target.value}))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cozinha/Merenda Escolar"}),(0,n.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",value:p["Cozinha/Merenda escolar/diferenciada"]||"",onChange:e=>g((0,o.A)((0,o.A)({},p),{},{"Cozinha/Merenda escolar/diferenciada":e.target.value}))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Acesso \xe0 \xc1gua"}),(0,n.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",value:p["Acesso \xe0 \xe1gua"]||"",onChange:e=>g((0,o.A)((0,o.A)({},p),{},{"Acesso \xe0 \xe1gua":e.target.value}))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Coleta de Lixo"}),(0,n.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",value:p["Tem coleta de lixo?"]||"",onChange:e=>g((0,o.A)((0,o.A)({},p),{},{"Tem coleta de lixo?":e.target.value}))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Acesso \xe0 Internet"}),(0,n.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",value:p["Acesso \xe0 internet"]||"",onChange:e=>g((0,o.A)((0,o.A)({},p),{},{"Acesso \xe0 internet":e.target.value}))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Equipamentos Tecnol\xf3gicos"}),(0,n.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",value:p["Equipamentos Tecnol\xf3gicos (Computadores, tablets e impressoras)"]||"",onChange:e=>g((0,o.A)((0,o.A)({},p),{},{"Equipamentos Tecnol\xf3gicos (Computadores, tablets e impressoras)":e.target.value}))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Modo de Acesso \xe0 Escola"}),(0,n.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",value:p["Modo de acesso \xe0 escola"]||"",onChange:e=>g((0,o.A)((0,o.A)({},p),{},{"Modo de acesso \xe0 escola":e.target.value}))})]})]}),"gestao-professores"===p.activeTab&&(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gest\xe3o/Nome"}),(0,n.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",value:p["Gest\xe3o/Nome"]||"",onChange:e=>g((0,o.A)((0,o.A)({},p),{},{"Gest\xe3o/Nome":e.target.value}))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outros Funcion\xe1rios"}),(0,n.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",value:p["Outros funcion\xe1rios"]||"",onChange:e=>g((0,o.A)((0,o.A)({},p),{},{"Outros funcion\xe1rios":e.target.value}))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Professores Ind\xedgenas"}),(0,n.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",value:p["Quantidade de professores ind\xedgenas"]||"",onChange:e=>g((0,o.A)((0,o.A)({},p),{},{"Quantidade de professores ind\xedgenas":e.target.value}))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Professores N\xe3o Ind\xedgenas"}),(0,n.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",value:p["Quantidade de professores n\xe3o ind\xedgenas"]||"",onChange:e=>g((0,o.A)((0,o.A)({},p),{},{"Quantidade de professores n\xe3o ind\xedgenas":e.target.value}))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Professores Falam a L\xedngua Ind\xedgena"}),(0,n.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",value:p["Professores falam a l\xedngua ind\xedgena?"]||"",onChange:e=>g((0,o.A)((0,o.A)({},p),{},{"Professores falam a l\xedngua ind\xedgena?":e.target.value}))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Forma\xe7\xe3o dos Professores"}),(0,n.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",value:p["Forma\xe7\xe3o dos professores"]||"",onChange:e=>g((0,o.A)((0,o.A)({},p),{},{"Forma\xe7\xe3o dos professores":e.target.value}))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Forma\xe7\xe3o Continuada"}),(0,n.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",value:p["Forma\xe7\xe3o continuada oferecida"]||"",onChange:e=>g((0,o.A)((0,o.A)({},p),{},{"Forma\xe7\xe3o continuada oferecida":e.target.value}))})]})]}),"material-pedagogico"===p.activeTab&&(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Material Pedag\xf3gico N\xe3o Ind\xedgena"}),(0,n.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",value:p["Material pedag\xf3gico n\xe3o ind\xedgena"]||"",onChange:e=>g((0,o.A)((0,o.A)({},p),{},{"Material pedag\xf3gico n\xe3o ind\xedgena":e.target.value}))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Material Pedag\xf3gico Ind\xedgena"}),(0,n.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",value:p["Material pedag\xf3gico ind\xedgena"]||"",onChange:e=>g((0,o.A)((0,o.A)({},p),{},{"Material pedag\xf3gico ind\xedgena":e.target.value}))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pr\xe1ticas Pedag\xf3gicas Ind\xedgenas"}),(0,n.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",value:p["Pr\xe1ticas pedag\xf3gicas ind\xedgenas"]||"",onChange:e=>g((0,o.A)((0,o.A)({},p),{},{"Pr\xe1ticas pedag\xf3gicas ind\xedgenas":e.target.value}))})]})]}),"projetos-parcerias"===p.activeTab&&(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Projetos em Andamento"}),(0,n.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",value:p["Projetos em andamento"]||"",onChange:e=>g((0,o.A)((0,o.A)({},p),{},{"Projetos em andamento":e.target.value}))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Parcerias com Universidades"}),(0,n.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",value:p["Parcerias com universidades?"]||"",onChange:e=>g((0,o.A)((0,o.A)({},p),{},{"Parcerias com universidades?":e.target.value}))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"A\xe7\xf5es com ONGs ou Coletivos"}),(0,n.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",value:p["A\xe7\xf5es com ONGs ou coletivos?"]||"",onChange:e=>g((0,o.A)((0,o.A)({},p),{},{"A\xe7\xf5es com ONGs ou coletivos?":e.target.value}))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Desejos da Comunidade"}),(0,n.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",value:p["Desejos da comunidade para a escola"]||"",onChange:e=>g((0,o.A)((0,o.A)({},p),{},{"Desejos da comunidade para a escola":e.target.value}))})]})]}),"redes-sociais"===p.activeTab&&(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Utiliza Redes Sociais"}),(0,n.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",value:p["Escola utiliza redes sociais?"]||"",onChange:e=>g((0,o.A)((0,o.A)({},p),{},{"Escola utiliza redes sociais?":e.target.value}))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Links das Redes Sociais"}),(0,n.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",value:p["Links das redes sociais"]||"",onChange:e=>g((0,o.A)((0,o.A)({},p),{},{"Links das redes sociais":e.target.value}))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Links Gerais"}),(0,n.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",value:p.links||"",onChange:e=>g((0,o.A)((0,o.A)({},p),{},{links:e.target.value}))})]})]}),"video"===p.activeTab&&(0,n.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link para V\xeddeo"}),(0,n.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",value:p.link_para_videos||"",onChange:e=>g((0,o.A)((0,o.A)({},p),{},{link_para_videos:e.target.value})),placeholder:"Cole aqui o link do v\xeddeo (YouTube, Vimeo, etc)"}),(0,n.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Exemplo: https://www.youtube.com/watch?v=..."})]}),p.link_para_videos&&(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pr\xe9-visualiza\xe7\xe3o"}),(0,n.jsx)("div",{className:"aspect-w-16 aspect-h-9 bg-black rounded overflow-hidden",children:(0,n.jsx)("iframe",{src:u(p.link_para_videos),title:"Pr\xe9-visualiza\xe7\xe3o do v\xeddeo",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"})})]})]}),"historias"===p.activeTab&&(0,n.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hist\xf3ria da Escola"}),(0,n.jsx)("textarea",{className:"w-full border rounded px-3 py-2 h-32",value:p.historia_da_escola||"",onChange:e=>g((0,o.A)((0,o.A)({},p),{},{historia_da_escola:e.target.value}))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hist\xf3ria do Professor"}),(0,n.jsx)("textarea",{className:"w-full border rounded px-3 py-2 h-32",value:p.historia_do_prof||"",onChange:e=>g((0,o.A)((0,o.A)({},p),{},{historia_do_prof:e.target.value}))})]})]}),"coordenadas"===p.activeTab&&(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Latitude"}),(0,n.jsx)("input",{type:"number",step:"any",className:"w-full border rounded px-3 py-2",value:p.latitude||"",onChange:e=>g((0,o.A)((0,o.A)({},p),{},{latitude:e.target.value}))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Longitude"}),(0,n.jsx)("input",{type:"number",step:"any",className:"w-full border rounded px-3 py-2",value:p.longitude||"",onChange:e=>g((0,o.A)((0,o.A)({},p),{},{longitude:e.target.value}))})]})]}),"imagens-escola"===p.activeTab&&(0,n.jsx)("div",{className:"space-y-6",children:(0,n.jsx)(r.A,{escolaId:p.id,onImagesUpdate:()=>{console.log("Imagens da escola atualizadas")}})}),"imagens-professores"===p.activeTab&&(0,n.jsx)("div",{className:"space-y-6",children:(0,n.jsx)(d.A,{escolaId:p.id,onImagesUpdate:()=>{console.log("Imagens dos professores atualizadas")}})}),"documentos"===p.activeTab&&(0,n.jsxs)("div",{className:"space-y-6",children:[w&&(0,n.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,n.jsx)("div",{className:"w-6 h-6 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),(0,n.jsx)("span",{className:"ml-2 text-gray-600",children:"Carregando documentos..."})]}),!w&&(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsxs)("h4",{className:"text-lg font-medium text-gray-800",children:["Documentos da Escola (",N.length,")"]}),(0,n.jsx)("button",{type:"button",onClick:()=>E(!0),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"+ Adicionar Documento"})]}),0===N.length&&!C&&(0,n.jsxs)("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[(0,n.jsx)("p",{className:"text-gray-500 mb-4",children:"Nenhum documento cadastrado para esta escola."}),(0,n.jsx)("button",{type:"button",onClick:()=>E(!0),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Adicionar Primeiro Documento"})]}),N.length>0&&(0,n.jsx)(i.A,{documentos:N,title:"Documentos da Escola"})]}),C&&(0,n.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[(0,n.jsx)("h5",{className:"font-medium text-blue-800 mb-4",children:"Adicionar Novo Documento"}),(0,n.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),null!==p&&void 0!==p&&p.id)try{const{data:e,error:a}=await t.N.from("documentos_escola").insert([(0,o.A)((0,o.A)({},T),{},{escola_id:p.id})]).select();if(a)throw a;A([...N,e[0]]),D({titulo:"",autoria:"",tipo:"",link_pdf:""}),E(!1)}catch(a){console.error("Erro ao adicionar documento:",a),alert("Erro ao adicionar documento. Tente novamente.")}},className:"space-y-4",children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T\xedtulo *"}),(0,n.jsx)("input",{type:"text",required:!0,className:"w-full border rounded px-3 py-2",value:T.titulo,onChange:e=>D((0,o.A)((0,o.A)({},T),{},{titulo:e.target.value}))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Autor"}),(0,n.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",value:T.autoria,onChange:e=>D((0,o.A)((0,o.A)({},T),{},{autoria:e.target.value}))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),(0,n.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",value:T.tipo,onChange:e=>D((0,o.A)((0,o.A)({},T),{},{tipo:e.target.value})),placeholder:"Ex: PDF, Relat\xf3rio, Plano de Aula"})]}),(0,n.jsxs)("div",{className:"md:col-span-2",children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link do PDF *"}),(0,n.jsx)("input",{type:"url",required:!0,className:"w-full border rounded px-3 py-2",value:T.link_pdf,onChange:e=>D((0,o.A)((0,o.A)({},T),{},{link_pdf:e.target.value})),placeholder:"https://drive.google.com/file/d/..."}),(0,n.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Recomendado: Link do Google Drive com permiss\xe3o p\xfablica"})]})]}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Adicionar Documento"}),(0,n.jsx)("button",{type:"button",onClick:()=>{E(!1),D({titulo:"",autoria:"",tipo:"",link_pdf:""})},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancelar"})]})]})]}),!w&&N.length>0&&(0,n.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,n.jsx)("h5",{className:"font-medium text-gray-800 mb-4",children:"Gerenciar Documentos"}),(0,n.jsx)("div",{className:"space-y-3",children:N.map((e=>(0,n.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)("h6",{className:"font-medium text-gray-800",children:e.titulo}),e.autoria&&(0,n.jsxs)("p",{className:"text-sm text-gray-600",children:["Por: ",e.autoria]}),e.tipo&&(0,n.jsx)("span",{className:"inline-block mt-1 px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:e.tipo})]}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)("button",{type:"button",onClick:()=>_(e),className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Editar"}),(0,n.jsx)("button",{type:"button",onClick:()=>(async e=>{if(window.confirm("Tem certeza que deseja excluir este documento?"))try{const{error:a}=await t.N.from("documentos_escola").delete().eq("id",e);if(a)throw a;A(N.filter((a=>a.id!==e)))}catch(a){console.error("Erro ao excluir documento:",a),alert("Erro ao excluir documento. Tente novamente.")}})(e.id),className:"px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"Excluir"})]})]},e.id)))})]}),P&&(0,n.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[(0,n.jsx)("h5",{className:"font-medium text-yellow-800 mb-4",children:"Editar Documento"}),(0,n.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),null!==P&&void 0!==P&&P.id)try{const{error:e}=await t.N.from("documentos_escola").update(P).eq("id",P.id);if(e)throw e;A(N.map((e=>e.id===P.id?P:e))),_(null)}catch(a){console.error("Erro ao atualizar documento:",a),alert("Erro ao atualizar documento. Tente novamente.")}},className:"space-y-4",children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T\xedtulo *"}),(0,n.jsx)("input",{type:"text",required:!0,className:"w-full border rounded px-3 py-2",value:P.titulo,onChange:e=>_((0,o.A)((0,o.A)({},P),{},{titulo:e.target.value}))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Autor"}),(0,n.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",value:P.autoria||"",onChange:e=>_((0,o.A)((0,o.A)({},P),{},{autoria:e.target.value}))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),(0,n.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",value:P.tipo||"",onChange:e=>_((0,o.A)((0,o.A)({},P),{},{tipo:e.target.value}))})]}),(0,n.jsxs)("div",{className:"md:col-span-2",children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link do PDF *"}),(0,n.jsx)("input",{type:"url",required:!0,className:"w-full border rounded px-3 py-2",value:P.link_pdf,onChange:e=>_((0,o.A)((0,o.A)({},P),{},{link_pdf:e.target.value}))})]})]}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)("button",{type:"submit",className:"px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors",children:"Atualizar Documento"}),(0,n.jsx)("button",{type:"button",onClick:()=>_(null),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancelar"})]})]})]}),(0,n.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,n.jsx)("h5",{className:"font-medium text-blue-800 mb-2",children:"Sobre os Documentos"}),(0,n.jsxs)("p",{className:"text-sm text-blue-700 mb-3",children:["Os documentos s\xe3o armazenados na tabela ",(0,n.jsx)("code",{children:"documentos_escola"})," no Supabase. Voc\xea pode adicionar, editar e remover documentos diretamente neste painel."]}),(0,n.jsxs)("div",{className:"text-xs text-blue-600",children:[(0,n.jsx)("p",{children:(0,n.jsx)("strong",{children:"Estrutura da tabela:"})}),(0,n.jsxs)("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{children:"id"})," - ID \xfanico do documento"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{children:"escola_id"})," - ID da escola (preenchido automaticamente)"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{children:"titulo"})," - T\xedtulo do documento"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{children:"autoria"})," - Autor do documento (opcional)"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{children:"tipo"})," - Tipo do documento (opcional)"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{children:"link_pdf"})," - URL do documento (Google Drive ou outro)"]})]})]})]})]})]})}),v&&(0,n.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-4 flex-shrink-0",children:v}),f&&(0,n.jsx)("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded mb-4 flex-shrink-0",children:"Escola salva com sucesso!"}),(0,n.jsxs)("div",{className:"flex gap-2 mt-6 pt-6 border-t border-gray-200 flex-shrink-0",children:[(0,n.jsx)("button",{onClick:M,className:"px-4 py-2 rounded flex items-center gap-2 ".concat(b?"bg-gray-400 text-white cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"),disabled:b,children:b?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Salvando..."]}):"Salvar"}),(0,n.jsx)("button",{type:"button",className:"bg-gray-300 text-gray-800 px-4 py-2 rounded hover:bg-gray-400",onClick:()=>g(null),disabled:b,children:"Cancelar"})]})]})]})]})};function u(e){if(!e)return"";const a=e.match(/(?:youtu.be\/|youtube.com\/(?:watch\?v=|embed\/|v\/))([\w-]{11})/);if(a)return"https://www.youtube.com/embed/".concat(a[1]);const s=e.match(/vimeo.com\/(\d+)/);return s?"https://player.vimeo.com/video/".concat(s[1]):e}const m=l.memo(c)}}]);
//# sourceMappingURL=237.a8cc3587.chunk.js.map