/*! For license information please see 868.b7f075a1.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkopin_observatorio_professores_indigenas=self.webpackChunkopin_observatorio_professores_indigenas||[]).push([[868],{2868:(e,s,a)=>{a.r(s),a.d(s,{default:()=>g});var t=a(5043),r=a(1045),n=a(1209),c=a(197),l=a(2065),o=a(2623);const i=(0,a(1114).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var d=a(6953),x=a(5487),m=a(4976),h=a(579);const g=e=>{let{dataPoints:s}=e;const[a]=(0,r.ok)(),g=(0,r.Zp)(),p=a.get("q")||"",[u,b]=(0,t.useState)([]),[N,j]=(0,t.useState)(!1),{performSearch:y}=(0,m.A)(s);(0,t.useEffect)((()=>{if(p){(async()=>{j(!0);try{const e=await y(p);b(e)}catch(e){console.error("Erro na busca:",e),b([])}finally{j(!1)}})()}}),[p,y]);const f=e=>{switch(e){case"school":default:return(0,h.jsx)(n.A,{className:"w-5 h-5"});case"land":return(0,h.jsx)(c.A,{className:"w-5 h-5"});case"teacher":return(0,h.jsx)(l.A,{className:"w-5 h-5"});case"history":return(0,h.jsx)(o.A,{className:"w-5 h-5"})}},v=e=>{switch(e){case"educa\xe7\xe3o":return"text-blue-600 bg-blue-50";case"comunidades":return"text-red-600 bg-red-50";case"hist\xf3rico":return"text-yellow-600 bg-yellow-50";default:return"text-gray-600 bg-gray-50"}},w=(e,s)=>{if(!s)return e;const a=new RegExp("(".concat(s,")"),"gi");return e.split(a).map(((e,s)=>a.test(e)?(0,h.jsx)("span",{className:"bg-yellow-200 font-semibold",children:e},s):e))};return N?(0,h.jsx)("div",{className:"min-h-screen bg-gray-50 pt-20",children:(0,h.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,h.jsxs)("div",{className:"text-center",children:[(0,h.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-500 mx-auto"}),(0,h.jsx)("p",{className:"mt-4 text-lg text-gray-600",children:"Buscando resultados..."})]})})}):(0,h.jsx)("div",{className:"min-h-screen bg-gray-50 pt-20",children:(0,h.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,h.jsxs)("div",{className:"mb-8",children:[(0,h.jsxs)("button",{onClick:()=>g("/"),className:"flex items-center gap-2 text-green-600 hover:text-green-700 transition-colors mb-4",children:[(0,h.jsx)(i,{className:"w-5 h-5"}),"Voltar ao mapa"]}),(0,h.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,h.jsx)(d.A,{className:"w-6 h-6 text-gray-400"}),(0,h.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Resultados da busca"})]}),(0,h.jsx)("p",{className:"text-gray-600",children:u.length>0?"".concat(u.length," resultado").concat(u.length>1?"s":""," encontrado").concat(u.length>1?"s":"",' para "').concat(p,'"'):'Nenhum resultado encontrado para "'.concat(p,'"')})]}),u.length>0?(0,h.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:u.map(((e,s)=>(0,h.jsx)(x.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*s},onClick:()=>(e=>{e.coordinates&&g("/",{state:{searchTerm:e.title,coordinates:e.coordinates,highlightSchool:e.title}})})(e),className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-all duration-200  cursor-pointer border border-gray-200 overflow-hidden group",children:(0,h.jsxs)("div",{className:"p-6",children:[(0,h.jsxs)("div",{className:"flex items-start gap-3 mb-3",children:[(0,h.jsx)("div",{className:"text-green-600 group-hover:text-green-700 transition-colors",children:f(e.type)}),(0,h.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,h.jsx)("h3",{className:"font-semibold text-gray-900 mb-1 line-clamp-2",children:w(e.title,p)}),e.subtitle&&(0,h.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:e.subtitle}),(0,h.jsx)("span",{className:"inline-block px-2 py-1 text-xs rounded-full ".concat(v(e.category)),children:e.category})]})]}),e.matches&&e.matches.length>0&&(0,h.jsxs)("div",{className:"mt-3",children:[(0,h.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Encontrado em:"}),(0,h.jsx)("div",{className:"flex flex-wrap gap-1",children:e.matches.map(((e,s)=>(0,h.jsx)("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded",children:e},s)))})]}),e.coordinates&&(0,h.jsxs)("div",{className:"mt-3 flex items-center gap-2 text-xs text-green-600",children:[(0,h.jsx)(n.A,{className:"w-3 h-3"}),(0,h.jsx)("span",{children:"Ver no mapa"})]})]})},e.id)))}):(0,h.jsxs)("div",{className:"text-center py-12",children:[(0,h.jsx)(d.A,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,h.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum resultado encontrado"}),(0,h.jsx)("p",{className:"text-gray-600 mb-6",children:"Tente usar termos diferentes ou verificar a ortografia."}),(0,h.jsx)("button",{onClick:()=>g("/"),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Voltar ao mapa"})]})]})})}}}]);
//# sourceMappingURL=868.b7f075a1.chunk.js.map