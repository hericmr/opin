{"version":3,"file":"static/js/433.a86272fa.chunk.js","mappings":"8RAUA,MAAMA,EAAsB,KAme5B,EAvbmBC,IAA0C,IAAzC,WAAEC,EAAU,WAAEC,EAAU,QAAEC,GAASH,EACrD,MAAMI,GAAMC,EAAAA,EAAAA,MACNC,GAAkBC,EAAAA,EAAAA,QAAO,MACzBC,GAAgBD,EAAAA,EAAAA,QAAO,IACvBE,GAAWC,EAAAA,EAAAA,UAAQ,IAAMC,IAAAA,QAAUC,QAAQ,IAG3CC,GAAoBN,EAAAA,EAAAA,QAAO,MAC3BO,GAAeP,EAAAA,EAAAA,QAAO,MAGtBQ,GAAsBC,EAAAA,EAAAA,cAAY,KAClCF,EAAaG,UACfC,aAAaJ,EAAaG,SAC1BH,EAAaG,QAAU,QAExB,IAGGE,GAAyBH,EAAAA,EAAAA,cAAY,CAACI,EAAQC,EAAOC,KACpDb,IAGLa,EAAEC,cAAcC,kBAGZX,EAAkBI,UAAYG,GAChCL,IACAK,EAAOK,eACA,OAAPtB,QAAO,IAAPA,GAAAA,EAAUkB,GACVR,EAAkBI,QAAU,OAGxBJ,EAAkBI,SACpBJ,EAAkBI,QAAQQ,eAI5BZ,EAAkBI,QAAUG,EAC5BA,EAAOM,cAGPX,IACAD,EAAaG,QAAUU,YAAW,KAChCP,EAAOK,eACPZ,EAAkBI,QAAU,OAvFZ,SA0FnB,CAACR,EAAUN,EAASY,IAGjBa,EAAgBC,EAAAA,SAAc,KAClC,IAAKC,MAAMC,QAAQ9B,IAAqC,IAAtBA,EAAW+B,OAE3C,OADAC,QAAQC,KAAK,8CACN,GAITD,QAAQE,IAAI,8BAA+BlC,EAAW+B,QAGtD,MAAMI,EAAsB,GAEtBC,EAAkBpC,EAAWqC,QAAOjB,IAExC,IAAKA,EAAMkB,SAAWlB,EAAMmB,WAAanB,EAAMoB,UAU7C,OATAL,EAAoBM,KAAK,CACvBC,OAAQtB,EAAMkB,QAAU,WACxBK,SAAU,4BACVC,SAAU,CACRN,SAAUlB,EAAMkB,OAChBC,WAAYnB,EAAMmB,SAClBC,YAAapB,EAAMoB,cAGhB,EAGT,MAAMK,EAAMC,WAAW1B,EAAMmB,UACvBQ,EAAMD,WAAW1B,EAAMoB,WAG7B,OAAIQ,MAAMH,IAAQG,MAAMD,IACtBZ,EAAoBM,KAAK,CACvBC,OAAQtB,EAAMkB,OACdK,SAAU,kDACVC,SAAU,CACRL,SAAUnB,EAAMmB,SAChBC,UAAWpB,EAAMoB,cAGd,KAILK,GAAO,IAAMA,EAAM,IAAME,GAAO,KAAOA,EAAM,OAC/CZ,EAAoBM,KAAK,CACvBC,OAAQtB,EAAMkB,OACdK,SAAU,0CACVC,SAAU,CACRL,SAAUM,EACVL,UAAWO,EACXE,QAAS,CACPC,QAAS,GACTC,OAAQ,GACRC,QAAS,IACTC,OAAQ,SAIP,MAsBX,OAfIlB,EAAoBJ,OAAS,IAC/BC,QAAQsB,MAAM,yCACdnB,EAAoBoB,SAAQb,IAC1BV,QAAQsB,MAAMZ,EAAOA,QACrBV,QAAQE,IAAI,YAAaQ,EAAOC,UAChCX,QAAQE,IAAI,YAAaQ,EAAOE,UAChCZ,QAAQwB,cAEVxB,QAAQwB,WACRxB,QAAQE,IAAI,mCAADuB,OAAoCtB,EAAoBJ,UAIrEC,QAAQE,IAAI,uBAADuB,OAAqBrB,EAAgBL,OAAM,QAAA0B,OAAOzD,EAAW+B,SAEjEK,IACN,CAACpC,IAGE0D,EAAaC,EAAAA,GAGbC,GAAuB7C,EAAAA,EAAAA,cAAaK,GAClC,oaAANqC,OAGyGI,KAAKC,UAAU1C,GAAM,yDAAAqC,QACnFM,EAAAA,EAAAA,GAAgB3C,EAAMkB,QAAO,wEAAAmB,QAGxDM,EAAAA,EAAAA,GAAgB3C,EAAMkB,QAAO,yBAAAmB,OACrCrC,EAAM4C,MAAK,kDAAAP,OAAqDrC,EAAM4C,MAAK,UAAW,GAAE,4CAI/F,IA4RH,OA1RAC,EAAAA,EAAAA,YAAU,KACR,IAAKpC,MAAMC,QAAQ9B,IAAqC,IAAtBA,EAAW+B,OAE3C,YADAC,QAAQC,KAAK,wDAIf,IAAK9B,IAAQwB,EAAcI,SAAW9B,EAAWiE,SAAU,OAGvD7D,EAAgBW,SAClBb,EAAIgE,YAAY9D,EAAgBW,SAElCT,EAAcS,QAAQuC,SAAQa,GAAajE,EAAIgE,YAAYC,KAC3D7D,EAAcS,QAAU,GAGxBJ,EAAkBI,QAAU,KAC5BF,IAGA,MAAMuD,EA1MeC,KACvB,MAAMC,EAAQ,GACRC,EAAO,IAAIC,IAEjB,IAAK,IAAIC,EAAI,EAAGA,EAAIJ,EAAOvC,OAAQ2C,IACjC,IAAIF,EAAKG,IAAID,GAEb,IAAK,IAAIE,EAAIF,EAAI,EAAGE,EAAIN,EAAOvC,OAAQ6C,IAAK,CAC1C,GAAIJ,EAAKG,IAAIC,GAAI,SAEjB,MAAMC,EAAKP,EAAOI,GACZI,EAAKR,EAAOM,GAEZG,EAAUC,KAAKC,IAAInC,WAAW+B,EAAGtC,UAAYO,WAAWgC,EAAGvC,WAC3D2C,EAAUF,KAAKC,IAAInC,WAAW+B,EAAGrC,WAAaM,WAAWgC,EAAGtC,YAElE,GAAIuC,EAAUjF,GAAuBoF,EAAUpF,EAAqB,CAClEyE,EAAM9B,KAAK,CAACiC,EAAGE,IACfJ,EAAKW,IAAIT,GACTF,EAAKW,IAAIP,GACT,KACF,CACF,CAGF,OAAOL,GAiLea,CAAgBzD,GAI9B0D,GAHc,IAAIZ,IAAIJ,EAAYiB,QAGnB,IAAI5E,IAAAA,oBAAqB,CAE5C6E,gBAAgB,EAChBC,iBAAkB,EAClBC,mBAAmB,EACnBC,qBAAsBlF,EACtBmF,qBAAqB,EACrBC,4BAA4B,EAC5BC,SAAS,EAGTC,wBAAyB,GACzBC,QAAS,EACTC,QAAS,GAGTC,mBAAoB,SAASC,GAC3B,MAAMC,EAAQD,EAAQE,gBACtB,IAAIC,EAAO,QACPC,EAAa,UAGbH,EAAQ,KACVE,EAAO,QACPC,EAAa,WACJH,EAAQ,KACjBE,EAAO,SACPC,EAAa,WAGf,MAAMC,EAAU5C,EAAAA,GAAW6C,QAAQD,QAC7BE,EAAW9C,EAAAA,GAAW6C,QAAQC,UAAY,CAAC,GAAI,IAkBrD,OAfAP,EAAQQ,YAAY,qJAADjD,OAEL0C,EAAK,WAAA1C,OAAU0C,EAAQ,EAAI,IAAM,GAAE,gBAAA1C,OAAY0C,EAAQ,EAAI,IAAM,GAAE,yIAI9E,CACDQ,UAAW,kBACXC,UAAW,MACXC,OAAQ,CAAC,GAAI,IACbC,QAAS,EACTC,WAAW,EACXC,QAASxG,IAGJE,IAAAA,QAAU,CACfuG,KAAK,oHAADxD,OAIuB0C,EAAK,uIAAA1C,OAEqB6C,EAAU,sCAAA7C,OApCjD,OAqCQ,iEAAAA,OAEPgD,EAAS,GAAE,iCAAAhD,OACVgD,EAAS,GAAE,ifAAAhD,OAcd8C,EAAO,+BAAA9C,OACS,GAAdgD,EAAS,GAAQ,gCAAAhD,OACF,GAAdgD,EAAS,GAAQ,6MAAAhD,OAOL,UAAT4C,EAAmB,OAAkB,WAATA,EAAoB,OAAS,OAAM,yCAAA5C,OAE3E0C,EAAK,+BAEZQ,UAAU,iCAADlD,OAAmC4C,GAC5CI,SAAU/F,IAAAA,MAAQ+F,EAAS,GAAIA,EAAS,KAE5C,EAGAS,sBAAsB,EACtBC,yBAA0B,CACxBC,OAAQ,IACRC,MAAO,UACPP,QAAS,GACTQ,UAAW,OAIbC,cAAe/G,EAAW,IAAM,IAChCgH,WAAYhH,EAAW,GAAK,GAG5BiH,kBAAkB,EAClBC,2BAA4BlH,EAAW,EAAI,IAG3CmH,eAAgB,CACdC,UAAW,UACXP,MAAO,UACPD,OAAQ,IACRN,QAAS,GACTe,YAAa,OAKjBxC,EAAayC,GAAG,gBAAgB,SAASzG,GACvC,MAAM6E,EAAU7E,EAAE0G,MACZC,EAAU9B,EAAQ+B,qBAGxB,GAAI9H,EAAI+H,WAAahC,EAAQM,QAAQV,wBAAyB,CAC5D,MAAMqC,EAAUzH,IAAAA,QAAU,CACxBiG,UAAW,yBACXC,UAAW,SACXG,WAAW,EACXD,QAAS,KAEVsB,WAAW,gKAAD3E,OAEcuE,EAAQjG,OAAM,WAAA0B,OAAUuE,EAAQjG,OAAS,EAAI,IAAM,GAAE,4JAK7EsG,UAAUnC,EAAQoC,aAEnBH,EAAQI,MAAMpI,GACduB,YAAW,IAAMyG,EAAQK,UAAU,IACrC,CACF,IAGA7G,EAAc4B,SAAQ,CAACnC,EAAOqH,KAC5B,MAAM5F,EAAMC,WAAW1B,EAAMmB,UACvBQ,EAAMD,WAAW1B,EAAMoB,WAEvBrB,EAAST,IAAAA,OAAS,CAACmC,EAAKE,GAAM,CAClC2F,KAAMhF,EACNiF,aAAc,IACdC,UAAU,EACVC,IAAI,iBAADpF,QAAmBM,EAAAA,EAAAA,GAAgB3C,EAAMkB,SAC5CwG,aAAa,EACbC,aAAa,EACbZ,QAAS,OAIXhH,EAAO6H,gBAGP7H,EAAOuF,YAAY9C,EAAqBxC,GAAQ,CAC9CuF,UAAW,iBACXC,UAAW,MACXC,OAAQ,CAAC,GAAI,IACbC,QAAS,EACTC,WAAW,EACXC,QAASxG,EACTuI,aAAa,EAEbZ,QAAS,OAIP3H,EAEFW,EAAO2G,GAAG,SAAUzG,GAAMH,EAAuBC,EAAQC,EAAOC,KAGlEF,EAAO2G,GAAG,SAAS,IAAa,OAAP5H,QAAO,IAAPA,OAAO,EAAPA,EAAUkB,KAInC,MAAM6H,EAAY5E,EAAY6E,WAAUC,GAAQA,EAAKC,SAASX,KAC9D,IAAmB,IAAfQ,EAAkB,CACpB,MAAOI,EAAOC,GAAUjF,EAAY4E,GAC9BM,EAAUd,IAAUY,EAEpBG,EAAa7H,EADA4H,EAAUD,EAASD,GAIjC7I,GACLW,EAAO2G,GAAG,OAAO,WACf,MAAM2B,EAAYF,EACd,iFACA,8EAEJG,KAAKC,MAAMC,MAAMH,UAAYA,EAC7BC,KAAKC,MAAMC,MAAMC,WAAa,+CAC9BH,KAAKC,MAAMC,MAAMvH,OAAS,kDAC1BqH,KAAKC,MAAMC,MAAME,UAAY,gCAC/B,IAIA,MAAM1F,EA1aU2F,EAAC5J,EAAK6J,EAAWC,EAAWC,EAAWC,IACtDzJ,IAAAA,SAAW,CAAC,CAACsJ,EAAWC,GAAY,CAACC,EAAWC,IAAa,CAClE9C,MAAO,UACPD,OAAQ,IACRE,UAAW,MACXR,QAAS,GACTH,UAAW,qBACV4B,MAAMpI,GAmae4J,CAChB5J,EACA0C,EACAE,EACAD,WAAW0G,EAAWjH,UACtBO,WAAW0G,EAAWhH,YAExBjC,EAAcS,QAAQyB,KAAK2B,EAC7B,CAEAiB,EAAa+E,SAASjJ,MAIxBhB,EAAIiK,SAAS/E,GACbhF,EAAgBW,QAAUqE,EAG1B,MAAMgF,EAAsBC,IAC1B,MAAMlJ,EAAQkJ,EAAMC,OACb,OAAPrK,QAAO,IAAPA,GAAAA,EAAUkB,IAMZ,OAHAoJ,OAAOC,iBAAiB,eAAgBJ,GAGjC,KACLG,OAAOE,oBAAoB,eAAgBL,GACvChK,EAAgBW,SAClBb,EAAIgE,YAAY9D,EAAgBW,SAElCT,EAAcS,QAAQuC,SAAQa,GAAajE,EAAIgE,YAAYC,KAC3D7D,EAAcS,QAAU,GACxBF,IACAF,EAAkBI,QAAU,QAE7B,CACDb,EACAwB,EACAzB,EACAwD,EACAzD,EAAWiE,SACXlE,EACAQ,EACAoD,EACA1C,EACAJ,IAGK,K,mGCveT,MAAMN,EAAWA,IACRgK,OAAOG,YAAc,IAoC9B,EAjCiB5K,IAAmB,IAAlB,SAAE6K,GAAU7K,EAE5B,MAAM8K,EAAkBrK,IAAa,EAAE,SAAU,SAAW,EAAE,QAAS,MACjEsK,EAActK,IAAa,EAAI,EAErC,OACEuK,EAAAA,EAAAA,KAAA,OAAKpE,UAAU,oCAAmCiE,UAChDI,EAAAA,EAAAA,MAACC,EAAAA,EAAY,CACXC,OAAQL,EACRM,KAAML,EACNnE,UAAU,gBACVyE,oBAAoB,EACpBC,KAAK,EACLC,iBAAiB,EACjBC,WAAW,EACXC,iBAAiB,EACjBC,UAAU,EACV7C,UAAU,EACV8C,aAAa,EACbC,mBAAmB,EAAMf,SAAA,EAGzBG,EAAAA,EAAAA,KAACa,EAAAA,EAAS,CACVC,IAAI,oGAIHjB,Q,4CC/BT,MAgCA,EAhCiB7K,IAAe,IAAd,KAAE+L,GAAM/L,GACxBkE,EAAAA,EAAAA,YAAU,KACJ6H,GACF9J,QAAQE,IAAI,6BAA8B4J,KAE3C,CAACA,IAGJ,MAAMC,GAAetL,EAAAA,EAAAA,UACnB,MACE4G,MAAO,UACPD,OAAQ,EACRQ,UAAW,UACXC,YAAa,GACbP,UAAW,GACX0E,OAAQ,IACRjD,aAAa,KAEf,IAGF,OAAK+C,GAGHf,EAAAA,EAAAA,KAACkB,EAAAA,EAAO,CACNH,KAAMA,EACNlC,MAAOmC,EACPhD,aAAa,IANC,MCrBdmD,EAAU,CACdC,UAAW,CAAEC,GAAI,WAAYC,MAAO,yBAAuBC,IAAK,WAChEC,QAAS,CAAEH,GAAI,WAAYC,MAAO,uBAAqBC,IAAK,WAC5DE,iBAAkB,CAChBJ,GAAI,kBACJC,MAAO,sBACPC,IAAK,UACLG,cAAe,UACfC,gBAAiB,eAIfC,GAAgBC,EAAAA,EAAAA,OAAK7M,IAAA,IAAC,WAAE8M,EAAU,SAAErM,EAAQ,YAAEsM,GAAa/M,EAAA,OAC/DiL,EAAAA,EAAAA,MAAA,OAAKrE,UAAU,gFAA+EiE,SAAA,EAC5FG,EAAAA,EAAAA,KAAA,MAAIpE,UAAU,oCAAmCiE,SAAC,qBAClDG,EAAAA,EAAAA,KAAA,OAAKpE,UAAU,0BAAyBiE,UACtCG,EAAAA,EAAAA,KAAA,UACE7K,QAAS2M,EACTlG,UAAU,0DACV,aAAYmG,EAAc,WAAa,YACvCC,KAAK,SAAQnC,SAEZkC,EAAc,SAAM,mBAM7BH,EAAcK,YAAc,gBAE5B,MAAMC,GAAcL,EAAAA,EAAAA,OAAKM,IAAA,IAAC,OAAEC,EAAM,MAAEC,EAAK,QAAElN,EAAO,MAAEmN,GAAOH,EAAA,OACzDlC,EAAAA,EAAAA,MAAA,UACE9K,QAASA,EACTyG,UAAS,yEAAAlD,OACP2J,EAAQ,aAAe,oBAEzBL,KAAK,SAAQnC,SAAA,CAEE,oBAAduC,EAAOf,IACNpB,EAAAA,EAAAA,MAAA,OAAKrE,UAAU,sBAAqBiE,SAAA,EAClCI,EAAAA,EAAAA,MAAA,OAAKrE,UAAU,0BAAyBiE,SAAA,EACtCG,EAAAA,EAAAA,KAAA,OAAKpE,UAAU,uBAAuBiD,MAAO,CAAE0D,gBAAiBH,EAAOb,QACvEvB,EAAAA,EAAAA,KAAA,QAAMpE,UAAU,wBAAuBiE,SAAC,sBAE1CI,EAAAA,EAAAA,MAAA,OAAKrE,UAAU,0BAAyBiE,SAAA,EACtCG,EAAAA,EAAAA,KAAA,OAAKpE,UAAU,uBAAuBiD,MAAO,CAAE0D,gBAAiBH,EAAOV,kBACvE1B,EAAAA,EAAAA,KAAA,QAAMpE,UAAU,wBAAuBiE,SAAEuC,EAAOT,yBAIpD3B,EAAAA,EAAAA,KAAA,OAAKpE,UAAU,uBAAuBiD,MAAO,CAAE0D,gBAAiBH,EAAOb,QAEzEvB,EAAAA,EAAAA,KAAA,QAAMpE,UAAU,wBAAuBiE,SAAEuC,EAAOd,aACrCkB,IAAVF,IACCrC,EAAAA,EAAAA,MAAA,QAAMrE,UAAU,6BAA4BiE,SAAA,CAAC,IAAEyC,EAAM,QAEvDtC,EAAAA,EAAAA,KAAA,OAAKpE,UAAU,+BAA+BiD,MAAO,CAAE0D,gBAAiBF,EAAQD,EAAOb,IAAM,mBAIjGW,EAAYD,YAAc,cAE1B,MAAMQ,EAAcC,IAAuC,IAAtC,QAAEC,EAAO,MAAEC,EAAK,aAAEC,GAAcH,EACnD,MAAOI,EAAYC,IAAiBC,EAAAA,EAAAA,WAAS,IACtCvN,EAAUwN,IAAeD,EAAAA,EAAAA,WAAS,IAClCjB,EAAamB,IAAkBF,EAAAA,EAAAA,WAAS,GAGzCG,GAAcnN,EAAAA,EAAAA,cAAY,KAC9BiN,EAAYxD,OAAOG,YAAc,OAChC,KAEH1G,EAAAA,EAAAA,YAAU,KAERiK,IAGA1D,OAAOC,iBAAiB,SAAUyD,GAE3B,KACL1D,OAAOE,oBAAoB,SAAUwD,MAEtC,CAACA,KAGoBnN,EAAAA,EAAAA,cAAY,IAAM+M,GAAc,IAAQ,KACzC/M,EAAAA,EAAAA,cAAY,IAAM+M,GAAc,IAAO,IAD9D,MAEMK,GAAiBpN,EAAAA,EAAAA,cAAY,IAAMkN,GAAeG,IAASA,KAAO,IAGxE,OAAI5N,GAEAuK,EAAAA,EAAAA,KAAA,OAAKpE,UAAU,qCAAoCiE,UACjDI,EAAAA,EAAAA,MAAA,OAAKrE,UAAU,8CAA6CiE,SAAA,EAC1DG,EAAAA,EAAAA,KAAC4B,EAAa,CACZE,WAAYsB,EACZ3N,UAAU,EACVsM,YAAaA,KAEbA,IACA9B,EAAAA,EAAAA,MAAA,OAAKrE,UAAU,mDAAkDiE,SAAA,EAC/DG,EAAAA,EAAAA,KAACkC,EAAW,CACVE,OAAQjB,EAAQC,UAChBiB,MAAOM,EAAQW,SACfnO,QAASyN,EAAMW,kBAEjBvD,EAAAA,EAAAA,KAACkC,EAAW,CACVE,OAAQjB,EAAQK,QAChBa,MAAOM,EAAQxJ,SACfhE,QAASyN,EAAMY,eACflB,MAAOO,KAET7C,EAAAA,EAAAA,KAACkC,EAAW,CACVE,OAAQjB,EAAQM,iBAChBY,MAAOM,EAAQc,gBACftO,QAASyN,EAAMc,iCAW3BzD,EAAAA,EAAAA,MAAA,OAAKrE,UAAU,sFAAqFiE,SAAA,EAClGG,EAAAA,EAAAA,KAAC4B,EAAa,CACZE,WAAYsB,EACZ3N,UAAU,EACVsM,YAAaA,KAEbA,IACA9B,EAAAA,EAAAA,MAAA,OAAKrE,UAAU,mDAAkDiE,SAAA,EAC/DG,EAAAA,EAAAA,KAACkC,EAAW,CACVE,OAAQjB,EAAQC,UAChBiB,MAAOM,EAAQW,SACfnO,QAASyN,EAAMW,kBAEjBvD,EAAAA,EAAAA,KAACkC,EAAW,CACVE,OAAQjB,EAAQK,QAChBa,MAAOM,EAAQxJ,SACfhE,QAASyN,EAAMY,eACflB,MAAOO,KAET7C,EAAAA,EAAAA,KAACkC,EAAW,CACVE,OAAQjB,EAAQM,iBAChBY,MAAOM,EAAQc,gBACftO,QAASyN,EAAMc,+BAsB3BjB,EAAYR,YAAc,cAE1B,SAAeJ,EAAAA,EAAAA,MAAKY,G,cC/KpB,MAQA,EARsB,CACpBlL,OAAQ,eACRoM,SAAU,GACVC,oBAAoB,mKAEpBC,QAAS,CAAC,K,wBCgBZ,MAkMA,EAlM6B7O,IAAmC,IAAlC,WAAEC,EAAU,aAAE6O,GAAc9O,EACxDiC,QAAQE,IAAI,gDAAiDlC,EAAa,CACxE8O,WAAY9O,EAAW+B,OACvBgN,QAAS/O,EAAW,GAAK,CACvBsC,OAAQtC,EAAW,GAAGsC,OACtBC,SAAUvC,EAAW,GAAGuC,SACxBC,UAAWxC,EAAW,GAAGwC,UACzBwM,KAAMhP,EAAW,GAAGgP,MAClB,gBACF,oBAEJ,MAAM,WAAEC,IAAeC,EAAAA,EAAAA,KAGjBC,GADY1O,EAAAA,EAAAA,UAAQ,IAAM,IAAI2O,gBAAgB5E,OAAO6E,SAASC,SAAS,IACrDC,IAAI,SACtBC,GAAe/O,EAAAA,EAAAA,UAAQ,KAC3B,GAAI0O,GAAmB,KAAVA,GAAgBnP,GAAcA,EAAW+B,OAAS,EAAG,CAEhE,OADmB/B,EAAWyP,MAAMC,IAASC,EAAAA,EAAAA,GAAUD,EAAKpN,UAAY6M,KACnDS,CACvB,CACA,OAAOA,IACN,CAACT,EAAOnP,KAEJ6P,EAAaC,IAAkB/B,EAAAA,EAAAA,UAAS,OACxCgC,EAAqBC,IAA0BjC,EAAAA,EAAAA,UAAS,OACxDkC,EAAcC,IAAmBnC,EAAAA,EAAAA,UAAS,OAC1CoC,EAAcC,IAAmBrC,EAAAA,EAAAA,UAAS,CAC/C7J,UAAU,EACVsK,iBAAiB,EACjBH,UAAU,KAELgC,EAAYC,IAAiBvC,EAAAA,EAAAA,UAASyB,GAGvCe,GAAkB9P,EAAAA,EAAAA,UAAQ,IAC9BT,EAAaA,EAAWqC,QAAOmO,GAASA,EAAMC,WAAa,IAAK,IAChE,CAACzQ,IAGG4N,GAAenN,EAAAA,EAAAA,UAAQ,IAAM8P,EAAgBxO,QAAQ,CAACwO,KAG5DtM,EAAAA,EAAAA,YAAU,KACRjC,QAAQsB,MAAM,mDACdtB,QAAQE,IAAI,4BAA6B,CACvCI,OAAkB,OAAV+N,QAAU,IAAVA,OAAU,EAAVA,EAAY/N,OACpB0M,KAAgB,OAAVqB,QAAU,IAAVA,OAAU,EAAVA,EAAYrB,KAClB0B,UAAqB,OAAVL,QAAU,IAAVA,IAAAA,EAAYM,sBACzBC,UAAqB,OAAVP,QAAU,IAAVA,OAAU,EAAVA,EAAYM,qBACrBE,eAAgBR,IAAeb,EAC/BsB,OAAuB,OAAfT,EACRU,iBAA4BxD,IAAf8C,IAEfrO,QAAQwB,aACP,CAAC6M,EAAYb,KAGhBvL,EAAAA,EAAAA,YAAU,KACR,IAAI+M,GAAY,EAChB,MAAMC,EAAa,IAAIC,gBAoCvB,MAlCqBC,WACnB,IACE,MAAOC,EAAiBC,EAAyBC,SAA0BC,QAAQC,IAAI,CACrFC,MAAM,GAADhO,OAAIiO,oBAAsB,oBAAoB,CAAEC,OAAQV,EAAWU,SACxEF,MAAM,GAADhO,OAAIiO,oBAAsB,wCAAwC,CAAEC,OAAQV,EAAWU,SAC5FF,MAAM,GAADhO,OAAIiO,oBAAsB,0BAA0B,CAAEC,OAAQV,EAAWU,WAGhF,IAAKX,EAAW,OAEhB,IAAKI,EAAgBQ,KAAOP,EAAwBO,KAAON,EAAiBM,GAE1E,YADA5P,QAAQ6P,MAAM,6BAIhB,MAAOC,EAAa/B,EAAqBE,SAAsBsB,QAAQC,IAAI,CACzEJ,EAAgBW,OAChBV,EAAwBU,OACxBT,EAAiBS,SAGnB,IAAKf,EAAW,OAED,OAAXc,QAAW,IAAXA,GAAAA,EAAaE,UAAUlC,EAAegC,GACnB,OAAnB/B,QAAmB,IAAnBA,GAAAA,EAAqBiC,UAAUhC,EAAuBD,GAC1C,OAAZE,QAAY,IAAZA,GAAAA,EAAc+B,UAAU9B,EAAgBD,EAC9C,CAAE,MAAO4B,GACP,GAAmB,eAAfA,EAAMI,KAAuB,OACjCjQ,QAAQ6P,MAAM,6BAA8BA,EAC9C,GAGFK,GAEO,KACLlB,GAAY,EACZC,EAAWkB,WAEZ,KAGHlO,EAAAA,EAAAA,YAAU,KACRjC,QAAQE,IAAI,4BAA6B,CACvCkQ,QAASvC,EAAc,YAAc,mBACrCrB,gBAAiBuB,EAAsB,YAAc,mBACrD1B,SAAU4B,EAAe,YAAc,uBAExC,CAACJ,EAAaE,EAAqBE,IAGtC,MAAMoC,GAActR,EAAAA,EAAAA,cAAauR,IAC1BA,GACLhC,EAAcgC,KACb,IAGGC,GAAgBxR,EAAAA,EAAAA,cAAY,KAChCiB,QAAQE,IAAI,wDAEX,KAGH+B,EAAAA,EAAAA,YAAU,KACRjC,QAAQE,IAAI,sDAAoD2M,GAChE7M,QAAQE,IAAI,qDAAmDmQ,GAC3DxD,GAAwC,oBAAjBA,IACzB7M,QAAQE,IAAI,0EACZ2M,EAAawD,EAAaE,MAE3B,CAACF,EAAaxD,EAAc0D,IAG/B,MAAMC,GAAezR,EAAAA,EAAAA,cAAY,KAC/BuP,EAAc,QACb,IAGGmC,GAAqB1R,EAAAA,EAAAA,cAAa2R,IACtCtC,GAAgBhC,IAAIuE,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAUvE,GAAI,IAAE,CAACsE,IAAStE,EAAKsE,SAClD,IASH,OACE1H,EAAAA,EAAAA,MAAA,OAAKrE,UAAU,2CAA0CiE,SAAA,EACvDI,EAAAA,EAAAA,MAAC4H,EAAQ,CAAAhI,SAAA,CACNuF,EAAa9B,UAAY4B,IAAgBlF,EAAAA,EAAAA,KAAC8H,EAAQ,CAAC/G,KAAMmE,IACzDE,EAAa3B,iBAAmBuB,IAC/BhF,EAAAA,EAAAA,KAAC+H,EAAAA,QAAe,CACdhH,KAAMiE,EACN7P,QAASmS,IAGZrS,IAAc+K,EAAAA,EAAAA,KAACgI,EAAAA,QAAU,CAAC/S,WAAYuQ,EAAiBtQ,WAAYkQ,EAAcjQ,QAASmS,OAG5FhC,IACCrF,EAAAA,EAAAA,MAAAgI,EAAAA,SAAA,CAAApI,SAAA,CACG5I,QAAQE,IAAI,6DAA8D,CACzEmO,aACAK,QAAmB,OAAVL,QAAU,IAAVA,OAAU,EAAVA,EAAYM,qBACrBC,UAAqB,OAAVP,QAAU,IAAVA,OAAU,EAAVA,EAAYM,wBAEzB5F,EAAAA,EAAAA,KAACkI,EAAAA,EAAiB,CAChB5C,WAAYA,EACZ6C,YAAaV,EACbvD,WAAYA,QAKlBlE,EAAAA,EAAAA,KAAA,OAAKpE,UAAU,uCAAsCiE,UACnDG,EAAAA,EAAAA,KAAA,OAAKpE,UAAU,sBAAsBiD,MAAO,CAAEoC,OAAQ,IAAKpB,UACzDG,EAAAA,EAAAA,KAACyC,EAAW,CACVE,QAASyC,EACTxC,MAAO,CACLY,eAAgBA,IAAMkE,EAAmB,YACzChE,sBAAuBA,IAAMgE,EAAmB,mBAChDnE,eAAgBA,IAAMmE,EAAmB,aAE3C7E,aAAcA,W,uGC7Mb3B,GAAUkH,EAAAA,EAAAA,KAAoB,SAAsBpT,EAAwBqT,GAAK,IAA5B,KAAEtH,GAAmB/L,EAATyG,GAAO6M,EAAAA,EAAAA,GAAAtT,EAAAuT,GACjF,MAAMC,EAAU,IAAIC,EAAAA,QAAe1H,EAAMtF,GACzC,OAAOiN,EAAAA,EAAAA,GAAoBF,GAASG,EAAAA,EAAAA,IAAcN,EAAK,CACnDO,iBAAkBJ,IAE1B,IAAG,SAAuBxL,EAAO6L,EAAOC,GAChCD,EAAMhK,QAAUiK,EAAUjK,QACP,MAAfgK,EAAMhK,MACN7B,EAAM+L,aAEN/L,EAAMgM,SAASH,EAAMhK,OAGjC,G,6GCXA,MAwIA,EAxIwB7J,IAAwB,IAAvB,KAAE+L,EAAI,QAAE5L,GAASH,EACxC,MAAMI,GAAMC,EAAAA,EAAAA,OAEZ6D,EAAAA,EAAAA,YAAU,KACJ6H,EACF9J,QAAQE,IAAI,oCAAqC,CAC/C6K,KAAMjB,EAAKiB,KACXiF,SAAUlG,EAAKkG,SAAWlG,EAAKkG,SAASjQ,OAAS,EACjDiS,WAAYlI,EAAKkG,SAAWlG,EAAKkG,SAAS,GAAGgC,WAAa,OAG5DhS,QAAQC,KAAK,2CAEd,CAAC6J,IAGJ,MAAMC,GAAetL,EAAAA,EAAAA,UACnB,MACE4G,MAAO,UACPD,OAAQ,EACRS,YAAa,GACbD,UAAW,UACXN,UAAW,IACX0E,OAAQ,KAEV,IAIIpC,GAAQ7I,EAAAA,EAAAA,cACXkT,IACC,IAAKA,IAAYA,EAAQD,WAEvB,OADAhS,QAAQC,KAAK,4BAA6BgS,GACnClI,EAGT,MAAMmI,EAAgD,iBAA/BD,EAAQD,WAAWG,QAG1C,OAFAnS,QAAQE,IAAI,qBAADuB,OAAmBwQ,EAAQD,WAAWI,WAAU,MAAA3Q,OAAKyQ,EAAiB,eAAiB,yBAElGvB,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACK5G,GAAY,IACfnE,UAAWsM,EAAiB,UAAY,UACxCrM,YAAaqM,EAAiB,GAAM,QAGxC,CAACnI,IAIGsI,EAAa,CACjBjN,OAAQ,EACRC,MAAO,UACPQ,YAAa,IACbP,UAAW,IAGPgN,GAAgBvT,EAAAA,EAAAA,cACpB,CAACkT,EAASlM,KACR,IAAKkM,IAAYA,EAAQD,WAEvB,YADAhS,QAAQC,KAAK,6CAA8CgS,GAK7D,MAAMM,EAAc,6EAAA9Q,OAENwQ,EAAQD,WAAWI,YAAc,4BAAqB,8BAAA3Q,OAC9DwQ,EAAQD,WAAWQ,YAAc,6BAAsB,qBAAA/Q,OACvDwQ,EAAQD,WAAWG,SAAW,4BAAqB,4BAGzDpM,EAAMrB,YAAY6N,EAAgB,CAChCvN,QAAQ,EACRL,UAAW,mBAGboB,EAAMD,GAAG,CACP2M,UAAYpT,IACV,MAAM0G,EAAQ1G,EAAEqT,OAChB3M,EAAMgM,SAASM,GACftM,EAAM4M,gBAERC,SAAWvT,IACTA,EAAEqT,OAAOX,SAASnK,EAAMqK,KAE1BY,MAAQxT,IACQA,EAAEqT,OAAhB,MAGMI,EAAoB,CACxBxS,OAAQ2R,EAAQD,WAAWI,WAC3BpF,KAAM,iBACNhL,MAAOiQ,EAAQD,WAAWQ,WAC1BO,UAAWd,EAAQD,WAAWgB,WAC9BC,GAAIhB,EAAQD,WAAWkB,SACvBC,WAAYlB,EAAQD,WAAWmB,WAC/BC,KAAMnB,EAAQD,WAAWG,QACzBkB,WAAYpB,EAAQD,WAAWqB,WAC/BC,SAAUrB,EAAQD,WAAWuB,WAC7BC,GAAIvB,EAAQD,WAAWwB,GACvBC,WAAYxB,EAAQD,WAAWyB,WAC/BC,WAAYzB,EAAQD,WAAW0B,WAC/BC,WAAY1B,EAAQD,WAAW2B,WAC/BC,WAAY3B,EAAQD,WAAW4B,WAC/BC,WAAY5B,EAAQD,WAAW6B,WAC/BC,WAAY7B,EAAQD,WAAW8B,WAC/BC,WAAY9B,EAAQD,WAAW+B,YAG7B7V,GACFA,EAAQ4U,QAKhB,CAAC3U,EAAKyJ,EAAO1J,IAGf,OAAK4L,EAKAA,EAAKiB,MAAsB,sBAAdjB,EAAKiB,KAKlBjB,EAAKkG,UAAanQ,MAAMC,QAAQgK,EAAKkG,WAAsC,IAAzBlG,EAAKkG,SAASjQ,QAK9DgJ,EAAAA,EAAAA,KAACkB,EAAAA,EAAO,CAACH,KAAMA,EAAMlC,MAAOA,EAAO0K,cAAeA,KAJvDtS,QAAQ6P,MAAM,oDACP,OANP7P,QAAQ6P,MAAM,yFAAuF/F,EAAKiB,MACnG,OANP/K,QAAQC,KAAK,yCACN,M","sources":["components/Marcadores.js","components/MapaBase.js","components/EstadoSP.js","components/MenuCamadas.js","components/detalhesInfo.js","components/MapaEscolasIndigenas.js","../node_modules/react-leaflet/lib/GeoJSON.js","components/TerrasIndigenas.js"],"sourcesContent":["import React, { useEffect, useRef, useMemo, useCallback } from \"react\";\nimport { Marker, Tooltip, useMap } from \"react-leaflet\";\nimport { violetIcon } from \"./CustomIcon\";\nimport L from 'leaflet';\nimport 'leaflet.markercluster';\nimport 'leaflet.markercluster/dist/MarkerCluster.css';\nimport 'leaflet.markercluster/dist/MarkerCluster.Default.css';\nimport { capitalizeWords } from \"../utils/textFormatting\";\n\n// Constante para definir a proximidade entre marcadores (em graus)\nconst PROXIMITY_THRESHOLD = 0.00005;\n// Tempo em ms para o tooltip fechar automaticamente em mobile\nconst TOOLTIP_TIMEOUT = 2000;\n\n// Função para criar o conector entre marcadores\nconst createConnector = (map, centerLat, centerLng, markerLat, markerLng) => {\n  return L.polyline([[centerLat, centerLng], [markerLat, markerLng]], {\n    color: '#A0522D',\n    weight: 1.2,\n    dashArray: '3,3',\n    opacity: 0.6,\n    className: 'marker-connector'\n  }).addTo(map);\n};\n\n// Função para encontrar pares de marcadores próximos\nconst findNearbyPairs = (pontos) => {\n  const pairs = [];\n  const used = new Set();\n\n  for (let i = 0; i < pontos.length; i++) {\n    if (used.has(i)) continue;\n\n    for (let j = i + 1; j < pontos.length; j++) {\n      if (used.has(j)) continue;\n\n      const p1 = pontos[i];\n      const p2 = pontos[j];\n\n      const latDiff = Math.abs(parseFloat(p1.latitude) - parseFloat(p2.latitude));\n      const lngDiff = Math.abs(parseFloat(p1.longitude) - parseFloat(p2.longitude));\n\n      if (latDiff < PROXIMITY_THRESHOLD && lngDiff < PROXIMITY_THRESHOLD) {\n        pairs.push([i, j]);\n        used.add(i);\n        used.add(j);\n        break;\n      }\n    }\n  }\n\n  return pairs;\n};\n\nconst Marcadores = ({ dataPoints, visibility, onClick }) => {\n  const map = useMap();\n  const clusterGroupRef = useRef(null);\n  const connectorsRef = useRef([]);\n  const isMobile = useMemo(() => L.Browser.mobile, []);\n  \n  // Refs para controle de interação touch\n  const lastTouchedMarker = useRef(null);\n  const touchTimeout = useRef(null);\n\n  // Função para limpar timeout do tooltip\n  const clearTooltipTimeout = useCallback(() => {\n    if (touchTimeout.current) {\n      clearTimeout(touchTimeout.current);\n      touchTimeout.current = null;\n    }\n  }, []);\n\n  // Função para gerenciar interação touch em mobile\n  const handleTouchInteraction = useCallback((marker, ponto, e) => {\n    if (!isMobile) return;\n\n    // Previne propagação do evento\n    e.originalEvent.stopPropagation();\n\n    // Se for o mesmo marcador do último toque\n    if (lastTouchedMarker.current === marker) {\n      clearTooltipTimeout();\n      marker.closeTooltip();\n      onClick?.(ponto);\n      lastTouchedMarker.current = null;\n    } else {\n      // Se for um marcador diferente\n      if (lastTouchedMarker.current) {\n        lastTouchedMarker.current.closeTooltip();\n      }\n      \n      // Atualiza referência e mostra tooltip\n      lastTouchedMarker.current = marker;\n      marker.openTooltip();\n      \n      // Configura timeout para fechar tooltip\n      clearTooltipTimeout();\n      touchTimeout.current = setTimeout(() => {\n        marker.closeTooltip();\n        lastTouchedMarker.current = null;\n      }, TOOLTIP_TIMEOUT);\n    }\n  }, [isMobile, onClick, clearTooltipTimeout]);\n\n  // Filtra os pontos válidos\n  const pontosValidos = React.useMemo(() => {\n    if (!Array.isArray(dataPoints) || dataPoints.length === 0) {\n      console.warn(\"Marcadores: Nenhum ponto de dados recebido\");\n      return [];\n    }\n\n    // Log inicial com total de pontos\n    console.log(\"Total de escolas recebidas:\", dataPoints.length);\n\n    // Array para armazenar escolas com coordenadas inválidas\n    const escolasComProblemas = [];\n\n    const pontosFiltrados = dataPoints.filter(ponto => {\n      // Verifica se o ponto tem as propriedades básicas\n      if (!ponto.titulo || !ponto.latitude || !ponto.longitude) {\n        escolasComProblemas.push({\n          escola: ponto.titulo || \"Sem nome\",\n          problema: \"Dados básicos ausentes\",\n          detalhes: {\n            titulo: !!ponto.titulo,\n            latitude: !!ponto.latitude,\n            longitude: !!ponto.longitude\n          }\n        });\n        return false;\n      }\n\n      const lat = parseFloat(ponto.latitude);\n      const lng = parseFloat(ponto.longitude);\n      \n      // Verifica se as coordenadas são números válidos\n      if (isNaN(lat) || isNaN(lng)) {\n        escolasComProblemas.push({\n          escola: ponto.titulo,\n          problema: \"Coordenadas não são números válidos\",\n          detalhes: {\n            latitude: ponto.latitude,\n            longitude: ponto.longitude\n          }\n        });\n        return false;\n      }\n\n      // Verifica se as coordenadas estão dentro dos limites válidos\n      if (lat < -90 || lat > 90 || lng < -180 || lng > 180) {\n        escolasComProblemas.push({\n          escola: ponto.titulo,\n          problema: \"Coordenadas fora dos limites válidos\",\n          detalhes: {\n            latitude: lat,\n            longitude: lng,\n            limites: {\n              latMin: -90,\n              latMax: 90,\n              lngMin: -180,\n              lngMax: 180\n            }\n          }\n        });\n        return false;\n      }\n\n      return true;\n    });\n\n    // Log detalhado das escolas com problemas\n    if (escolasComProblemas.length > 0) {\n      console.group(\"Escolas com coordenadas inválidas:\");\n      escolasComProblemas.forEach(escola => {\n        console.group(escola.escola);\n        console.log(\"Problema:\", escola.problema);\n        console.log(\"Detalhes:\", escola.detalhes);\n        console.groupEnd();\n      });\n      console.groupEnd();\n      console.log(`Total de escolas com problemas: ${escolasComProblemas.length}`);\n    }\n\n    // Log do resultado final\n    console.log(`Escolas válidas: ${pontosFiltrados.length} de ${dataPoints.length}`);\n\n    return pontosFiltrados;\n  }, [dataPoints]);\n\n  // Configuração do ícone para escolas indígenas\n  const escolaIcon = violetIcon;\n\n  // Função para criar o conteúdo do tooltip com melhor acessibilidade\n  const createTooltipContent = useCallback((ponto) => {\n    return `\n      <div class=\"bg-white/95 text-gray-800 text-sm font-medium px-3 py-1.5 rounded shadow-sm border border-gray-100 text-left w-full hover:text-violet-700 focus:text-violet-700 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:ring-opacity-50 transition-colors duration-200\">\n        <button \n          onclick=\"event.stopPropagation(); window.dispatchEvent(new CustomEvent('marker-click', { detail: ${JSON.stringify(ponto)} }));\"\n          aria-label=\"Ver detalhes da escola ${capitalizeWords(ponto.titulo)}\"\n          class=\"w-full text-left\"\n        >\n          <strong>${capitalizeWords(ponto.titulo)}</strong>\n          ${ponto.etnia ? `<div class=\"mt-1 text-xs text-gray-600\">Etnia: ${ponto.etnia}</div>` : ''}\n        </button>\n      </div>\n    `;\n  }, []);\n\n  useEffect(() => {\n    if (!Array.isArray(dataPoints) || dataPoints.length === 0) {\n      console.warn(\"Marcadores: Nenhum ponto de dados válido recebido\");\n      return;\n    }\n\n    if (!map || !pontosValidos.length || !visibility.educacao) return;\n\n    // Remove o grupo de clusters anterior e conectores\n    if (clusterGroupRef.current) {\n      map.removeLayer(clusterGroupRef.current);\n    }\n    connectorsRef.current.forEach(connector => map.removeLayer(connector));\n    connectorsRef.current = [];\n\n    // Limpa referências de touch\n    lastTouchedMarker.current = null;\n    clearTooltipTimeout();\n\n    // Encontra pares de marcadores próximos\n    const nearbyPairs = findNearbyPairs(pontosValidos);\n    const usedIndices = new Set(nearbyPairs.flat());\n\n    // Cria um novo grupo de clusters com configurações otimizadas\n    const clusterGroup = new L.MarkerClusterGroup({\n      // Configurações básicas\n      chunkedLoading: true,\n      maxClusterRadius: 4,\n      spiderfyOnMaxZoom: true,\n      showCoverageOnHover: !isMobile, // Desativa em mobile\n      zoomToBoundsOnClick: true,\n      removeOutsideVisibleBounds: true,\n      animate: true,\n      \n      // Configurações de zoom otimizadas\n      disableClusteringAtZoom: 12,\n      minZoom: 4,\n      maxZoom: 18,\n      \n      // Configurações de ícones com estética indígena e acessibilidade\n      iconCreateFunction: function(cluster) {\n        const count = cluster.getChildCount();\n        let size = 'small';\n        let background = '#A0522D';\n        let textColor = '#fff';\n\n        if (count > 100) {\n          size = 'large';\n          background = '#4B2E14';\n        } else if (count > 20) {\n          size = 'medium';\n          background = '#8B5A2B';\n        }\n\n        const iconUrl = violetIcon.options.iconUrl;\n        const iconSize = violetIcon.options.iconSize || [44, 44];\n\n        // Adiciona tooltip ao cluster\n        cluster.bindTooltip(`\n          <div class=\"bg-white/95 text-gray-800 text-sm font-medium px-3 py-1.5 rounded shadow-sm border border-gray-100\">\n            <strong>${count} escola${count > 1 ? 's' : ''} indígena${count > 1 ? 's' : ''}</strong>\n            <br/>\n            <span class=\"text-xs text-gray-600\">Clique para expandir</span>\n          </div>\n        `, {\n          className: \"cluster-tooltip\",\n          direction: \"top\",\n          offset: [0, -10],\n          opacity: 1,\n          permanent: false,\n          sticky: !isMobile\n        });\n\n        return L.divIcon({\n          html: `\n            <div \n              role=\"button\"\n              tabindex=\"0\"\n              aria-label=\"Grupo de ${count} escolas indígenas. Clique para expandir.\"\n              style=\"\n              background: radial-gradient(circle at 30% 30%, ${background}, #3b2e2a);\n              color: ${textColor};\n              border-radius: 50%;\n                width: ${iconSize[0]}px;\n                height: ${iconSize[1]}px;\n              display: flex;\n              flex-direction: column;\n              align-items: center;\n              justify-content: center;\n              font-weight: bold;\n              border: 2px solid #f5f5dc;\n              box-shadow: 0 2px 6px rgba(0, 0, 0, 0.25);\n                transition: transform 0.3s ease, box-shadow 0.3s ease;\n              padding: 2px;\n                cursor: pointer;\n              \"\n            >\n              <img \n                src=\"${iconUrl}\" \n                width=\"${iconSize[0] * 0.6}\" \n                height=\"${iconSize[1] * 0.6}\" \n                style=\"margin-bottom: 2px;\"\n                alt=\"\"\n                aria-hidden=\"true\"\n              />\n              <span \n                style=\"\n                font-size: ${size === 'large' ? '16px' : size === 'medium' ? '14px' : '12px'};\n                \"\n              >${count}</span>\n            </div>`,\n          className: `marker-cluster marker-cluster-${size}`,\n          iconSize: L.point(iconSize[0], iconSize[1])\n        });\n      },\n      \n      // Configurações de animação suaves\n      animateAddingMarkers: true,\n      spiderLegPolylineOptions: { \n        weight: 1.3,\n        color: '#5C4033',\n        opacity: 0.5,\n        dashArray: '2,4'\n      },\n      \n      // Configurações de performance\n      chunkInterval: isMobile ? 100 : 200,\n      chunkDelay: isMobile ? 25 : 50,\n      \n      // Configurações de interatividade\n      singleMarkerMode: false,\n      spiderfyDistanceMultiplier: isMobile ? 2 : 1.5,\n      \n      // Configurações de estilo orgânico\n      polygonOptions: {\n        fillColor: '#A0522D',\n        color: '#5C4033',\n        weight: 1.2,\n        opacity: 0.6,\n        fillOpacity: 0.2\n      }\n    });\n\n    // Adiciona eventos de interação ao cluster\n    clusterGroup.on('clusterclick', function(e) {\n      const cluster = e.layer;\n      const markers = cluster.getAllChildMarkers();\n      \n      // Se estiver no zoom máximo, mostra tooltip explicando a expansão\n      if (map.getZoom() >= cluster.options.disableClusteringAtZoom) {\n        const tooltip = L.tooltip({\n          className: 'cluster-expand-tooltip',\n          direction: 'center',\n          permanent: true,\n          opacity: 0.9\n        })\n        .setContent(`\n          <div class=\"bg-white/95 text-gray-800 text-sm font-medium px-3 py-1.5 rounded shadow-sm border border-gray-100\">\n            <strong>Expandindo ${markers.length} escola${markers.length > 1 ? 's' : ''}</strong>\n            <br/>\n            <span class=\"text-xs text-gray-600\">Toque em um marcador para ver detalhes</span>\n          </div>\n        `)\n        .setLatLng(cluster.getLatLng());\n        \n        tooltip.addTo(map);\n        setTimeout(() => tooltip.remove(), 2000);\n      }\n    });\n\n    // Adiciona os marcadores ao grupo\n    pontosValidos.forEach((ponto, index) => {\n      const lat = parseFloat(ponto.latitude);\n      const lng = parseFloat(ponto.longitude);\n      \n      const marker = L.marker([lat, lng], { \n        icon: escolaIcon,\n        zIndexOffset: 1000,\n        keyboard: true,\n        alt: `Marcador para ${capitalizeWords(ponto.titulo)}`,\n        riseOnHover: true,\n        interactive: true,\n        tooltip: null\n      });\n\n      // Remove qualquer tooltip existente antes de adicionar o novo\n      marker.unbindTooltip();\n      \n      // Adiciona apenas o tooltip customizado\n      marker.bindTooltip(createTooltipContent(ponto), {\n        className: \"custom-tooltip\",\n        direction: \"top\",\n        offset: [0, -10],\n        opacity: 1,\n        permanent: false,\n        sticky: !isMobile, // Tooltip só é sticky em desktop\n        interactive: true, // Permite interação com o tooltip\n        // Desabilita o tooltip padrão do Leaflet\n        tooltip: null\n      });\n\n      // Adiciona eventos de interação\n      if (isMobile) {\n        // Em mobile, usa o gerenciador de touch\n        marker.on('click', (e) => handleTouchInteraction(marker, ponto, e));\n      } else {\n        // Em desktop, mantém comportamento original\n      marker.on('click', () => onClick?.(ponto));\n      }\n\n      // Verifica se este marcador faz parte de um par próximo\n      const pairIndex = nearbyPairs.findIndex(pair => pair.includes(index));\n      if (pairIndex !== -1) {\n        const [first, second] = nearbyPairs[pairIndex];\n        const isFirst = index === first;\n        const otherIndex = isFirst ? second : first;\n        const otherPonto = pontosValidos[otherIndex];\n\n        // Aplica o efeito de fan-out aprimorado apenas em desktop\n        if (!isMobile) {\n        marker.on('add', function() {\n          const transform = isFirst \n            ? 'perspective(500px) rotateY(-20deg) translateX(-20px) rotate(-25deg) scale(0.9)'\n            : 'perspective(500px) rotateY(20deg) translateX(20px) rotate(25deg) scale(0.9)';\n          \n          this._icon.style.transform = transform;\n          this._icon.style.transition = 'transform 0.5s ease-out, filter 0.3s ease-in';\n          this._icon.style.filter = 'drop-shadow(0 4px 12px rgba(160, 82, 45, 0.35))';\n          this._icon.style.boxShadow = '0 4px 12px rgba(0, 0, 0, 0.35)';\n        });\n        }\n\n        // Cria o conector entre os marcadores\n        const connector = createConnector(\n          map,\n          lat,\n          lng,\n          parseFloat(otherPonto.latitude),\n          parseFloat(otherPonto.longitude)\n        );\n        connectorsRef.current.push(connector);\n      }\n\n      clusterGroup.addLayer(marker);\n    });\n\n    // Adiciona o grupo ao mapa\n    map.addLayer(clusterGroup);\n    clusterGroupRef.current = clusterGroup;\n\n    // Adiciona listener global para o evento de clique no tooltip\n    const handleTooltipClick = (event) => {\n      const ponto = event.detail;\n      onClick?.(ponto);\n    };\n\n    window.addEventListener('marker-click', handleTooltipClick);\n\n    // Limpa o listener quando o componente for desmontado\n    return () => {\n      window.removeEventListener('marker-click', handleTooltipClick);\n      if (clusterGroupRef.current) {\n        map.removeLayer(clusterGroupRef.current);\n      }\n      connectorsRef.current.forEach(connector => map.removeLayer(connector));\n      connectorsRef.current = [];\n      clearTooltipTimeout();\n      lastTouchedMarker.current = null;\n    };\n  }, [\n    map, \n    pontosValidos, \n    onClick, \n    escolaIcon, \n    visibility.educacao, \n    dataPoints, \n    isMobile, \n    createTooltipContent, \n    handleTouchInteraction, \n    clearTooltipTimeout\n  ]);\n\n  return null;\n};\n\nexport default Marcadores; ","import React from 'react';\nimport { MapContainer, TileLayer } from \"react-leaflet\";\n\nconst isMobile = () => {\n  return window.innerWidth <= 768; // Define mobile para telas menores que 768px\n};\n\nconst MapaBase = ({ children }) => {\n  // Define coordenadas e zoom baseados no dispositivo para visualizar SP\n  const defaultPosition = isMobile() ? [-23.5505, -48.6333] : [-23.305, -43.9];\n  const defaultZoom = isMobile() ? 6 : 7; // Zoom mais aberto para visualizar mais do estado\n\n  return (\n    <div className=\"h-screen w-screen overflow-hidden\">\n      <MapContainer\n        center={defaultPosition}\n        zoom={defaultZoom}\n        className=\"h-full w-full\"\n        attributionControl={false}\n        tap={true} // Habilita interações touch\n        doubleClickZoom={false} // Desabilita zoom com duplo clique para melhor experiência mobile\n        touchZoom={true} // Habilita zoom com gestos touch\n        scrollWheelZoom={true} // Mantém zoom com scroll do mouse\n        dragging={true} // Mantém arrastar o mapa\n        keyboard={true} // Habilita navegação por teclado\n        zoomControl={true} // Mantém controles de zoom\n        closePopupOnClick={true} // Fecha popups ao clicar no mapa\n      >\n        {/* TileLayer com o mapa de fundo */}\n        <TileLayer\n        url=\"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}\"\n      />\n\n        {/* Conteúdo adicional do mapa (marcadores, camadas, etc.) */}\n        {children}\n      </MapContainer>\n    </div>\n  );\n};\n\nexport default MapaBase;","import React, { useMemo, useEffect } from 'react';\nimport { GeoJSON } from 'react-leaflet';\n\nconst EstadoSP = ({ data }) => {\n  useEffect(() => {\n    if (data) {\n      console.log(\"EstadoSP: Dados recebidos:\", data);\n    }\n  }, [data]);\n\n  // Estilo para criar o efeito de contorno preto com escurecimento interno\n  const defaultStyle = useMemo(\n    () => ({\n      color: '#000000',   // Linha preta\n      weight: 2,          // Espessura da linha\n      fillColor: '#000000', // Preto sólido\n      fillOpacity: 0.3,   // 30% de opacidade para escurecer o mapa\n      dashArray: '',      // Linha contínua\n      zIndex: 999,        // Mantém acima da base\n      interactive: false  // Desativa interatividade para manter fixo\n    }),\n    []\n  );\n\n  if (!data) return null;\n\n  return (\n    <GeoJSON \n      data={data} \n      style={defaultStyle}\n      interactive={false} // Garante que não há interatividade\n    />\n  );\n};\n\nexport default EstadoSP; ","import React, { useState, useEffect, memo, useCallback } from \"react\";\nimport PropTypes from 'prop-types';\n\nconst CAMADAS = {\n  ESTADO_SP: { id: 'estadoSP', label: 'Estado de São Paulo', cor: '#10B981' },\n  ESCOLAS: { id: 'educacao', label: 'Escolas Indígenas', cor: '#3B82F6' },\n  TERRAS_INDIGENAS: { \n    id: 'terrasIndigenas', \n    label: 'Terras Indígenas', \n    cor: '#DC143C',\n    corSecundaria: '#8B0000',\n    labelSecundaria: 'Declaradas'\n  }\n};\n\nconst CabecalhoMenu = memo(({ onMinimize, isMobile, isMinimized }) => (\n  <div className=\"flex items-center justify-between px-3 py-2 border-b border-gray-100 bg-white\">\n    <h3 className=\"text-sm font-medium text-gray-800\">Camadas do Mapa</h3>\n    <div className=\"flex items-center gap-2\">\n      <button\n        onClick={onMinimize}\n        className=\"text-gray-500 hover:text-gray-700 transition-colors p-1\"\n        aria-label={isMinimized ? \"Expandir\" : \"Minimizar\"}\n        type=\"button\"\n      >\n        {isMinimized ? \"▾\" : \"▴\"}\n      </button>\n    </div>\n  </div>\n));\n\nCabecalhoMenu.displayName = 'CabecalhoMenu';\n\nconst BotaoCamada = memo(({ camada, ativo, onClick, total }) => (\n  <button\n    onClick={onClick}\n    className={`w-full flex items-center gap-2 px-3 py-2 rounded-md transition-colors ${\n      ativo ? 'bg-gray-50' : 'hover:bg-gray-50'\n    }`}\n    type=\"button\"\n  >\n    {camada.id === 'terrasIndigenas' ? (\n      <div className=\"flex flex-col gap-1\">\n        <div className=\"flex items-center gap-1\">\n          <div className=\"w-2 h-2 rounded-full\" style={{ backgroundColor: camada.cor }} />\n          <span className=\"text-xs text-gray-600\">Regularizadas</span>\n        </div>\n        <div className=\"flex items-center gap-1\">\n          <div className=\"w-2 h-2 rounded-full\" style={{ backgroundColor: camada.corSecundaria }} />\n          <span className=\"text-xs text-gray-600\">{camada.labelSecundaria}</span>\n        </div>\n      </div>\n    ) : (\n      <div className=\"w-2 h-2 rounded-full\" style={{ backgroundColor: camada.cor }} />\n    )}\n    <span className=\"text-sm text-gray-800\">{camada.label}</span>\n    {total !== undefined && (\n      <span className=\"text-xs text-gray-500 ml-1\">({total})</span>\n    )}\n    <div className=\"ml-auto w-2 h-2 rounded-full\" style={{ backgroundColor: ativo ? camada.cor : '#e5e7eb' }} />\n  </button>\n));\n\nBotaoCamada.displayName = 'BotaoCamada';\n\nconst MenuCamadas = ({ estados, acoes, totalEscolas }) => {\n  const [menuAberto, setMenuAberto] = useState(true);\n  const [isMobile, setIsMobile] = useState(false);\n  const [isMinimized, setIsMinimized] = useState(false);\n\n  // Função para verificar se é mobile\n  const checkMobile = useCallback(() => {\n    setIsMobile(window.innerWidth <= 768);\n  }, []);\n\n  useEffect(() => {\n    // Verifica no carregamento inicial\n    checkMobile();\n    \n    // Adiciona listener de resize\n    window.addEventListener(\"resize\", checkMobile);\n    \n    return () => {\n      window.removeEventListener(\"resize\", checkMobile);\n    };\n  }, [checkMobile]);\n\n  // Handlers para ações do menu\n  const handleMenuClose = useCallback(() => setMenuAberto(false), []);\n  const handleMenuOpen = useCallback(() => setMenuAberto(true), []);\n  const handleMinimize = useCallback(() => setIsMinimized(prev => !prev), []);\n\n  // Renderização para mobile\n  if (isMobile) {\n    return (\n      <div className=\"fixed bottom-0 left-0 right-0 z-20\">\n        <div className=\"bg-white border-t border-gray-100 shadow-lg\">\n          <CabecalhoMenu\n            onMinimize={handleMinimize}\n            isMobile={true}\n            isMinimized={isMinimized}\n          />\n          {!isMinimized && (\n            <div className=\"p-2 flex flex-col gap-1 max-h-60 overflow-y-auto\">\n              <BotaoCamada \n                camada={CAMADAS.ESTADO_SP} \n                ativo={estados.estadoSP} \n                onClick={acoes.toggleEstadoSP} \n              />\n              <BotaoCamada \n                camada={CAMADAS.ESCOLAS} \n                ativo={estados.educacao} \n                onClick={acoes.toggleEducacao} \n                total={totalEscolas} \n              />\n              <BotaoCamada \n                camada={CAMADAS.TERRAS_INDIGENAS} \n                ativo={estados.terrasIndigenas} \n                onClick={acoes.toggleTerrasIndigenas} \n              />\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  // Menu desktop fixo no topo direito\n  return (\n    <div className=\"fixed top-24 right-4 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-20\">\n      <CabecalhoMenu \n        onMinimize={handleMinimize}\n        isMobile={false}\n        isMinimized={isMinimized}\n      />\n      {!isMinimized && (\n        <div className=\"p-2 flex flex-col gap-1 max-h-96 overflow-y-auto\">\n          <BotaoCamada \n            camada={CAMADAS.ESTADO_SP} \n            ativo={estados.estadoSP} \n            onClick={acoes.toggleEstadoSP} \n          />\n          <BotaoCamada \n            camada={CAMADAS.ESCOLAS} \n            ativo={estados.educacao} \n            onClick={acoes.toggleEducacao} \n            total={totalEscolas} \n          />\n          <BotaoCamada \n            camada={CAMADAS.TERRAS_INDIGENAS} \n            ativo={estados.terrasIndigenas} \n            onClick={acoes.toggleTerrasIndigenas} \n          />\n        </div>\n      )}\n    </div>\n  );\n};\n\nMenuCamadas.propTypes = {\n  estados: PropTypes.shape({\n    estadoSP: PropTypes.bool.isRequired,\n    educacao: PropTypes.bool.isRequired,\n    terrasIndigenas: PropTypes.bool.isRequired\n  }).isRequired,\n  acoes: PropTypes.shape({\n    toggleEstadoSP: PropTypes.func.isRequired,\n    toggleEducacao: PropTypes.func.isRequired,\n    toggleTerrasIndigenas: PropTypes.func.isRequired\n  }).isRequired,\n  totalEscolas: PropTypes.number\n};\n\nMenuCamadas.displayName = 'MenuCamadas';\n\nexport default memo(MenuCamadas);","const detalhesIntro = {\n  titulo: \"Sobre o site\",\n  audioUrl: \"\",\n  descricao_detalhada: `Este é o OPIN (Observatório dos Professores Indígenas no Estado de São Paulo), que busca mapear as escolas indígenas no estado de São Paulo.\n`,\n  imagens: [\"\"]\n};\n\nexport default detalhesIntro;\n","/**\n * Componente MapaEscolasIndigenas - Exibe o mapa interativo com escolas indígenas e terras indígenas\n * \n * @param {Object} props - Propriedades do componente\n * @param {Array} props.dataPoints - Array de pontos de dados das escolas\n * @param {Function} props.onPainelOpen - Função para abrir o painel de informações\n * @returns {React.ReactElement} - Componente renderizado\n */\nimport React, { useState, useEffect, useMemo, useCallback } from \"react\";\nimport MapaBase from \"./MapaBase\";\nimport Marcadores from \"./Marcadores\";\nimport Bairros from \"./Bairros\";\nimport TerrasIndigenas from \"./TerrasIndigenas\";\nimport EstadoSP from \"./EstadoSP\";\nimport MenuCamadas from \"./MenuCamadas\";\nimport PainelInformacoes from \"./PainelInformacoes\";\nimport detalhesIntro from \"./detalhesInfo\";\nimport \"./MapaEscolasIndigenas.css\";\nimport { criarSlug } from '../utils/slug';\nimport { useRefresh } from '../contexts/RefreshContext';\n\nconst MapaEscolasIndigenas = ({ dataPoints, onPainelOpen }) => {\n  console.log(\"DataPoints recebidos no MapaEscolasIndigenas:\", dataPoints ? {\n    quantidade: dataPoints.length,\n    exemplo: dataPoints[0] ? {\n      titulo: dataPoints[0].titulo,\n      latitude: dataPoints[0].latitude,\n      longitude: dataPoints[0].longitude,\n      tipo: dataPoints[0].tipo\n    } : 'Nenhum ponto'\n  } : 'Nenhum dataPoint');\n\n  const { refreshKey } = useRefresh();\n\n  const urlParams = useMemo(() => new URLSearchParams(window.location.search), []);\n  const panel = urlParams.get('panel');\n  const initialPanel = useMemo(() => {\n    if (panel && panel !== '' && dataPoints && dataPoints.length > 0) {\n      const pointFound = dataPoints.find((item) => criarSlug(item.titulo) === panel);\n      return pointFound || detalhesIntro;\n    }\n    return detalhesIntro;\n  }, [panel, dataPoints]);\n\n  const [geojsonData, setGeojsonData] = useState(null);\n  const [terrasIndigenasData, setTerrasIndigenasData] = useState(null);\n  const [estadoSPData, setEstadoSPData] = useState(null);\n  const [visibilidade, setVisibilidade] = useState({\n    educacao: true,\n    terrasIndigenas: true,\n    estadoSP: true,\n  });\n  const [painelInfo, setPainelInfo] = useState(initialPanel);\n  \n  // Memoize escolasVisiveis para evitar recálculos desnecessários\n  const escolasVisiveis = useMemo(() => \n    dataPoints ? dataPoints.filter(point => point.pontuacao >= 0) : [],\n    [dataPoints]\n  );\n  \n  const totalEscolas = useMemo(() => escolasVisiveis.length, [escolasVisiveis]);\n\n  // Adicionar useEffect para monitorar mudanças no painelInfo\n  useEffect(() => {\n    console.group(\"MapaEscolasIndigenas - painelInfo state changed\");\n    console.log(\"Novo valor de painelInfo:\", {\n      titulo: painelInfo?.titulo,\n      tipo: painelInfo?.tipo,\n      hasLink: !!painelInfo?.link_para_documentos,\n    linkValue: painelInfo?.link_para_documentos,\n      isInitialPanel: painelInfo === initialPanel,\n      isNull: painelInfo === null,\n      isUndefined: painelInfo === undefined\n  });\n    console.groupEnd();\n  }, [painelInfo, initialPanel]);\n\n  // Otimizar o carregamento dos GeoJSONs\n  useEffect(() => {\n    let isMounted = true;\n    const controller = new AbortController();\n\n    const fetchGeoJSON = async () => {\n      try {\n        const [bairrosResponse, terrasIndigenasResponse, estadoSPResponse] = await Promise.all([\n          fetch(`${process.env.PUBLIC_URL}/bairros.geojson`, { signal: controller.signal }),\n          fetch(`${process.env.PUBLIC_URL}/terras_indigenas_simplified.geojson`, { signal: controller.signal }),\n          fetch(`${process.env.PUBLIC_URL}/SP_simplified.geojson`, { signal: controller.signal })\n        ]);\n\n        if (!isMounted) return;\n\n        if (!bairrosResponse.ok || !terrasIndigenasResponse.ok || !estadoSPResponse.ok) {\n          console.error('Erro ao carregar GeoJSONs');\n          return;\n        }\n\n        const [bairrosData, terrasIndigenasData, estadoSPData] = await Promise.all([\n          bairrosResponse.json(),\n          terrasIndigenasResponse.json(),\n          estadoSPResponse.json()\n        ]);\n\n        if (!isMounted) return;\n\n        if (bairrosData?.features) setGeojsonData(bairrosData);\n        if (terrasIndigenasData?.features) setTerrasIndigenasData(terrasIndigenasData);\n        if (estadoSPData?.features) setEstadoSPData(estadoSPData);\n      } catch (error) {\n        if (error.name === 'AbortError') return;\n        console.error('Erro ao carregar GeoJSONs:', error);\n      }\n    };\n\n    fetchGeoJSON();\n\n    return () => {\n      isMounted = false;\n      controller.abort();\n    };\n  }, []);\n\n  // Adicionar logs para verificar quando os dados são renderizados\n  useEffect(() => {\n    console.log(\"Estado dos dados GeoJSON:\", {\n      bairros: geojsonData ? \"Carregado\" : \"Não carregado\",\n      terrasIndigenas: terrasIndigenasData ? \"Carregado\" : \"Não carregado\",\n      estadoSP: estadoSPData ? \"Carregado\" : \"Não carregado\"\n    });\n  }, [geojsonData, terrasIndigenasData, estadoSPData]);\n\n  // Otimizar a função de abrir painel\n  const abrirPainel = useCallback((info) => {\n    if (!info) return;\n    setPainelInfo(info);\n  }, []);\n\n  // Função para forçar refresh do painel\n  const refreshPainel = useCallback(() => {\n    console.log('Forçando refresh do painel de informações');\n    // O refresh será disparado pelo contexto\n  }, []);\n\n  // Expor a função abrirPainel e refreshPainel para componentes externos\n  useEffect(() => {\n    console.log('MapaEscolasIndigenas: onPainelOpen disponível:', !!onPainelOpen);\n    console.log('MapaEscolasIndigenas: abrirPainel disponível:', !!abrirPainel);\n    if (onPainelOpen && typeof onPainelOpen === 'function') {\n      console.log('MapaEscolasIndigenas: Expondo função abrirPainel e refreshPainel');\n      onPainelOpen(abrirPainel, refreshPainel);\n    }\n  }, [abrirPainel, onPainelOpen, refreshPainel]);\n\n  // Otimizar a função de fechar painel\n  const fecharPainel = useCallback(() => {\n    setPainelInfo(null);\n  }, []);\n\n  // Otimizar a função de toggle visibilidade\n  const toggleVisibilidade = useCallback((chave) => {\n    setVisibilidade(prev => ({ ...prev, [chave]: !prev[chave] }));\n  }, []);\n\n  const geoJSONStyle = {\n    fillColor: \"green\",\n    color: \"white\",\n    weight: 1,\n    fillOpacity: 0.4,\n  };\n\n  return (\n    <div className=\"relative h-screen w-full overflow-hidden\">\n      <MapaBase>\n        {visibilidade.estadoSP && estadoSPData && <EstadoSP data={estadoSPData} />}\n        {visibilidade.terrasIndigenas && terrasIndigenasData && (\n          <TerrasIndigenas \n            data={terrasIndigenasData} \n            onClick={abrirPainel}\n          />\n        )}\n        {dataPoints && <Marcadores dataPoints={escolasVisiveis} visibility={visibilidade} onClick={abrirPainel} />}\n      </MapaBase>\n\n      {painelInfo && (\n        <>\n          {console.log(\"MapaEscolasIndigenas - Renderizando PainelInformacoes com:\", {\n            painelInfo,\n            hasLink: painelInfo?.link_para_documentos,\n            linkValue: painelInfo?.link_para_documentos\n          })}\n          <PainelInformacoes \n            painelInfo={painelInfo} \n            closePainel={fecharPainel} \n            refreshKey={refreshKey}\n          />\n        </>\n      )}\n      \n      <div className=\"absolute inset-0 pointer-events-none\">\n        <div className=\"pointer-events-auto\" style={{ zIndex: 20 }}>\n          <MenuCamadas\n            estados={visibilidade}\n            acoes={{\n              toggleEducacao: () => toggleVisibilidade(\"educacao\"),\n              toggleTerrasIndigenas: () => toggleVisibilidade(\"terrasIndigenas\"),\n              toggleEstadoSP: () => toggleVisibilidade(\"estadoSP\"),\n            }}\n            totalEscolas={totalEscolas}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MapaEscolasIndigenas;","import { createElementObject, createPathComponent, extendContext } from '@react-leaflet/core';\nimport { GeoJSON as LeafletGeoJSON } from 'leaflet';\nexport const GeoJSON = createPathComponent(function createGeoJSON({ data , ...options }, ctx) {\n    const geoJSON = new LeafletGeoJSON(data, options);\n    return createElementObject(geoJSON, extendContext(ctx, {\n        overlayContainer: geoJSON\n    }));\n}, function updateGeoJSON(layer, props, prevProps) {\n    if (props.style !== prevProps.style) {\n        if (props.style == null) {\n            layer.resetStyle();\n        } else {\n            layer.setStyle(props.style);\n        }\n    }\n});\n","import React, { useCallback, useMemo, useEffect } from 'react';\nimport { GeoJSON, useMap } from 'react-leaflet';\nimport L from 'leaflet';\n\nconst TerrasIndigenas = ({ data, onClick }) => {\n  const map = useMap();\n\n  useEffect(() => {\n    if (data) {\n      console.log(\"TerrasIndigenas: Dados recebidos:\", {\n        type: data.type,\n        features: data.features ? data.features.length : 0,\n        properties: data.features ? data.features[0].properties : null\n      });\n    } else {\n      console.warn(\"TerrasIndigenas: Nenhum dado recebido\");\n    }\n  }, [data]);\n\n  // Estilo padrão das terras indígenas\n  const defaultStyle = useMemo(\n    () => ({\n      color: '#B22222', // Vermelho escuro na borda\n      weight: 2,\n      fillOpacity: 0.3,\n      fillColor: '#DC143C', // Vermelho vivo no preenchimento\n      dashArray: '3',\n      zIndex: 2\n    }),\n    []\n  );\n\n  // Função para determinar o estilo baseado no status da terra indígena\n  const style = useCallback(\n    (feature) => {\n      if (!feature || !feature.properties) {\n        console.warn(\"Feature sem propriedades:\", feature);\n        return defaultStyle;\n      }\n\n      const isRegularizada = feature.properties.fase_ti === 'Regularizada';\n      console.log(`Terra indígena ${feature.properties.terrai_nom}: ${isRegularizada ? 'Regularizada' : 'Não Regularizada'}`);\n      \n      return {\n        ...defaultStyle,\n        fillColor: isRegularizada ? '#DC143C' : '#8B0000', // Regularizada vermelho vivo, não regularizada vermelho escuro\n        fillOpacity: isRegularizada ? 0.3 : 0.25\n      };\n    },\n    [defaultStyle]\n  );\n\n  // Estilo quando o mouse passa por cima\n  const hoverStyle = {\n    weight: 3,\n    color: '#FF0000', // Vermelho puro na borda ao passar o mouse\n    fillOpacity: 0.45,\n    dashArray: ''\n  };\n\n  const onEachFeature = useCallback(\n    (feature, layer) => {\n      if (!feature || !feature.properties) {\n        console.warn(\"Feature sem propriedades no onEachFeature:\", feature);\n        return;\n      }\n\n      // Adiciona tooltip com informações básicas\n      const tooltipContent = `\n        <div class=\"bg-white p-2 rounded shadow-md\">\n          <strong>${feature.properties.terrai_nom || 'Nome não disponível'}</strong><br/>\n          ${feature.properties.etnia_nome || 'Etnia não disponível'}<br/>\n          ${feature.properties.fase_ti || 'Fase não disponível'}\n        </div>\n      `;\n      layer.bindTooltip(tooltipContent, {\n        sticky: true,\n        className: 'custom-tooltip'\n      });\n\n      layer.on({\n        mouseover: (e) => {\n          const layer = e.target;\n          layer.setStyle(hoverStyle);\n          layer.bringToFront();\n        },\n        mouseout: (e) => {\n          e.target.setStyle(style(feature));\n        },\n        click: (e) => {\n          const layer = e.target;\n\n          // Prepara os dados para o painel\n          const terraIndigenaInfo = {\n            titulo: feature.properties.terrai_nom,\n            tipo: 'terra_indigena',\n            etnia: feature.properties.etnia_nome,\n            municipio: feature.properties.municipio_,\n            uf: feature.properties.uf_sigla,\n            superficie: feature.properties.superficie,\n            fase: feature.properties.fase_ti,\n            modalidade: feature.properties.modalidade,\n            reestudo: feature.properties.reestudo_t,\n            cr: feature.properties.cr,\n            faixa_fron: feature.properties.faixa_fron,\n            undadm_nom: feature.properties.undadm_nom,\n            undadm_sig: feature.properties.undadm_sig,\n            dominio_un: feature.properties.dominio_un,\n            data_atual: feature.properties.data_atual,\n            terrai_cod: feature.properties.terrai_cod,\n            undadm_cod: feature.properties.undadm_cod\n          };\n\n          if (onClick) {\n            onClick(terraIndigenaInfo);\n          }\n        }\n      });\n    },\n    [map, style, onClick]\n  );\n\n  if (!data) {\n    console.warn(\"TerrasIndigenas: Nenhum dado recebido\");\n    return null;\n  }\n\n  if (!data.type || data.type !== 'FeatureCollection') {\n    console.error(\"TerrasIndigenas: Formato de GeoJSON inválido. Esperado FeatureCollection, recebido:\", data.type);\n    return null;\n  }\n\n  if (!data.features || !Array.isArray(data.features) || data.features.length === 0) {\n    console.error(\"TerrasIndigenas: GeoJSON sem features válidas\");\n    return null;\n  }\n\n  return <GeoJSON data={data} style={style} onEachFeature={onEachFeature} />;\n};\n\nexport default TerrasIndigenas; "],"names":["PROXIMITY_THRESHOLD","_ref","dataPoints","visibility","onClick","map","useMap","clusterGroupRef","useRef","connectorsRef","isMobile","useMemo","L","mobile","lastTouchedMarker","touchTimeout","clearTooltipTimeout","useCallback","current","clearTimeout","handleTouchInteraction","marker","ponto","e","originalEvent","stopPropagation","closeTooltip","openTooltip","setTimeout","pontosValidos","React","Array","isArray","length","console","warn","log","escolasComProblemas","pontosFiltrados","filter","titulo","latitude","longitude","push","escola","problema","detalhes","lat","parseFloat","lng","isNaN","limites","latMin","latMax","lngMin","lngMax","group","forEach","groupEnd","concat","escolaIcon","violetIcon","createTooltipContent","JSON","stringify","capitalizeWords","etnia","useEffect","educacao","removeLayer","connector","nearbyPairs","pontos","pairs","used","Set","i","has","j","p1","p2","latDiff","Math","abs","lngDiff","add","findNearbyPairs","clusterGroup","flat","chunkedLoading","maxClusterRadius","spiderfyOnMaxZoom","showCoverageOnHover","zoomToBoundsOnClick","removeOutsideVisibleBounds","animate","disableClusteringAtZoom","minZoom","maxZoom","iconCreateFunction","cluster","count","getChildCount","size","background","iconUrl","options","iconSize","bindTooltip","className","direction","offset","opacity","permanent","sticky","html","animateAddingMarkers","spiderLegPolylineOptions","weight","color","dashArray","chunkInterval","chunkDelay","singleMarkerMode","spiderfyDistanceMultiplier","polygonOptions","fillColor","fillOpacity","on","layer","markers","getAllChildMarkers","getZoom","tooltip","setContent","setLatLng","getLatLng","addTo","remove","index","icon","zIndexOffset","keyboard","alt","riseOnHover","interactive","unbindTooltip","pairIndex","findIndex","pair","includes","first","second","isFirst","otherPonto","transform","this","_icon","style","transition","boxShadow","createConnector","centerLat","centerLng","markerLat","markerLng","addLayer","handleTooltipClick","event","detail","window","addEventListener","removeEventListener","innerWidth","children","defaultPosition","defaultZoom","_jsx","_jsxs","MapContainer","center","zoom","attributionControl","tap","doubleClickZoom","touchZoom","scrollWheelZoom","dragging","zoomControl","closePopupOnClick","TileLayer","url","data","defaultStyle","zIndex","GeoJSON","CAMADAS","ESTADO_SP","id","label","cor","ESCOLAS","TERRAS_INDIGENAS","corSecundaria","labelSecundaria","CabecalhoMenu","memo","onMinimize","isMinimized","type","displayName","BotaoCamada","_ref2","camada","ativo","total","backgroundColor","undefined","MenuCamadas","_ref3","estados","acoes","totalEscolas","menuAberto","setMenuAberto","useState","setIsMobile","setIsMinimized","checkMobile","handleMinimize","prev","estadoSP","toggleEstadoSP","toggleEducacao","terrasIndigenas","toggleTerrasIndigenas","audioUrl","descricao_detalhada","imagens","onPainelOpen","quantidade","exemplo","tipo","refreshKey","useRefresh","panel","URLSearchParams","location","search","get","initialPanel","find","item","criarSlug","detalhesIntro","geojsonData","setGeojsonData","terrasIndigenasData","setTerrasIndigenasData","estadoSPData","setEstadoSPData","visibilidade","setVisibilidade","painelInfo","setPainelInfo","escolasVisiveis","point","pontuacao","hasLink","link_para_documentos","linkValue","isInitialPanel","isNull","isUndefined","isMounted","controller","AbortController","async","bairrosResponse","terrasIndigenasResponse","estadoSPResponse","Promise","all","fetch","process","signal","ok","error","bairrosData","json","features","name","fetchGeoJSON","abort","bairros","abrirPainel","info","refreshPainel","fecharPainel","toggleVisibilidade","chave","_objectSpread","MapaBase","EstadoSP","TerrasIndigenas","Marcadores","_Fragment","PainelInformacoes","closePainel","createPathComponent","ctx","_objectWithoutProperties","_excluded","geoJSON","LeafletGeoJSON","createElementObject","extendContext","overlayContainer","props","prevProps","resetStyle","setStyle","properties","feature","isRegularizada","fase_ti","terrai_nom","hoverStyle","onEachFeature","tooltipContent","etnia_nome","mouseover","target","bringToFront","mouseout","click","terraIndigenaInfo","municipio","municipio_","uf","uf_sigla","superficie","fase","modalidade","reestudo","reestudo_t","cr","faixa_fron","undadm_nom","undadm_sig","dominio_un","data_atual","terrai_cod","undadm_cod"],"sourceRoot":""}