"use strict";(self.webpackChunkopin_observatorio_professores_indigenas=self.webpackChunkopin_observatorio_professores_indigenas||[]).push([[109],{9109:(e,a,s)=>{s.r(a),s.d(a,{default:()=>h});var o=s(9379),r=s(5043),t=s(2880),l=(s(6017),s(7484)),i=s(6208),n=(s(4677),s(4581),s(3303)),d=s(7986),c=s(9872);var u=s(6637),m=s(2481),x=s(1184),g=s(4488),b=s(579);const p=e=>{let{escolaId:a}=e;const[s,l]=(0,r.useState)([]),[i,n]=(0,r.useState)(!0),[d,c]=(0,r.useState)(null),[p,f]=(0,r.useState)(""),[h,y]=(0,r.useState)(!1),[v,j]=(0,r.useState)(null),[N,A]=(0,r.useState)({titulo:"",video_url:"",descricao:"",plataforma:"youtube",categoria:"geral",ativo:!0}),w=async()=>{try{n(!0),c(null);const e=await async function(e){const{data:a,error:s}=await t.N.from("titulos_videos").select("*").eq("escola_id",e).eq("ativo",!0).order("created_at",{ascending:!1});if(s)throw s;return a}(a);l(e)}catch(e){c(e.message)}finally{n(!1)}};(0,r.useEffect)((()=>{a&&w()}),[a]);const k=()=>{A({titulo:"",video_url:"",descricao:"",plataforma:"youtube",categoria:"geral",ativo:!0}),j(null),y(!1)},C=async e=>{if(window.confirm("Tem certeza que deseja excluir este v\xeddeo?"))try{await async function(e){const{error:a}=await t.N.from("titulos_videos").delete().eq("id",e);if(a)throw a;return!0}(e),f("V\xeddeo exclu\xeddo com sucesso!"),w()}catch(a){c(a.message)}};return i?(0,b.jsx)("div",{className:"p-6 text-center",children:"Carregando v\xeddeos..."}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"V\xeddeos da Escola"}),(0,b.jsxs)("button",{onClick:()=>y(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[(0,b.jsx)(u.A,{className:"w-5 h-5"}),"Novo V\xeddeo"]})]}),d&&(0,b.jsx)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-600",children:d}),p&&(0,b.jsx)("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg text-green-600",children:p}),(0,b.jsx)("div",{className:"space-y-4",children:0===s.length?(0,b.jsxs)("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[(0,b.jsx)("p",{className:"text-gray-500",children:"Nenhum v\xeddeo cadastrado."}),(0,b.jsx)("button",{onClick:()=>y(!0),className:"mt-4 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Adicionar v\xeddeo"})]}):s.map((e=>(0,b.jsx)("div",{className:"p-6 bg-white rounded-lg border ".concat(e.ativo?"":"opacity-60"),children:(0,b.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("h4",{className:"font-medium text-gray-900",children:e.titulo}),!e.ativo&&(0,b.jsx)("span",{className:"flex items-center gap-1 text-orange-600 text-sm",children:"Inativo"})]}),(0,b.jsx)("p",{className:"text-gray-700 text-sm mb-2",children:e.descricao}),(0,b.jsx)("div",{className:"mb-2",children:(0,b.jsx)("iframe",{src:e.video_url,title:e.titulo,className:"w-full aspect-video rounded-lg border",allowFullScreen:!0})}),(0,b.jsxs)("div",{className:"text-xs text-gray-500",children:["Plataforma: ",e.plataforma," | Categoria: ",e.categoria]})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-2 ml-4",children:[(0,b.jsx)("button",{onClick:()=>(e=>{j(e),A({titulo:e.titulo||"",video_url:e.video_url||"",descricao:e.descricao||"",plataforma:e.plataforma||"youtube",categoria:e.categoria||"geral",ativo:e.ativo}),y(!0)})(e),className:"p-2 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg",title:"Editar",children:(0,b.jsx)(m.A,{className:"w-5 h-5"})}),(0,b.jsx)("button",{onClick:()=>C(e.id),className:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg",title:"Excluir",children:(0,b.jsx)(x.A,{className:"w-5 h-5"})})]})]})},e.id)))}),h&&(0,b.jsxs)("div",{className:"p-6 bg-gray-50 rounded-lg border",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h4",{className:"text-lg font-medium text-gray-900",children:v?"Editar V\xeddeo":"Novo V\xeddeo"}),(0,b.jsxs)("button",{onClick:k,className:"text-gray-400 hover:text-gray-600",children:[(0,b.jsx)("span",{className:"sr-only",children:"Fechar"}),"\xd7"]})]}),(0,b.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!N.titulo.trim()||!N.video_url.trim())return void c("T\xedtulo e URL do v\xeddeo s\xe3o obrigat\xf3rios.");const s=(0,o.A)((0,o.A)({escola_id:Number(a)},N),{},{ativo:Boolean(N.ativo)});try{c(""),f(""),v?(await async function(e,a){const{data:s,error:o}=await t.N.from("titulos_videos").update(a).eq("id",e).select();if(o)throw o;return null===s||void 0===s?void 0:s[0]}(v.id,s),f("V\xeddeo atualizado com sucesso!")):(await async function(e){const{data:a,error:s}=await t.N.from("titulos_videos").insert([e]).select();if(s)throw s;return null===a||void 0===a?void 0:a[0]}(s),f("V\xeddeo criado com sucesso!")),k(),w()}catch(r){c(r.message)}},className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T\xedtulo *"}),(0,b.jsx)("input",{type:"text",value:N.titulo,onChange:e=>A((0,o.A)((0,o.A)({},N),{},{titulo:e.target.value})),className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"T\xedtulo do v\xeddeo",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL do V\xeddeo *"}),(0,b.jsx)("input",{type:"url",value:N.video_url,onChange:e=>A((0,o.A)((0,o.A)({},N),{},{video_url:e.target.value})),className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"https://www.youtube.com/embed/...",required:!0})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descri\xe7\xe3o"}),(0,b.jsx)("textarea",{value:N.descricao,onChange:e=>A((0,o.A)((0,o.A)({},N),{},{descricao:e.target.value})),rows:3,className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Descri\xe7\xe3o do v\xeddeo (opcional)"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Plataforma"}),(0,b.jsx)("input",{type:"text",value:N.plataforma,onChange:e=>A((0,o.A)((0,o.A)({},N),{},{plataforma:e.target.value})),className:"w-full border rounded-lg px-3 py-2",placeholder:"youtube, vimeo..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),(0,b.jsx)("input",{type:"text",value:N.categoria,onChange:e=>A((0,o.A)((0,o.A)({},N),{},{categoria:e.target.value})),className:"w-full border rounded-lg px-3 py-2",placeholder:"geral, institucional..."})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-6",children:[(0,b.jsx)("input",{type:"checkbox",checked:N.ativo,onChange:e=>A((0,o.A)((0,o.A)({},N),{},{ativo:e.target.checked})),className:"rounded border-gray-300 text-green-600 focus:ring-green-500"}),(0,b.jsx)("span",{className:"text-sm text-gray-700",children:"Ativo"})]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)("button",{type:"submit",className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[(0,b.jsx)(g.A,{className:"w-5 h-5"}),v?"Atualizar":"Criar"]}),(0,b.jsx)("button",{type:"button",onClick:k,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"})]})]})]})]})},f=()=>{const{triggerRefresh:e}=(0,n.b)(),[a,s]=(0,r.useState)([]),[u,m]=(0,r.useState)(""),[x,g]=(0,r.useState)("todos"),[f,h]=(0,r.useState)(null),[y,v]=(0,r.useState)(!1),[j,N]=(0,r.useState)(null),[A,w]=(0,r.useState)(!1),[k,C]=(0,r.useState)([]),[P,E]=(0,r.useState)(!1),[_,T]=(0,r.useState)(!1),[D,S]=(0,r.useState)(null),[M,L]=(0,r.useState)({titulo:"",autoria:"",tipo:"",link_pdf:""}),[I,q]=(0,r.useState)(!1),F="undefined"!==typeof window&&window.innerWidth<=768;(0,r.useEffect)((()=>{(async()=>{try{const{data:e,error:a}=await t.N.from("escolas_completa").select("*").order("Escola",{ascending:!0});if(a)throw a;const r=e.map((e=>(0,o.A)((0,o.A)({},e),{},{logradouro:e.logradouro||"",numero:e.numero||"",complemento:e.complemento||"",bairro:e.bairro||"",cep:e.cep||"",estado:e.estado||"SP"})));s(r)}catch(e){console.error("Erro ao buscar escolas:",e)}})()}),[]);(0,r.useEffect)((()=>{null!==f&&void 0!==f&&f.id&&(async e=>{try{E(!0);const{data:a,error:s}=await t.N.from("documentos_escola").select("*").eq("escola_id",e).order("titulo",{ascending:!0});if(s)throw s;C(a||[])}catch(a){console.error("Erro ao buscar documentos:",a),C([])}finally{E(!1)}})(f.id)}),[null===f||void 0===f?void 0:f.id]);return(0,b.jsxs)("div",{className:"flex min-h-screen bg-gray-100",children:[F&&!I&&(0,b.jsx)("button",{className:"fixed top-4 left-4 z-50 bg-white rounded-full shadow-lg p-2 border border-gray-200",onClick:()=>q(!0),"aria-label":"Abrir menu lateral",children:(0,b.jsx)(d.A,{className:"w-6 h-6 text-gray-700"})}),(!F||I)&&(0,b.jsxs)("aside",{className:"bg-white border-r p-4 overflow-y-auto h-screen sticky top-0 z-40 transition-transform duration-300 ".concat(F?"fixed left-0 top-0 w-64 max-w-[80vw] shadow-2xl":"w-64"),style:{transform:F&&!I?"translateX(-100%)":"translateX(0)"},children:[F&&(0,b.jsx)("button",{className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500",onClick:()=>q(!1),"aria-label":"Fechar menu lateral",children:(0,b.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,b.jsx)("h2",{className:"text-lg font-bold mb-4 sticky top-0 bg-white pb-2",children:"Escolas"}),(0,b.jsx)("div",{className:"mb-4 sticky top-12 bg-white pb-2",children:(0,b.jsx)("input",{type:"text",placeholder:"Buscar escola...",className:"w-full px-3 py-2 border rounded text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:u,onChange:e=>m(e.target.value)})}),(0,b.jsx)("ul",{className:"space-y-1",children:a.filter((e=>{var a;return null===(a=e.Escola)||void 0===a?void 0:a.toLowerCase().includes(u.toLowerCase())})).map((e=>(0,b.jsx)("li",{children:(0,b.jsx)("button",{className:"block w-full text-left px-2 py-1 rounded hover:bg-blue-100 text-sm ".concat((null===f||void 0===f?void 0:f.id)===e.id?"bg-blue-200 font-bold":""),onClick:()=>{(e=>{const a={id:e.id,Escola:e.Escola,"Munic\xedpio":e["Munic\xedpio"],"Endere\xe7o":e["Endere\xe7o"],"Terra Indigena (TI)":e["Terra Indigena (TI)"],"Parcerias com o munic\xedpio":e["Parcerias com o munic\xedpio"],"Diretoria de Ensino":e["Diretoria de Ensino"],"Ano de cria\xe7\xe3o da escola":e["Ano de cria\xe7\xe3o da escola"],"Povos indigenas":e["Povos indigenas"],"Linguas faladas":e["Linguas faladas"],"Modalidade de Ensino/turnos de funcionamento":e["Modalidade de Ensino/turnos de funcionamento"],"Numero de alunos":e["Numero de alunos"],turnos_funcionamento:e.turnos_funcionamento||"","Espa\xe7o escolar e estrutura":e["Espa\xe7o escolar e estrutura"],"Acesso \xe0 \xe1gua":e["Acesso \xe0 \xe1gua"],"Tem coleta de lixo?":e["Tem coleta de lixo?"],"Acesso \xe0 internet":e["Acesso \xe0 internet"],"Equipamentos Tecnol\xf3gicos (Computadores, tablets e impressoras)":e["Equipamentos Tecnol\xf3gicos (Computadores, tablets e impressoras)"],"Modo de acesso \xe0 escola":e["Modo de acesso \xe0 escola"],"Gest\xe3o/Nome":e["Gest\xe3o/Nome"],"Outros funcion\xe1rios":e["Outros funcion\xe1rios"],"Quantidade de professores ind\xedgenas":e["Quantidade de professores ind\xedgenas"],"Quantidade de professores n\xe3o ind\xedgenas":e["Quantidade de professores n\xe3o ind\xedgenas"],"Professores falam a l\xedngua ind\xedgena?":e["Professores falam a l\xedngua ind\xedgena?"],"Forma\xe7\xe3o dos professores":e["Forma\xe7\xe3o dos professores"],"Forma\xe7\xe3o continuada oferecida":e["Forma\xe7\xe3o continuada oferecida"],"A escola possui PPP pr\xf3prio?":e["A escola possui PPP pr\xf3prio?"],"PPP elaborado com a comunidade?":e["PPP elaborado com a comunidade?"],"Projetos em andamento":e["Projetos em andamento"],"Parcerias com universidades?":e["Parcerias com universidades?"],"A\xe7\xf5es com ONGs ou coletivos?":e["A\xe7\xf5es com ONGs ou coletivos?"],"Desejos da comunidade para a escola":e["Desejos da comunidade para a escola"],"Escola utiliza redes sociais?":e["Escola utiliza redes sociais?"],"Links das redes sociais":e["Links das redes sociais"],historia_da_escola:e.historia_da_escola,latitude:e.latitude,longitude:e.longitude,links:e.links,link_para_videos:e.link_para_videos,logradouro:e.logradouro||"",numero:e.numero||"",complemento:e.complemento||"",bairro:e.bairro||"",cep:e.cep||"",estado:e.estado||"SP",activeTab:"dados-basicos"};h(a)})(e),F&&q(!1)},children:e.Escola})},e.id)))})]}),(0,b.jsxs)("main",{className:"flex-1 p-6 overflow-y-auto h-screen",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Painel de Administra\xe7\xe3o"}),(0,b.jsx)("div",{className:"bg-white p-4 rounded-lg shadow mb-6",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,b.jsx)("div",{className:"relative flex-1",children:(0,b.jsx)("input",{type:"text",placeholder:"Buscar por t\xedtulo ou descri\xe7\xe3o...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:u,onChange:e=>m(e.target.value)})}),(0,b.jsx)("div",{className:"relative",children:(0,b.jsx)("select",{className:"pl-10 pr-4 py-2 border rounded-lg bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:x,onChange:e=>g(e.target.value),children:(0,b.jsx)("option",{value:"todos",children:"Todos"})})}),(0,b.jsx)("button",{onClick:()=>h({Escola:"","Munic\xedpio":"","Endere\xe7o":"","Terra Indigena (TI)":"","Parcerias com o munic\xedpio":"","Diretoria de Ensino":"","Ano de cria\xe7\xe3o da escola":"","Povos indigenas":"","Linguas faladas":"","Modalidade de Ensino/turnos de funcionamento":"","Numero de alunos":"",turnos_funcionamento:"","Espa\xe7o escolar e estrutura":"","Acesso \xe0 \xe1gua":"","Tem coleta de lixo?":"","Acesso \xe0 internet":"","Equipamentos Tecnol\xf3gicos (Computadores, tablets e impressoras)":"","Modo de acesso \xe0 escola":"","Gest\xe3o/Nome":"","Outros funcion\xe1rios":"","Quantidade de professores ind\xedgenas":"","Quantidade de professores n\xe3o ind\xedgenas":"","Professores falam a l\xedngua ind\xedgena?":"","Forma\xe7\xe3o dos professores":"","Forma\xe7\xe3o continuada oferecida":"","A escola possui PPP pr\xf3prio?":"","PPP elaborado com a comunidade?":"","Projetos em andamento":"","Parcerias com universidades?":"","A\xe7\xf5es com ONGs ou coletivos?":"","Desejos da comunidade para a escola":"","Escola utiliza redes sociais?":"","Links das redes sociais":"",historia_da_escola:"",latitude:"",longitude:"",links:"",link_para_videos:"",logradouro:"",numero:"",complemento:"",bairro:"",cep:"",estado:"SP",nome_professor:"",professores_indigenas:"",professores_nao_indigenas:"",professores_falam_lingua_indigena:"",formacao_professores:"",visitas_supervisores_formacao:"",outros_funcionarios:"",gestao:"",merenda_diferenciada:"",cozinha:"",merenda_escolar:"",diferenciada:"",activeTab:"dados-basicos"}),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 transition-colors",children:"+ Nova Escola"})]})}),f&&"object"===typeof f&&void 0!==f.Escola&&(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 max-h-[calc(100vh-200px)] overflow-hidden flex flex-col",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold",children:f.id?"Editar Escola":"Nova Escola"}),(0,b.jsx)("button",{onClick:()=>h(null),className:"text-gray-500 hover:text-gray-700",children:"Fechar"})]}),(0,b.jsx)("div",{className:"border-b border-gray-200 mb-6 flex-shrink-0",children:(0,b.jsx)("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:[{id:"dados-basicos",label:"Dados B\xe1sicos"},{id:"povos-linguas",label:"Povos"},{id:"modalidades",label:"Modalidades"},{id:"infraestrutura",label:"Infraestrutura"},{id:"gestao-professores",label:"Gestores"},{id:"material-pedagogico",label:"Material Pedag\xf3gico"},{id:"projetos-parcerias",label:"Projetos e Parcerias"},{id:"redes-sociais",label:"Redes Sociais"},{id:"video",label:"V\xeddeo"},{id:"historias",label:"Hist\xf3rias"},{id:"historia-professores",label:"Hist\xf3ria dos Professores"},{id:"coordenadas",label:"Coordenadas"},{id:"imagens-escola",label:"Imagens da Escola"},{id:"imagens-professores",label:"Imagens dos Professores"},{id:"documentos",label:"Documentos"}].map((e=>(0,b.jsx)("button",{type:"button",onClick:()=>h((0,o.A)((0,o.A)({},f),{},{activeTab:e.id})),className:"whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ".concat((f.activeTab||"dados-basicos")===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:e.label},e.id)))})}),(0,b.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const r=(e=>{const a=[];return e.Escola&&""!==e.Escola.trim()||a.push("Nome da escola \xe9 obrigat\xf3rio"),a})(f);if(r.length>0)N(r.join(", "));else{v(!0),N(null),w(!1);try{"municipio"in f&&delete f.municipio;const e={Escola:f.Escola,"Munic\xedpio":f.Munic\u00edpio,"Endere\xe7o":f.Endere\u00e7o,logradouro:f.logradouro,numero:f.numero,complemento:f.complemento,bairro:f.bairro,cep:f.cep,estado:f.estado,"Terra Indigena (TI)":f["Terra Indigena (TI)"],"Parcerias com o munic\xedpio":f["Parcerias com o munic\xedpio"],"Diretoria de Ensino":f["Diretoria de Ensino"],"Ano de cria\xe7\xe3o da escola":f["Ano de cria\xe7\xe3o da escola"],"Povos indigenas":f["Povos indigenas"],"Linguas faladas":f["Linguas faladas"],"Modalidade de Ensino/turnos de funcionamento":f["Modalidade de Ensino/turnos de funcionamento"],"Numero de alunos":f["Numero de alunos"],turnos_funcionamento:f.turnos_funcionamento,"Espa\xe7o escolar e estrutura":f["Espa\xe7o escolar e estrutura"],"Acesso \xe0 \xe1gua":f["Acesso \xe0 \xe1gua"],"Tem coleta de lixo?":f["Tem coleta de lixo?"],"Acesso \xe0 internet":f["Acesso \xe0 internet"],"Equipamentos Tecnol\xf3gicos (Computadores, tablets e impressoras)":f["Equipamentos Tecnol\xf3gicos (Computadores, tablets e impressoras)"],"Modo de acesso \xe0 escola":f["Modo de acesso \xe0 escola"],Cozinha:f.cozinha,"Merenda Escolar":f.merenda_escolar,"Merenda Diferenciada":f.diferenciada,"Merenda Diferenciada (Detalhes)":f.merenda_diferenciada,"Gest\xe3o/Nome":f["Gest\xe3o/Nome"],"Outros funcion\xe1rios":f["Outros funcion\xe1rios"],"Quantidade de professores ind\xedgenas":f["Quantidade de professores ind\xedgenas"],"Quantidade de professores n\xe3o ind\xedgenas":f["Quantidade de professores n\xe3o ind\xedgenas"],"Professores falam a l\xedngua ind\xedgena?":f["Professores falam a l\xedngua ind\xedgena?"],"Forma\xe7\xe3o dos professores":f["Forma\xe7\xe3o dos professores"],"Forma\xe7\xe3o continuada oferecida":f["Forma\xe7\xe3o continuada oferecida"],"A escola possui PPP pr\xf3prio?":f["A escola possui PPP pr\xf3prio?"],"PPP elaborado com a comunidade?":f["PPP elaborado com a comunidade?"],"Linguas faladas":f["Linguas faladas"],"Projetos em andamento":f["Projetos em andamento"],"Parcerias com universidades?":f["Parcerias com universidades?"],"A\xe7\xf5es com ONGs ou coletivos?":f["A\xe7\xf5es com ONGs ou coletivos?"],"Desejos da comunidade para a escola":f["Desejos da comunidade para a escola"],"Escola utiliza redes sociais?":f["Escola utiliza redes sociais?"],"Links das redes sociais":f["Links das redes sociais"],links:f.links,link_para_videos:f.link_para_videos,historia_da_escola:f.historia_da_escola,latitude:f.latitude,longitude:f.longitude};console.log("=== DEBUG: Campos sendo enviados para o Supabase ==="),console.log("updateData:",e),console.log('Campos com "municipio" (sem acento):',Object.keys(e).filter((e=>e.includes("municipio")))),console.log('Campos com "Munic\xedpio" (com acento):',Object.keys(e).filter((e=>e.includes("Munic\xedpio")))),console.log("editingLocation completo:",f),console.log("Todas as chaves do editingLocation:",Object.keys(f)),console.log('Chaves que cont\xeam "municipio":',Object.keys(f).filter((e=>e.includes("municipio")))),console.log("==================================================");const{error:r}=await t.N.from("escolas_completa").update(e).eq("id",f.id);if(r)throw r;s(a.map((e=>e.id===f.id?(0,o.A)((0,o.A)({},e),f):e))),w(!0),setTimeout((()=>{w(!1)}),3e3)}catch(l){console.error("Erro ao salvar:",l),N("Erro ao salvar: ".concat(l.message))}finally{v(!1)}}},className:"flex-1 flex flex-col overflow-hidden",children:[(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto",children:["dados-basicos"===(f.activeTab||"dados-basicos")&&(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"Nome da Escola *"}),(0,b.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:f.Escola||"",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{Escola:e.target.value})),required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"Munic\xedpio"}),(0,b.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:f.Munic\u00edpio||"",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{"Munic\xedpio":e.target.value}))})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"Endere\xe7o Detalhado"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[(0,b.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-sm",value:f.logradouro||"",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{logradouro:e.target.value})),placeholder:"Logradouro (Rua, Avenida, etc.)"}),(0,b.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-sm",value:f.numero||"",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{numero:e.target.value})),placeholder:"N\xfamero"}),(0,b.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-sm",value:f.complemento||"",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{complemento:e.target.value})),placeholder:"Complemento"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 mt-2",children:[(0,b.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-sm",value:f.bairro||"",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{bairro:e.target.value})),placeholder:"Bairro"}),(0,b.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-sm",value:f.cep||"",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{cep:e.target.value})),placeholder:"CEP"}),(0,b.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-sm",value:f.estado||"SP",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{estado:e.target.value})),placeholder:"Estado"})]})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"Endere\xe7o Completo"}),(0,b.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:f.Endere\u00e7o||"",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{"Endere\xe7o":e.target.value})),placeholder:"Digite o endere\xe7o completo da escola..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"Terra Ind\xedgena (TI)"}),(0,b.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:f["Terra Indigena (TI)"]||"",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{"Terra Indigena (TI)":e.target.value}))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"Diretoria de Ensino"}),(0,b.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:f["Diretoria de Ensino"]||"",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{"Diretoria de Ensino":e.target.value}))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"Ano de Cria\xe7\xe3o"}),(0,b.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:f["Ano de cria\xe7\xe3o da escola"]||"",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{"Ano de cria\xe7\xe3o da escola":e.target.value}))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"Parcerias com o Munic\xedpio"}),(0,b.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:f["Parcerias com o munic\xedpio"]||"",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{"Parcerias com o munic\xedpio":e.target.value})),placeholder:"Descreva as parcerias com o munic\xedpio..."})]})]}),"povos-linguas"===f.activeTab&&(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"Povos"}),(0,b.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:f["Povos indigenas"]||"",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{"Povos indigenas":e.target.value}))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"L\xednguas Faladas"}),(0,b.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:f["Linguas faladas"]||"",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{"Linguas faladas":e.target.value}))})]})]}),"modalidades"===f.activeTab&&(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"Modalidade de Ensino/Turnos"}),(0,b.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:f["Modalidade de Ensino/turnos de funcionamento"]||"",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{"Modalidade de Ensino/turnos de funcionamento":e.target.value}))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"N\xfamero de Alunos"}),(0,b.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:f["Numero de alunos"]||"",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{"Numero de alunos":e.target.value}))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"Turnos de Funcionamento"}),(0,b.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:f.turnos_funcionamento||"",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{turnos_funcionamento:e.target.value})),placeholder:"Ex: Diurno, Noturno, Vespertino, etc."})]})]}),"infraestrutura"===f.activeTab&&(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"Espa\xe7o Escolar e Estrutura"}),(0,b.jsx)("textarea",{className:"w-full border rounded px-3 py-2 h-24 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:f["Espa\xe7o escolar e estrutura"]||"",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{"Espa\xe7o escolar e estrutura":e.target.value}))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"Acesso \xe0 \xc1gua"}),(0,b.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:f["Acesso \xe0 \xe1gua"]||"",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{"Acesso \xe0 \xe1gua":e.target.value}))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"Coleta de Lixo"}),(0,b.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:f["Tem coleta de lixo?"]||"",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{"Tem coleta de lixo?":e.target.value}))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"Acesso \xe0 Internet"}),(0,b.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:f["Acesso \xe0 internet"]||"",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{"Acesso \xe0 internet":e.target.value}))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"Equipamentos Tecnol\xf3gicos"}),(0,b.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:f["Equipamentos Tecnol\xf3gicos (Computadores, tablets e impressoras)"]||"",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{"Equipamentos Tecnol\xf3gicos (Computadores, tablets e impressoras)":e.target.value}))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"Modo de Acesso \xe0 Escola"}),(0,b.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:f["Modo de acesso \xe0 escola"]||"",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{"Modo de acesso \xe0 escola":e.target.value}))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"Cozinha"}),(0,b.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:f.cozinha||"",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{cozinha:e.target.value})),placeholder:"Ex: Sim, N\xe3o, Em constru\xe7\xe3o..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"Merenda Escolar"}),(0,b.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:f.merenda_escolar||"",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{merenda_escolar:e.target.value})),placeholder:"Ex: Sim, N\xe3o, Parcial..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"Merenda Diferenciada"}),(0,b.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:f.diferenciada||"",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{diferenciada:e.target.value})),placeholder:"Ex: Sim, N\xe3o, Espec\xedfica..."})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"Merenda Diferenciada (Detalhes)"}),(0,b.jsx)("textarea",{className:"w-full border rounded px-3 py-2 h-24 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:f.merenda_diferenciada||"",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{merenda_diferenciada:e.target.value})),placeholder:"Descreva a situa\xe7\xe3o do fornecimento de merenda (ex: se a escola recebe, se h\xe1 interrup\xe7\xf5es, etc.)"})]})]}),"gestao-professores"===f.activeTab&&(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"Gest\xe3o/Nome"}),(0,b.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:f["Gest\xe3o/Nome"]||"",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{"Gest\xe3o/Nome":e.target.value}))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"Professores Ind\xedgenas"}),(0,b.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:f["Quantidade de professores ind\xedgenas"]||"",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{"Quantidade de professores ind\xedgenas":e.target.value}))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"Professores N\xe3o Ind\xedgenas"}),(0,b.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:f["Quantidade de professores n\xe3o ind\xedgenas"]||"",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{"Quantidade de professores n\xe3o ind\xedgenas":e.target.value}))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"Professores Falam L\xedngua Ind\xedgena?"}),(0,b.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:f["Professores falam a l\xedngua ind\xedgena?"]||"",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{"Professores falam a l\xedngua ind\xedgena?":e.target.value}))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"Forma\xe7\xe3o dos Professores"}),(0,b.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:f["Forma\xe7\xe3o dos professores"]||"",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{"Forma\xe7\xe3o dos professores":e.target.value}))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"Forma\xe7\xe3o Continuada"}),(0,b.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:f["Forma\xe7\xe3o continuada oferecida"]||"",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{"Forma\xe7\xe3o continuada oferecida":e.target.value}))})]})]}),"material-pedagogico"===f.activeTab&&(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"A escola possui PPP pr\xf3prio?"}),(0,b.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:f["A escola possui PPP pr\xf3prio?"]||"",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{"A escola possui PPP pr\xf3prio?":e.target.value}))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"PPP elaborado com a comunidade?"}),(0,b.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:f["PPP elaborado com a comunidade?"]||"",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{"PPP elaborado com a comunidade?":e.target.value}))})]})]}),"projetos-parcerias"===f.activeTab&&(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"Projetos em Andamento"}),(0,b.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:f["Projetos em andamento"]||"",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{"Projetos em andamento":e.target.value}))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"Parcerias com Universidades?"}),(0,b.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:f["Parcerias com universidades?"]||"",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{"Parcerias com universidades?":e.target.value}))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"A\xe7\xf5es com ONGs ou Coletivos?"}),(0,b.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:f["A\xe7\xf5es com ONGs ou coletivos?"]||"",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{"A\xe7\xf5es com ONGs ou coletivos?":e.target.value}))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"Desejos da Comunidade"}),(0,b.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:f["Desejos da comunidade para a escola"]||"",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{"Desejos da comunidade para a escola":e.target.value}))})]})]}),"redes-sociais"===f.activeTab&&(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"Escola utiliza redes sociais?"}),(0,b.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:f["Escola utiliza redes sociais?"]||"",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{"Escola utiliza redes sociais?":e.target.value}))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"Links das Redes Sociais"}),(0,b.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:f["Links das redes sociais"]||"",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{"Links das redes sociais":e.target.value}))})]})]}),"video"===f.activeTab&&(0,b.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,b.jsx)("p",{children:"Use o gerenciador de v\xeddeos acima para adicionar e editar v\xeddeos."})}),"historias"===f.activeTab&&(0,b.jsx)("div",{className:"grid grid-cols-1 gap-4 md:gap-6",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"Hist\xf3ria da Escola"}),(0,b.jsx)("textarea",{className:"w-full border rounded px-3 py-2 h-32 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:f.historia_da_escola||"",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{historia_da_escola:e.target.value}))})]})}),"coordenadas"===f.activeTab&&(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"Latitude"}),(0,b.jsx)("input",{type:"number",step:"any",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:f.latitude||"",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{latitude:e.target.value}))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"Longitude"}),(0,b.jsx)("input",{type:"number",step:"any",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:f.longitude||"",onChange:e=>h((0,o.A)((0,o.A)({},f),{},{longitude:e.target.value}))})]})]}),"imagens-escola"===f.activeTab&&(0,b.jsx)("div",{className:"space-y-4",children:(0,b.jsx)(l.A,{escolaId:f.id,onImagesUpdate:()=>{e&&e()}})}),"imagens-professores"===f.activeTab&&(0,b.jsx)("div",{className:"space-y-4",children:(0,b.jsx)(i.A,{escolaId:f.id,onImagesUpdate:()=>{e&&e()}})}),"documentos"===f.activeTab&&(0,b.jsxs)("div",{className:"space-y-4",children:[!_&&(0,b.jsx)("button",{type:"button",onClick:()=>T(!0),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 transition-colors",children:"+ Adicionar Documento"}),_&&(0,b.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[(0,b.jsx)("h5",{className:"font-medium text-green-800 mb-4",children:"Adicionar Novo Documento"}),(0,b.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),null!==f&&void 0!==f&&f.id)try{const{data:e,error:a}=await t.N.from("documentos_escola").insert([(0,o.A)((0,o.A)({},M),{},{escola_id:f.id})]).select();if(a)throw a;C([...k,e[0]]),L({titulo:"",autoria:"",tipo:"",link_pdf:""}),T(!1)}catch(a){console.error("Erro ao adicionar documento:",a),alert("Erro ao adicionar documento. Tente novamente.")}},className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"T\xedtulo *"}),(0,b.jsx)("input",{type:"text",required:!0,className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:M.titulo,onChange:e=>L((0,o.A)((0,o.A)({},M),{},{titulo:e.target.value}))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"Autor"}),(0,b.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:M.autoria,onChange:e=>L((0,o.A)((0,o.A)({},M),{},{autoria:e.target.value}))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"Tipo"}),(0,b.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:M.tipo,onChange:e=>L((0,o.A)((0,o.A)({},M),{},{tipo:e.target.value}))})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"Link do PDF *"}),(0,b.jsx)("input",{type:"url",required:!0,className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:M.link_pdf,onChange:e=>L((0,o.A)((0,o.A)({},M),{},{link_pdf:e.target.value})),placeholder:"https://drive.google.com/file/d/..."}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Recomendado: Link do Google Drive com permiss\xe3o p\xfablica"})]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{type:"submit",className:"px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors min-h-[44px] text-base",disabled:y,children:y?"Salvando...":"Salvar Altera\xe7\xf5es"}),(0,b.jsx)("button",{type:"button",className:"px-4 py-3 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors min-h-[44px] text-base",onClick:()=>{T(!1),L({titulo:"",autoria:"",tipo:"",link_pdf:""})},disabled:y,children:"Cancelar"})]})]})]}),!P&&k.length>0&&(0,b.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,b.jsx)("h5",{className:"font-medium text-gray-800 mb-4",children:"Gerenciar Documentos"}),(0,b.jsx)("div",{className:"space-y-3",children:k.map((e=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h6",{className:"font-medium text-gray-800",children:e.titulo}),e.autoria&&(0,b.jsxs)("p",{className:"text-sm text-gray-600",children:["Por: ",e.autoria]}),e.tipo&&(0,b.jsx)("span",{className:"inline-block mt-1 px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:e.tipo})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{type:"button",onClick:()=>S(e),className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Editar"}),(0,b.jsx)("button",{type:"button",onClick:()=>(async e=>{if(window.confirm("Tem certeza que deseja excluir este documento?"))try{const{error:a}=await t.N.from("documentos_escola").delete().eq("id",e);if(a)throw a;C(k.filter((a=>a.id!==e)))}catch(a){console.error("Erro ao excluir documento:",a),alert("Erro ao excluir documento. Tente novamente.")}})(e.id),className:"px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"Excluir"})]})]},e.id)))})]}),D&&(0,b.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[(0,b.jsx)("h5",{className:"font-medium text-yellow-800 mb-4",children:"Editar Documento"}),(0,b.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),null!==D&&void 0!==D&&D.id)try{const{error:e}=await t.N.from("documentos_escola").update(D).eq("id",D.id);if(e)throw e;C(k.map((e=>e.id===D.id?D:e))),S(null)}catch(a){console.error("Erro ao atualizar documento:",a),alert("Erro ao atualizar documento. Tente novamente.")}},className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"T\xedtulo *"}),(0,b.jsx)("input",{type:"text",required:!0,className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:D.titulo,onChange:e=>S((0,o.A)((0,o.A)({},D),{},{titulo:e.target.value}))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"Autor"}),(0,b.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:D.autoria||"",onChange:e=>S((0,o.A)((0,o.A)({},D),{},{autoria:e.target.value}))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"Tipo"}),(0,b.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:D.tipo||"",onChange:e=>S((0,o.A)((0,o.A)({},D),{},{tipo:e.target.value}))})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-base",children:"Link do PDF *"}),(0,b.jsx)("input",{type:"url",required:!0,className:"w-full border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[44px] text-base",value:D.link_pdf,onChange:e=>S((0,o.A)((0,o.A)({},D),{},{link_pdf:e.target.value}))})]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{type:"submit",className:"px-4 py-3 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors min-h-[44px] text-base",children:"Atualizar Documento"}),(0,b.jsx)("button",{type:"button",className:"px-4 py-3 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors min-h-[44px] text-base",children:"Cancelar"})]})]})]}),(0,b.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,b.jsx)("h5",{className:"font-medium text-blue-800 mb-2",children:"Sobre os Documentos"}),(0,b.jsxs)("p",{className:"text-sm text-blue-700 mb-3",children:["Os documentos s\xe3o armazenados na tabela ",(0,b.jsx)("code",{children:"documentos_escola"})," no Supabase. Voc\xea pode adicionar, editar e remover documentos diretamente neste painel."]}),(0,b.jsxs)("div",{className:"text-xs text-blue-600",children:[(0,b.jsx)("p",{children:(0,b.jsx)("strong",{children:"Estrutura da tabela:"})}),(0,b.jsxs)("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[(0,b.jsxs)("li",{children:[(0,b.jsx)("code",{children:"id"})," - ID \xfanico do documento"]}),(0,b.jsxs)("li",{children:[(0,b.jsx)("code",{children:"escola_id"})," - ID da escola (preenchido automaticamente)"]}),(0,b.jsxs)("li",{children:[(0,b.jsx)("code",{children:"titulo"})," - T\xedtulo do documento"]}),(0,b.jsxs)("li",{children:[(0,b.jsx)("code",{children:"autoria"})," - Autor do documento (opcional)"]}),(0,b.jsxs)("li",{children:[(0,b.jsx)("code",{children:"tipo"})," - Tipo do documento (opcional)"]}),(0,b.jsxs)("li",{children:[(0,b.jsx)("code",{children:"link_pdf"})," - URL do documento (Google Drive ou outro)"]})]})]})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-2 mt-6 pt-6 border-t border-gray-200 flex-shrink-0",children:[(0,b.jsx)("button",{type:"submit",className:"px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors min-h-[44px] text-base",disabled:y,children:y?"Salvando...":"Salvar Altera\xe7\xf5es"}),(0,b.jsx)("button",{type:"button",className:"px-4 py-3 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors min-h-[44px] text-base",onClick:()=>h(null),disabled:y,children:"Cancelar"})]})]}),"historia-professores"===f.activeTab&&(0,b.jsx)(c.A,{escolaId:f.id,escolaNome:f.Escola}),"video"===f.activeTab&&(0,b.jsx)(p,{escolaId:f.id}),j&&(0,b.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-4 flex-shrink-0",children:j}),A&&(0,b.jsx)("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded mb-4 flex-shrink-0",children:"Escola salva com sucesso!"})]})]})]})};const h=r.memo(f)}}]);
//# sourceMappingURL=109.d8acdb86.chunk.js.map