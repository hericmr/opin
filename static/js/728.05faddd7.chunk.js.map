{"version":3,"file":"static/js/728.05faddd7.chunk.js","mappings":"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","sources":["services/legendasService.js","services/escolaImageService.js","components/AddLocationPanel/components/PDFUploadSection.js","components/AdminPanel/tabs/DocumentosTab.js","components/EditEscolaPanel/ImageUploadSection.js","components/AdminPanel/tabs/ImagensEscolaTab.js","services/uploadService.js","services/professorImageMetaService.js","components/EditEscolaPanel/ProfessorImageUploadSection.js","components/AdminPanel/tabs/ImagensProfessoresTab.js","config/storage.js","components/AdminPanel/hooks/useEscolas.js","components/AdminPanel/utils/modalidadesOptions.js","components/AdminPanel/hooks/useModalidades.js","components/AdminPanel/constants/adminConstants.js","components/AdminPanel/AdminSidebar.js","components/AdminPanel/AdminToolbar.js","components/AdminPanel/tabs/ModalidadesTab.js","components/AdminPanel/tabs/DadosBasicosTab.js","components/AdminPanel/tabs/PovosLinguasTab.js","components/AdminPanel/tabs/InfraestruturaTab.js","components/AdminPanel/tabs/GestaoProfessoresTab.js","components/AdminPanel/tabs/MaterialPedagogicoTab.js","components/AdminPanel/tabs/ProjetosParceriasTab.js","components/AdminPanel/tabs/RedesSociaisTab.js","components/AdminPanel/VideoManager.js","services/videoService.js","components/AdminPanel/tabs/VideoTab.js","components/AdminPanel/tabs/RichTextEditor.js","components/AdminPanel/tabs/HistoriasTab.js","components/AdminPanel/tabs/HistoriaProfessoresTab.js","components/AdminPanel/tabs/CoordenadasTab.js","components/AdminPanel/index.js","components/AdminPanel.js"],"sourcesContent":["import { supabase } from '../supabaseClient';\n\n/**\n * Buscar legendas de fotos de uma escola\n * @param {number} escolaId - ID da escola\n * @param {string} tipoFoto - 'escola' ou 'professor' (opcional, busca todas se não especificado)\n * @returns {Promise<Array>} Lista de legendas de fotos\n */\nexport const getLegendasFotos = async (escolaId, tipoFoto = null) => {\n  try {\n    let query = supabase\n      .from('legendas_fotos')\n      .select('*')\n      .eq('escola_id', escolaId)\n      .eq('ativo', true)\n      .order('created_at', { ascending: false });\n\n    // Verificar se a coluna tipo_foto existe antes de usá-la\n    if (tipoFoto) {\n      try {\n        query = query.eq('tipo_foto', tipoFoto);\n      } catch (columnError) {\n        // Se a coluna não existe, ignorar o filtro por tipo\n        console.warn('Coluna tipo_foto não encontrada. Ignorando filtro por tipo.');\n      }\n    }\n\n    const { data, error } = await query;\n\n    if (error) {\n      throw error;\n    }\n\n    return data || [];\n  } catch (error) {\n    console.error('Erro ao buscar legendas de fotos:', error);\n    throw error;\n  }\n};\n\n/**\n * Adicionar legenda de foto\n * @param {Object} legenda - Dados da legenda\n * @returns {Promise<Object>} Legenda criada\n */\nexport const addLegendaFoto = async (legenda) => {\n  try {\n    console.log('=== DEBUG: addLegendaFoto ===');\n    console.log('Dados recebidos:', legenda);\n    \n    // Remover tipo_foto se a coluna não existir no banco\n    const legendaData = { ...legenda };\n    console.log('Dados iniciais:', legendaData);\n    \n    // Verificar se a coluna tipo_foto existe antes de incluí-la\n    try {\n      console.log('Verificando se a coluna tipo_foto existe...');\n      // Tentar uma consulta simples para verificar se a coluna existe\n      const { data: testData, error: testError } = await supabase\n        .from('legendas_fotos')\n        .select('tipo_foto')\n        .limit(1);\n      \n      console.log('Teste da coluna tipo_foto:', { testData, testError });\n      \n      if (testError && testError.code === '42703') {\n        // Se a coluna não existe, remover do objeto\n        console.warn('Coluna tipo_foto não encontrada. Removendo do objeto de inserção.');\n        delete legendaData.tipo_foto;\n      }\n    } catch (columnError) {\n      // Se a coluna não existe, remover do objeto\n      console.warn('Coluna tipo_foto não encontrada. Removendo do objeto de inserção.');\n      delete legendaData.tipo_foto;\n    }\n\n    console.log('Dados finais para inserção:', legendaData);\n    \n    const { data, error } = await supabase\n      .from('legendas_fotos')\n      .insert([legendaData])\n      .select()\n      .single();\n\n    console.log('Resposta do Supabase:', { data, error });\n\n    if (error) {\n      console.error('Erro do Supabase:', error);\n      throw error;\n    }\n\n    console.log('Legenda criada com sucesso:', data);\n    return data;\n  } catch (error) {\n    console.error('Erro ao adicionar legenda de foto:', error);\n    throw error;\n  }\n};\n\n/**\n * Atualizar legenda de foto\n * @param {number} id - ID da legenda\n * @param {Object} updates - Dados para atualizar\n * @returns {Promise<Object>} Legenda atualizada\n */\nexport const updateLegendaFoto = async (id, updates) => {\n  try {\n    console.log('=== DEBUG: updateLegendaFoto ===');\n    console.log('ID da legenda:', id);\n    console.log('Dados para atualização:', updates);\n    \n    const { data, error } = await supabase\n      .from('legendas_fotos')\n      .update(updates)\n      .eq('id', id)\n      .select()\n      .single();\n\n    console.log('Resposta do Supabase:', { data, error });\n\n    if (error) {\n      console.error('Erro do Supabase ao atualizar:', error);\n      throw error;\n    }\n\n    console.log('Legenda atualizada com sucesso:', data);\n    return data;\n  } catch (error) {\n    console.error('Erro ao atualizar legenda de foto:', error);\n    throw error;\n  }\n};\n\n/**\n * Deletar legenda de foto (soft delete)\n * @param {number} id - ID da legenda\n * @returns {Promise<boolean>} Sucesso da operação\n */\nexport const deleteLegendaFoto = async (id) => {\n  try {\n    const { error } = await supabase\n      .from('legendas_fotos')\n      .update({ ativo: false })\n      .eq('id', id);\n\n    if (error) {\n      throw error;\n    }\n\n    return true;\n  } catch (error) {\n    console.error('Erro ao deletar legenda de foto:', error);\n    throw error;\n  }\n};\n\n/**\n * Buscar títulos de vídeos de uma escola\n * @param {number} escolaId - ID da escola\n * @returns {Promise<Array>} Lista de títulos de vídeos\n */\nexport const getTitulosVideos = async (escolaId) => {\n  try {\n    const { data, error } = await supabase\n      .from('titulos_videos')\n      .select('*')\n      .eq('escola_id', escolaId)\n      .eq('ativo', true)\n      .order('created_at', { ascending: false });\n\n    if (error) {\n      throw error;\n    }\n\n    return data || [];\n  } catch (error) {\n    console.error('Erro ao buscar títulos de vídeos:', error);\n    throw error;\n  }\n};\n\n/**\n * Adicionar título de vídeo\n * @param {Object} titulo - Dados do título\n * @returns {Promise<Object>} Título criado\n */\nexport const addTituloVideo = async (titulo) => {\n  try {\n    const { data, error } = await supabase\n      .from('titulos_videos')\n      .insert([titulo])\n      .select()\n      .single();\n\n    if (error) {\n      throw error;\n    }\n\n    return data;\n  } catch (error) {\n    console.error('Erro ao adicionar título de vídeo:', error);\n    throw error;\n  }\n};\n\n/**\n * Atualizar título de vídeo\n * @param {number} id - ID do título\n * @param {Object} updates - Dados para atualizar\n * @returns {Promise<Object>} Título atualizado\n */\nexport const updateTituloVideo = async (id, updates) => {\n  try {\n    const { data, error } = await supabase\n      .from('titulos_videos')\n      .update(updates)\n      .eq('id', id)\n      .select()\n      .single();\n\n    if (error) {\n      throw error;\n    }\n\n    return data;\n  } catch (error) {\n    console.error('Erro ao atualizar título de vídeo:', error);\n    throw error;\n  }\n};\n\n/**\n * Deletar título de vídeo (soft delete)\n * @param {number} id - ID do título\n * @returns {Promise<boolean>} Sucesso da operação\n */\nexport const deleteTituloVideo = async (id) => {\n  try {\n    const { error } = await supabase\n      .from('titulos_videos')\n      .update({ ativo: false })\n      .eq('id', id);\n\n    if (error) {\n      throw error;\n    }\n\n    return true;\n  } catch (error) {\n    console.error('Erro ao deletar título de vídeo:', error);\n    throw error;\n  }\n};\n\n/**\n * Buscar legenda de foto por URL da imagem\n * @param {string} imagemUrl - URL da imagem\n * @param {number} escolaId - ID da escola\n * @param {string} tipoFoto - 'escola' ou 'professor' (opcional)\n * @returns {Promise<Object|null>} Legenda encontrada ou null\n */\nexport const getLegendaByImageUrl = async (imagemUrl, escolaId, tipoFoto = null) => {\n  try {\n    console.log('getLegendaByImageUrl chamada com:', { imagemUrl, escolaId, tipoFoto });\n    \n    // 1. Tenta buscar por igualdade exata\n    let query = supabase\n      .from('legendas_fotos')\n      .select('*')\n      .eq('imagem_url', imagemUrl)\n      .eq('escola_id', escolaId)\n      .eq('ativo', true);\n\n    if (tipoFoto) {\n      try {\n        query = query.eq('tipo_foto', tipoFoto);\n      } catch (columnError) {\n        console.warn('Coluna tipo_foto não encontrada. Ignorando filtro por tipo.');\n      }\n    }\n\n    let { data, error } = await query.single();\n    console.log('Busca exata resultou em:', { data, error });\n\n    // Se não encontrou, tenta buscar por finalização\n    if ((error && error.code === 'PGRST116') || !data) {\n      console.log('Tentando busca por finalização...');\n      // Busca por finalização (ilike)\n      const caminhoRelativo = imagemUrl.split('/').slice(-2).join('/'); // ex: 20/2.png\n      console.log('Caminho relativo extraído:', caminhoRelativo);\n      \n      let query2 = supabase\n        .from('legendas_fotos')\n        .select('*')\n        .ilike('imagem_url', `%/${caminhoRelativo}`)\n        .eq('escola_id', escolaId)\n        .eq('ativo', true);\n\n      if (tipoFoto) {\n        try {\n          query2 = query2.eq('tipo_foto', tipoFoto);\n        } catch (columnError) {\n          // Se a coluna não existe, ignora\n        }\n      }\n\n      const { data: data2, error: error2 } = await query2.single();\n      console.log('Busca por finalização resultou em:', { data2, error2 });\n      \n      if (!error2 && data2) {\n        return data2;\n      }\n    }\n\n    if (error && error.code !== 'PGRST116') {\n      throw error;\n    }\n\n    return data || null;\n  } catch (error) {\n    console.error('Erro ao buscar legenda por URL:', error);\n    return null;\n  }\n};\n\n/**\n * Buscar título de vídeo por URL do vídeo\n * @param {string} videoUrl - URL do vídeo\n * @param {number} escolaId - ID da escola\n * @returns {Promise<Object|null>} Título encontrado ou null\n */\nexport const getTituloByVideoUrl = async (videoUrl, escolaId) => {\n  try {\n    const { data, error } = await supabase\n      .from('titulos_videos')\n      .select('*')\n      .eq('video_url', videoUrl)\n      .eq('escola_id', escolaId)\n      .eq('ativo', true)\n      .single();\n\n    if (error && error.code !== 'PGRST116') { // PGRST116 = no rows returned\n      throw error;\n    }\n\n    return data || null;\n  } catch (error) {\n    console.error('Erro ao buscar título por URL:', error);\n    return null;\n  }\n};\n\n/**\n * Migrar dados existentes de imagens para legendas\n * @param {number} escolaId - ID da escola\n * @param {string} tipoFoto - 'escola' ou 'professor'\n * @returns {Promise<Array>} Legendas migradas\n */\nexport const migrarLegendasExistentes = async (escolaId, tipoFoto = 'escola') => {\n  try {\n    let imagens = [];\n    \n    if (tipoFoto === 'escola') {\n      // Buscar imagens existentes da tabela imagens_escola\n      const { data, error } = await supabase\n        .from('imagens_escola')\n        .select('*')\n        .eq('escola_id', escolaId)\n        .eq('ativo', true);\n\n      if (error) {\n        throw error;\n      }\n      imagens = data || [];\n    } else if (tipoFoto === 'professor') {\n      // Buscar imagens dos professores do bucket\n      const { data, error } = await supabase.storage\n        .from('imagens-professores')\n        .list(`${escolaId}/`);\n\n      if (error) {\n        throw error;\n      }\n      \n      imagens = (data || []).map(file => ({\n        url: `${escolaId}/${file.name}`,\n        descricao: `Imagem do professor - ${file.name}`,\n        created_at: file.created_at\n      }));\n    }\n\n    const legendasMigradas = [];\n\n    for (const imagem of imagens) {\n      // Verificar se já existe legenda para esta imagem\n      const legendaExistente = await getLegendaByImageUrl(imagem.url, escolaId, tipoFoto);\n      \n      if (!legendaExistente) {\n        // Criar nova legenda\n        const novaLegenda = await addLegendaFoto({\n          escola_id: escolaId,\n          imagem_url: imagem.url,\n          legenda: imagem.descricao || `Imagem da ${tipoFoto}`,\n          descricao_detalhada: imagem.descricao,\n          categoria: 'geral',\n          tipo_foto: tipoFoto,\n          ativo: true\n        });\n        \n        legendasMigradas.push(novaLegenda);\n      }\n    }\n\n    return legendasMigradas;\n  } catch (error) {\n    console.error('Erro ao migrar legendas existentes:', error);\n    throw error;\n  }\n};\n\n/**\n * Migrar dados existentes de vídeos para títulos\n * @param {number} escolaId - ID da escola\n * @param {string} videoUrl - URL do vídeo\n * @returns {Promise<Object|null>} Título migrado\n */\nexport const migrarTituloExistente = async (escolaId, videoUrl) => {\n  try {\n    if (!videoUrl) return null;\n\n    // Verificar se já existe título para este vídeo\n    const tituloExistente = await getTituloByVideoUrl(videoUrl, escolaId);\n    \n    if (!tituloExistente) {\n      // Determinar plataforma\n      let plataforma = 'outro';\n      if (videoUrl.includes('youtube.com') || videoUrl.includes('youtu.be')) {\n        plataforma = 'youtube';\n      } else if (videoUrl.includes('vimeo.com')) {\n        plataforma = 'vimeo';\n      }\n\n      // Criar novo título\n      const novoTitulo = await addTituloVideo({\n        escola_id: escolaId,\n        video_url: videoUrl,\n        titulo: `Vídeo da Escola - ${plataforma.charAt(0).toUpperCase() + plataforma.slice(1)}`,\n        descricao: 'Vídeo relacionado à escola indígena',\n        plataforma: plataforma,\n        categoria: 'geral',\n        ativo: true\n      });\n      \n      return novoTitulo;\n    }\n\n    return tituloExistente;\n  } catch (error) {\n    console.error('Erro ao migrar título existente:', error);\n    throw error;\n  }\n};\n\n/**\n * Função de teste para verificar a estrutura da tabela legendas_fotos\n * @returns {Promise<void>}\n */\nexport const testLegendasTable = async () => {\n  try {\n    console.log('=== TESTE: Verificando estrutura da tabela legendas_fotos ===');\n    \n    // Teste 1: Verificar se a tabela existe\n    const { data: tableData, error: tableError } = await supabase\n      .from('legendas_fotos')\n      .select('*')\n      .limit(1);\n    \n    console.log('Teste 1 - Tabela existe:', { tableData, tableError });\n    \n    if (tableError) {\n      console.error('❌ ERRO: Tabela legendas_fotos não existe ou não está acessível:', tableError);\n      return;\n    }\n    \n    // Teste 2: Verificar estrutura da tabela\n    const { data: structureData, error: structureError } = await supabase\n      .from('legendas_fotos')\n      .select('id, escola_id, imagem_url, legenda, descricao_detalhada, autor_foto, data_foto, categoria, ativo, created_at, updated_at')\n      .limit(1);\n    \n    console.log('Teste 2 - Estrutura da tabela:', { structureData, structureError });\n    \n    if (structureError) {\n      console.error('❌ ERRO: Problema com estrutura da tabela:', structureError);\n    } else {\n      console.log('✅ Estrutura básica da tabela está OK');\n    }\n    \n    // Teste 3: Verificar se a coluna tipo_foto existe\n    try {\n      const { data: tipoData, error: tipoError } = await supabase\n        .from('legendas_fotos')\n        .select('tipo_foto')\n        .limit(1);\n      \n      console.log('Teste 3 - Coluna tipo_foto:', { tipoData, tipoError });\n      \n      if (tipoError && tipoError.code === '42703') {\n        console.log('⚠️ AVISO: Coluna tipo_foto não existe na tabela');\n      } else if (tipoError) {\n        console.error('❌ ERRO: Problema com coluna tipo_foto:', tipoError);\n      } else {\n        console.log('✅ Coluna tipo_foto existe');\n      }\n    } catch (tipoError) {\n      console.log('⚠️ AVISO: Coluna tipo_foto não existe na tabela');\n    }\n    \n    // Teste 4: Tentar inserir um registro de teste\n    console.log('Teste 4 - Testando inserção...');\n    const testRecord = {\n      escola_id: 999999, // ID que não existe\n      imagem_url: 'test/test.jpg',\n      legenda: 'Teste de legenda',\n      descricao_detalhada: 'Descrição de teste',\n      autor_foto: 'Teste',\n      data_foto: '2024-01-01',\n      categoria: 'teste',\n      ativo: true,\n      created_at: new Date().toISOString(),\n      updated_at: new Date().toISOString()\n    };\n    \n    try {\n      const { data: insertData, error: insertError } = await supabase\n        .from('legendas_fotos')\n        .insert([testRecord])\n        .select()\n        .single();\n      \n      console.log('Teste 4 - Inserção de teste:', { insertData, insertError });\n      \n      if (insertError) {\n        console.error('❌ ERRO: Problema com inserção:', insertError);\n      } else {\n        console.log('✅ Inserção funcionando - removendo registro de teste...');\n        \n        // Remover o registro de teste\n        const { error: deleteError } = await supabase\n          .from('legendas_fotos')\n          .delete()\n          .eq('id', insertData.id);\n        \n        if (deleteError) {\n          console.error('⚠️ AVISO: Não foi possível remover registro de teste:', deleteError);\n        } else {\n          console.log('✅ Registro de teste removido com sucesso');\n        }\n      }\n    } catch (insertError) {\n      console.error('❌ ERRO: Falha na inserção de teste:', insertError);\n    }\n    \n    console.log('=== FIM DO TESTE ===');\n    \n  } catch (error) {\n    console.error('❌ ERRO GERAL no teste da tabela:', error);\n  }\n}; \n ","import { supabase } from '../supabaseClient';\n\n// Configurações para imagens das escolas\nconst ESCOLA_IMAGE_CONFIG = {\n  BUCKET_NAME: 'imagens-das-escolas',\n  MAX_FILE_SIZE: 5 * 1024 * 1024, // 5MB\n  ALLOWED_TYPES: ['image/jpeg', 'image/jpg', 'image/png', 'image/webp', 'image/gif'],\n  MAX_IMAGES_PER_SCHOOL: Infinity, // Sem limite\n  MIN_DIMENSIONS: { width: 200, height: 200 }\n};\n\n// Configurações para imagens dos professores\nconst PROFESSOR_IMAGE_CONFIG = {\n  BUCKET_NAME: 'imagens-professores', // Usando bucket existente\n  MAX_FILE_SIZE: 5 * 1024 * 1024, // 5MB\n  ALLOWED_TYPES: ['image/jpeg', 'image/jpg', 'image/png', 'image/webp', 'image/gif'],\n  MAX_IMAGES_PER_SCHOOL: Infinity, // Sem limite\n  MIN_DIMENSIONS: { width: 200, height: 200 }\n};\n\n/**\n * Valida um arquivo de imagem\n * @param {File} file - Arquivo a ser validado\n * @param {Object} config - Configuração de validação\n * @returns {Object} Resultado da validação\n */\nconst validateImageFile = (file, config) => {\n  // Verificar tipo MIME\n  if (!config.ALLOWED_TYPES.includes(file.type)) {\n    return {\n      isValid: false,\n      error: `Tipo de arquivo não suportado. Use apenas: ${config.ALLOWED_TYPES.map(t => t.split('/')[1].toUpperCase()).join(', ')}`\n    };\n  }\n\n  // Verificar tamanho\n  if (file.size > config.MAX_FILE_SIZE) {\n    return {\n      isValid: false,\n      error: `Arquivo muito grande. Tamanho máximo: ${config.MAX_FILE_SIZE / (1024 * 1024)}MB`\n    };\n  }\n\n  // Verificar extensão\n  const extension = file.name.split('.').pop().toLowerCase();\n  const allowedExtensions = config.ALLOWED_TYPES.map(t => t.split('/')[1]);\n  if (!allowedExtensions.includes(extension)) {\n    return {\n      isValid: false,\n      error: `Extensão não permitida. Use apenas: ${allowedExtensions.join(', ')}`\n    };\n  }\n\n  return { isValid: true };\n};\n\n/**\n * Gera nome único para o arquivo (sem gênero, para imagens de escola)\n * @param {File} file - Arquivo\n * @param {number} escolaId - ID da escola\n * @returns {string} Nome único do arquivo\n */\nconst generateUniqueFileName = (file, escolaId) => {\n  const timestamp = Date.now();\n  const random = Math.random().toString(36).substring(2, 8);\n  const extension = file.name.split('.').pop().toLowerCase();\n  return `${escolaId}_${timestamp}_${random}.${extension}`;\n};\n\n/**\n * Gera nome único para o arquivo, incluindo o gênero\n * @param {File} file - Arquivo\n * @param {number} escolaId - ID da escola\n * @param {string} genero - 'professor' ou 'professora'\n * @returns {string} Nome único do arquivo\n */\nconst generateUniqueFileNameWithGenero = (file, escolaId, genero) => {\n  const timestamp = Date.now();\n  const random = Math.random().toString(36).substring(2, 8);\n  const extension = file.name.split('.').pop().toLowerCase();\n  return `${genero}_${escolaId}_${timestamp}_${random}.${extension}`;\n};\n\n/**\n * Upload de imagem da escola (versão simplificada sem tabela de metadados)\n * @param {File} file - Arquivo de imagem\n * @param {number} escolaId - ID da escola\n * @param {string} descricao - Descrição da imagem\n * @returns {Promise<Object>} Dados da imagem salva\n */\nexport const uploadEscolaImage = async (file, escolaId, descricao = '') => {\n  try {\n    // Validar arquivo\n    const validation = validateImageFile(file, ESCOLA_IMAGE_CONFIG);\n    if (!validation.isValid) {\n      throw new Error(validation.error);\n    }\n\n    // Gerar nome único\n    const fileName = generateUniqueFileName(file, escolaId);\n    const filePath = `${escolaId}/${fileName}`;\n\n    // Upload ao bucket\n    const { error: uploadError } = await supabase.storage\n      .from(ESCOLA_IMAGE_CONFIG.BUCKET_NAME)\n      .upload(filePath, file, {\n        cacheControl: '3600',\n        upsert: false\n      });\n\n    if (uploadError) {\n      throw new Error(`Erro no upload: ${uploadError.message}`);\n    }\n\n    // Obter URL pública\n    const { data: { publicUrl } } = supabase.storage\n      .from(ESCOLA_IMAGE_CONFIG.BUCKET_NAME)\n      .getPublicUrl(filePath);\n\n    return {\n      id: Date.now(), // ID temporário\n      url: filePath,\n      publicUrl,\n      descricao: descricao.trim() || `Imagem da escola ${escolaId}`,\n      created_at: new Date().toISOString()\n    };\n\n  } catch (error) {\n    console.error('Erro no upload da imagem da escola:', error);\n    throw error;\n  }\n};\n\n/**\n * Upload de imagem do professor (com gênero no nome do arquivo)\n * @param {File} file - Arquivo de imagem\n * @param {number} escolaId - ID da escola\n * @param {string} descricao - Descrição da imagem\n * @param {string} genero - 'professor' ou 'professora'\n * @returns {Promise<Object>} Dados da imagem salva\n */\nexport const uploadProfessorImage = async (file, escolaId, descricao = '', genero = 'professor') => {\n  try {\n    // Validar arquivo\n    const validation = validateImageFile(file, PROFESSOR_IMAGE_CONFIG);\n    if (!validation.isValid) {\n      throw new Error(validation.error);\n    }\n\n    // Gerar nome único com gênero\n    const fileName = generateUniqueFileNameWithGenero(file, escolaId, genero);\n    const filePath = `${escolaId}/${fileName}`;\n\n    // Upload ao bucket\n    const { error: uploadError } = await supabase.storage\n      .from(PROFESSOR_IMAGE_CONFIG.BUCKET_NAME)\n      .upload(filePath, file, {\n        cacheControl: '3600',\n        upsert: false\n      });\n\n    if (uploadError) {\n      console.error('Erro detalhado do upload:', uploadError);\n      throw new Error(`Erro no upload: ${uploadError.message}`);\n    }\n\n    // Obter URL pública\n    const { data: { publicUrl } } = supabase.storage\n      .from(PROFESSOR_IMAGE_CONFIG.BUCKET_NAME)\n      .getPublicUrl(filePath);\n\n    // Retornar objeto simulado (sem metadados na tabela)\n    return {\n      id: Date.now(), // ID temporário\n      url: filePath,\n      publicUrl,\n      descricao: descricao.trim() || `Imagem do ${genero} da escola ${escolaId}`,\n      genero,\n      created_at: new Date().toISOString()\n    };\n\n  } catch (error) {\n    console.error('Erro no upload da imagem do professor:', error);\n    throw error;\n  }\n};\n\n/**\n * Buscar imagens da escola (versão simplificada)\n * @param {number} escolaId - ID da escola\n * @param {string} bucketName - Nome do bucket\n * @returns {Promise<Array>} Lista de imagens\n */\nexport const getEscolaImages = async (escolaId, bucketName = ESCOLA_IMAGE_CONFIG.BUCKET_NAME) => {\n  try {\n    // Listar arquivos no bucket para a escola específica\n    const { data: files, error } = await supabase.storage\n      .from(bucketName)\n      .list(`${escolaId}/`);\n\n    if (error) {\n      throw error;\n    }\n\n    if (!files || files.length === 0) {\n      return [];\n    }\n\n    // Criar objetos de imagem com URLs públicas\n    const imagens = files.map((file, index) => {\n      const filePath = `${escolaId}/${file.name}`;\n      const { data: { publicUrl } } = supabase.storage\n        .from(bucketName)\n        .getPublicUrl(filePath);\n\n      return {\n        id: index + 1, // ID temporário\n        url: filePath,\n        publicUrl,\n        descricao: `Imagem ${index + 1}`,\n        created_at: file.created_at || new Date().toISOString()\n      };\n    });\n\n    return imagens;\n\n  } catch (error) {\n    console.error('Erro ao buscar imagens da escola:', error);\n    throw error;\n  }\n};\n\n/**\n * Deletar imagem (versão simplificada)\n * @param {number} imageId - ID da imagem\n * @param {string} filePath - Caminho do arquivo\n * @param {string} bucketName - Nome do bucket\n * @returns {Promise<void>}\n */\nexport const deleteImage = async (imageId, filePath, bucketName) => {\n  try {\n    // Deletar arquivo do storage\n    const { error: storageError } = await supabase.storage\n      .from(bucketName)\n      .remove([filePath]);\n\n    if (storageError) {\n      throw new Error(`Erro ao deletar arquivo: ${storageError.message}`);\n    }\n\n  } catch (error) {\n    console.error('Erro ao deletar imagem:', error);\n    throw error;\n  }\n};\n\n/**\n * Atualizar descrição da imagem (versão simplificada)\n * @param {number} imageId - ID da imagem\n * @param {string} descricao - Nova descrição\n * @returns {Promise<Object>} Imagem atualizada\n */\nexport const updateImageDescription = async (imageId, descricao) => {\n  try {\n    // Como não temos tabela de metadados, retornamos um objeto simulado\n    return {\n      id: imageId,\n      descricao: descricao.trim()\n    };\n\n  } catch (error) {\n    console.error('Erro ao atualizar descrição da imagem:', error);\n    throw error;\n  }\n};\n\n/**\n * Verificar limite de imagens (versão simplificada)\n * @param {number} escolaId - ID da escola\n * @param {string} bucketName - Nome do bucket\n * @returns {Promise<Object>} Informações sobre o limite\n */\nexport const checkImageLimit = async (escolaId, bucketName) => {\n  try {\n    const config = bucketName === PROFESSOR_IMAGE_CONFIG.BUCKET_NAME \n      ? PROFESSOR_IMAGE_CONFIG \n      : ESCOLA_IMAGE_CONFIG;\n\n    // Listar arquivos no bucket para a escola específica\n    const { data: files, error } = await supabase.storage\n      .from(bucketName)\n      .list(`${escolaId}/`);\n\n    if (error) {\n      throw error;\n    }\n\n    const currentCount = files ? files.length : 0;\n\n    return {\n      current: currentCount,\n      limit: config.MAX_IMAGES_PER_SCHOOL,\n      canUpload: currentCount < config.MAX_IMAGES_PER_SCHOOL\n    };\n\n  } catch (error) {\n    console.error('Erro ao verificar limite de imagens:', error);\n    throw error;\n  }\n}; ","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Upload, File, X, AlertCircle } from 'lucide-react';\nimport { uploadPDF } from '../../../services/uploadService';\nimport { FILE_RESTRICTIONS } from '../../../config/storage';\n\nconst PDFUploadSection = ({ onUploadComplete, onRemove, existingUrls = [] }) => {\n  const [isUploading, setIsUploading] = useState(false);\n  const [error, setError] = useState(null);\n  const [selectedFiles, setSelectedFiles] = useState([]);\n  const [previewUrls, setPreviewUrls] = useState(existingUrls);\n\n  const handleFileSelect = async (event) => {\n    const files = Array.from(event.target.files);\n    if (files.length === 0) return;\n\n    // Validate each file\n    const validFiles = files.filter(file => {\n      const isValidType = FILE_RESTRICTIONS.PDF.ALLOWED_TYPES.includes(file.type);\n      const isValidSize = file.size <= FILE_RESTRICTIONS.PDF.MAX_SIZE;\n      return isValidType && isValidSize;\n    });\n\n    if (validFiles.length !== files.length) {\n      setError('Alguns arquivos foram ignorados. Use apenas PDFs até 10MB.');\n    }\n\n    setSelectedFiles(prev => [...prev, ...validFiles]);\n  };\n\n  const handleUpload = async () => {\n    if (selectedFiles.length === 0) return;\n\n    setIsUploading(true);\n    setError(null);\n    const uploadedUrls = [];\n\n    try {\n      for (const file of selectedFiles) {\n        const url = await uploadPDF(file);\n        uploadedUrls.push(url);\n      }\n\n      const allUrls = [...previewUrls, ...uploadedUrls];\n      setPreviewUrls(allUrls);\n      onUploadComplete(allUrls);\n      setSelectedFiles([]);\n    } catch (err) {\n      setError('Erro ao fazer upload dos arquivos. Tente novamente.');\n      console.error('Erro no upload:', err);\n    } finally {\n      setIsUploading(false);\n    }\n  };\n\n  const handleRemove = (index) => {\n    const newUrls = previewUrls.filter((_, i) => i !== index);\n    setPreviewUrls(newUrls);\n    onRemove(newUrls);\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex items-center justify-between\">\n        <label className=\"block font-medium text-gray-800\">\n          Documentos PDF\n          <span className=\"text-sm text-gray-500 ml-2\">\n            (Máx. {FILE_RESTRICTIONS.PDF.MAX_SIZE / (1024 * 1024)}MB cada arquivo)\n          </span>\n        </label>\n        {error && (\n          <div className=\"flex items-center text-red-500 text-sm\">\n            <AlertCircle size={16} className=\"mr-1\" />\n            {error}\n          </div>\n        )}\n      </div>\n\n      {/* File Input */}\n      <div className=\"grid grid-cols-1 gap-4\">\n        <label className=\"cursor-pointer\">\n          <input\n            type=\"file\"\n            accept=\".pdf\"\n            multiple\n            onChange={handleFileSelect}\n            className=\"hidden\"\n            disabled={isUploading}\n          />\n          <div className={`flex items-center justify-center gap-2 border-2 border-dashed rounded-lg p-4 \n            ${isUploading ? 'border-gray-300 bg-gray-50' : 'border-blue-300 hover:border-blue-400 bg-blue-50'}`}>\n            <Upload size={20} className={isUploading ? 'text-gray-400' : 'text-blue-500'} />\n            <span className={isUploading ? 'text-gray-500' : 'text-blue-600'}>\n              {isUploading ? 'Fazendo upload...' : 'Selecionar PDFs'}\n            </span>\n          </div>\n        </label>\n\n        {/* Selected Files Preview */}\n        {selectedFiles.length > 0 && (\n          <div className=\"space-y-2\">\n            <h4 className=\"font-medium text-sm text-gray-700\">Arquivos selecionados:</h4>\n            <div className=\"grid grid-cols-1 gap-2\">\n              {selectedFiles.map((file, index) => (\n                <div key={index} className=\"flex items-center justify-between bg-gray-50 p-2 rounded\">\n                  <div className=\"flex items-center gap-2\">\n                    <File size={16} className=\"text-gray-500\" />\n                    <span className=\"text-sm text-gray-700\">{file.name}</span>\n                  </div>\n                  <button\n                    type=\"button\"\n                    onClick={() => setSelectedFiles(prev => prev.filter((_, i) => i !== index))}\n                    className=\"text-gray-500 hover:text-red-500\"\n                  >\n                    <X size={16} />\n                  </button>\n                </div>\n              ))}\n            </div>\n            <button\n              type=\"button\"\n              onClick={handleUpload}\n              disabled={isUploading}\n              className={`w-full py-2 px-4 rounded-lg text-white font-medium\n                ${isUploading ? 'bg-gray-400' : 'bg-blue-500 hover:bg-blue-600'}`}\n            >\n              {isUploading ? 'Enviando...' : 'Fazer Upload'}\n            </button>\n          </div>\n        )}\n\n        {/* Uploaded Files Preview */}\n        {previewUrls.length > 0 && (\n          <div className=\"space-y-2\">\n            <h4 className=\"font-medium text-sm text-gray-700\">Documentos enviados:</h4>\n            <div className=\"grid grid-cols-1 gap-2\">\n              {previewUrls.map((url, index) => (\n                <div key={index} className=\"flex items-center justify-between bg-gray-50 p-2 rounded\">\n                  <div className=\"flex items-center gap-2\">\n                    <File size={16} className=\"text-gray-500\" />\n                    <a\n                      href={url}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      className=\"text-sm text-blue-600 hover:underline\"\n                    >\n                      Documento {index + 1}\n                    </a>\n                  </div>\n                  <button\n                    type=\"button\"\n                    onClick={() => handleRemove(index)}\n                    className=\"text-gray-500 hover:text-red-500\"\n                  >\n                    <X size={16} />\n                  </button>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nPDFUploadSection.propTypes = {\n  onUploadComplete: PropTypes.func.isRequired,\n  onRemove: PropTypes.func.isRequired,\n  existingUrls: PropTypes.arrayOf(PropTypes.string),\n};\n\nexport default PDFUploadSection; ","import React, { useState } from 'react';\nimport PDFUploadSection from '../../AddLocationPanel/components/PDFUploadSection';\n\nconst DocumentosTab = ({ editingLocation }) => {\n  const escolaId = editingLocation?.id;\n  const [documentos, setDocumentos] = useState(editingLocation?.documentos || []);\n\n  if (!escolaId) {\n    return (\n      <div className=\"flex items-center justify-center h-64 text-gray-500\">\n        <p>Selecione uma escola para gerenciar seus documentos</p>\n      </div>\n    );\n  }\n\n  const handleUploadComplete = (urls) => {\n    setDocumentos(urls);\n    // Aqui você pode salvar os documentos no banco de dados se necessário\n    console.log('Documentos atualizados:', urls);\n  };\n\n  const handleRemove = (urls) => {\n    setDocumentos(urls);\n    // Aqui você pode atualizar o banco de dados se necessário\n    console.log('Documentos após remoção:', urls);\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">\n          Documentos da Escola\n        </h3>\n        <p className=\"text-sm text-gray-600 mb-6\">\n          Faça upload de documentos da escola em formato PDF. Não há limite no número de documentos.\n        </p>\n        \n        <PDFUploadSection \n          onUploadComplete={handleUploadComplete}\n          onRemove={handleRemove}\n          existingUrls={documentos}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default DocumentosTab; ","import React, { useState, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { Upload, X, Image as ImageIcon, Trash2, Edit3, Check, AlertCircle, Save } from 'lucide-react';\nimport { \n  uploadEscolaImage, \n  getEscolaImages, \n  deleteImage, \n  updateImageDescription\n} from '../../services/escolaImageService';\nimport { \n  getLegendaByImageUrl, \n  addLegendaFoto, \n  updateLegendaFoto,\n  testLegendasTable\n} from '../../services/legendasService';\n\nconst ImageUploadSection = ({ escolaId, onImagesUpdate }) => {\n  const [selectedFiles, setSelectedFiles] = useState([]);\n  const [uploading, setUploading] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [existingImages, setExistingImages] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  const [editingImage, setEditingImage] = useState(null);\n  const [editingDescription, setEditingDescription] = useState('');\n\n  // Buscar imagens existentes\n  const fetchExistingImages = useCallback(async () => {\n    if (!escolaId) return;\n    \n    try {\n      setLoading(true);\n      const images = await getEscolaImages(escolaId, 'imagens-das-escolas');\n      setExistingImages(images);\n    } catch (err) {\n      console.error('Erro ao buscar imagens:', err);\n      setError('Erro ao carregar imagens existentes');\n    } finally {\n      setLoading(false);\n    }\n  }, [escolaId]);\n\n  useEffect(() => {\n    fetchExistingImages();\n  }, [fetchExistingImages]);\n\n  // Testar estrutura da tabela quando o componente for carregado\n  useEffect(() => {\n    if (escolaId) {\n      console.log('Testando estrutura da tabela legendas_fotos...');\n      testLegendasTable();\n    }\n  }, [escolaId]);\n\n  // Buscar legendas para as imagens existentes\n  useEffect(() => {\n    const fetchLegendas = async () => {\n      if (!existingImages.length) return;\n      console.log('Buscando legendas para', existingImages.length, 'imagens');\n      const legendasMap = {};\n      for (const img of existingImages) {\n        console.log('Buscando legenda para imagem:', img.url);\n        const legenda = await getLegendaByImageUrl(img.url, escolaId, 'escola');\n        console.log('Legenda encontrada:', legenda);\n        legendasMap[img.url] = legenda;\n      }\n      setExistingImages(prev => prev.map(img => ({\n        ...img,\n        legendaData: legendasMap[img.url] || {\n          legenda: '',\n          descricao_detalhada: '',\n          autor_foto: '',\n          data_foto: '',\n          categoria: 'geral',\n        }\n      })));\n    };\n    fetchLegendas();\n    // eslint-disable-next-line\n  }, [existingImages.length, escolaId]);\n\n  // Limpar mensagens após 5 segundos\n  useEffect(() => {\n    if (error || success) {\n      const timer = setTimeout(() => {\n        setError('');\n        setSuccess('');\n      }, 5000);\n      return () => clearTimeout(timer);\n    }\n  }, [error, success]);\n\n  // Handler para seleção de arquivos\n  const handleFileSelect = (event) => {\n    const files = Array.from(event.target.files);\n    if (files.length === 0) return;\n\n    // Validar arquivos\n    const validFiles = files.filter(file => {\n      const isValidType = ['image/jpeg', 'image/jpg', 'image/png', 'image/webp', 'image/gif'].includes(file.type);\n      const isValidSize = file.size <= 5 * 1024 * 1024; // 5MB\n      \n      if (!isValidType) {\n        setError(`Arquivo \"${file.name}\" não é uma imagem válida. Use apenas JPG, PNG, WEBP ou GIF.`);\n      }\n      if (!isValidSize) {\n        setError(`Arquivo \"${file.name}\" é muito grande. Tamanho máximo: 5MB.`);\n      }\n      \n      return isValidType && isValidSize;\n    });\n\n    if (validFiles.length > 0) {\n      setSelectedFiles(prev => [...prev, ...validFiles]);\n      setError('');\n    }\n  };\n\n  // Handler para drag & drop\n  const handleDrop = useCallback((event) => {\n    event.preventDefault();\n    const files = Array.from(event.dataTransfer.files);\n    \n    if (files.length === 0) return;\n\n    // Filtrar apenas imagens\n    const imageFiles = files.filter(file => file.type.startsWith('image/'));\n    if (imageFiles.length > 0) {\n      setSelectedFiles(prev => [...prev, ...imageFiles]);\n      setError('');\n    }\n  }, []);\n\n  const handleDragOver = useCallback((event) => {\n    event.preventDefault();\n  }, []);\n\n  // Remover arquivo selecionado\n  const removeSelectedFile = (index) => {\n    setSelectedFiles(prev => prev.filter((_, i) => i !== index));\n  };\n\n  // Upload das imagens selecionadas\n  const handleUpload = async () => {\n    if (selectedFiles.length === 0) return;\n\n    setUploading(true);\n    setUploadProgress(0);\n    setError('');\n\n    try {\n      const uploadedImages = [];\n      \n      for (let i = 0; i < selectedFiles.length; i++) {\n        const file = selectedFiles[i];\n        const progress = ((i + 1) / selectedFiles.length) * 100;\n        setUploadProgress(progress);\n\n        const uploadedImage = await uploadEscolaImage(file, escolaId);\n        uploadedImages.push(uploadedImage);\n      }\n\n      // Atualizar lista de imagens\n      setExistingImages(prev => [...prev, ...uploadedImages]);\n      setSelectedFiles([]);\n      setUploadProgress(0);\n      setSuccess(`${uploadedImages.length} imagem(ns) carregada(s) com sucesso!`);\n\n\n\n      // Notificar componente pai\n      if (onImagesUpdate) {\n        onImagesUpdate();\n      }\n\n    } catch (err) {\n      console.error('Erro no upload:', err);\n      setError(`Erro ao fazer upload: ${err.message}`);\n    } finally {\n      setUploading(false);\n      setUploadProgress(0);\n    }\n  };\n\n  // Deletar imagem existente\n  const handleDeleteImage = async (imageId, filePath) => {\n    if (!window.confirm('Tem certeza que deseja excluir esta imagem?')) return;\n\n    try {\n      await deleteImage(imageId, filePath, 'imagens-das-escolas');\n      \n      // Atualizar lista\n      setExistingImages(prev => prev.filter(img => img.id !== imageId));\n      \n\n\n      setSuccess('Imagem excluída com sucesso!');\n\n      // Notificar componente pai\n      if (onImagesUpdate) {\n        onImagesUpdate();\n      }\n\n    } catch (err) {\n      console.error('Erro ao deletar imagem:', err);\n      setError(`Erro ao excluir imagem: ${err.message}`);\n    }\n  };\n\n  // Atualizar descrição da imagem\n  const handleDescriptionChange = async (imageId, novaDescricao) => {\n    if (!novaDescricao.trim()) return;\n\n    try {\n      await updateImageDescription(imageId, novaDescricao);\n      \n      // Atualizar lista\n      setExistingImages(prev => prev.map(img => \n        img.id === imageId \n          ? { ...img, descricao: novaDescricao.trim() }\n          : img\n      ));\n\n      setSuccess('Legenda atualizada com sucesso!');\n\n      // Notificar componente pai\n      if (onImagesUpdate) {\n        onImagesUpdate();\n      }\n\n    } catch (err) {\n      console.error('Erro ao atualizar descrição:', err);\n      setError(`Erro ao atualizar legenda: ${err.message}`);\n    }\n  };\n\n  // Atualizar legenda inline\n  const handleLegendaFieldChange = (imageId, field, value) => {\n    setExistingImages(prev => prev.map(img =>\n      img.id === imageId\n        ? { ...img, legendaData: { ...img.legendaData, [field]: value } }\n        : img\n    ));\n  };\n\n  const handleLegendaSave = async (image) => {\n    console.log('=== DEBUG: Salvando legenda ===');\n    console.log('Imagem completa:', image);\n    \n    const imagem_url_relativa = image.url;\n    const legendaData = image.legendaData;\n    console.log('URL relativa:', imagem_url_relativa);\n    console.log('Dados da legenda:', legendaData);\n    console.log('Escola ID:', escolaId);\n    \n    try {\n      console.log('Buscando legenda existente...');\n      let legenda = await getLegendaByImageUrl(imagem_url_relativa, escolaId, 'escola');\n      console.log('Legenda existente encontrada:', legenda);\n      \n      if (legenda) {\n        console.log('Atualizando legenda existente...');\n        const updateData = {\n          ...legendaData,\n          updated_at: new Date().toISOString()\n        };\n        console.log('Dados para atualização:', updateData);\n        \n        const resultado = await updateLegendaFoto(legenda.id, updateData);\n        console.log('Legenda atualizada com sucesso:', resultado);\n      } else {\n        console.log('Criando nova legenda...');\n        const novaLegendaData = {\n          escola_id: escolaId,\n          imagem_url: imagem_url_relativa,\n          ...legendaData,\n          ativo: true,\n          created_at: new Date().toISOString(),\n          updated_at: new Date().toISOString(),\n          tipo_foto: 'escola'\n        };\n        console.log('Dados para nova legenda:', novaLegendaData);\n        \n        const novaLegenda = await addLegendaFoto(novaLegendaData);\n        console.log('Nova legenda criada:', novaLegenda);\n      }\n      \n      setSuccess('Legenda salva com sucesso!');\n      if (onImagesUpdate) {\n        console.log('Chamando onImagesUpdate...');\n        onImagesUpdate();\n      }\n    } catch (err) {\n      console.error('=== ERRO ao salvar legenda ===');\n      console.error('Erro completo:', err);\n      console.error('Mensagem de erro:', err.message);\n      console.error('Stack trace:', err.stack);\n      setError('Erro ao salvar legenda: ' + err.message);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"p-6 bg-gray-50 rounded-lg\">\n        <div className=\"flex items-center justify-center py-8\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n          <span className=\"ml-2 text-gray-600\">Carregando imagens...</span>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <ImageIcon className=\"w-5 h-5 text-blue-600\" />\n          <h3 className=\"text-lg font-semibold text-gray-900\">Imagens da Escola</h3>\n        </div>\n        <div className=\"text-sm text-gray-500\">\n          {existingImages.length} imagens\n        </div>\n      </div>\n\n      {/* Mensagens */}\n      {error && (\n        <div className=\"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg\">\n          <AlertCircle className=\"w-5 h-5 text-red-600\" />\n          <span className=\"text-red-700\">{error}</span>\n        </div>\n      )}\n\n      {success && (\n        <div className=\"flex items-center gap-2 p-3 bg-green-50 border border-green-200 rounded-lg\">\n          <Check className=\"w-5 h-5 text-green-600\" />\n          <span className=\"text-green-700\">{success}</span>\n        </div>\n      )}\n\n      {/* Área de Upload */}\n      <div className=\"space-y-4\">\n          {/* Drag & Drop */}\n          <div\n            className={`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${\n              uploading \n                ? 'border-gray-300 bg-gray-50' \n                : 'border-blue-300 bg-blue-50 hover:border-blue-400 hover:bg-blue-100'\n            }`}\n            onDrop={handleDrop}\n            onDragOver={handleDragOver}\n          >\n            <Upload className=\"w-8 h-8 text-blue-600 mx-auto mb-2\" />\n            <p className=\"text-gray-600 mb-2\">\n              Arraste imagens aqui ou clique para selecionar\n            </p>\n            <p className=\"text-sm text-gray-500 mb-4\">\n              JPG, PNG, WEBP, GIF • Máximo 5MB por arquivo\n            </p>\n            \n            <label className=\"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer transition-colors\">\n              <input\n                type=\"file\"\n                multiple\n                accept=\"image/jpeg,image/jpg,image/png,image/webp,image/gif\"\n                onChange={handleFileSelect}\n                className=\"hidden\"\n                disabled={uploading}\n              />\n              Selecionar Arquivos\n            </label>\n          </div>\n\n          {/* Progress Bar */}\n          {uploading && (\n            <div className=\"space-y-2\">\n              <div className=\"flex justify-between text-sm text-gray-600\">\n                <span>Fazendo upload...</span>\n                <span>{Math.round(uploadProgress)}%</span>\n              </div>\n              <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                <div \n                  className=\"bg-blue-600 h-2 rounded-full transition-all duration-300\"\n                  style={{ width: `${uploadProgress}%` }}\n                ></div>\n              </div>\n            </div>\n          )}\n\n          {/* Arquivos Selecionados */}\n          {selectedFiles.length > 0 && (\n            <div className=\"space-y-3\">\n              <h4 className=\"font-medium text-gray-900\">Arquivos selecionados ({selectedFiles.length})</h4>\n              <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3\">\n                {selectedFiles.map((file, index) => (\n                  <div key={index} className=\"relative group\">\n                    <img\n                      src={URL.createObjectURL(file)}\n                      alt={file.name}\n                      className=\"w-full h-24 object-cover rounded-lg border\"\n                    />\n                    <button\n                      onClick={() => removeSelectedFile(index)}\n                      className=\"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity\"\n                    >\n                      <X className=\"w-3 h-3\" />\n                    </button>\n                    <p className=\"text-xs text-gray-600 mt-1 truncate\">{file.name}</p>\n                  </div>\n                ))}\n              </div>\n              <button\n                onClick={handleUpload}\n                disabled={uploading}\n                className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                {uploading ? 'Fazendo Upload...' : 'Fazer Upload'}\n              </button>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Imagens Existentes */}\n      {existingImages.length > 0 && (\n        <div className=\"space-y-4\">\n          <h4 className=\"font-medium text-gray-900\">Imagens da Escola ({existingImages.length})</h4>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {existingImages.map((image) => (\n              <div key={image.id} className=\"bg-white border rounded-lg overflow-hidden shadow-sm\">\n                {/* Imagem */}\n                <div className=\"relative group\">\n                <img\n                  src={image.publicUrl}\n                  alt={image.descricao || 'Imagem da escola'}\n                    className=\"w-full h-48 object-cover\"\n                />\n                \n                {/* Overlay de ações */}\n                  <div className=\"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center\">\n                  <div className=\"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity\">\n                    <button\n                      onClick={() => handleDeleteImage(image.id, image.url)}\n                      className=\"p-2 bg-red-600 text-white rounded-full hover:bg-red-700\"\n                      title=\"Excluir imagem\"\n                    >\n                      <Trash2 className=\"w-5 h-5\" />\n                    </button>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Campos de legenda integrados com legendas_fotos */}\n                <div className=\"p-4 space-y-2\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Legenda\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    value={image.legendaData?.legenda || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'legenda', e.target.value)}\n                    placeholder=\"Digite a legenda da imagem...\"\n                  />\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Descrição Detalhada\n                  </label>\n                  <textarea\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    value={image.legendaData?.descricao_detalhada || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'descricao_detalhada', e.target.value)}\n                    placeholder=\"Descrição detalhada da imagem...\"\n                  />\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Autor da Foto\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    value={image.legendaData?.autor_foto || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'autor_foto', e.target.value)}\n                    placeholder=\"Nome do fotógrafo\"\n                  />\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Data da Foto\n                  </label>\n                  <input\n                    type=\"date\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    value={image.legendaData?.data_foto || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'data_foto', e.target.value)}\n                  />\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Categoria\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    value={image.legendaData?.categoria || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'categoria', e.target.value)}\n                    placeholder=\"Digite a categoria da imagem...\"\n                  />\n                  <div className=\"flex gap-2 pt-2\">\n                    <button\n                      onClick={() => handleLegendaSave(image)}\n                      className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n                      type=\"button\"\n                    >\n                      <Save className=\"w-5 h-5\" /> Salvar Legenda\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Mensagem quando não há imagens */}\n      {existingImages.length === 0 && !uploading && (\n        <div className=\"text-center py-8 text-gray-500\">\n          <ImageIcon className=\"w-12 h-12 mx-auto mb-2 text-gray-300\" />\n          <p>Nenhuma imagem adicionada ainda.</p>\n          <p className=\"text-sm\">Adicione imagens para mostrar a escola.</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nImageUploadSection.propTypes = {\n  escolaId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  onImagesUpdate: PropTypes.func\n};\n\nexport default ImageUploadSection; ","import React from 'react';\nimport ImageUploadSection from '../../EditEscolaPanel/ImageUploadSection';\n\nconst ImagensEscolaTab = ({ editingLocation }) => {\n  const escolaId = editingLocation?.id;\n\n  if (!escolaId) {\n    return (\n      <div className=\"flex items-center justify-center h-64 text-gray-500\">\n        <p>Selecione uma escola para gerenciar suas imagens</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">\n          Imagens da Escola\n        </h3>\n        <p className=\"text-sm text-gray-600 mb-6\">\n          Faça upload de imagens da escola. Não há limite no número de imagens.\n        </p>\n        \n        <ImageUploadSection \n          escolaId={escolaId}\n          onImagesUpdate={() => {\n            // Callback para atualizar dados se necessário\n            console.log('Imagens da escola atualizadas');\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default ImagensEscolaTab; ","import { supabase } from '../supabaseClient';\nimport { \n  STORAGE_BUCKETS, \n  FILE_PATHS, \n  validateFile, \n  generateUniqueFileName,\n  getFileType \n} from '../config/storage';\n\n/**\n * Uploads a file to the specified bucket\n * @param {File} file - The file to upload\n * @param {string} bucket - The bucket to upload to (defaults to 'pdfs')\n * @returns {Promise<string>} The public URL of the uploaded file\n */\nexport const uploadFile = async (file, bucket = STORAGE_BUCKETS.PDFS) => {\n  try {\n    const fileType = getFileType(file);\n    if (!fileType) {\n      throw new Error('Tipo de arquivo não suportado');\n    }\n\n    const validation = validateFile(file, fileType);\n    if (!validation.isValid) {\n      throw new Error(validation.error);\n    }\n\n    const fileName = generateUniqueFileName(file, `${fileType.toLowerCase()}_`);\n    const filePath = `${FILE_PATHS[fileType]}/${fileName}`;\n\n    const { error: uploadError } = await supabase.storage\n      .from(bucket)\n      .upload(filePath, file, {\n        cacheControl: '3600',\n        upsert: false\n      });\n\n    if (uploadError) {\n      throw uploadError;\n    }\n\n    const { data: { publicUrl } } = supabase.storage\n      .from(bucket)\n      .getPublicUrl(filePath);\n\n    return publicUrl;\n  } catch (error) {\n    console.error('Erro ao fazer upload:', error);\n    throw error;\n  }\n};\n\n/**\n * Uploads a PDF file to the pdfs bucket\n * @param {File} file - The PDF file to upload\n * @returns {Promise<string>} The public URL of the uploaded PDF\n */\nexport const uploadPDF = async (file) => {\n  return uploadFile(file, STORAGE_BUCKETS.PDFS);\n};\n\n/**\n * Uploads an image file to the media bucket\n * @param {File} file - The image file to upload\n * @returns {Promise<string>} The public URL of the uploaded image\n */\nexport const uploadImage = async (file) => {\n  return uploadFile(file, STORAGE_BUCKETS.MEDIA);\n};\n\n/**\n * Uploads an audio file to the media bucket\n * @param {File} file - The audio file to upload\n * @returns {Promise<string>} The public URL of the uploaded audio\n */\nexport const uploadAudio = async (file) => {\n  return uploadFile(file, STORAGE_BUCKETS.MEDIA);\n};\n\n/**\n * Deletes a file from the specified bucket\n * @param {string} filePath - The path of the file to delete\n * @param {string} bucket - The bucket containing the file\n * @returns {Promise<void>}\n */\nexport const deleteFile = async (filePath, bucket = STORAGE_BUCKETS.PDFS) => {\n  try {\n    const { error } = await supabase.storage\n      .from(bucket)\n      .remove([filePath]);\n\n    if (error) {\n      throw error;\n    }\n  } catch (error) {\n    console.error('Erro ao deletar arquivo:', error);\n    throw error;\n  }\n}; ","import { supabase } from '../supabaseClient';\n\nexport const addProfessorImageMeta = async (meta) => {\n  const { data, error } = await supabase\n    .from('imagens_professores')\n    .insert([meta])\n    .select()\n    .single();\n  if (error) throw error;\n  return data;\n};\n\nexport const updateProfessorImageMeta = async (id, updates) => {\n  const { data, error } = await supabase\n    .from('imagens_professores')\n    .update(updates)\n    .eq('id', id)\n    .select()\n    .single();\n  if (error) throw error;\n  return data;\n};\n\nexport const getProfessorImageMetaByUrl = async (imagem_url, escola_id) => {\n  const { data, error } = await supabase\n    .from('imagens_professores')\n    .select('*')\n    .eq('imagem_url', imagem_url)\n    .eq('escola_id', escola_id)\n    .eq('ativo', true)\n    .single();\n  if (error && error.code !== 'PGRST116') throw error;\n  return data || null;\n}; ","import React, { useState, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { Upload, X, User, Trash2, Edit3, Check, AlertCircle, Save } from 'lucide-react';\nimport { \n  uploadProfessorImage, \n  getEscolaImages, \n  deleteImage, \n  updateImageDescription\n} from '../../services/escolaImageService';\nimport { \n  getLegendaByImageUrl, \n  addLegendaFoto, \n  updateLegendaFoto,\n  testLegendasTable\n} from '../../services/legendasService';\nimport {\n  addProfessorImageMeta,\n  updateProfessorImageMeta,\n  getProfessorImageMetaByUrl\n} from '../../services/professorImageMetaService';\n\nconst ProfessorImageUploadSection = ({ escolaId, onImagesUpdate }) => {\n  const [selectedFiles, setSelectedFiles] = useState([]);\n  const [uploading, setUploading] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [existingImages, setExistingImages] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  const [editingImage, setEditingImage] = useState(null);\n  const [editingDescription, setEditingDescription] = useState('');\n  const [genero, setGenero] = useState('professor');\n  const [titulo, setTitulo] = useState('');\n\n  // Buscar imagens existentes dos professores\n  const fetchExistingImages = useCallback(async () => {\n    if (!escolaId) return;\n    \n    try {\n      setLoading(true);\n      const images = await getEscolaImages(escolaId, 'imagens-professores');\n      setExistingImages(images);\n      \n\n    } catch (err) {\n      console.error('Erro ao buscar imagens dos professores:', err);\n      setError('Erro ao carregar imagens dos professores');\n    } finally {\n      setLoading(false);\n    }\n  }, [escolaId]);\n\n  useEffect(() => {\n    fetchExistingImages();\n  }, [fetchExistingImages]);\n\n  // Testar estrutura da tabela quando o componente for carregado\n  useEffect(() => {\n    if (escolaId) {\n      console.log('Testando estrutura da tabela legendas_fotos (professores)...');\n      testLegendasTable();\n    }\n  }, [escolaId]);\n\n  // Buscar legendas para as imagens existentes\n  useEffect(() => {\n    const fetchLegendas = async () => {\n      if (!existingImages.length) return;\n      console.log('Buscando legendas para', existingImages.length, 'imagens de professores');\n      const legendasMap = {};\n      for (const img of existingImages) {\n        console.log('Buscando legenda para imagem de professor:', img.url);\n        const legenda = await getLegendaByImageUrl(img.url, escolaId, 'professor');\n        console.log('Legenda encontrada para professor:', legenda);\n        legendasMap[img.url] = legenda;\n      }\n      setExistingImages(prev => prev.map(img => ({\n        ...img,\n        legendaData: legendasMap[img.url] || {\n          legenda: '',\n          descricao_detalhada: '',\n          autor_foto: '',\n          data_foto: '',\n          categoria: 'geral',\n        }\n      })));\n    };\n    fetchLegendas();\n    // eslint-disable-next-line\n  }, [existingImages.length, escolaId]);\n\n  // Limpar mensagens após 5 segundos\n  useEffect(() => {\n    if (error || success) {\n      const timer = setTimeout(() => {\n        setError('');\n        setSuccess('');\n      }, 5000);\n      return () => clearTimeout(timer);\n    }\n  }, [error, success]);\n\n  // Handler para seleção de arquivos\n  const handleFileSelect = (event) => {\n    const files = Array.from(event.target.files);\n    if (files.length === 0) return;\n\n    // Validar arquivos\n    const validFiles = files.filter(file => {\n      const isValidType = ['image/jpeg', 'image/jpg', 'image/png', 'image/webp', 'image/gif'].includes(file.type);\n      const isValidSize = file.size <= 5 * 1024 * 1024; // 5MB\n      \n      if (!isValidType) {\n        setError(`Arquivo \"${file.name}\" não é uma imagem válida. Use apenas JPG, PNG, WEBP ou GIF.`);\n      }\n      if (!isValidSize) {\n        setError(`Arquivo \"${file.name}\" é muito grande. Tamanho máximo: 5MB.`);\n      }\n      \n      return isValidType && isValidSize;\n    });\n\n    if (validFiles.length > 0) {\n      setSelectedFiles(prev => [...prev, ...validFiles]);\n      setError('');\n    }\n  };\n\n  // Handler para drag & drop\n  const handleDrop = useCallback((event) => {\n    event.preventDefault();\n    const files = Array.from(event.dataTransfer.files);\n    \n    if (files.length === 0) return;\n\n    // Filtrar apenas imagens\n    const imageFiles = files.filter(file => file.type.startsWith('image/'));\n    if (imageFiles.length > 0) {\n      setSelectedFiles(prev => [...prev, ...imageFiles]);\n      setError('');\n    }\n  }, []);\n\n  const handleDragOver = useCallback((event) => {\n    event.preventDefault();\n  }, []);\n\n  // Remover arquivo selecionado\n  const removeSelectedFile = (index) => {\n    setSelectedFiles(prev => prev.filter((_, i) => i !== index));\n  };\n\n  // Upload das imagens selecionadas\n  const handleUpload = async () => {\n    if (selectedFiles.length === 0) return;\n\n    setUploading(true);\n    setUploadProgress(0);\n    setError('');\n\n    try {\n      const uploadedImages = [];\n      \n      for (let i = 0; i < selectedFiles.length; i++) {\n        const file = selectedFiles[i];\n        const progress = ((i + 1) / selectedFiles.length) * 100;\n        setUploadProgress(progress);\n\n        const uploadedImage = await uploadProfessorImage(file, escolaId, '', genero, titulo);\n        uploadedImages.push(uploadedImage);\n\n        // Criar registro em imagens_professores\n        await addProfessorImageMeta({\n          escola_id: escolaId,\n          imagem_url: uploadedImage.url,\n          nome_arquivo: file.name,\n          autor: '',\n          ativo: true\n        });\n      }\n\n      // Atualizar lista de imagens\n      setExistingImages(prev => [...prev, ...uploadedImages]);\n      setSelectedFiles([]);\n      setUploadProgress(0);\n      setSuccess(`${uploadedImages.length} imagem(ns) do(s) professor(es) carregada(s) com sucesso!`);\n\n\n\n      // Notificar componente pai\n      if (onImagesUpdate) {\n        onImagesUpdate();\n      }\n\n    } catch (err) {\n      console.error('Erro no upload:', err);\n      setError(`Erro ao fazer upload: ${err.message}`);\n    } finally {\n      setUploading(false);\n      setUploadProgress(0);\n    }\n  };\n\n  // Deletar imagem existente\n  const handleDeleteImage = async (imageId, filePath) => {\n    if (!window.confirm('Tem certeza que deseja excluir esta imagem do professor?')) return;\n\n    try {\n      await deleteImage(imageId, filePath, 'imagens-professores');\n      \n      // Atualizar lista\n      setExistingImages(prev => prev.filter(img => img.id !== imageId));\n      \n\n\n      setSuccess('Imagem do professor excluída com sucesso!');\n\n      // Notificar componente pai\n      if (onImagesUpdate) {\n        onImagesUpdate();\n      }\n\n    } catch (err) {\n      console.error('Erro ao deletar imagem:', err);\n      setError(`Erro ao excluir imagem: ${err.message}`);\n    }\n  };\n\n  // Atualizar descrição da imagem\n  const handleDescriptionChange = async (imageId, novaDescricao) => {\n    if (!novaDescricao.trim()) return;\n\n    try {\n      await updateImageDescription(imageId, novaDescricao);\n      \n      // Atualizar lista\n      setExistingImages(prev => prev.map(img => \n        img.id === imageId \n          ? { ...img, descricao: novaDescricao.trim() }\n          : img\n      ));\n\n      setSuccess('Legenda atualizada com sucesso!');\n\n      // Notificar componente pai\n      if (onImagesUpdate) {\n        onImagesUpdate();\n      }\n\n    } catch (err) {\n      console.error('Erro ao atualizar descrição:', err);\n      setError(`Erro ao atualizar legenda: ${err.message}`);\n    }\n  };\n\n  // Atualizar legenda inline\n  const handleLegendaFieldChange = (imageId, field, value) => {\n    setExistingImages(prev => prev.map(img =>\n      img.id === imageId\n        ? { ...img, legendaData: { ...img.legendaData, [field]: value } }\n        : img\n    ));\n  };\n\n  const handleLegendaSave = async (image) => {\n    console.log('=== DEBUG: Salvando legenda de professor ===');\n    console.log('Imagem completa:', image);\n    \n    const imagem_url_relativa = image.url;\n    const legendaData = image.legendaData;\n    console.log('URL relativa:', imagem_url_relativa);\n    console.log('Dados da legenda:', legendaData);\n    console.log('Escola ID:', escolaId);\n    \n    try {\n      console.log('Buscando legenda existente...');\n      let legenda = await getLegendaByImageUrl(imagem_url_relativa, escolaId, 'professor');\n      console.log('Legenda existente encontrada:', legenda);\n      \n      if (legenda) {\n        console.log('Atualizando legenda existente...');\n        const updateData = {\n          ...legendaData,\n          updated_at: new Date().toISOString()\n        };\n        console.log('Dados para atualização:', updateData);\n        \n        const resultado = await updateLegendaFoto(legenda.id, updateData);\n        console.log('Legenda de professor atualizada com sucesso:', resultado);\n      } else {\n        console.log('Criando nova legenda...');\n        const novaLegendaData = {\n          escola_id: escolaId,\n          imagem_url: imagem_url_relativa,\n          ...legendaData,\n          ativo: true,\n          created_at: new Date().toISOString(),\n          updated_at: new Date().toISOString(),\n          tipo_foto: 'professor'\n        };\n        console.log('Dados para nova legenda:', novaLegendaData);\n        \n        const novaLegenda = await addLegendaFoto(novaLegendaData);\n        console.log('Nova legenda de professor criada:', novaLegenda);\n      }\n      \n      // Atualizar imagens_professores\n      console.log('Atualizando metadados da imagem...');\n      let meta = await getProfessorImageMetaByUrl(image.publicUrl, escolaId);\n      if (meta) {\n        console.log('Metadados encontrados:', meta);\n        await updateProfessorImageMeta(meta.id, {\n          autor: legendaData.autor_foto,\n          updated_at: new Date().toISOString()\n        });\n        console.log('Metadados atualizados com sucesso');\n      } else {\n        console.log('Nenhum metadado encontrado para atualizar');\n      }\n      \n      setSuccess('Legenda salva com sucesso!');\n      if (onImagesUpdate) {\n        console.log('Chamando onImagesUpdate...');\n        onImagesUpdate();\n      }\n    } catch (err) {\n      console.error('=== ERRO ao salvar legenda de professor ===');\n      console.error('Erro completo:', err);\n      console.error('Mensagem de erro:', err.message);\n      console.error('Stack trace:', err.stack);\n      setError('Erro ao salvar legenda: ' + err.message);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"p-6 bg-gray-50 rounded-lg\">\n        <div className=\"flex items-center justify-center py-8\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600\"></div>\n          <span className=\"ml-2 text-gray-600\">Carregando imagens dos professores...</span>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <User className=\"w-5 h-5 text-green-600\" />\n          <h3 className=\"text-lg font-semibold text-gray-900\">Imagens dos Professores</h3>\n        </div>\n        <div className=\"text-sm text-gray-500\">\n          {existingImages.length} imagens\n        </div>\n      </div>\n\n      {/* Mensagens */}\n      {error && (\n        <div className=\"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg\">\n          <AlertCircle className=\"w-5 h-5 text-red-600\" />\n          <span className=\"text-red-700\">{error}</span>\n        </div>\n      )}\n\n      {success && (\n        <div className=\"flex items-center gap-2 p-3 bg-green-50 border border-green-200 rounded-lg\">\n          <Check className=\"w-5 h-5 text-green-600\" />\n          <span className=\"text-green-700\">{success}</span>\n        </div>\n      )}\n\n      {/* Área de Upload */}\n      <div className=\"space-y-4\">\n          {/* Drag & Drop */}\n          <div\n            className={`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${\n              uploading \n                ? 'border-gray-300 bg-gray-50' \n                : 'border-green-300 bg-green-50 hover:border-green-400 hover:bg-green-100'\n            }`}\n            onDrop={handleDrop}\n            onDragOver={handleDragOver}\n          >\n            <Upload className=\"w-8 h-8 text-green-600 mx-auto mb-2\" />\n            <p className=\"text-gray-600 mb-2\">\n              Arraste imagens dos professores aqui ou clique para selecionar\n            </p>\n            <p className=\"text-sm text-gray-500 mb-4\">\n              JPG, PNG, WEBP, GIF • Máximo 5MB por arquivo • Máximo 5 imagens\n            </p>\n            \n            <label className=\"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer transition-colors\">\n              <input\n                type=\"file\"\n                multiple\n                accept=\"image/jpeg,image/jpg,image/png,image/webp,image/gif\"\n                onChange={handleFileSelect}\n                className=\"hidden\"\n                disabled={uploading}\n              />\n              Selecionar Arquivos\n            </label>\n          </div>\n\n          {/* Progress Bar */}\n          {uploading && (\n            <div className=\"space-y-2\">\n              <div className=\"flex justify-between text-sm text-gray-600\">\n                <span>Fazendo upload das imagens dos professores...</span>\n                <span>{Math.round(uploadProgress)}%</span>\n              </div>\n              <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                <div \n                  className=\"bg-green-600 h-2 rounded-full transition-all duration-300\"\n                  style={{ width: `${uploadProgress}%` }}\n                ></div>\n              </div>\n            </div>\n          )}\n\n          {/* Arquivos Selecionados */}\n          {selectedFiles.length > 0 && (\n            <div className=\"space-y-3\">\n              <h4 className=\"font-medium text-gray-900\">Arquivos selecionados ({selectedFiles.length})</h4>\n              <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3\">\n                {selectedFiles.map((file, index) => (\n                  <div key={index} className=\"relative group\">\n                    <img\n                      src={URL.createObjectURL(file)}\n                      alt={file.name}\n                      className=\"w-full h-24 object-cover rounded-lg border\"\n                    />\n                    <button\n                      onClick={() => removeSelectedFile(index)}\n                      className=\"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity\"\n                    >\n                      <X className=\"w-3 h-3\" />\n                    </button>\n                    <p className=\"text-xs text-gray-600 mt-1 truncate\">{file.name}</p>\n                  </div>\n                ))}\n              </div>\n              <button\n                onClick={handleUpload}\n                disabled={uploading}\n                className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                {uploading ? 'Fazendo Upload...' : 'Fazer Upload'}\n              </button>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Imagens Existentes */}\n      {existingImages.length > 0 && (\n        <div className=\"space-y-4\">\n          <h4 className=\"font-medium text-gray-900\">Imagens dos Professores ({existingImages.length})</h4>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {existingImages.map((image) => (\n              <div key={image.id} className=\"bg-white border rounded-lg overflow-hidden shadow-sm\">\n                {/* Imagem */}\n                <div className=\"relative group\">\n                <img\n                  src={image.publicUrl}\n                  alt={image.descricao || 'Imagem do professor'}\n                    className=\"w-full h-48 object-cover\"\n                />\n                \n                {/* Overlay de ações */}\n                  <div className=\"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center\">\n                  <div className=\"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity\">\n                    <button\n                      onClick={() => handleDeleteImage(image.id, image.url)}\n                      className=\"p-2 bg-red-600 text-white rounded-full hover:bg-red-700\"\n                      title=\"Excluir imagem\"\n                    >\n                      <Trash2 className=\"w-5 h-5\" />\n                    </button>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Campos de legenda integrados com legendas_fotos */}\n                <div className=\"p-4 space-y-2\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Legenda\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                    value={image.legendaData?.legenda || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'legenda', e.target.value)}\n                    placeholder=\"Digite a legenda da imagem...\"\n                  />\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Descrição Detalhada\n                  </label>\n                  <textarea\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                    value={image.legendaData?.descricao_detalhada || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'descricao_detalhada', e.target.value)}\n                    placeholder=\"Descrição detalhada da imagem...\"\n                  />\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Autor da Foto\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                    value={image.legendaData?.autor_foto || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'autor_foto', e.target.value)}\n                    placeholder=\"Nome do fotógrafo\"\n                  />\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Data da Foto\n                  </label>\n                  <input\n                    type=\"date\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                    value={image.legendaData?.data_foto || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'data_foto', e.target.value)}\n                  />\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Categoria\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                    value={image.legendaData?.categoria || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'categoria', e.target.value)}\n                    placeholder=\"Digite a categoria da imagem...\"\n                  />\n                  <div className=\"flex gap-2 pt-2\">\n                    <button\n                      onClick={() => handleLegendaSave(image)}\n                      className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\n                      type=\"button\"\n                    >\n                      <Save className=\"w-5 h-5\" /> Salvar Legenda\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Mensagem quando não há imagens */}\n      {existingImages.length === 0 && !uploading && (\n        <div className=\"text-center py-8 text-gray-500\">\n          <User className=\"w-12 h-12 mx-auto mb-2 text-gray-300\" />\n          <p>Nenhuma imagem dos professores adicionada ainda.</p>\n          <p className=\"text-sm\">Adicione imagens para mostrar os professores da escola.</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nProfessorImageUploadSection.propTypes = {\n  escolaId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  onImagesUpdate: PropTypes.func\n};\n\nexport default ProfessorImageUploadSection; ","import React from 'react';\nimport ProfessorImageUploadSection from '../../EditEscolaPanel/ProfessorImageUploadSection';\n\nconst ImagensProfessoresTab = ({ editingLocation }) => {\n  const escolaId = editingLocation?.id;\n\n  if (!escolaId) {\n    return (\n      <div className=\"flex items-center justify-center h-64 text-gray-500\">\n        <p>Selecione uma escola para gerenciar as imagens dos professores</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">\n          Imagens dos Professores\n        </h3>\n        <p className=\"text-sm text-gray-600 mb-6\">\n          Faça upload de imagens dos professores da escola. Não há limite no número de imagens.\n        </p>\n        \n        <ProfessorImageUploadSection \n          escolaId={escolaId}\n          onImagesUpdate={() => {\n            // Callback para atualizar dados se necessário\n            console.log('Imagens dos professores atualizadas');\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default ImagensProfessoresTab; ","// Storage configuration constants\n\nexport const STORAGE_BUCKETS = {\n  PDFS: 'pdfs',\n  MEDIA: 'media', // Keeping for backward compatibility\n};\n\nexport const FILE_RESTRICTIONS = {\n  PDF: {\n    MAX_SIZE: 10 * 1024 * 1024, // 10MB\n    ALLOWED_TYPES: ['application/pdf'],\n    MAX_FILES: Infinity, // Sem limite\n  },\n  IMAGE: {\n    MAX_SIZE: 5 * 1024 * 1024, // 5MB\n    ALLOWED_TYPES: ['image/jpeg', 'image/png', 'image/jpg'],\n    MAX_FILES: 10,\n  },\n  AUDIO: {\n    MAX_SIZE: 20 * 1024 * 1024, // 20MB\n    ALLOWED_TYPES: ['audio/wav', 'audio/mpeg', 'audio/mp3'],\n    MAX_FILES: 1,\n  },\n};\n\nexport const FILE_PATHS = {\n  PDF: 'documents',\n  IMAGE: 'images',\n  AUDIO: 'audio',\n};\n\nexport const getFileType = (file) => {\n  if (FILE_RESTRICTIONS.PDF.ALLOWED_TYPES.includes(file.type)) return 'PDF';\n  if (FILE_RESTRICTIONS.IMAGE.ALLOWED_TYPES.includes(file.type)) return 'IMAGE';\n  if (FILE_RESTRICTIONS.AUDIO.ALLOWED_TYPES.includes(file.type)) return 'AUDIO';\n  return null;\n};\n\nexport const validateFile = (file, type) => {\n  const restrictions = FILE_RESTRICTIONS[type];\n  if (!restrictions) return { isValid: false, error: 'Tipo de arquivo não suportado' };\n\n  if (!restrictions.ALLOWED_TYPES.includes(file.type)) {\n    return { isValid: false, error: `Tipo de arquivo não permitido. Use apenas ${type === 'PDF' ? 'PDF' : type === 'IMAGE' ? 'JPG/PNG' : 'WAV/MP3'}` };\n  }\n\n  if (file.size > restrictions.MAX_SIZE) {\n    return { isValid: false, error: `Arquivo muito grande. Tamanho máximo: ${restrictions.MAX_SIZE / (1024 * 1024)}MB` };\n  }\n\n  return { isValid: true };\n};\n\nexport const generateUniqueFileName = (file, prefix = '') => {\n  const timestamp = Date.now();\n  const random = Math.random().toString(36).substring(2, 8);\n  const extension = file.name.split('.').pop();\n  return `${prefix}${timestamp}_${random}.${extension}`;\n}; ","import { useState, useEffect, useCallback } from 'react';\nimport { supabase } from '../../../supabaseClient';\n\nexport const useEscolas = () => {\n  const [escolas, setEscolas] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedType, setSelectedType] = useState('todos');\n\n  // Buscar todas as escolas\n  const fetchEscolas = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const { data, error } = await supabase\n        .from('escolas_completa')\n        .select('*')\n        .order('Escola', { ascending: true });\n\n      if (error) throw error;\n      \n      // Mapear os dados para usar os nomes originais das colunas\n      const escolasMapeadas = data.map(escola => ({\n        ...escola,\n        // Garantir que os novos campos de endereço existam\n        logradouro: escola.logradouro || '',\n        numero: escola.numero || '',\n        complemento: escola.complemento || '',\n        bairro: escola.bairro || '',\n        cep: escola.cep || '',\n        estado: escola.estado || 'SP'\n      }));\n      \n      setEscolas(escolasMapeadas);\n    } catch (err) {\n      console.error('Erro ao buscar escolas:', err);\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Filtrar escolas baseado no termo de busca\n  const filteredEscolas = useCallback(() => {\n    return escolas.filter(escola => \n      escola.Escola?.toLowerCase().includes(searchTerm.toLowerCase())\n    );\n  }, [escolas, searchTerm]);\n\n  // Atualizar escola na lista local\n  const updateEscolaInList = useCallback((escolaId, updatedData) => {\n    setEscolas(prev => prev.map(escola => \n      escola.id === escolaId ? { ...escola, ...updatedData } : escola\n    ));\n  }, []);\n\n  // Adicionar nova escola à lista\n  const addEscolaToList = useCallback((novaEscola) => {\n    setEscolas(prev => [...prev, novaEscola]);\n  }, []);\n\n  // Remover escola da lista\n  const removeEscolaFromList = useCallback((escolaId) => {\n    setEscolas(prev => prev.filter(escola => escola.id !== escolaId));\n  }, []);\n\n  // Buscar escola por ID\n  const getEscolaById = useCallback((escolaId) => {\n    return escolas.find(escola => escola.id === escolaId);\n  }, [escolas]);\n\n  // Buscar escola por nome\n  const getEscolaByName = useCallback((nome) => {\n    return escolas.find(escola => \n      escola.Escola?.toLowerCase() === nome.toLowerCase()\n    );\n  }, [escolas]);\n\n  // Salvar escola no Supabase\n  const saveEscola = useCallback(async (escolaData) => {\n    try {\n      setError(null);\n      \n      if (escolaData.id) {\n        // Atualizar escola existente\n        const { data, error } = await supabase\n          .from('escolas_completa')\n          .update({\n            'Escola': escolaData.Escola,\n            'Município': escolaData['Município'],\n            'Endereço': escolaData['Endereço'],\n            'Terra Indigena (TI)': escolaData['Terra Indigena (TI)'],\n            'Parcerias com o município': escolaData['Parcerias com o município'],\n            'Diretoria de Ensino': escolaData['Diretoria de Ensino'],\n            'Ano de criação da escola': escolaData['Ano de criação da escola'],\n            'Povos indigenas': escolaData['Povos indigenas'],\n            'Linguas faladas': escolaData['Linguas faladas'],\n            'Modalidade de Ensino/turnos de funcionamento': escolaData['Modalidade de Ensino/turnos de funcionamento'],\n            'Numero de alunos': escolaData['Numero de alunos'],\n            'turnos_funcionamento': escolaData['turnos_funcionamento'],\n            'Espaço escolar e estrutura': escolaData['Espaço escolar e estrutura'],\n            'Acesso à água': escolaData['Acesso à água'],\n            'Tem coleta de lixo?': escolaData['Tem coleta de lixo?'],\n            'Acesso à internet': escolaData['Acesso à internet'],\n            'Equipamentos Tecnológicos (Computadores, tablets e impressoras)': escolaData['Equipamentos Tecnológicos (Computadores, tablets e impressoras)'],\n            'Modo de acesso à escola': escolaData['Modo de acesso à escola'],\n            'Gestão/Nome': escolaData['Gestão/Nome'],\n            'Outros funcionários': escolaData['Outros funcionários'],\n            'Quantidade de professores indígenas': escolaData['Quantidade de professores indígenas'],\n            'Quantidade de professores não indígenas': escolaData['Quantidade de professores não indígenas'],\n            'Professores falam a língua indígena?': escolaData['Professores falam a língua indígena?'],\n            'Formação dos professores': escolaData['Formação dos professores'],\n            'Formação continuada oferecida': escolaData['Formação continuada oferecida'],\n            'A escola possui PPP próprio?': escolaData['A escola possui PPP próprio?'],\n            'PPP elaborado com a comunidade?': escolaData['PPP elaborado com a comunidade?'],\n            'Projetos em andamento': escolaData['Projetos em andamento'],\n            'Parcerias com universidades?': escolaData['Parcerias com universidades?'],\n            'Ações com ONGs ou coletivos?': escolaData['Ações com ONGs ou coletivos?'],\n            'Desejos da comunidade para a escola': escolaData['Desejos da comunidade para a escola'],\n            'Escola utiliza redes sociais?': escolaData['Escola utiliza redes sociais?'],\n            'Links das redes sociais': escolaData['Links das redes sociais'],\n            'historia_da_escola': escolaData['historia_da_escola'],\n            'latitude': escolaData['latitude'],\n            'longitude': escolaData['longitude'],\n            'historia_do_prof': escolaData['historia_do_prof'],\n            'links': escolaData['links'],\n            'link_para_videos': escolaData['link_para_videos'],\n            'logradouro': escolaData['logradouro'],\n            'numero': escolaData['numero'],\n            'complemento': escolaData['complemento'],\n            'bairro': escolaData['bairro'],\n            'cep': escolaData['cep'],\n            'estado': escolaData['estado'],\n            'nome_professor': escolaData['nome_professor'],\n            'professores_indigenas': escolaData['professores_indigenas'],\n            'professores_nao_indigenas': escolaData['professores_nao_indigenas'],\n            'professores_falam_lingua_indigena': escolaData['professores_falam_lingua_indigena'],\n            'formacao_professores': escolaData['formacao_professores'],\n            'visitas_supervisores_formacao': escolaData['visitas_supervisores_formacao'],\n            'outros_funcionarios': escolaData['outros_funcionarios'],\n            'gestao': escolaData['gestao'],\n            'merenda_diferenciada': escolaData['merenda_diferenciada'],\n            'cozinha': escolaData['cozinha'],\n            'merenda_escolar': escolaData['merenda_escolar'],\n            'diferenciada': escolaData['diferenciada']\n          })\n          .eq('id', escolaData.id)\n          .select();\n\n        if (error) throw error;\n        \n        // Atualizar na lista local\n        updateEscolaInList(escolaData.id, data[0]);\n        return { success: true, data: data[0] };\n      } else {\n        // Criar nova escola\n        const { data, error } = await supabase\n          .from('escolas_completa')\n          .insert({\n            'Escola': escolaData.Escola,\n            'Município': escolaData['Município'],\n            'Endereço': escolaData['Endereço'],\n            'Terra Indigena (TI)': escolaData['Terra Indigena (TI)'],\n            'Parcerias com o município': escolaData['Parcerias com o município'],\n            'Diretoria de Ensino': escolaData['Diretoria de Ensino'],\n            'Ano de criação da escola': escolaData['Ano de criação da escola'],\n            'Povos indigenas': escolaData['Povos indigenas'],\n            'Linguas faladas': escolaData['Linguas faladas'],\n            'Modalidade de Ensino/turnos de funcionamento': escolaData['Modalidade de Ensino/turnos de funcionamento'],\n            'Numero de alunos': escolaData['Numero de alunos'],\n            'turnos_funcionamento': escolaData['turnos_funcionamento'],\n            'Espaço escolar e estrutura': escolaData['Espaço escolar e estrutura'],\n            'Acesso à água': escolaData['Acesso à água'],\n            'Tem coleta de lixo?': escolaData['Tem coleta de lixo?'],\n            'Acesso à internet': escolaData['Acesso à internet'],\n            'Equipamentos Tecnológicos (Computadores, tablets e impressoras)': escolaData['Equipamentos Tecnológicos (Computadores, tablets e impressoras)'],\n            'Modo de acesso à escola': escolaData['Modo de acesso à escola'],\n            'Gestão/Nome': escolaData['Gestão/Nome'],\n            'Outros funcionários': escolaData['Outros funcionários'],\n            'Quantidade de professores indígenas': escolaData['Quantidade de professores indígenas'],\n            'Quantidade de professores não indígenas': escolaData['Quantidade de professores não indígenas'],\n            'Professores falam a língua indígena?': escolaData['Professores falam a língua indígena?'],\n            'Formação dos professores': escolaData['Formação dos professores'],\n            'Formação continuada oferecida': escolaData['Formação continuada oferecida'],\n            'A escola possui PPP próprio?': escolaData['A escola possui PPP próprio?'],\n            'PPP elaborado com a comunidade?': escolaData['PPP elaborado com a comunidade?'],\n            'Projetos em andamento': escolaData['Projetos em andamento'],\n            'Parcerias com universidades?': escolaData['Parcerias com universidades?'],\n            'Ações com ONGs ou coletivos?': escolaData['Ações com ONGs ou coletivos?'],\n            'Desejos da comunidade para a escola': escolaData['Desejos da comunidade para a escola'],\n            'Escola utiliza redes sociais?': escolaData['Escola utiliza redes sociais?'],\n            'Links das redes sociais': escolaData['Links das redes sociais'],\n            'historia_da_escola': escolaData['historia_da_escola'],\n            'latitude': escolaData['latitude'],\n            'longitude': escolaData['longitude'],\n            'historia_do_prof': escolaData['historia_do_prof'],\n            'links': escolaData['links'],\n            'link_para_videos': escolaData['link_para_videos'],\n            'logradouro': escolaData['logradouro'],\n            'numero': escolaData['numero'],\n            'complemento': escolaData['complemento'],\n            'bairro': escolaData['bairro'],\n            'cep': escolaData['cep'],\n            'estado': escolaData['estado'],\n            'nome_professor': escolaData['nome_professor'],\n            'professores_indigenas': escolaData['professores_indigenas'],\n            'professores_nao_indigenas': escolaData['professores_nao_indigenas'],\n            'professores_falam_lingua_indigena': escolaData['professores_falam_lingua_indigena'],\n            'formacao_professores': escolaData['formacao_professores'],\n            'visitas_supervisores_formacao': escolaData['visitas_supervisores_formacao'],\n            'outros_funcionarios': escolaData['outros_funcionarios'],\n            'gestao': escolaData['gestao'],\n            'merenda_diferenciada': escolaData['merenda_diferenciada'],\n            'cozinha': escolaData['cozinha'],\n            'merenda_escolar': escolaData['merenda_escolar'],\n            'diferenciada': escolaData['diferenciada']\n          })\n          .select();\n\n        if (error) throw error;\n        \n        // Adicionar à lista local\n        addEscolaToList(data[0]);\n        return { success: true, data: data[0] };\n      }\n    } catch (err) {\n      console.error('Erro ao salvar escola:', err);\n      setError(err.message);\n      return { success: false, error: err.message };\n    }\n  }, [updateEscolaInList, addEscolaToList]);\n\n  // Carregar escolas na inicialização\n  useEffect(() => {\n    fetchEscolas();\n  }, [fetchEscolas]);\n\n  return {\n    // Estado\n    escolas,\n    loading,\n    error,\n    searchTerm,\n    selectedType,\n    \n    // Ações\n    setSearchTerm,\n    setSelectedType,\n    fetchEscolas,\n    updateEscolaInList,\n    addEscolaToList,\n    removeEscolaFromList,\n    saveEscola,\n    \n    // Utilitários\n    filteredEscolas: filteredEscolas(),\n    getEscolaById,\n    getEscolaByName,\n  };\n}; ","// Lista de modalidades de ensino organizadas por categoria\nexport const MODALIDADES_OPTIONS = [\n  // 1. Educação Infantil\n  'Educação Infantil',\n  'Educação Infantil (Idade 0 a 6 anos)',\n  'Educação Infantil (Pré-escola I e II) – 1 sala multisseriada',\n  'Educação Infantil (Pré-escola I) – 1 sala regular',\n  'Educação Infantil + Ensino Fundamental – multisseriado',\n  'Educação Infantil + Ensino Fundamental – regular e multisseriado',\n  \n  // 2. Educação Infantil + Ensino Fundamental\n  'Educação Infantil + Ensino Fundamental',\n  'Educação Infantil + Ensino Fundamental (Anos Iniciais e Anos Finais)',\n  'Educação Infantil + Ensino Fundamental (Anos Iniciais multisseriado + Anos Finais multisseriado)',\n  'Educação Infantil + Ensino Fundamental (1º ao 9º ano) – Salas multisseriadas',\n  'Educação Infantil + Ensino Fundamental (Pré I + 1º ao 4º ano) – 1 sala multisseriada',\n  'Educação Infantil + Ensino Fundamental com EJA – Multisseriado',\n  \n  // 3. Ensino Fundamental - Anos Iniciais\n  'Ensino Fundamental Anos Iniciais (1º ao 3º)',\n  'Ensino Fundamental Anos Iniciais (1º ao 5º ano) – 1 sala multisseriada',\n  'Ensino Fundamental Anos Iniciais (4º e 5º ano) – 1 sala multisseriada',\n  'Ensino Fundamental Anos Iniciais – EJA (1º ao 5º ano) – multisseriado',\n  \n  // 3. Ensino Fundamental - Anos Finais\n  'Ensino Fundamental Anos Finais (6º ao 9º ano) – 1 sala multisseriada',\n  'Ensino Fundamental Anos Finais – EJA (6º ao 9º ano) – multisseriado',\n  \n  // 3. Ensino Fundamental - Ambos\n  'Ensino Fundamental (Anos Iniciais e Finais) – regular e multisseriado',\n  'Ensino Fundamental – Atendimento temporário em escola não indígena',\n  \n  // 4. Ensino Médio\n  'Ensino Médio (1º ao 3º ano) – regular',\n  'Ensino Médio (1º ao 3º ano) – multisseriado',\n  'Ensino Médio – EJA (1º ao 3º ano) – multisseriado',\n  'Ensino Médio – Não há atendimento'\n];\n\n// Categorias para organização visual\nexport const MODALIDADES_CATEGORIAS = [\n  {\n    id: 'educacao-infantil',\n    titulo: '1. Educação Infantil',\n    indices: [0, 1, 2, 3, 4, 5]\n  },\n  {\n    id: 'educacao-infantil-fundamental',\n    titulo: '2. Educação Infantil + Ensino Fundamental',\n    indices: [6, 7, 8, 9, 10, 11, 12]\n  },\n  {\n    id: 'ensino-fundamental',\n    titulo: '3. Ensino Fundamental',\n    indices: [13, 14, 15, 16, 17, 18, 19, 20]\n  },\n  {\n    id: 'ensino-medio',\n    titulo: '4. Ensino Médio',\n    indices: [21, 22, 23, 24]\n  }\n];\n\n// Função para obter modalidades por categoria\nexport const getModalidadesByCategoria = (categoriaId) => {\n  const categoria = MODALIDADES_CATEGORIAS.find(cat => cat.id === categoriaId);\n  if (!categoria) return [];\n  \n  return categoria.indices.map(index => MODALIDADES_OPTIONS[index]);\n};\n\n// Função para validar se uma modalidade existe na lista\nexport const isValidModalidade = (modalidade) => {\n  return MODALIDADES_OPTIONS.includes(modalidade);\n};\n\n// Função para obter categoria de uma modalidade\nexport const getCategoriaByModalidade = (modalidade) => {\n  const index = MODALIDADES_OPTIONS.indexOf(modalidade);\n  if (index === -1) return null;\n  \n  return MODALIDADES_CATEGORIAS.find(cat => \n    cat.indices.includes(index)\n  );\n}; ","import { useState, useCallback } from 'react';\nimport { MODALIDADES_OPTIONS } from '../utils/modalidadesOptions';\n\nexport const useModalidades = () => {\n  const [selectedModalidades, setSelectedModalidades] = useState([]);\n  const [outroModalidade, setOutroModalidade] = useState('');\n\n  // Função para alternar seleção de modalidade\n  const handleModalidadeChange = useCallback((modalidade) => {\n    setSelectedModalidades(prev => {\n      if (prev.includes(modalidade)) {\n        return prev.filter(m => m !== modalidade);\n      } else {\n        return [...prev, modalidade];\n      }\n    });\n  }, []);\n\n  // Função para gerenciar campo \"Outro (especificar)\"\n  const handleOutroModalidadeChange = useCallback((value) => {\n    setOutroModalidade(value);\n    \n    setSelectedModalidades(prev => {\n      const hasOutro = prev.some(m => m.startsWith('Outro:'));\n      \n      if (value.trim()) {\n        if (hasOutro) {\n          return prev.map(m => m.startsWith('Outro:') ? `Outro: ${value}` : m);\n        } else {\n          return [...prev, `Outro: ${value}`];\n        }\n      } else {\n        return prev.filter(m => !m.startsWith('Outro:'));\n      }\n    });\n  }, []);\n\n  // Função para salvar modalidades no editingLocation\n  const saveModalidades = useCallback(() => {\n    const modalidadesText = selectedModalidades.join('; ');\n    return modalidadesText;\n  }, [selectedModalidades]);\n\n  // Função para carregar modalidades existentes\n  const loadExistingModalidades = useCallback((modalidadesText) => {\n    if (!modalidadesText) {\n      setSelectedModalidades([]);\n      setOutroModalidade('');\n      return;\n    }\n\n    const parts = modalidadesText.split(';').map(part => part.trim());\n    const modalidades = [];\n    let outro = '';\n\n    parts.forEach(part => {\n      if (part.startsWith('Outro:')) {\n        outro = part.replace('Outro:', '').trim();\n        modalidades.push(part);\n      } else if (MODALIDADES_OPTIONS.includes(part)) {\n        modalidades.push(part);\n      } else if (part) {\n        // Se não está na lista padrão, tratar como \"outro\"\n        outro = part;\n        modalidades.push(`Outro: ${part}`);\n      }\n    });\n\n    setSelectedModalidades(modalidades);\n    setOutroModalidade(outro);\n  }, []);\n\n  // Função para limpar modalidades\n  const clearModalidades = useCallback(() => {\n    setSelectedModalidades([]);\n    setOutroModalidade('');\n  }, []);\n\n  // Função para obter preview do texto final\n  const getModalidadesPreview = useCallback(() => {\n    return selectedModalidades.join('; ') || 'Nenhuma modalidade selecionada';\n  }, [selectedModalidades]);\n\n  // Função para verificar se há modalidades selecionadas\n  const hasSelectedModalidades = useCallback(() => {\n    return selectedModalidades.length > 0;\n  }, [selectedModalidades]);\n\n  return {\n    // Estado\n    selectedModalidades,\n    outroModalidade,\n    \n    // Ações\n    handleModalidadeChange,\n    handleOutroModalidadeChange,\n    saveModalidades,\n    loadExistingModalidades,\n    clearModalidades,\n    \n    // Utilitários\n    getModalidadesPreview,\n    hasSelectedModalidades,\n  };\n}; ","// Configuração das abas do painel de administração\nexport const ADMIN_TABS = [\n  { id: 'dados-basicos', label: 'Dados Básicos' },\n  { id: 'povos-linguas', label: 'Povos' },\n  { id: 'modalidades', label: 'Modalidades' },\n  { id: 'infraestrutura', label: 'Infraestrutura' },\n  { id: 'gestao-professores', label: 'Gestores' },\n  { id: 'material-pedagogico', label: 'Material Pedagógico' },\n  { id: 'projetos-parcerias', label: 'Projetos e Parcerias' },\n  { id: 'redes-sociais', label: 'Redes Sociais' },\n  { id: 'video', label: 'Vídeo' },\n  { id: 'historias', label: 'Histórias' },\n  { id: 'historia-professores', label: 'História dos Professores' },\n  { id: 'coordenadas', label: 'Coordenadas' },\n  { id: 'imagens-escola', label: 'Imagens da Escola' },\n  { id: 'imagens-professores', label: 'Imagens dos Professores' },\n  { id: 'documentos', label: 'Documentos' }\n];\n\n// Configurações de UI\nexport const UI_CONFIG = {\n  MOBILE_BREAKPOINT: 768,\n  SIDEBAR_WIDTH: 'w-64',\n  SIDEBAR_WIDTH_MOBILE: 'max-w-[80vw]',\n  SIDEBAR_TOP_OFFSET: 72,\n};\n\n// Estados de salvamento\nexport const SAVE_STATES = {\n  IDLE: 'idle',\n  SAVING: 'saving',\n  SUCCESS: 'success',\n  ERROR: 'error',\n};\n\n// Configurações de formulário\nexport const FORM_CONFIG = {\n  DEFAULT_ACTIVE_TAB: 'dados-basicos',\n  VALIDATION_RULES: {\n    REQUIRED_FIELDS: ['Escola'],\n  },\n};\n\n// Configurações de busca\nexport const SEARCH_CONFIG = {\n  DEBOUNCE_DELAY: 300,\n  MIN_SEARCH_LENGTH: 2,\n}; ","import React from 'react';\nimport { Menu } from 'lucide-react';\nimport { useEscolas } from './hooks/useEscolas';\nimport { UI_CONFIG } from './constants/adminConstants';\n\nconst AdminSidebar = ({ \n  isMobile, \n  sidebarOpen, \n  setSidebarOpen, \n  editingLocation, \n  onEscolaSelect \n}) => {\n  const { \n    searchTerm, \n    setSearchTerm, \n    filteredEscolas \n  } = useEscolas();\n\n  return (\n    <>\n      {/* Botão de menu para mobile */}\n      {isMobile && !sidebarOpen && (\n        <button\n          className=\"fixed top-4 left-4 z-50 bg-gray-900 rounded-full shadow-lg p-2 border border-gray-800\"\n          onClick={() => setSidebarOpen(true)}\n          aria-label=\"Abrir menu lateral\"\n        >\n          <Menu className=\"w-6 h-6 text-gray-200\" />\n        </button>\n      )}\n\n      {/* Menu lateral */}\n      {(!isMobile || sidebarOpen) && (\n        <aside\n          className={`bg-gray-900 border-r border-gray-700 rounded-r-2xl shadow-lg p-4 overflow-y-auto h-screen sticky top-0 z-40 transition-transform duration-300 ${\n            isMobile ? `fixed left-0 top-0 ${UI_CONFIG.SIDEBAR_WIDTH_MOBILE} shadow-2xl` : UI_CONFIG.SIDEBAR_WIDTH\n          }`}\n          style={{\n            transform: isMobile && !sidebarOpen ? 'translateX(-100%)' : 'translateX(0)',\n            top: isMobile ? 0 : UI_CONFIG.SIDEBAR_TOP_OFFSET,\n          }}\n        >\n          {/* Botão de fechar para mobile */}\n          {isMobile && (\n            <button\n              className=\"absolute top-4 right-4 text-gray-400 hover:text-gray-200 focus:outline-none focus:ring-2 focus:ring-green-400\"\n              onClick={() => setSidebarOpen(false)}\n              aria-label=\"Fechar menu lateral\"\n            >\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          )}\n\n          {/* Título */}\n          <h2 className=\"text-xl font-bold tracking-wide text-green-400 uppercase mb-6 sticky top-0 bg-gray-900 pb-2\">\n            Escolas\n          </h2>\n\n          {/* Busca no menu lateral */}\n          <div className=\"mb-4 sticky top-24 mt-8 bg-gray-900 pb-2\">\n            <input\n              type=\"text\"\n              placeholder=\"Buscar escola...\"\n              className=\"w-full px-3 py-2 border border-gray-700 rounded text-sm bg-gray-800 text-gray-100 placeholder-gray-400 focus:ring-2 focus:ring-amber-400 focus:border-amber-400\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n            />\n          </div>\n\n          {/* Lista de escolas */}\n          <ul className=\"space-y-1\">\n            {filteredEscolas.map(escola => (\n              <li key={escola.id}>\n                <button\n                  className={`block w-full text-left px-2 py-1 rounded hover:bg-green-800 text-sm text-gray-200 ${\n                    editingLocation?.id === escola.id ? 'bg-green-700 font-bold text-white' : ''\n                  }`}\n                  onClick={() => {\n                    onEscolaSelect(escola);\n                    if (isMobile) setSidebarOpen(false);\n                  }}\n                >\n                  {escola.Escola}\n                </button>\n              </li>\n            ))}\n          </ul>\n\n          {/* Mensagem quando não há resultados */}\n          {filteredEscolas.length === 0 && searchTerm && (\n            <div className=\"text-gray-400 text-sm text-center py-4\">\n              Nenhuma escola encontrada\n            </div>\n          )}\n        </aside>\n      )}\n    </>\n  );\n};\n\nexport default AdminSidebar; ","import React from 'react';\nimport { useEscolas } from './hooks/useEscolas';\n\nconst AdminToolbar = ({ \n  searchTerm, \n  setSearchTerm, \n  selectedType, \n  setSelectedType, \n  onNovaEscola \n}) => {\n  return (\n    <div className=\"bg-gray-900 p-4 rounded-lg shadow mb-6 border border-gray-800\">\n      <div className=\"flex flex-col sm:flex-row gap-4\">\n        {/* Campo de busca */}\n        <div className=\"relative flex-1\">\n          <input\n            type=\"text\"\n            placeholder=\"Buscar por título ou descrição...\"\n            className=\"w-full pl-10 pr-4 py-2 border border-gray-700 rounded-lg bg-gray-800 text-gray-100 placeholder-gray-400 focus:ring-2 focus:ring-amber-400 focus:border-amber-400\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n          />\n          {/* Ícone de busca */}\n          <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n            <svg className=\"h-5 w-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n            </svg>\n          </div>\n        </div>\n\n        {/* Filtro por tipo */}\n        <div className=\"relative\">\n          <select\n            className=\"pl-10 pr-4 py-2 border border-gray-700 rounded-lg bg-gray-800 text-gray-100 focus:ring-2 focus:ring-amber-400 focus:border-amber-400\"\n            value={selectedType}\n            onChange={(e) => setSelectedType(e.target.value)}\n          >\n            <option value=\"todos\">Todos</option>\n            <option value=\"indigena\">Indígena</option>\n            <option value=\"urbana\">Urbana</option>\n            <option value=\"rural\">Rural</option>\n          </select>\n          {/* Ícone de filtro */}\n          <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n            <svg className=\"h-5 w-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z\" />\n            </svg>\n          </div>\n        </div>\n\n        {/* Botão Nova Escola */}\n        <button\n          onClick={onNovaEscola}\n          className=\"px-4 py-2 bg-green-700 text-white rounded-lg hover:bg-green-800 focus:outline-none focus:ring-2 focus:ring-green-400 transition-colors flex items-center gap-2\"\n        >\n          <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\" />\n          </svg>\n          + Nova Escola\n        </button>\n      </div>\n\n      {/* Estatísticas rápidas */}\n      <div className=\"mt-4 pt-4 border-t border-gray-700 flex flex-wrap gap-4 text-sm text-gray-300\">\n        <div className=\"flex items-center gap-2\">\n          <div className=\"w-2 h-2 bg-green-500 rounded-full\"></div>\n          <span>Total de escolas: <span className=\"font-semibold text-green-400\">0</span></span>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <div className=\"w-2 h-2 bg-blue-500 rounded-full\"></div>\n          <span>Escolas indígenas: <span className=\"font-semibold text-blue-400\">0</span></span>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <div className=\"w-2 h-2 bg-yellow-500 rounded-full\"></div>\n          <span>Em edição: <span className=\"font-semibold text-yellow-400\">0</span></span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminToolbar; ","import React from 'react';\nimport { useModalidades } from '../hooks/useModalidades';\nimport { MODALIDADES_OPTIONS, MODALIDADES_CATEGORIAS } from '../utils/modalidadesOptions';\n\nconst ModalidadesTab = ({ \n  editingLocation, \n  setEditingLocation \n}) => {\n  const {\n    selectedModalidades,\n    outroModalidade,\n    handleModalidadeChange,\n    handleOutroModalidadeChange,\n    saveModalidades,\n    getModalidadesPreview,\n    hasSelectedModalidades,\n  } = useModalidades();\n\n  // Função para salvar modalidades no editingLocation\n  const handleSaveModalidades = () => {\n    const modalidadesText = saveModalidades();\n    setEditingLocation(prev => ({\n      ...prev,\n      'Modalidade de Ensino/turnos de funcionamento': modalidadesText\n    }));\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Modalidades de Ensino */}\n      <div className=\"md:col-span-2\">\n        <label className=\"block text-sm font-medium text-gray-200 mb-4 text-base\">\n          Modalidades de Ensino\n        </label>\n        <div className=\"bg-gray-800 border border-gray-700 rounded-lg p-4 max-h-96 overflow-y-auto\">\n          <div className=\"space-y-4\">\n            {MODALIDADES_CATEGORIAS.map((categoria) => (\n              <div key={categoria.id}>\n                <h4 className=\"text-sm font-semibold text-green-400 mb-2 border-b border-gray-600 pb-1\">\n                  {categoria.titulo}\n                </h4>\n                <div className=\"space-y-2 ml-2\">\n                  {categoria.indices.map((index) => {\n                    const modalidade = MODALIDADES_OPTIONS[index];\n                    return (\n                      <label key={index} className=\"flex items-start space-x-3 cursor-pointer hover:bg-gray-700 p-2 rounded transition-colors\">\n                        <input\n                          type=\"checkbox\"\n                          className=\"mt-1 h-4 w-4 text-green-600 bg-gray-700 border-gray-600 rounded focus:ring-green-500 focus:ring-2\"\n                          checked={selectedModalidades.includes(modalidade)}\n                          onChange={() => handleModalidadeChange(modalidade)}\n                        />\n                        <span className=\"text-sm text-gray-200 leading-relaxed\">{modalidade}</span>\n                      </label>\n                    );\n                  })}\n                </div>\n              </div>\n            ))}\n            \n            {/* Opção \"Outro\" */}\n            <div className=\"border-t border-gray-600 pt-3 mt-3\">\n              <label className=\"flex items-start space-x-3 cursor-pointer hover:bg-gray-700 p-2 rounded transition-colors\">\n                <input\n                  type=\"checkbox\"\n                  className=\"mt-1 h-4 w-4 text-green-600 bg-gray-700 border-gray-600 rounded focus:ring-green-500 focus:ring-2\"\n                  checked={selectedModalidades.some(m => m.startsWith('Outro:'))}\n                  onChange={() => handleOutroModalidadeChange(outroModalidade)}\n                />\n                <div className=\"flex-1\">\n                  <span className=\"text-sm text-gray-200\">Outro (especificar):</span>\n                  <input\n                    type=\"text\"\n                    className=\"mt-1 w-full px-3 py-2 border border-gray-600 rounded text-sm bg-gray-700 text-gray-100 placeholder-gray-400 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                    placeholder=\"Digite a modalidade específica...\"\n                    value={outroModalidade}\n                    onChange={(e) => handleOutroModalidadeChange(e.target.value)}\n                  />\n                </div>\n              </label>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Número de Alunos */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Número de Alunos</label>\n        <input\n          type=\"text\"\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n          value={editingLocation['Numero de alunos'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Numero de alunos': e.target.value })}\n        />\n      </div>\n\n      {/* Turnos de Funcionamento */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Turnos de Funcionamento</label>\n        <input\n          type=\"text\"\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n          value={editingLocation.turnos_funcionamento || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, turnos_funcionamento: e.target.value })}\n          placeholder=\"Ex: Diurno, Noturno, Vespertino, etc.\"\n        />\n      </div>\n\n      {/* Botão para salvar modalidades */}\n      <div className=\"md:col-span-2\">\n        <button\n          type=\"button\"\n          onClick={handleSaveModalidades}\n          className=\"px-4 py-2 bg-green-700 text-white rounded-lg hover:bg-green-800 focus:outline-none focus:ring-2 focus:ring-green-400 transition-colors\"\n        >\n          Salvar Modalidades Selecionadas\n        </button>\n      </div>\n\n      {/* Preview do texto final */}\n      {hasSelectedModalidades() && (\n        <div className=\"md:col-span-2\">\n          <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n            Preview do Texto Final\n          </label>\n          <div className=\"bg-gray-800 border border-gray-700 rounded px-3 py-2 text-gray-200 text-sm min-h-[60px]\">\n            {getModalidadesPreview()}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ModalidadesTab; ","import React from 'react';\n\nconst DadosBasicosTab = ({ editingLocation, setEditingLocation }) => {\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6\">\n      {/* Nome da Escola */}\n      <div className=\"md:col-span-2\">\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Nome da Escola</label>\n        <input\n          type=\"text\"\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n          value={editingLocation.Escola || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, Escola: e.target.value })}\n          placeholder=\"Digite o nome da escola\"\n        />\n      </div>\n\n      {/* Município */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Município</label>\n        <input\n          type=\"text\"\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n          value={editingLocation['Município'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Município': e.target.value })}\n          placeholder=\"Digite o município\"\n        />\n      </div>\n\n      {/* Ano de Criação */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Ano de Criação da Escola</label>\n        <input\n          type=\"text\"\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n          value={editingLocation['Ano de criação da escola'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Ano de criação da escola': e.target.value })}\n          placeholder=\"Ex: 1995\"\n        />\n      </div>\n\n      {/* Terra Indígena */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Terra Indígena (TI)</label>\n        <input\n          type=\"text\"\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n          value={editingLocation['Terra Indigena (TI)'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Terra Indigena (TI)': e.target.value })}\n          placeholder=\"Digite o nome da Terra Indígena\"\n        />\n      </div>\n\n      {/* Diretoria de Ensino */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Diretoria de Ensino</label>\n        <input\n          type=\"text\"\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n          value={editingLocation['Diretoria de Ensino'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Diretoria de Ensino': e.target.value })}\n          placeholder=\"Digite a diretoria de ensino\"\n        />\n      </div>\n\n      {/* Parcerias com o Município */}\n      <div className=\"md:col-span-2\">\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Parcerias com o Município</label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Parcerias com o município'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Parcerias com o município': e.target.value })}\n          placeholder=\"Descreva as parcerias com o município...\"\n        />\n      </div>\n\n      {/* Endereço Completo */}\n      <div className=\"md:col-span-2\">\n        <h3 className=\"text-lg font-semibold text-gray-100 mb-4 border-b border-gray-700 pb-2\">Endereço Completo</h3>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          {/* Logradouro */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-200 mb-2\">Logradouro</label>\n            <input\n              type=\"text\"\n              className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400\"\n              value={editingLocation.logradouro || ''}\n              onChange={e => setEditingLocation({ ...editingLocation, logradouro: e.target.value })}\n              placeholder=\"Rua, Avenida, etc.\"\n            />\n          </div>\n\n          {/* Número */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-200 mb-2\">Número</label>\n            <input\n              type=\"text\"\n              className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400\"\n              value={editingLocation.numero || ''}\n              onChange={e => setEditingLocation({ ...editingLocation, numero: e.target.value })}\n              placeholder=\"Número\"\n            />\n          </div>\n\n          {/* Complemento */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-200 mb-2\">Complemento</label>\n            <input\n              type=\"text\"\n              className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400\"\n              value={editingLocation.complemento || ''}\n              onChange={e => setEditingLocation({ ...editingLocation, complemento: e.target.value })}\n              placeholder=\"Apto, Casa, etc.\"\n            />\n          </div>\n\n          {/* Bairro */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-200 mb-2\">Bairro</label>\n            <input\n              type=\"text\"\n              className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400\"\n              value={editingLocation.bairro || ''}\n              onChange={e => setEditingLocation({ ...editingLocation, bairro: e.target.value })}\n              placeholder=\"Nome do bairro\"\n            />\n          </div>\n\n          {/* CEP */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-200 mb-2\">CEP</label>\n            <input\n              type=\"text\"\n              className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400\"\n              value={editingLocation.cep || ''}\n              onChange={e => setEditingLocation({ ...editingLocation, cep: e.target.value })}\n              placeholder=\"00000-000\"\n            />\n          </div>\n\n          {/* Estado */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-200 mb-2\">Estado</label>\n            <select\n              className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100\"\n              value={editingLocation.estado || 'SP'}\n              onChange={e => setEditingLocation({ ...editingLocation, estado: e.target.value })}\n            >\n              <option value=\"SP\">São Paulo</option>\n              <option value=\"RJ\">Rio de Janeiro</option>\n              <option value=\"MG\">Minas Gerais</option>\n              <option value=\"ES\">Espírito Santo</option>\n              <option value=\"RS\">Rio Grande do Sul</option>\n              <option value=\"SC\">Santa Catarina</option>\n              <option value=\"PR\">Paraná</option>\n              <option value=\"MS\">Mato Grosso do Sul</option>\n              <option value=\"MT\">Mato Grosso</option>\n              <option value=\"GO\">Goiás</option>\n              <option value=\"DF\">Distrito Federal</option>\n              <option value=\"BA\">Bahia</option>\n              <option value=\"SE\">Sergipe</option>\n              <option value=\"AL\">Alagoas</option>\n              <option value=\"PE\">Pernambuco</option>\n              <option value=\"PB\">Paraíba</option>\n              <option value=\"RN\">Rio Grande do Norte</option>\n              <option value=\"CE\">Ceará</option>\n              <option value=\"PI\">Piauí</option>\n              <option value=\"MA\">Maranhão</option>\n              <option value=\"PA\">Pará</option>\n              <option value=\"AP\">Amapá</option>\n              <option value=\"TO\">Tocantins</option>\n              <option value=\"RO\">Rondônia</option>\n              <option value=\"AC\">Acre</option>\n              <option value=\"AM\">Amazonas</option>\n              <option value=\"RR\">Roraima</option>\n            </select>\n          </div>\n        </div>\n      </div>\n\n      {/* Endereço Antigo (para compatibilidade) */}\n      <div className=\"md:col-span-2\">\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Endereço (Campo Legado)</label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-20 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Endereço'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Endereço': e.target.value })}\n          placeholder=\"Endereço completo (campo legado - use os campos acima para novos registros)\"\n        />\n        <p className=\"text-xs text-gray-400 mt-1\">\n          Este campo é mantido para compatibilidade com dados existentes. Para novos registros, use os campos de endereço estruturado acima.\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default DadosBasicosTab; ","import React from 'react';\n\nconst PovosLinguasTab = ({ editingLocation, setEditingLocation }) => {\n  return (\n    <div className=\"space-y-6\">\n      {/* Povos Indígenas */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Povos Indígenas\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-32 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Povos indigenas'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Povos indigenas': e.target.value })}\n          placeholder=\"Descreva os povos indígenas atendidos pela escola...\"\n        />\n        <p className=\"text-xs text-gray-400 mt-1\">\n          Ex: Guarani, Kaingang, Terena, etc.\n        </p>\n      </div>\n\n      {/* Línguas Faladas */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Línguas Faladas\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-32 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Linguas faladas'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Linguas faladas': e.target.value })}\n          placeholder=\"Descreva as línguas faladas na comunidade escolar...\"\n        />\n        <p className=\"text-xs text-gray-400 mt-1\">\n          Ex: Português, Guarani, Kaingang, etc.\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default PovosLinguasTab; ","import React from 'react';\n\nconst InfraestruturaTab = ({ editingLocation, setEditingLocation }) => {\n  return (\n    <div className=\"space-y-6\">\n      {/* Acesso à Água */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Acesso à Água\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Acesso à água'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Acesso à água': e.target.value })}\n          placeholder=\"Descreva como é o acesso à água na escola...\"\n        />\n      </div>\n\n      {/* Coleta de Lixo */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Coleta de Lixo\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Tem coleta de lixo?'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Tem coleta de lixo?': e.target.value })}\n          placeholder=\"Descreva como é feita a coleta de lixo...\"\n        />\n      </div>\n\n      {/* Acesso à Internet */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Acesso à Internet\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Acesso à internet'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Acesso à internet': e.target.value })}\n          placeholder=\"Descreva o acesso à internet na escola...\"\n        />\n      </div>\n\n      {/* Equipamentos Tecnológicos */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Equipamentos Tecnológicos\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Equipamentos Tecnológicos (Computadores, tablets e impressoras)'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Equipamentos Tecnológicos (Computadores, tablets e impressoras)': e.target.value })}\n          placeholder=\"Descreva os equipamentos tecnológicos disponíveis...\"\n        />\n      </div>\n\n      {/* Modo de Acesso à Escola */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Modo de Acesso à Escola\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Modo de acesso à escola'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Modo de acesso à escola': e.target.value })}\n          placeholder=\"Descreva como é o acesso à escola...\"\n        />\n      </div>\n\n      {/* Cozinha */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Cozinha\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation.cozinha || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, cozinha: e.target.value })}\n          placeholder=\"Descreva a estrutura da cozinha...\"\n        />\n      </div>\n\n      {/* Merenda Escolar */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Merenda Escolar\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation.merenda_escolar || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, merenda_escolar: e.target.value })}\n          placeholder=\"Descreva como é fornecida a merenda escolar...\"\n        />\n      </div>\n\n      {/* Merenda Diferenciada */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Merenda Diferenciada\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation.diferenciada || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, diferenciada: e.target.value })}\n          placeholder=\"Descreva se há merenda diferenciada (cultural, religiosa, etc.)...\"\n        />\n      </div>\n\n      {/* Merenda Diferenciada (Detalhes) */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Merenda Diferenciada (Detalhes)\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation.merenda_diferenciada || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, merenda_diferenciada: e.target.value })}\n          placeholder=\"Descreva detalhes sobre a merenda diferenciada...\"\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default InfraestruturaTab; ","import React from 'react';\n\nconst GestaoProfessoresTab = ({ editingLocation, setEditingLocation }) => {\n  return (\n    <div className=\"space-y-6\">\n      {/* Gestão/Nome */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Gestão/Nome\n        </label>\n        <input\n          type=\"text\"\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n          value={editingLocation['Gestão/Nome'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Gestão/Nome': e.target.value })}\n          placeholder=\"Digite o nome do gestor/diretor\"\n        />\n      </div>\n\n      {/* Professores Indígenas */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Professores Indígenas\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Quantidade de professores indígenas'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Quantidade de professores indígenas': e.target.value })}\n          placeholder=\"Descreva os professores indígenas...\"\n        />\n      </div>\n\n      {/* Professores Não Indígenas */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Professores Não Indígenas\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Quantidade de professores não indígenas'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Quantidade de professores não indígenas': e.target.value })}\n          placeholder=\"Descreva os professores não indígenas...\"\n        />\n      </div>\n\n      {/* Professores Falam Língua Indígena? */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Professores Falam Língua Indígena?\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Professores falam a língua indígena?'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Professores falam a língua indígena?': e.target.value })}\n          placeholder=\"Descreva se os professores falam a língua indígena...\"\n        />\n      </div>\n\n      {/* Formação dos Professores */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Formação dos Professores\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-32 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Formação dos professores'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Formação dos professores': e.target.value })}\n          placeholder=\"Descreva a formação dos professores...\"\n        />\n      </div>\n\n      {/* Formação Continuada */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Formação Continuada\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-32 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Formação continuada oferecida'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Formação continuada oferecida': e.target.value })}\n          placeholder=\"Descreva a formação continuada oferecida aos professores...\"\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default GestaoProfessoresTab; ","import React from 'react';\n\nconst MaterialPedagogicoTab = ({ editingLocation, setEditingLocation }) => {\n  return (\n    <div className=\"space-y-6\">\n      {/* A escola possui PPP próprio? */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          A escola possui PPP próprio?\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['A escola possui PPP próprio?'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'A escola possui PPP próprio?': e.target.value })}\n          placeholder=\"Descreva se a escola possui PPP próprio...\"\n        />\n      </div>\n\n      {/* PPP elaborado com a comunidade? */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          PPP elaborado com a comunidade?\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['PPP elaborado com a comunidade?'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'PPP elaborado com a comunidade?': e.target.value })}\n          placeholder=\"Descreva se o PPP foi elaborado com a comunidade...\"\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default MaterialPedagogicoTab; ","import React from 'react';\n\nconst ProjetosParceriasTab = ({ editingLocation, setEditingLocation }) => {\n  return (\n    <div className=\"space-y-6\">\n      {/* Projetos em Andamento */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Projetos em Andamento\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-32 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Projetos em andamento'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Projetos em andamento': e.target.value })}\n          placeholder=\"Descreva os projetos em andamento na escola...\"\n        />\n      </div>\n\n      {/* Parcerias com Universidades */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Parcerias com Universidades\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-32 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Parcerias com universidades?'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Parcerias com universidades?': e.target.value })}\n          placeholder=\"Descreva as parcerias com universidades...\"\n        />\n      </div>\n\n      {/* Ações com ONGs ou Coletivos */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Ações com ONGs ou Coletivos\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-32 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Ações com ONGs ou coletivos?'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Ações com ONGs ou coletivos?': e.target.value })}\n          placeholder=\"Descreva as ações com ONGs ou coletivos...\"\n        />\n      </div>\n\n      {/* Desejos da Comunidade */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Desejos da Comunidade\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-32 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Desejos da comunidade para a escola'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Desejos da comunidade para a escola': e.target.value })}\n          placeholder=\"Descreva os desejos da comunidade para a escola...\"\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default ProjetosParceriasTab; ","import React from 'react';\n\nconst RedesSociaisTab = ({ editingLocation, setEditingLocation }) => {\n  return (\n    <div className=\"space-y-6\">\n      {/* Escola utiliza redes sociais? */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Escola utiliza redes sociais?\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Escola utiliza redes sociais?'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Escola utiliza redes sociais?': e.target.value })}\n          placeholder=\"Descreva se a escola utiliza redes sociais...\"\n        />\n      </div>\n\n      {/* Links das Redes Sociais */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Links das Redes Sociais\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-32 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Links das redes sociais'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Links das redes sociais': e.target.value })}\n          placeholder=\"Cole aqui os links das redes sociais da escola (Facebook, Instagram, YouTube, etc.)...\"\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default RedesSociaisTab; ","import React, { useState, useEffect } from 'react';\nimport { getVideosEscola, createVideoEscola, updateVideoEscola, deleteVideoEscola } from '../../services/videoService';\nimport { Plus, Edit3, Trash2, Save } from 'lucide-react';\n\nconst VideoManager = ({ escolaId }) => {\n  const [videos, setVideos] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState('');\n  const [showForm, setShowForm] = useState(false);\n  const [editingVideo, setEditingVideo] = useState(null);\n  const [formData, setFormData] = useState({\n    titulo: '',\n    video_url: '',\n    descricao: '',\n    plataforma: 'youtube',\n    categoria: 'geral',\n    ativo: true\n  });\n\n  // Carregar vídeos\n  const carregarVideos = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const data = await getVideosEscola(escolaId);\n      setVideos(data);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (escolaId) carregarVideos();\n  }, [escolaId]);\n\n  // Reset form\n  const resetForm = () => {\n    setFormData({\n      titulo: '',\n      video_url: '',\n      descricao: '',\n      plataforma: 'youtube',\n      categoria: 'geral',\n      ativo: true\n    });\n    setEditingVideo(null);\n    setShowForm(false);\n  };\n\n  // Handle submit\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!formData.titulo.trim() || !formData.video_url.trim()) {\n      setError('Título e URL do vídeo são obrigatórios.');\n      return;\n    }\n    const payload = {\n      escola_id: Number(escolaId),\n      ...formData,\n      ativo: Boolean(formData.ativo)\n    };\n    try {\n      setError('');\n      setSuccess('');\n      if (editingVideo) {\n        await updateVideoEscola(editingVideo.id, payload);\n        setSuccess('Vídeo atualizado com sucesso!');\n      } else {\n        await createVideoEscola(payload);\n        setSuccess('Vídeo criado com sucesso!');\n      }\n      resetForm();\n      carregarVideos();\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  // Handle edit\n  const handleEdit = (video) => {\n    setEditingVideo(video);\n    setFormData({\n      titulo: video.titulo || '',\n      video_url: video.video_url || '',\n      descricao: video.descricao || '',\n      plataforma: video.plataforma || 'youtube',\n      categoria: video.categoria || 'geral',\n      ativo: video.ativo\n    });\n    setShowForm(true);\n  };\n\n  // Handle delete\n  const handleDelete = async (id) => {\n    if (!window.confirm('Tem certeza que deseja excluir este vídeo?')) return;\n    try {\n      await deleteVideoEscola(id);\n      setSuccess('Vídeo excluído com sucesso!');\n      carregarVideos();\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  if (loading) {\n    return <div className=\"p-6 text-center\">Carregando vídeos...</div>;\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <h3 className=\"text-lg font-semibold text-gray-900\">Vídeos da Escola</h3>\n        <button\n          onClick={() => setShowForm(true)}\n          className=\"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\n        >\n          <Plus className=\"w-5 h-5\" />\n          Novo Vídeo\n        </button>\n      </div>\n\n      {error && <div className=\"p-4 bg-red-50 border border-red-200 rounded-lg text-red-600\">{error}</div>}\n      {success && <div className=\"p-4 bg-green-50 border border-green-200 rounded-lg text-green-600\">{success}</div>}\n\n      {/* Lista de vídeos */}\n      <div className=\"space-y-4\">\n        {videos.length === 0 ? (\n          <div className=\"text-center py-8 bg-gray-50 rounded-lg\">\n            <p className=\"text-gray-500\">Nenhum vídeo cadastrado.</p>\n            <button\n              onClick={() => setShowForm(true)}\n              className=\"mt-4 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\n            >\n              Adicionar vídeo\n            </button>\n          </div>\n        ) : (\n          videos.map((video) => (\n            <div key={video.id} className={`p-6 bg-white rounded-lg border ${!video.ativo ? 'opacity-60' : ''}`}>\n              <div className=\"flex items-start justify-between mb-2\">\n                <div className=\"flex-1\">\n                  <div className=\"flex items-center gap-3 mb-2\">\n                    <h4 className=\"font-medium text-gray-900\">{video.titulo}</h4>\n                    {!video.ativo && (\n                      <span className=\"flex items-center gap-1 text-orange-600 text-sm\">\n                        Inativo\n                      </span>\n                    )}\n                  </div>\n                  <p className=\"text-gray-700 text-sm mb-2\">{video.descricao}</p>\n                  <div className=\"mb-2\">\n                    <iframe\n                      src={video.video_url}\n                      title={video.titulo}\n                      className=\"w-full aspect-video rounded-lg border\"\n                      allowFullScreen\n                    />\n                  </div>\n                  <div className=\"text-xs text-gray-500\">\n                    Plataforma: {video.plataforma} | Categoria: {video.categoria}\n                  </div>\n                </div>\n                <div className=\"flex flex-col gap-2 ml-4\">\n                  <button\n                    onClick={() => handleEdit(video)}\n                    className=\"p-2 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg\"\n                    title=\"Editar\"\n                  >\n                    <Edit3 className=\"w-5 h-5\" />\n                  </button>\n                  <button\n                    onClick={() => handleDelete(video.id)}\n                    className=\"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg\"\n                    title=\"Excluir\"\n                  >\n                    <Trash2 className=\"w-5 h-5\" />\n                  </button>\n                </div>\n              </div>\n            </div>\n          ))\n        )}\n      </div>\n\n      {/* Formulário de adicionar/editar vídeo */}\n      {showForm && (\n        <div className=\"p-6 bg-gray-50 rounded-lg border\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h4 className=\"text-lg font-medium text-gray-900\">\n              {editingVideo ? 'Editar Vídeo' : 'Novo Vídeo'}\n            </h4>\n            <button\n              onClick={resetForm}\n              className=\"text-gray-400 hover:text-gray-600\"\n            >\n              <span className=\"sr-only\">Fechar</span>\n              ×\n            </button>\n          </div>\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Título *</label>\n                <input\n                  type=\"text\"\n                  value={formData.titulo}\n                  onChange={e => setFormData({ ...formData, titulo: e.target.value })}\n                  className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                  placeholder=\"Título do vídeo\"\n                  required\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">URL do Vídeo *</label>\n                <input\n                  type=\"url\"\n                  value={formData.video_url}\n                  onChange={e => setFormData({ ...formData, video_url: e.target.value })}\n                  className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                  placeholder=\"https://www.youtube.com/embed/...\"\n                  required\n                />\n              </div>\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Descrição</label>\n              <textarea\n                value={formData.descricao}\n                onChange={e => setFormData({ ...formData, descricao: e.target.value })}\n                rows={3}\n                className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                placeholder=\"Descrição do vídeo (opcional)\"\n              />\n            </div>\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Plataforma</label>\n                <input\n                  type=\"text\"\n                  value={formData.plataforma}\n                  onChange={e => setFormData({ ...formData, plataforma: e.target.value })}\n                  className=\"w-full border rounded-lg px-3 py-2\"\n                  placeholder=\"youtube, vimeo...\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Categoria</label>\n                <input\n                  type=\"text\"\n                  value={formData.categoria}\n                  onChange={e => setFormData({ ...formData, categoria: e.target.value })}\n                  className=\"w-full border rounded-lg px-3 py-2\"\n                  placeholder=\"geral, institucional...\"\n                />\n              </div>\n              <div className=\"flex items-center gap-2 mt-6\">\n                <input\n                  type=\"checkbox\"\n                  checked={formData.ativo}\n                  onChange={e => setFormData({ ...formData, ativo: e.target.checked })}\n                  className=\"rounded border-gray-300 text-green-600 focus:ring-green-500\"\n                />\n                <span className=\"text-sm text-gray-700\">Ativo</span>\n              </div>\n            </div>\n            <div className=\"flex gap-3\">\n              <button\n                type=\"submit\"\n                className=\"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\n              >\n                <Save className=\"w-5 h-5\" />\n                {editingVideo ? 'Atualizar' : 'Criar'}\n              </button>\n              <button\n                type=\"button\"\n                onClick={resetForm}\n                className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors\"\n              >\n                Cancelar\n              </button>\n            </div>\n          </form>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default VideoManager; ","import { supabase } from '../supabaseClient';\n\n// Buscar todos os vídeos de uma escola\nexport async function getVideosEscola(escolaId) {\n  const { data, error } = await supabase\n    .from('titulos_videos')\n    .select('*')\n    .eq('escola_id', escolaId)\n    .eq('ativo', true)\n    .order('created_at', { ascending: false });\n  if (error) throw error;\n  return data;\n}\n\n// Criar novo vídeo\nexport async function createVideoEscola(video) {\n  const { data, error } = await supabase\n    .from('titulos_videos')\n    .insert([video])\n    .select();\n  if (error) throw error;\n  return data?.[0];\n}\n\n// Atualizar vídeo existente\nexport async function updateVideoEscola(id, updates) {\n  const { data, error } = await supabase\n    .from('titulos_videos')\n    .update(updates)\n    .eq('id', id)\n    .select();\n  if (error) throw error;\n  return data?.[0];\n}\n\n// Remover vídeo\nexport async function deleteVideoEscola(id) {\n  const { error } = await supabase\n    .from('titulos_videos')\n    .delete()\n    .eq('id', id);\n  if (error) throw error;\n  return true;\n} ","import React from 'react';\nimport VideoManager from '../VideoManager';\n\nconst VideoTab = ({ editingLocation }) => {\n  // Extrair o ID da escola do editingLocation\n  const escolaId = editingLocation?.id || editingLocation?.escola_id;\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Informações sobre Vídeos */}\n      <div className=\"bg-gray-800 border border-gray-700 rounded-lg p-4\">\n        <h3 className=\"text-lg font-semibold text-gray-100 mb-4 border-b border-gray-600 pb-2\">\n          Gerenciamento de Vídeos\n        </h3>\n        <p className=\"text-gray-300 text-sm mb-4\">\n          Aqui você pode adicionar, editar e gerenciar vídeos relacionados à escola. \n          Os vídeos podem ser do YouTube, Vimeo ou outras plataformas.\n        </p>\n      </div>\n\n      {/* VideoManager Component */}\n      {escolaId ? (\n        <div className=\"bg-white rounded-lg shadow-sm\">\n          <VideoManager escolaId={escolaId} />\n        </div>\n      ) : (\n        <div className=\"bg-gray-800 border border-gray-700 rounded-lg p-6 text-center\">\n          <p className=\"text-gray-300\">\n            Selecione uma escola para gerenciar os vídeos.\n          </p>\n        </div>\n      )}\n\n      {/* Instruções de Uso */}\n      <div className=\"bg-gray-800 border border-gray-700 rounded-lg p-4\">\n        <h3 className=\"text-lg font-semibold text-gray-100 mb-4 border-b border-gray-600 pb-2\">\n          Como Adicionar Vídeos\n        </h3>\n        \n        <div className=\"space-y-3 text-sm text-gray-300\">\n          <div>\n            <strong className=\"text-amber-400\">YouTube:</strong>\n            <p>Use o formato: https://www.youtube.com/embed/VIDEO_ID</p>\n            <p className=\"text-xs text-gray-400\">Exemplo: https://www.youtube.com/embed/dQw4w9WgXcQ</p>\n          </div>\n          \n          <div>\n            <strong className=\"text-amber-400\">Vimeo:</strong>\n            <p>Use o formato: https://player.vimeo.com/video/VIDEO_ID</p>\n            <p className=\"text-xs text-gray-400\">Exemplo: https://player.vimeo.com/video/123456789</p>\n          </div>\n          \n          <div>\n            <strong className=\"text-amber-400\">Outras plataformas:</strong>\n            <p>Use o URL de embed fornecido pela plataforma</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default VideoTab; ","import React from 'react';\nimport ReactQuill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\nimport './RichTextEditor.css';\nimport { uploadImage } from '../../../services/uploadService';\n\nconst RichTextEditor = ({ value, onChange, placeholder, label }) => {\n  // Handler customizado para upload de imagens\n  const imageHandler = async () => {\n    const input = document.createElement('input');\n    input.setAttribute('type', 'file');\n    input.setAttribute('accept', 'image/*');\n    input.click();\n\n    input.onchange = async () => {\n      const file = input.files[0];\n      if (file) {\n        try {\n          // Mostrar loading\n          const quill = quillRef.current.getEditor();\n          const range = quill.getSelection();\n          \n          // Inserir placeholder de loading\n          quill.insertEmbed(range.index, 'image', 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7');\n          \n          // Fazer upload da imagem\n          const imageUrl = await uploadImage(file);\n          \n          // Substituir placeholder pela imagem real\n          quill.deleteText(range.index, 1);\n          quill.insertEmbed(range.index, 'image', imageUrl);\n          \n          // Mover cursor para depois da imagem\n          quill.setSelection(range.index + 1);\n        } catch (error) {\n          console.error('Erro ao fazer upload da imagem:', error);\n          alert('Erro ao fazer upload da imagem. Tente novamente.');\n        }\n      }\n    };\n  };\n\n  // Referência para o editor Quill\n  const quillRef = React.useRef();\n\n  // Configuração dos módulos do Quill\n  const modules = {\n    toolbar: {\n      container: [\n        [{ 'header': [1, 2, 3, false] }],\n        ['bold', 'italic', 'underline', 'strike'],\n        [{ 'color': [] }, { 'background': [] }],\n        [{ 'list': 'ordered'}, { 'list': 'bullet' }],\n        [{ 'align': [] }],\n        ['link'],\n        ['image'],\n        ['clean']\n      ],\n      handlers: {\n        image: imageHandler\n      }\n    },\n  };\n\n  // Configuração dos formatos permitidos\n  const formats = [\n    'header',\n    'bold', 'italic', 'underline', 'strike',\n    'color', 'background',\n    'list', 'bullet',\n    'align',\n    'link', 'image'\n  ];\n\n  return (\n    <div className=\"rich-text-editor\">\n      {label && (\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          {label}\n        </label>\n      )}\n      \n      <div className=\"bg-gray-800 border border-gray-700 rounded-lg\">\n        <ReactQuill\n          ref={quillRef}\n          theme=\"snow\"\n          value={value || ''}\n          onChange={onChange}\n          modules={modules}\n          formats={formats}\n          placeholder={placeholder}\n          style={{\n            height: '300px',\n            backgroundColor: '#1f2937', // bg-gray-800\n            color: '#f3f4f6', // text-gray-100\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default RichTextEditor; ","import React from 'react';\nimport RichTextEditor from './RichTextEditor';\n\nconst HistoriasTab = ({ editingLocation, setEditingLocation }) => {\n  return (\n    <div className=\"space-y-6\">\n      {/* História da Escola */}\n      <RichTextEditor\n        label=\"História da Escola\"\n        value={editingLocation['historia_da_escola'] || ''}\n        onChange={(value) => setEditingLocation({ ...editingLocation, 'historia_da_escola': value })}\n        placeholder=\"Digite a história da escola...\"\n      />\n    </div>\n  );\n};\n\nexport default HistoriasTab; ","import React from 'react';\nimport RichTextEditor from './RichTextEditor';\n\nconst HistoriaProfessoresTab = ({ editingLocation, setEditingLocation }) => {\n  return (\n    <div className=\"space-y-6\">\n      {/* História dos Professores */}\n      <RichTextEditor\n        label=\"História dos Professores\"\n        value={editingLocation['historia_do_prof'] || ''}\n        onChange={(value) => setEditingLocation({ ...editingLocation, 'historia_do_prof': value })}\n        placeholder=\"Digite a história dos professores...\"\n      />\n    </div>\n  );\n};\n\nexport default HistoriaProfessoresTab; ","import React, { useEffect, useRef } from 'react';\nimport Map from 'ol/Map';\nimport View from 'ol/View';\nimport TileLayer from 'ol/layer/Tile';\nimport VectorLayer from 'ol/layer/Vector';\nimport VectorSource from 'ol/source/Vector';\nimport XYZ from 'ol/source/XYZ';\nimport { fromLonLat, toLonLat } from 'ol/proj';\nimport { Point } from 'ol/geom';\nimport { Feature } from 'ol';\nimport { Style, Fill, Stroke, Circle } from 'ol/style';\nimport 'ol/ol.css';\n\nconst CoordenadasTab = ({ editingLocation, setEditingLocation }) => {\n  const mapRef = useRef(null);\n  const mapInstanceRef = useRef(null);\n  const markerRef = useRef(null);\n\n  // Função para atualizar o mapa quando as coordenadas mudam\n  const updateMap = (lat, lng) => {\n    if (!mapInstanceRef.current) return;\n\n    const view = mapInstanceRef.current.getView();\n    \n    if (lat && lng && !isNaN(lat) && !isNaN(lng)) {\n      const coordinates = fromLonLat([parseFloat(lng), parseFloat(lat)]);\n      \n      // Atualizar o centro do mapa\n      view.setCenter(coordinates);\n      view.setZoom(15);\n\n      // Atualizar ou criar o marcador\n      const vectorSource = mapInstanceRef.current.getLayers().getArray()\n        .find(layer => layer instanceof VectorLayer)?.getSource();\n\n      if (vectorSource) {\n        // Remover marcador anterior\n        if (markerRef.current) {\n          vectorSource.removeFeature(markerRef.current);\n        }\n\n        // Criar novo marcador\n        const marker = new Feature({\n          geometry: new Point(coordinates)\n        });\n\n        marker.setStyle(new Style({\n          image: new Circle({\n            radius: 8,\n            fill: new Fill({\n              color: '#fbbf24'\n            }),\n            stroke: new Stroke({\n              color: '#ffffff',\n              width: 2\n            })\n          })\n        }));\n\n        vectorSource.addFeature(marker);\n        markerRef.current = marker;\n      }\n    }\n  };\n\n  // Função para atualizar coordenadas quando o mapa é clicado\n  const handleMapClick = (event) => {\n    const coordinates = toLonLat(event.coordinate);\n    const [lng, lat] = coordinates;\n    \n    setEditingLocation({\n      ...editingLocation,\n      'latitude': lat.toFixed(6),\n      'longitude': lng.toFixed(6)\n    });\n  };\n\n  // Inicializar mapa\n  useEffect(() => {\n    if (!mapRef.current) return;\n\n    // Criar mapa\n    const map = new Map({\n      target: mapRef.current,\n      layers: [\n        new TileLayer({\n          source: new XYZ({\n            url: 'https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png'\n          })\n        }),\n        new VectorLayer({\n          source: new VectorSource()\n        })\n      ],\n      view: new View({\n        center: fromLonLat([-46.6388, -23.5489]), // São Paulo\n        zoom: 8\n      })\n    });\n\n    mapInstanceRef.current = map;\n\n    // Adicionar evento de clique\n    map.on('click', handleMapClick);\n\n    // Atualizar mapa com coordenadas iniciais\n    const lat = editingLocation['latitude'];\n    const lng = editingLocation['longitude'];\n    if (lat && lng) {\n      updateMap(lat, lng);\n    }\n\n    return () => {\n      if (mapInstanceRef.current) {\n        mapInstanceRef.current.setTarget(undefined);\n      }\n    };\n  }, []);\n\n  // Atualizar mapa quando coordenadas mudam\n  useEffect(() => {\n    const lat = editingLocation['latitude'];\n    const lng = editingLocation['longitude'];\n    updateMap(lat, lng);\n  }, [editingLocation['latitude'], editingLocation['longitude']]);\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Campos de Coordenadas */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        {/* Latitude */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n            Latitude\n          </label>\n          <input\n            type=\"number\"\n            step=\"any\"\n            className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n            value={editingLocation['latitude'] || ''}\n            onChange={e => setEditingLocation({ ...editingLocation, 'latitude': e.target.value })}\n            placeholder=\"Ex: -23.5489\"\n          />\n          <p className=\"text-xs text-gray-400 mt-1\">\n            Valor entre -90 e 90 (ex: -23.5489 para São Paulo)\n          </p>\n        </div>\n\n        {/* Longitude */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n            Longitude\n          </label>\n          <input\n            type=\"number\"\n            step=\"any\"\n            className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n            value={editingLocation['longitude'] || ''}\n            onChange={e => setEditingLocation({ ...editingLocation, 'longitude': e.target.value })}\n            placeholder=\"Ex: -46.6388\"\n          />\n          <p className=\"text-xs text-gray-400 mt-1\">\n            Valor entre -180 e 180 (ex: -46.6388 para São Paulo)\n          </p>\n        </div>\n      </div>\n\n      {/* Mapa */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Mapa - Clique para definir a localização\n        </label>\n        <div \n          ref={mapRef}\n          className=\"w-full h-64 border border-gray-700 rounded-lg bg-gray-800\"\n          style={{ minHeight: '256px' }}\n        />\n        <p className=\"text-xs text-gray-400 mt-1\">\n          Clique no mapa para definir as coordenadas automaticamente\n        </p>\n      </div>\n\n      {/* Informações sobre Coordenadas */}\n      <div className=\"bg-gray-800 border border-gray-700 rounded-lg p-4\">\n        <h3 className=\"text-lg font-semibold text-gray-100 mb-4 border-b border-gray-600 pb-2\">\n          Como Usar as Coordenadas\n        </h3>\n        \n        <div className=\"space-y-3 text-sm text-gray-300\">\n          <div>\n            <strong className=\"text-amber-400\">Método 1 - Digite manualmente:</strong>\n            <p>Digite as coordenadas nos campos acima. Use ponto decimal (ex: -23.5489).</p>\n          </div>\n          \n          <div>\n            <strong className=\"text-amber-400\">Método 2 - Clique no mapa:</strong>\n            <p>Clique no mapa para definir automaticamente as coordenadas da localização.</p>\n          </div>\n          \n          <div>\n            <strong className=\"text-amber-400\">Formato das coordenadas:</strong>\n            <p>Latitude: -90 a +90 | Longitude: -180 a +180</p>\n          </div>\n          \n          <div>\n            <strong className=\"text-amber-400\">Exemplos para São Paulo:</strong>\n            <p>Latitude: -23.5489 | Longitude: -46.6388</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CoordenadasTab; ","import React, { useState, useEffect } from 'react';\nimport { useRefresh } from '../../contexts/RefreshContext';\nimport { useEscolas } from './hooks/useEscolas';\nimport { useModalidades } from './hooks/useModalidades';\nimport { ADMIN_TABS, UI_CONFIG, FORM_CONFIG } from './constants/adminConstants';\nimport AdminSidebar from './AdminSidebar';\nimport AdminToolbar from './AdminToolbar';\nimport ModalidadesTab from './tabs/ModalidadesTab';\nimport DadosBasicosTab from './tabs/DadosBasicosTab';\nimport PovosLinguasTab from './tabs/PovosLinguasTab';\nimport InfraestruturaTab from './tabs/InfraestruturaTab';\nimport GestaoProfessoresTab from './tabs/GestaoProfessoresTab';\nimport MaterialPedagogicoTab from './tabs/MaterialPedagogicoTab';\nimport ProjetosParceriasTab from './tabs/ProjetosParceriasTab';\nimport RedesSociaisTab from './tabs/RedesSociaisTab';\nimport VideoTab from './tabs/VideoTab';\nimport HistoriasTab from './tabs/HistoriasTab';\nimport HistoriaProfessoresTab from './tabs/HistoriaProfessoresTab';\nimport CoordenadasTab from './tabs/CoordenadasTab';\n\n// Imports condicionais para evitar problemas de hot reload\nlet ImagensEscolaTab = null;\nlet ImagensProfessoresTab = null;\nlet DocumentosTab = null;\n\ntry {\n  ImagensEscolaTab = require('./tabs/ImagensEscolaTab').default;\n} catch (e) {\n  console.warn('ImagensEscolaTab não encontrado:', e);\n}\n\ntry {\n  ImagensProfessoresTab = require('./tabs/ImagensProfessoresTab').default;\n} catch (e) {\n  console.warn('ImagensProfessoresTab não encontrado:', e);\n}\n\ntry {\n  DocumentosTab = require('./tabs/DocumentosTab').default;\n} catch (e) {\n  console.warn('DocumentosTab não encontrado:', e);\n}\n\nconst AdminPanel = () => {\n  const { triggerRefresh } = useRefresh();\n  \n  // Estados principais\n  const [editingLocation, setEditingLocation] = useState(null);\n  const [isSaving, setIsSaving] = useState(false);\n  const [saveError, setSaveError] = useState(null);\n  const [saveSuccess, setSaveSuccess] = useState(false);\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n\n  // Detectar se é mobile\n  const isMobile = typeof window !== 'undefined' && window.innerWidth <= UI_CONFIG.MOBILE_BREAKPOINT;\n\n  // Hooks customizados\n  const { \n    escolas, \n    loading: escolasLoading, \n    error: escolasError,\n    searchTerm, \n    setSearchTerm, \n    selectedType, \n    setSelectedType,\n    filteredEscolas,\n    saveEscola\n  } = useEscolas();\n\n  const {\n    loadExistingModalidades,\n    clearModalidades\n  } = useModalidades();\n\n  // Função para abrir edição de escola\n  const openEditModal = (escola) => {\n    // Carregar modalidades existentes\n    loadExistingModalidades(escola['Modalidade de Ensino/turnos de funcionamento']);\n    \n    // Garantir que apenas os campos originais do banco sejam usados\n    const escolaOriginal = {\n      id: escola.id,\n      Escola: escola.Escola,\n      'Município': escola['Município'],\n      'Endereço': escola['Endereço'],\n      'Terra Indigena (TI)': escola['Terra Indigena (TI)'],\n      'Parcerias com o município': escola['Parcerias com o município'],\n      'Diretoria de Ensino': escola['Diretoria de Ensino'],\n      'Ano de criação da escola': escola['Ano de criação da escola'],\n      'Povos indigenas': escola['Povos indigenas'],\n      'Linguas faladas': escola['Linguas faladas'],\n      'Modalidade de Ensino/turnos de funcionamento': escola['Modalidade de Ensino/turnos de funcionamento'],\n      'Numero de alunos': escola['Numero de alunos'],\n      'turnos_funcionamento': escola['turnos_funcionamento'] || '',\n      'Espaço escolar e estrutura': escola['Espaço escolar e estrutura'],\n      'Acesso à água': escola['Acesso à água'],\n      'Tem coleta de lixo?': escola['Tem coleta de lixo?'],\n      'Acesso à internet': escola['Acesso à internet'],\n      'Equipamentos Tecnológicos (Computadores, tablets e impressoras)': escola['Equipamentos Tecnológicos (Computadores, tablets e impressoras)'],\n      'Modo de acesso à escola': escola['Modo de acesso à escola'],\n      'Gestão/Nome': escola['Gestão/Nome'],\n      'Outros funcionários': escola['Outros funcionários'],\n      'Quantidade de professores indígenas': escola['Quantidade de professores indígenas'],\n      'Quantidade de professores não indígenas': escola['Quantidade de professores não indígenas'],\n      'Professores falam a língua indígena?': escola['Professores falam a língua indígena?'],\n      'Formação dos professores': escola['Formação dos professores'],\n      'Formação continuada oferecida': escola['Formação continuada oferecida'],\n      'A escola possui PPP próprio?': escola['A escola possui PPP próprio?'],\n      'PPP elaborado com a comunidade?': escola['PPP elaborado com a comunidade?'],\n      'Projetos em andamento': escola['Projetos em andamento'],\n      'Parcerias com universidades?': escola['Parcerias com universidades?'],\n      'Ações com ONGs ou coletivos?': escola['Ações com ONGs ou coletivos?'],\n      'Desejos da comunidade para a escola': escola['Desejos da comunidade para a escola'],\n      'Escola utiliza redes sociais?': escola['Escola utiliza redes sociais?'],\n      'Links das redes sociais': escola['Links das redes sociais'],\n      'historia_da_escola': escola['historia_da_escola'],\n      'latitude': escola['Latitude'],\n      'longitude': escola['Longitude'],\n      'links': escola['links'],\n      'link_para_videos': escola['link_para_videos'],\n      'logradouro': escola['logradouro'],\n      'numero': escola['numero'],\n      'complemento': escola['complemento'],\n      'bairro': escola['bairro'],\n      'cep': escola['cep'],\n      'estado': escola['estado'],\n      'nome_professor': escola['nome_professor'],\n      'professores_indigenas': escola['professores_indigenas'],\n      'professores_nao_indigenas': escola['professores_nao_indigenas'],\n      'professores_falam_lingua_indigena': escola['professores_falam_lingua_indigena'],\n      'formacao_professores': escola['formacao_professores'],\n      'visitas_supervisores_formacao': escola['visitas_supervisores_formacao'],\n      'outros_funcionarios': escola['outros_funcionarios'],\n      'gestao': escola['gestao'],\n      'merenda_diferenciada': escola['merenda_diferenciada'],\n      cozinha: escola.cozinha,\n      merenda_escolar: escola.merenda_escolar,\n      diferenciada: escola.diferenciada,\n      activeTab: FORM_CONFIG.DEFAULT_ACTIVE_TAB\n    };\n    \n    setEditingLocation(escolaOriginal);\n  };\n\n  // Função para criar nova escola vazia\n  const criarNovaEscolaVazia = () => {\n    // Limpar modalidades\n    clearModalidades();\n    \n    return {\n      Escola: '',\n      'Município': '',\n      'Endereço': '',\n      'Terra Indigena (TI)': '',\n      'Parcerias com o município': '',\n      'Diretoria de Ensino': '',\n      'Ano de criação da escola': '',\n      'Povos indigenas': '',\n      'Linguas faladas': '',\n      'Modalidade de Ensino/turnos de funcionamento': '',\n      'Numero de alunos': '',\n      'turnos_funcionamento': '',\n      'Espaço escolar e estrutura': '',\n      'Acesso à água': '',\n      'Tem coleta de lixo?': '',\n      'Acesso à internet': '',\n      'Equipamentos Tecnológicos (Computadores, tablets e impressoras)': '',\n      'Modo de acesso à escola': '',\n      'Gestão/Nome': '',\n      'Outros funcionários': '',\n      'Quantidade de professores indígenas': '',\n      'Quantidade de professores não indígenas': '',\n      'Professores falam a língua indígena?': '',\n      'Formação dos professores': '',\n      'Formação continuada oferecida': '',\n      'A escola possui PPP próprio?': '',\n      'PPP elaborado com a comunidade?': '',\n      'Projetos em andamento': '',\n      'Parcerias com universidades?': '',\n      'Ações com ONGs ou coletivos?': '',\n      'Desejos da comunidade para a escola': '',\n      'Escola utiliza redes sociais?': '',\n      'Links das redes sociais': '',\n      'historia_da_escola': '',\n      'latitude': '',\n      'longitude': '',\n      'links': '',\n      'link_para_videos': '',\n      'logradouro': '',\n      'numero': '',\n      'complemento': '',\n      'bairro': '',\n      'cep': '',\n      'estado': 'SP',\n      'nome_professor': '',\n      'professores_indigenas': '',\n      'professores_nao_indigenas': '',\n      'professores_falam_lingua_indigena': '',\n      'formacao_professores': '',\n      'visitas_supervisores_formacao': '',\n      'outros_funcionarios': '',\n      'gestao': '',\n      'merenda_diferenciada': '',\n      cozinha: '',\n      merenda_escolar: '',\n      diferenciada: '',\n      activeTab: FORM_CONFIG.DEFAULT_ACTIVE_TAB\n    };\n  };\n\n  // Função para criar nova escola\n  const handleNovaEscola = () => {\n    setEditingLocation(criarNovaEscolaVazia());\n  };\n\n  // Função para salvar escola\n  const handleSaveEscola = async () => {\n    if (!editingLocation) return;\n\n    setIsSaving(true);\n    setSaveError(null);\n    setSaveSuccess(false);\n\n    try {\n      const result = await saveEscola(editingLocation);\n      \n      if (result.success) {\n        setSaveSuccess(true);\n        // Atualizar o editingLocation com os dados salvos\n        setEditingLocation(result.data);\n        \n        // Limpar mensagem de sucesso após 3 segundos\n        setTimeout(() => {\n          setSaveSuccess(false);\n        }, 3000);\n      } else {\n        setSaveError(result.error);\n      }\n    } catch (error) {\n      setSaveError(error.message);\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  // Renderizar aba ativa\n  const renderActiveTab = () => {\n    const activeTab = editingLocation?.activeTab || FORM_CONFIG.DEFAULT_ACTIVE_TAB;\n\n    switch (activeTab) {\n      case 'dados-basicos':\n        return (\n          <DadosBasicosTab \n            editingLocation={editingLocation}\n            setEditingLocation={setEditingLocation}\n          />\n        );\n      \n      case 'povos-linguas':\n        return (\n          <PovosLinguasTab \n            editingLocation={editingLocation}\n            setEditingLocation={setEditingLocation}\n          />\n        );\n      \n      case 'modalidades':\n        return (\n          <ModalidadesTab \n            editingLocation={editingLocation}\n            setEditingLocation={setEditingLocation}\n          />\n        );\n      \n      case 'infraestrutura':\n        return (\n          <InfraestruturaTab \n            editingLocation={editingLocation}\n            setEditingLocation={setEditingLocation}\n          />\n        );\n      \n      case 'gestao-professores':\n        return (\n          <GestaoProfessoresTab \n            editingLocation={editingLocation}\n            setEditingLocation={setEditingLocation}\n          />\n        );\n      \n      case 'material-pedagogico':\n        return (\n          <MaterialPedagogicoTab \n            editingLocation={editingLocation}\n            setEditingLocation={setEditingLocation}\n          />\n        );\n      \n      case 'projetos-parcerias':\n        return (\n          <ProjetosParceriasTab \n            editingLocation={editingLocation}\n            setEditingLocation={setEditingLocation}\n          />\n        );\n      \n      case 'redes-sociais':\n        return (\n          <RedesSociaisTab \n            editingLocation={editingLocation}\n            setEditingLocation={setEditingLocation}\n          />\n        );\n      \n      case 'video':\n        return (\n          <VideoTab \n            editingLocation={editingLocation}\n          />\n        );\n      \n      case 'historias':\n        return (\n          <HistoriasTab \n            editingLocation={editingLocation}\n            setEditingLocation={setEditingLocation}\n          />\n        );\n      \n      case 'historia-professores':\n        return (\n          <HistoriaProfessoresTab \n            editingLocation={editingLocation}\n            setEditingLocation={setEditingLocation}\n          />\n        );\n      \n      case 'coordenadas':\n        return (\n          <CoordenadasTab \n            editingLocation={editingLocation}\n            setEditingLocation={setEditingLocation}\n          />\n        );\n      \n      case 'imagens-escola':\n        if (!ImagensEscolaTab) {\n          return <div className=\"text-center py-8 text-gray-500\">Componente em carregamento...</div>;\n        }\n        return <ImagensEscolaTab editingLocation={editingLocation} />;\n      \n      case 'imagens-professores':\n        if (!ImagensProfessoresTab) {\n          return <div className=\"text-center py-8 text-gray-500\">Componente em carregamento...</div>;\n        }\n        return <ImagensProfessoresTab editingLocation={editingLocation} />;\n      \n      case 'documentos':\n        if (!DocumentosTab) {\n          return <div className=\"text-center py-8 text-gray-500\">Componente em carregamento...</div>;\n        }\n        return <DocumentosTab editingLocation={editingLocation} />;\n      \n      // TODO: Implementar outras abas\n      default:\n        return (\n          <div className=\"text-gray-400 text-center py-8\">\n            Aba \"{activeTab}\" em desenvolvimento...\n          </div>\n        );\n    }\n  };\n\n  return (\n    <div className=\"flex min-h-screen bg-gray-950\">\n      {/* Sidebar */}\n      <AdminSidebar\n        isMobile={isMobile}\n        sidebarOpen={sidebarOpen}\n        setSidebarOpen={setSidebarOpen}\n        editingLocation={editingLocation}\n        onEscolaSelect={openEditModal}\n      />\n\n      {/* Conteúdo principal */}\n      <main className=\"flex-1 p-6 overflow-y-auto h-screen bg-gray-950\">\n        <h1 className=\"text-2xl font-bold text-gray-100 mb-6\">Painel de Administração</h1>\n        \n        {/* Toolbar */}\n        <AdminToolbar\n          searchTerm={searchTerm}\n          setSearchTerm={setSearchTerm}\n          selectedType={selectedType}\n          setSelectedType={setSelectedType}\n          onNovaEscola={handleNovaEscola}\n        />\n\n        {/* Loading state */}\n        {escolasLoading && (\n          <div className=\"text-center py-8\">\n            <div className=\"text-gray-400\">Carregando escolas...</div>\n          </div>\n        )}\n\n        {/* Error state */}\n        {escolasError && (\n          <div className=\"bg-red-900 border border-red-700 text-red-200 px-4 py-3 rounded mb-4\">\n            Erro ao carregar escolas: {escolasError}\n          </div>\n        )}\n\n        {/* Painel de Edição */}\n        {editingLocation && typeof editingLocation === 'object' && (editingLocation.Escola !== undefined) && (\n          <div className=\"bg-gray-900 rounded-lg shadow-lg p-6 max-h-[calc(100vh-200px)] overflow-hidden flex flex-col border border-gray-800\">\n            <div className=\"flex justify-between items-center mb-4 flex-shrink-0\">\n              <h2 className=\"text-lg font-semibold text-gray-100\">\n                {editingLocation.id ? 'Editar Escola' : 'Nova Escola'}\n              </h2>\n              <div className=\"flex items-center gap-3\">\n                {/* Botão Salvar */}\n                <button\n                  onClick={handleSaveEscola}\n                  disabled={isSaving}\n                  className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-400 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  {isSaving ? 'Salvando...' : 'Salvar'}\n                </button>\n                \n                {/* Botão Fechar */}\n                <button\n                  onClick={() => setEditingLocation(null)}\n                  className=\"text-gray-400 hover:text-gray-200\"\n                >\n                  Fechar\n                </button>\n              </div>\n            </div>\n\n            {/* Mensagens de feedback */}\n            {saveSuccess && (\n              <div className=\"mb-4 p-3 bg-green-900 border border-green-700 text-green-200 rounded-lg\">\n                ✅ Escola salva com sucesso!\n              </div>\n            )}\n            \n            {saveError && (\n              <div className=\"mb-4 p-3 bg-red-900 border border-red-700 text-red-200 rounded-lg\">\n                ❌ Erro ao salvar: {saveError}\n              </div>\n            )}\n\n            {/* Navegação por abas */}\n            <div className=\"border-b border-gray-800 mb-6 flex-shrink-0 bg-gray-800 rounded-t-lg\">\n              <nav className=\"-mb-px flex space-x-8 overflow-x-auto\">\n                {ADMIN_TABS.map((tab) => (\n                  <button\n                    key={tab.id}\n                    type=\"button\"\n                    onClick={() => setEditingLocation({ ...editingLocation, activeTab: tab.id })}\n                    className={`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm transition-colors ${\n                      (editingLocation.activeTab || FORM_CONFIG.DEFAULT_ACTIVE_TAB) === tab.id\n                        ? 'border-green-400 text-green-300 bg-gray-900'\n                        : 'border-transparent text-gray-400 hover:text-green-200 hover:bg-gray-700'\n                    }`}\n                  >\n                    {tab.label}\n                  </button>\n                ))}\n              </nav>\n            </div>\n\n            {/* Conteúdo da aba ativa */}\n            <div className=\"flex-1 overflow-y-auto\">\n              {renderActiveTab()}\n            </div>\n          </div>\n        )}\n\n        {/* Mensagem quando nenhuma escola está selecionada */}\n        {!editingLocation && !escolasLoading && (\n          <div className=\"text-center py-12\">\n            <div className=\"text-gray-400 text-lg mb-4\">\n              Selecione uma escola para editar ou crie uma nova\n            </div>\n            <button\n              onClick={handleNovaEscola}\n              className=\"px-6 py-3 bg-green-700 text-white rounded-lg hover:bg-green-800 focus:outline-none focus:ring-2 focus:ring-green-400 transition-colors\"\n            >\n              + Criar Nova Escola\n            </button>\n          </div>\n        )}\n      </main>\n    </div>\n  );\n};\n\nexport default AdminPanel; ","import React from 'react';\nimport AdminPanel from './AdminPanel/index';\n\nconst AdminPanelWrapper = () => {\n  return <AdminPanel />;\n};\n\nexport default AdminPanelWrapper; "],"names":["addLegendaFoto","async","console","log","legenda","legendaData","_objectSpread","data","testData","error","testError","supabase","from","select","limit","code","warn","tipo_foto","columnError","insert","single","updateLegendaFoto","id","updates","update","eq","getLegendaByImageUrl","imagemUrl","escolaId","tipoFoto","arguments","length","undefined","query","caminhoRelativo","split","slice","join","query2","ilike","concat","data2","error2","getTituloByVideoUrl","videoUrl","testLegendasTable","tableData","tableError","structureData","structureError","tipoData","tipoError","testRecord","escola_id","imagem_url","descricao_detalhada","autor_foto","data_foto","categoria","ativo","created_at","Date","toISOString","updated_at","insertData","insertError","deleteError","delete","ESCOLA_IMAGE_CONFIG","BUCKET_NAME","MAX_FILE_SIZE","ALLOWED_TYPES","MAX_IMAGES_PER_SCHOOL","Infinity","MIN_DIMENSIONS","width","height","PROFESSOR_IMAGE_CONFIG","validateImageFile","file","config","includes","type","isValid","map","t","toUpperCase","size","extension","name","pop","toLowerCase","allowedExtensions","uploadEscolaImage","descricao","validation","Error","fileName","generateUniqueFileName","timestamp","now","random","Math","toString","substring","filePath","uploadError","storage","upload","cacheControl","upsert","message","publicUrl","getPublicUrl","url","trim","uploadProfessorImage","genero","generateUniqueFileNameWithGenero","getEscolaImages","bucketName","files","list","index","deleteImage","imageId","storageError","remove","updateImageDescription","_ref","onUploadComplete","onRemove","existingUrls","isUploading","setIsUploading","useState","setError","selectedFiles","setSelectedFiles","previewUrls","setPreviewUrls","_jsxs","className","children","FILE_RESTRICTIONS","PDF","MAX_SIZE","_jsx","AlertCircle","accept","multiple","onChange","Array","event","target","validFiles","filter","isValidType","isValidSize","prev","disabled","Upload","File","onClick","_","i","X","uploadedUrls","uploadPDF","push","allUrls","err","href","rel","newUrls","handleRemove","editingLocation","documentos","setDocumentos","PDFUploadSection","urls","onImagesUpdate","uploading","setUploading","uploadProgress","setUploadProgress","success","setSuccess","existingImages","setExistingImages","loading","setLoading","editingImage","setEditingImage","editingDescription","setEditingDescription","fetchExistingImages","useCallback","images","useEffect","legendasMap","img","fetchLegendas","timer","setTimeout","clearTimeout","handleDrop","preventDefault","dataTransfer","imageFiles","startsWith","handleDragOver","handleLegendaFieldChange","field","value","ImageIcon","Check","onDrop","onDragOver","round","style","src","URL","createObjectURL","alt","removeSelectedFile","uploadedImages","progress","uploadedImage","image","_image$legendaData","_image$legendaData2","_image$legendaData3","_image$legendaData4","_image$legendaData5","window","confirm","handleDeleteImage","title","Trash2","e","placeholder","imagem_url_relativa","updateData","resultado","novaLegendaData","novaLegenda","stack","handleLegendaSave","Save","ImageUploadSection","uploadFile","bucket","STORAGE_BUCKETS","PDFS","fileType","getFileType","validateFile","FILE_PATHS","uploadImage","MEDIA","addProfessorImageMeta","meta","setGenero","titulo","setTitulo","getProfessorImageMetaByUrl","updateProfessorImageMeta","autor","User","nome_arquivo","ProfessorImageUploadSection","MAX_FILES","IMAGE","AUDIO","restrictions","prefix","useEscolas","escolas","setEscolas","searchTerm","setSearchTerm","selectedType","setSelectedType","fetchEscolas","order","ascending","escolasMapeadas","escola","logradouro","numero","complemento","bairro","cep","estado","filteredEscolas","_escola$Escola","Escola","updateEscolaInList","updatedData","addEscolaToList","novaEscola","removeEscolaFromList","getEscolaById","find","getEscolaByName","nome","_escola$Escola2","saveEscola","escolaData","MODALIDADES_OPTIONS","MODALIDADES_CATEGORIAS","indices","useModalidades","selectedModalidades","setSelectedModalidades","outroModalidade","setOutroModalidade","handleModalidadeChange","modalidade","m","handleOutroModalidadeChange","hasOutro","some","saveModalidades","loadExistingModalidades","modalidadesText","parts","part","modalidades","outro","forEach","replace","clearModalidades","getModalidadesPreview","hasSelectedModalidades","ADMIN_TABS","label","UI_CONFIG","FORM_CONFIG","isMobile","sidebarOpen","setSidebarOpen","onEscolaSelect","_Fragment","Menu","transform","top","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","onNovaEscola","setEditingLocation","checked","turnos_funcionamento","handleSaveModalidades","cozinha","merenda_escolar","diferenciada","merenda_diferenciada","videos","setVideos","showForm","setShowForm","editingVideo","setEditingVideo","formData","setFormData","video_url","plataforma","carregarVideos","getVideosEscola","resetForm","handleDelete","deleteVideoEscola","Plus","video","allowFullScreen","handleEdit","Edit3","onSubmit","payload","Number","Boolean","updateVideoEscola","createVideoEscola","required","rows","VideoManager","quillRef","React","modules","toolbar","container","handlers","input","document","createElement","setAttribute","click","onchange","quill","current","getEditor","range","getSelection","insertEmbed","imageUrl","deleteText","setSelection","alert","ReactQuill","ref","theme","formats","backgroundColor","color","RichTextEditor","mapRef","useRef","mapInstanceRef","markerRef","updateMap","lat","lng","view","getView","isNaN","_mapInstanceRef$curre","coordinates","fromLonLat","parseFloat","setCenter","setZoom","vectorSource","getLayers","getArray","layer","VectorLayer","getSource","removeFeature","marker","Feature","geometry","Point","setStyle","Style","Circle","radius","Fill","Stroke","addFeature","handleMapClick","toLonLat","coordinate","toFixed","Map","layers","TileLayer","source","XYZ","VectorSource","View","center","zoom","on","setTarget","step","minHeight","ImagensEscolaTab","ImagensProfessoresTab","DocumentosTab","require","AdminPanel","triggerRefresh","useRefresh","isSaving","setIsSaving","saveError","setSaveError","saveSuccess","setSaveSuccess","innerWidth","escolasLoading","escolasError","handleNovaEscola","activeTab","AdminSidebar","escolaOriginal","AdminToolbar","result","tab","renderActiveTab","DadosBasicosTab","PovosLinguasTab","ModalidadesTab","InfraestruturaTab","GestaoProfessoresTab","MaterialPedagogicoTab","ProjetosParceriasTab","RedesSociaisTab","VideoTab","HistoriasTab","HistoriaProfessoresTab","CoordenadasTab","AdminPanelWrapper"],"sourceRoot":""}