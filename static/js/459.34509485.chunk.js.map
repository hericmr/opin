{"version":3,"file":"static/js/459.34509485.chunk.js","mappings":"qOAGA,MAAMA,EAAsB,CAC1BC,YAAa,sBACbC,cAAe,QACfC,cAAe,CAAC,aAAc,YAAa,YAAa,aAAc,aACtEC,sBAAuBC,IACvBC,eAAgB,CAAEC,MAAO,IAAKC,OAAQ,MAIlCC,EAAyB,CAC7BR,YAAa,sBACbC,cAAe,QACfC,cAAe,CAAC,aAAc,YAAa,YAAa,aAAc,aACtEC,sBAAuBC,IACvBC,eAAgB,CAAEC,MAAO,IAAKC,OAAQ,MASlCE,EAAoBA,CAACC,EAAMC,KAE/B,IAAKA,EAAOT,cAAcU,SAASF,EAAKG,MACtC,MAAO,CACLC,SAAS,EACTC,MAAM,iDAADC,OAAgDL,EAAOT,cAAce,KAAIC,GAAKA,EAAEC,MAAM,KAAK,GAAGC,gBAAeC,KAAK,QAK3H,GAAIX,EAAKY,KAAOX,EAAOV,cACrB,MAAO,CACLa,SAAS,EACTC,MAAM,4CAADC,OAA2CL,EAAOV,cAAa,QAAgB,OAKxF,MAAMsB,EAAYb,EAAKc,KAAKL,MAAM,KAAKM,MAAMC,cACvCC,EAAoBhB,EAAOT,cAAce,KAAIC,GAAKA,EAAEC,MAAM,KAAK,KACrE,OAAKQ,EAAkBf,SAASW,GAOzB,CAAET,SAAS,GANT,CACLA,SAAS,EACTC,MAAM,6CAADC,OAAyCW,EAAkBN,KAAK,SAyC9DO,EAAoBC,eAAOnB,EAAMoB,GAA8B,IAApBC,EAASC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GAClE,IAEE,MAAMG,EAAa1B,EAAkBC,EAAMX,GAC3C,IAAKoC,EAAWrB,QACd,MAAM,IAAIsB,MAAMD,EAAWpB,OAI7B,MAAMsB,EArCqBC,EAAC5B,EAAMoB,KACpC,MAAMS,EAAYC,KAAKC,MACjBC,EAASC,KAAKD,SAASE,SAAS,IAAIC,UAAU,EAAG,GACjDtB,EAAYb,EAAKc,KAAKL,MAAM,KAAKM,MAAMC,cAC7C,MAAM,GAANV,OAAUc,EAAQ,KAAAd,OAAIuB,EAAS,KAAAvB,OAAI0B,EAAM,KAAA1B,OAAIO,IAiC1Be,CAAuB5B,EAAMoB,GACxCgB,EAAQ,GAAA9B,OAAMc,EAAQ,KAAAd,OAAIqB,IAGxBtB,MAAOgC,SAAsBC,EAAAA,EAASC,QAC3CC,KAAKnD,EAAoBC,aACzBmD,OAAOL,EAAUpC,EAAM,CACtB0C,aAAc,OACdC,QAAQ,IAGZ,GAAIN,EACF,MAAM,IAAIX,MAAM,mBAADpB,OAAoB+B,EAAYO,UAIjD,MAAQC,MAAM,UAAEC,IAAgBR,EAAAA,EAASC,QACtCC,KAAKnD,EAAoBC,aACzByD,aAAaX,GAEhB,MAAO,CACLY,GAAIlB,KAAKC,MACTkB,IAAKb,EACLU,YACAzB,UAAWA,EAAU6B,QAAM,oBAAA5C,OAAwBc,GACnD+B,YAAY,IAAIrB,MAAOsB,cAG3B,CAAE,MAAO/C,GAEP,MADAgD,QAAQhD,MAAM,sCAAuCA,GAC/CA,CACR,CACF,EAUaiD,EAAuBnC,eAAOnB,EAAMoB,GAAoD,IAA1CC,EAASC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GAAIiC,EAAMjC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,YAClF,IAEE,MAAMG,EAAa1B,EAAkBC,EAAMF,GAC3C,IAAK2B,EAAWrB,QACd,MAAM,IAAIsB,MAAMD,EAAWpB,OAI7B,MAAMsB,EA1E+B6B,EAACxD,EAAMoB,EAAUmC,KACxD,MAAM1B,EAAYC,KAAKC,MACjBC,EAASC,KAAKD,SAASE,SAAS,IAAIC,UAAU,EAAG,GACjDtB,EAAYb,EAAKc,KAAKL,MAAM,KAAKM,MAAMC,cAC7C,MAAM,GAANV,OAAUiD,EAAM,KAAAjD,OAAIc,EAAQ,KAAAd,OAAIuB,EAAS,KAAAvB,OAAI0B,EAAM,KAAA1B,OAAIO,IAsEpC2C,CAAiCxD,EAAMoB,EAAUmC,GAC5DnB,EAAQ,GAAA9B,OAAMc,EAAQ,KAAAd,OAAIqB,IAGxBtB,MAAOgC,SAAsBC,EAAAA,EAASC,QAC3CC,KAAK1C,EAAuBR,aAC5BmD,OAAOL,EAAUpC,EAAM,CACtB0C,aAAc,OACdC,QAAQ,IAGZ,GAAIN,EAEF,MADAgB,QAAQhD,MAAM,4BAA6BgC,GACrC,IAAIX,MAAM,mBAADpB,OAAoB+B,EAAYO,UAIjD,MAAQC,MAAM,UAAEC,IAAgBR,EAAAA,EAASC,QACtCC,KAAK1C,EAAuBR,aAC5ByD,aAAaX,GAGhB,MAAO,CACLY,GAAIlB,KAAKC,MACTkB,IAAKb,EACLU,YACAzB,UAAWA,EAAU6B,QAAM,aAAA5C,OAAiBiD,EAAM,eAAAjD,OAAcc,GAChEmC,SACAJ,YAAY,IAAIrB,MAAOsB,cAG3B,CAAE,MAAO/C,GAEP,MADAgD,QAAQhD,MAAM,yCAA0CA,GAClDA,CACR,CACF,EAQaoD,EAAkBtC,eAAOC,GAA4D,IAAlDsC,EAAUpC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAGjC,EAAoBC,YAC/E,IAEE,MAAQuD,KAAMc,EAAK,MAAEtD,SAAgBiC,EAAAA,EAASC,QAC3CC,KAAKkB,GACLE,KAAK,GAADtD,OAAIc,EAAQ,MAEnB,GAAIf,EACF,MAAMA,EAGR,IAAKsD,GAA0B,IAAjBA,EAAMpC,OAClB,MAAO,GAmBT,OAfgBoC,EAAMpD,KAAI,CAACP,EAAM6D,KAC/B,MAAMzB,EAAQ,GAAA9B,OAAMc,EAAQ,KAAAd,OAAIN,EAAKc,OAC7B+B,MAAM,UAAEC,IAAgBR,EAAAA,EAASC,QACtCC,KAAKkB,GACLX,aAAaX,GAEhB,MAAO,CACLY,GAAIa,EAAQ,EACZZ,IAAKb,EACLU,YACAzB,UAAU,UAADf,OAAYuD,EAAQ,GAC7BV,WAAYnD,EAAKmD,aAAc,IAAIrB,MAAOsB,iBAMhD,CAAE,MAAO/C,GAEP,MADAgD,QAAQhD,MAAM,oCAAqCA,GAC7CA,CACR,CACF,EASayD,EAAc3C,MAAO4C,EAAS3B,EAAUsB,KACnD,IAEE,MAAQrD,MAAO2D,SAAuB1B,EAAAA,EAASC,QAC5CC,KAAKkB,GACLO,OAAO,CAAC7B,IAEX,GAAI4B,EACF,MAAM,IAAItC,MAAM,4BAADpB,OAA6B0D,EAAapB,SAG7D,CAAE,MAAOvC,GAEP,MADAgD,QAAQhD,MAAM,0BAA2BA,GACnCA,CACR,GASW6D,EAAyB/C,MAAO4C,EAAS1C,KACpD,IAEE,MAAO,CACL2B,GAAIe,EACJ1C,UAAWA,EAAU6B,OAGzB,CAAE,MAAO7C,GAEP,MADAgD,QAAQhD,MAAM,+CAA0CA,GAClDA,CACR,E,oHC3QF,MAsKA,EAtKyB8D,IAAwD,IAAvD,iBAAEC,EAAgB,SAAEC,EAAQ,aAAEC,EAAe,IAAIH,EACzE,MAAOI,EAAaC,IAAkBC,EAAAA,EAAAA,WAAS,IACxCpE,EAAOqE,IAAYD,EAAAA,EAAAA,UAAS,OAC5BE,EAAeC,IAAoBH,EAAAA,EAAAA,UAAS,KAC5CI,EAAaC,IAAkBL,EAAAA,EAAAA,UAASH,GAmD/C,OACES,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oCAAmCC,SAAA,EAChDF,EAAAA,EAAAA,MAAA,SAAOC,UAAU,kCAAiCC,SAAA,CAAC,kBAEjDF,EAAAA,EAAAA,MAAA,QAAMC,UAAU,6BAA4BC,SAAA,CAAC,YACpCC,EAAAA,GAAkBC,IAAIC,SAAQ,QAAiB,yBAGzD/E,IACC0E,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yCAAwCC,SAAA,EACrDI,EAAAA,EAAAA,KAACC,EAAAA,EAAW,CAAC1E,KAAM,GAAIoE,UAAU,SAChC3E,SAMP0E,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yBAAwBC,SAAA,EACrCF,EAAAA,EAAAA,MAAA,SAAOC,UAAU,iBAAgBC,SAAA,EAC/BI,EAAAA,EAAAA,KAAA,SACElF,KAAK,OACLoF,OAAO,OACPC,UAAQ,EACRC,SAzEetE,UACvB,MAAMwC,EAAQ+B,MAAMlD,KAAKmD,EAAMC,OAAOjC,OACtC,GAAqB,IAAjBA,EAAMpC,OAAc,OAGxB,MAAMsE,EAAalC,EAAMmC,QAAO9F,IAC9B,MAAM+F,EAAcb,EAAAA,GAAkBC,IAAI3F,cAAcU,SAASF,EAAKG,MAChE6F,EAAchG,EAAKY,MAAQsE,EAAAA,GAAkBC,IAAIC,SACvD,OAAOW,GAAeC,KAGpBH,EAAWtE,SAAWoC,EAAMpC,QAC9BmD,EAAS,iEAGXE,GAAiBqB,GAAQ,IAAIA,KAASJ,MA2D9Bb,UAAU,SACVkB,SAAU3B,KAEZQ,EAAAA,EAAAA,MAAA,OAAKC,UAAS,8FAAA1E,OACViE,EAAc,6BAA+B,oDAAqDU,SAAA,EACpGI,EAAAA,EAAAA,KAACc,EAAAA,EAAM,CAACvF,KAAM,GAAIoE,UAAWT,EAAc,gBAAkB,mBAC7Dc,EAAAA,EAAAA,KAAA,QAAML,UAAWT,EAAc,gBAAkB,gBAAgBU,SAC9DV,EAAc,oBAAsB,0BAM1CI,EAAcpD,OAAS,IACtBwD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBI,EAAAA,EAAAA,KAAA,MAAIL,UAAU,oCAAmCC,SAAC,4BAClDI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,yBAAwBC,SACpCN,EAAcpE,KAAI,CAACP,EAAM6D,KACxBkB,EAAAA,EAAAA,MAAA,OAAiBC,UAAU,2DAA0DC,SAAA,EACnFF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0BAAyBC,SAAA,EACtCI,EAAAA,EAAAA,KAACe,EAAAA,EAAI,CAACxF,KAAM,GAAIoE,UAAU,mBAC1BK,EAAAA,EAAAA,KAAA,QAAML,UAAU,wBAAuBC,SAAEjF,EAAKc,WAEhDuE,EAAAA,EAAAA,KAAA,UACElF,KAAK,SACLkG,QAASA,IAAMzB,GAAiBqB,GAAQA,EAAKH,QAAO,CAACQ,EAAGC,IAAMA,IAAM1C,MACpEmB,UAAU,mCAAkCC,UAE5CI,EAAAA,EAAAA,KAACmB,EAAAA,EAAC,CAAC5F,KAAM,SAVHiD,QAedwB,EAAAA,EAAAA,KAAA,UACElF,KAAK,SACLkG,QA3FSlF,UACnB,GAA6B,IAAzBwD,EAAcpD,OAAc,OAEhCiD,GAAe,GACfE,EAAS,MACT,MAAM+B,EAAe,GAErB,IACE,IAAK,MAAMzG,KAAQ2E,EAAe,CAChC,MAAM1B,QAAYyD,EAAAA,EAAAA,IAAU1G,GAC5ByG,EAAaE,KAAK1D,EACpB,CAEA,MAAM2D,EAAU,IAAI/B,KAAgB4B,GACpC3B,EAAe8B,GACfxC,EAAiBwC,GACjBhC,EAAiB,GACnB,CAAE,MAAOiC,GACPnC,EAAS,uDACTrB,QAAQhD,MAAM,kBAAmBwG,EACnC,CAAC,QACCrC,GAAe,EACjB,GAsEU0B,SAAU3B,EACVS,UAAS,uEAAA1E,OACLiE,EAAc,cAAgB,iCAAkCU,SAEnEV,EAAc,cAAgB,oBAMpCM,EAAYtD,OAAS,IACpBwD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBI,EAAAA,EAAAA,KAAA,MAAIL,UAAU,oCAAmCC,SAAC,0BAClDI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,yBAAwBC,SACpCJ,EAAYtE,KAAI,CAAC0C,EAAKY,KACrBkB,EAAAA,EAAAA,MAAA,OAAiBC,UAAU,2DAA0DC,SAAA,EACnFF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0BAAyBC,SAAA,EACtCI,EAAAA,EAAAA,KAACe,EAAAA,EAAI,CAACxF,KAAM,GAAIoE,UAAU,mBAC1BD,EAAAA,EAAAA,MAAA,KACE+B,KAAM7D,EACN2C,OAAO,SACPmB,IAAI,sBACJ/B,UAAU,wCAAuCC,SAAA,CAClD,aACYpB,EAAQ,SAGvBwB,EAAAA,EAAAA,KAAA,UACElF,KAAK,SACLkG,QAASA,IAhGLxC,KACpB,MAAMmD,EAAUnC,EAAYiB,QAAO,CAACQ,EAAGC,IAAMA,IAAM1C,IACnDiB,EAAekC,GACf3C,EAAS2C,IA6FsBC,CAAapD,GAC5BmB,UAAU,mCAAkCC,UAE5CI,EAAAA,EAAAA,KAACmB,EAAAA,EAAC,CAAC5F,KAAM,SAjBHiD,iBC1F1B,EA5CsBM,IAA0B,IAAzB,gBAAE+C,GAAiB/C,EACxC,MAAM/C,EAA0B,OAAf8F,QAAe,IAAfA,OAAe,EAAfA,EAAiBlE,IAC3BmE,EAAYC,IAAiB3C,EAAAA,EAAAA,WAAwB,OAAfyC,QAAe,IAAfA,OAAe,EAAfA,EAAiBC,aAAc,IAE5E,IAAK/F,EACH,OACEiE,EAAAA,EAAAA,KAAA,OAAKL,UAAU,sDAAqDC,UAClEI,EAAAA,EAAAA,KAAA,KAAAJ,SAAG,0DAiBT,OACEI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,YAAWC,UACxBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2DAA0DC,SAAA,EACvEI,EAAAA,EAAAA,KAAA,MAAIL,UAAU,2CAA0CC,SAAC,0BAGzDI,EAAAA,EAAAA,KAAA,KAAGL,UAAU,6BAA4BC,SAAC,4GAI1CI,EAAAA,EAAAA,KAACgC,EAAgB,CACfjD,iBAvBsBkD,IAC5BF,EAAcE,GAEdjE,QAAQkE,IAAI,0BAA2BD,IAqBjCjD,SAlBciD,IACpBF,EAAcE,GAEdjE,QAAQkE,IAAI,oCAA4BD,IAgBlChD,aAAc6C,S,0JCxBxB,MA0hBA,EA1hB2BhD,IAAmC,IAAlC,SAAE/C,EAAQ,eAAEoG,GAAgBrD,EACtD,MAAOQ,EAAeC,IAAoBH,EAAAA,EAAAA,UAAS,KAC5CgD,EAAWC,IAAgBjD,EAAAA,EAAAA,WAAS,IACpCkD,EAAgBC,IAAqBnD,EAAAA,EAAAA,UAAS,IAC9CpE,EAAOqE,IAAYD,EAAAA,EAAAA,UAAS,KAC5BoD,EAASC,IAAcrD,EAAAA,EAAAA,UAAS,KAChCsD,EAAgBC,IAAqBvD,EAAAA,EAAAA,UAAS,KAC9CwD,EAASC,IAAczD,EAAAA,EAAAA,WAAS,IAEhC0D,EAAcC,IAAmB3D,EAAAA,EAAAA,UAAS,OAC1C4D,EAAoBC,IAAyB7D,EAAAA,EAAAA,UAAS,IAGvD8D,GAAsBC,EAAAA,EAAAA,cAAYrH,UACtC,GAAKC,EAEL,IACE8G,GAAW,GACX,MAAMO,QAAehF,EAAAA,EAAAA,IAAgBrC,EAAU,uBAC/C4G,EAAkBS,EACpB,CAAE,MAAO5B,GACPxD,QAAQhD,MAAM,0BAA2BwG,GACzCnC,EAAS,sCACX,CAAC,QACCwD,GAAW,EACb,IACC,CAAC9G,KAEJsH,EAAAA,EAAAA,YAAU,KACRH,MACC,CAACA,KAGJG,EAAAA,EAAAA,YAAU,KACJtH,IACFiC,QAAQkE,IAAI,mDACZoB,EAAAA,EAAAA,SAED,CAACvH,KAGJsH,EAAAA,EAAAA,YAAU,KACcvH,WACpB,IAAK4G,EAAexG,OAAQ,OAC5B8B,QAAQkE,IAAI,yBAA0BQ,EAAexG,OAAQ,WAC7D,MAAMqH,EAAc,CAAC,EACrB,IAAK,MAAMC,KAAOd,EAAgB,CAChC1E,QAAQkE,IAAI,gCAAiCsB,EAAI5F,KACjD,MAAM6F,QAAgBC,EAAAA,EAAAA,IAAqBF,EAAI5F,IAAK7B,EAAU,UAC9DiC,QAAQkE,IAAI,sBAAuBuB,GACnCF,EAAYC,EAAI5F,KAAO6F,CACzB,CACAd,GAAkB/B,GAAQA,EAAK1F,KAAIsI,IAAGG,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACjCH,GAAG,IACNI,YAAaL,EAAYC,EAAI5F,MAAQ,CACnC6F,QAAS,GACTI,oBAAqB,GACrBC,WAAY,GACZC,UAAW,GACXC,UAAW,gBAIjBC,KAEC,CAACvB,EAAexG,OAAQH,KAG3BsH,EAAAA,EAAAA,YAAU,KACR,GAAIrI,GAASwH,EAAS,CACpB,MAAM0B,EAAQC,YAAW,KACvB9E,EAAS,IACToD,EAAW,MACV,KACH,MAAO,IAAM2B,aAAaF,EAC5B,IACC,CAAClJ,EAAOwH,IAGX,MA0BM6B,GAAalB,EAAAA,EAAAA,cAAa7C,IAC9BA,EAAMgE,iBACN,MAAMhG,EAAQ+B,MAAMlD,KAAKmD,EAAMiE,aAAajG,OAE5C,GAAqB,IAAjBA,EAAMpC,OAAc,OAGxB,MAAMsI,EAAalG,EAAMmC,QAAO9F,GAAQA,EAAKG,KAAK2J,WAAW,YACzDD,EAAWtI,OAAS,IACtBqD,GAAiBqB,GAAQ,IAAIA,KAAS4D,KACtCnF,EAAS,OAEV,IAEGqF,GAAiBvB,EAAAA,EAAAA,cAAa7C,IAClCA,EAAMgE,mBACL,IAsGGK,EAA2BA,CAACjG,EAASkG,EAAOC,KAChDlC,GAAkB/B,GAAQA,EAAK1F,KAAIsI,GACjCA,EAAI7F,KAAOe,GAAOiF,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACTH,GAAG,IAAEI,aAAWD,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAOH,EAAII,aAAW,IAAE,CAACgB,GAAQC,MACtDrB,OA6ER,OAAIZ,GAEA5C,EAAAA,EAAAA,KAAA,OAAKL,UAAU,4BAA2BC,UACxCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wCAAuCC,SAAA,EACpDI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,kEACfK,EAAAA,EAAAA,KAAA,QAAML,UAAU,qBAAoBC,SAAC,gCAO3CF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EAExBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oCAAmCC,SAAA,EAChDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0BAAyBC,SAAA,EACtCI,EAAAA,EAAAA,KAAC8E,EAAAA,EAAS,CAACnF,UAAU,2BACrBK,EAAAA,EAAAA,KAAA,MAAIL,UAAU,sCAAqCC,SAAC,0BAEtDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wBAAuBC,SAAA,CACnC8C,EAAexG,OAAO,iBAK1BlB,IACC0E,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yEAAwEC,SAAA,EACrFI,EAAAA,EAAAA,KAACC,EAAAA,EAAW,CAACN,UAAU,0BACvBK,EAAAA,EAAAA,KAAA,QAAML,UAAU,eAAcC,SAAE5E,OAInCwH,IACC9C,EAAAA,EAAAA,MAAA,OAAKC,UAAU,6EAA4EC,SAAA,EACzFI,EAAAA,EAAAA,KAAC+E,EAAAA,EAAK,CAACpF,UAAU,4BACjBK,EAAAA,EAAAA,KAAA,QAAML,UAAU,iBAAgBC,SAAE4C,QAKtC9C,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EAEtBF,EAAAA,EAAAA,MAAA,OACEC,UAAS,uEAAA1E,OACPmH,EACI,6BACA,sEAEN4C,OAAQX,EACRY,WAAYP,EAAe9E,SAAA,EAE3BI,EAAAA,EAAAA,KAACc,EAAAA,EAAM,CAACnB,UAAU,wCAClBK,EAAAA,EAAAA,KAAA,KAAGL,UAAU,qBAAoBC,SAAC,oDAGlCI,EAAAA,EAAAA,KAAA,KAAGL,UAAU,6BAA4BC,SAAC,0DAI1CF,EAAAA,EAAAA,MAAA,SAAOC,UAAU,0HAAyHC,SAAA,EACxII,EAAAA,EAAAA,KAAA,SACElF,KAAK,OACLqF,UAAQ,EACRD,OAAO,sDACPE,SAjSYE,IACxB,MAAMhC,EAAQ+B,MAAMlD,KAAKmD,EAAMC,OAAOjC,OACtC,GAAqB,IAAjBA,EAAMpC,OAAc,OAGxB,MAAMsE,EAAalC,EAAMmC,QAAO9F,IAC9B,MAAM+F,EAAc,CAAC,aAAc,YAAa,YAAa,aAAc,aAAa7F,SAASF,EAAKG,MAChG6F,EAAchG,EAAKY,MAAQ,QASjC,OAPKmF,GACHrB,EAAS,YAADpE,OAAaN,EAAKc,KAAI,0EAE3BkF,GACHtB,EAAS,YAADpE,OAAaN,EAAKc,KAAI,iDAGzBiF,GAAeC,KAGpBH,EAAWtE,OAAS,IACtBqD,GAAiBqB,GAAQ,IAAIA,KAASJ,KACtCnB,EAAS,MA6QCM,UAAU,SACVkB,SAAUuB,IACV,4BAMLA,IACC1C,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,6CAA4CC,SAAA,EACzDI,EAAAA,EAAAA,KAAA,QAAAJ,SAAM,uBACNF,EAAAA,EAAAA,MAAA,QAAAE,SAAA,CAAOhD,KAAKsI,MAAM5C,GAAgB,WAEpCtC,EAAAA,EAAAA,KAAA,OAAKL,UAAU,sCAAqCC,UAClDI,EAAAA,EAAAA,KAAA,OACEL,UAAU,2DACVwF,MAAO,CAAE5K,MAAM,GAADU,OAAKqH,EAAc,aAOxChD,EAAcpD,OAAS,IACtBwD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBF,EAAAA,EAAAA,MAAA,MAAIC,UAAU,4BAA2BC,SAAA,CAAC,0BAAwBN,EAAcpD,OAAO,QACvF8D,EAAAA,EAAAA,KAAA,OAAKL,UAAU,wCAAuCC,SACnDN,EAAcpE,KAAI,CAACP,EAAM6D,KACxBkB,EAAAA,EAAAA,MAAA,OAAiBC,UAAU,iBAAgBC,SAAA,EACzCI,EAAAA,EAAAA,KAAA,OACEoF,IAAKC,IAAIC,gBAAgB3K,GACzB4K,IAAK5K,EAAKc,KACVkE,UAAU,gDAEZK,EAAAA,EAAAA,KAAA,UACEgB,QAASA,IAzRDxC,KAC1Be,GAAiBqB,GAAQA,EAAKH,QAAO,CAACQ,EAAGC,IAAMA,IAAM1C,OAwRpBgH,CAAmBhH,GAClCmB,UAAU,qHAAoHC,UAE9HI,EAAAA,EAAAA,KAACmB,EAAAA,EAAC,CAACxB,UAAU,eAEfK,EAAAA,EAAAA,KAAA,KAAGL,UAAU,sCAAqCC,SAAEjF,EAAKc,SAZjD+C,QAgBdwB,EAAAA,EAAAA,KAAA,UACEgB,QA9ROlF,UACnB,GAA6B,IAAzBwD,EAAcpD,OAAlB,CAEAmG,GAAa,GACbE,EAAkB,GAClBlD,EAAS,IAET,IACE,MAAMoG,EAAiB,GAEvB,IAAK,IAAIvE,EAAI,EAAGA,EAAI5B,EAAcpD,OAAQgF,IAAK,CAC7C,MAAMvG,EAAO2E,EAAc4B,GACrBwE,GAAaxE,EAAI,GAAK5B,EAAcpD,OAAU,IACpDqG,EAAkBmD,GAElB,MAAMC,QAAsB9J,EAAAA,EAAAA,IAAkBlB,EAAMoB,GACpD0J,EAAenE,KAAKqE,EACtB,CAGAhD,GAAkB/B,GAAQ,IAAIA,KAAS6E,KACvClG,EAAiB,IACjBgD,EAAkB,GAClBE,EAAW,GAADxH,OAAIwK,EAAevJ,OAAM,0CAK/BiG,GACFA,GAGJ,CAAE,MAAOX,GACPxD,QAAQhD,MAAM,kBAAmBwG,GACjCnC,EAAS,yBAADpE,OAA0BuG,EAAIjE,SACxC,CAAC,QACC8E,GAAa,GACbE,EAAkB,EACpB,CArCsC,GA8R1B1B,SAAUuB,EACVzC,UAAU,kHAAiHC,SAE1HwC,EAAY,oBAAsB,uBAIrC,KAIPM,EAAexG,OAAS,IACvBwD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBF,EAAAA,EAAAA,MAAA,MAAIC,UAAU,4BAA2BC,SAAA,CAAC,sBAAoB8C,EAAexG,OAAO,QACpF8D,EAAAA,EAAAA,KAAA,OAAKL,UAAU,uDAAsDC,SAClE8C,EAAexH,KAAK0K,IAAK,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OACxBvG,EAAAA,EAAAA,MAAA,OAAoBC,UAAU,uDAAsDC,SAAA,EAElFF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBC,SAAA,EAC/BI,EAAAA,EAAAA,KAAA,OACEoF,IAAKQ,EAAMnI,UACX8H,IAAKK,EAAM5J,WAAa,mBACtB2D,UAAU,8BAIZK,EAAAA,EAAAA,KAAA,OAAKL,UAAU,gIAA+HC,UAC9II,EAAAA,EAAAA,KAAA,OAAKL,UAAU,kEAAiEC,UAC9EI,EAAAA,EAAAA,KAAA,UACEgB,QAASA,IAlRHlF,OAAO4C,EAAS3B,KACxC,GAAKmJ,OAAOC,QAAQ,+CAEpB,UACQ1H,EAAAA,EAAAA,IAAYC,EAAS3B,EAAU,uBAGrC4F,GAAkB/B,GAAQA,EAAKH,QAAO+C,GAAOA,EAAI7F,KAAOe,MAIxD+D,EAAW,mCAGPN,GACFA,GAGJ,CAAE,MAAOX,GACPxD,QAAQhD,MAAM,0BAA2BwG,GACzCnC,EAAS,2BAADpE,OAA4BuG,EAAIjE,SAC1C,GA6PiC6I,CAAkBR,EAAMjI,GAAIiI,EAAMhI,KACjD+B,UAAU,0DACV0G,MAAM,iBAAgBzG,UAEtBI,EAAAA,EAAAA,KAACsG,EAAAA,EAAM,CAAC3G,UAAU,sBAOxBD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,gBAAeC,SAAA,EAC5BI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,+CAA8CC,SAAC,aAGhEI,EAAAA,EAAAA,KAAA,SACElF,KAAK,OACL6E,UAAU,4FACVkF,OAAwB,QAAjBgB,EAAAD,EAAMhC,mBAAW,IAAAiC,OAAA,EAAjBA,EAAmBpC,UAAW,GACrCrD,SAAUmG,GAAK5B,EAAyBiB,EAAMjI,GAAI,UAAW4I,EAAEhG,OAAOsE,OACtE2B,YAAY,mCAEdxG,EAAAA,EAAAA,KAAA,SAAOL,UAAU,+CAA8CC,SAAC,+BAGhEI,EAAAA,EAAAA,KAAA,YACEL,UAAU,4FACVkF,OAAwB,QAAjBiB,EAAAF,EAAMhC,mBAAW,IAAAkC,OAAA,EAAjBA,EAAmBjC,sBAAuB,GACjDzD,SAAUmG,GAAK5B,EAAyBiB,EAAMjI,GAAI,sBAAuB4I,EAAEhG,OAAOsE,OAClF2B,YAAY,4CAEdxG,EAAAA,EAAAA,KAAA,SAAOL,UAAU,+CAA8CC,SAAC,mBAGhEI,EAAAA,EAAAA,KAAA,SACElF,KAAK,OACL6E,UAAU,4FACVkF,OAAwB,QAAjBkB,EAAAH,EAAMhC,mBAAW,IAAAmC,OAAA,EAAjBA,EAAmBjC,aAAc,GACxC1D,SAAUmG,GAAK5B,EAAyBiB,EAAMjI,GAAI,aAAc4I,EAAEhG,OAAOsE,OACzE2B,YAAY,0BAEdxG,EAAAA,EAAAA,KAAA,SAAOL,UAAU,+CAA8CC,SAAC,kBAGhEI,EAAAA,EAAAA,KAAA,SACElF,KAAK,OACL6E,UAAU,4FACVkF,OAAwB,QAAjBmB,EAAAJ,EAAMhC,mBAAW,IAAAoC,OAAA,EAAjBA,EAAmBjC,YAAa,GACvC3D,SAAUmG,GAAK5B,EAAyBiB,EAAMjI,GAAI,YAAa4I,EAAEhG,OAAOsE,UAE1E7E,EAAAA,EAAAA,KAAA,SAAOL,UAAU,+CAA8CC,SAAC,eAGhEI,EAAAA,EAAAA,KAAA,SACElF,KAAK,OACL6E,UAAU,4FACVkF,OAAwB,QAAjBoB,EAAAL,EAAMhC,mBAAW,IAAAqC,OAAA,EAAjBA,EAAmBjC,YAAa,GACvC5D,SAAUmG,GAAK5B,EAAyBiB,EAAMjI,GAAI,YAAa4I,EAAEhG,OAAOsE,OACxE2B,YAAY,qCAEdxG,EAAAA,EAAAA,KAAA,OAAKL,UAAU,kBAAiBC,UAC9BF,EAAAA,EAAAA,MAAA,UACEsB,QAASA,IApRHlF,WACxBkC,QAAQkE,IAAI,mCACZlE,QAAQkE,IAAI,mBAAoB0D,GAEhC,MAAMa,EAAsBb,EAAMhI,IAC5BgG,EAAcgC,EAAMhC,YAC1B5F,QAAQkE,IAAI,gBAAiBuE,GAC7BzI,QAAQkE,IAAI,oBAAqB0B,GACjC5F,QAAQkE,IAAI,aAAcnG,GAG1B,MAAM2K,GAAgB/C,EAAAA,EAAAA,GAAA,GAAQC,GAGzB8C,EAAiB3C,WAAmD,KAAtC2C,EAAiB3C,UAAUlG,eACrD6I,EAAiB3C,UAI1B4C,OAAOC,KAAKF,GAAkBG,SAAQC,IACN,KAA1BJ,EAAiBI,WACZJ,EAAiBI,MAI5B9I,QAAQkE,IAAI,2BAA4BwE,GAExC,IACE1I,QAAQkE,IAAI,iCACZ,IAAIuB,QAAgBC,EAAAA,EAAAA,IAAqB+C,EAAqB1K,EAAU,UAGxE,GAFAiC,QAAQkE,IAAI,gCAAiCuB,GAEzCA,EAAS,CACXzF,QAAQkE,IAAI,oCACZ,MAAM6E,GAAUpD,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACX+C,GAAgB,IACnBM,YAAY,IAAIvK,MAAOsB,gBAEzBC,QAAQkE,IAAI,gCAA2B6E,GAEvC,MAAME,QAAkBC,EAAAA,EAAAA,IAAkBzD,EAAQ9F,GAAIoJ,GACtD/I,QAAQkE,IAAI,kCAAmC+E,EACjD,KAAO,CACLjJ,QAAQkE,IAAI,2BACZ,MAAMiF,GAAexD,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,CACnByD,UAAWrL,EACXsL,WAAYZ,GACTC,GAAgB,IACnBY,OAAO,EACPxJ,YAAY,IAAIrB,MAAOsB,cACvBiJ,YAAY,IAAIvK,MAAOsB,cACvBwJ,UAAW,WAEbvJ,QAAQkE,IAAI,2BAA4BiF,GAExC,MAAMK,QAAoBC,EAAAA,EAAAA,IAAeN,GACzCnJ,QAAQkE,IAAI,uBAAwBsF,EACtC,CAEA/E,EAAW,8BACPN,IACFnE,QAAQkE,IAAI,8BACZC,IAEJ,CAAE,MAAOX,GACPxD,QAAQhD,MAAM,kCACdgD,QAAQhD,MAAM,iBAAkBwG,GAChCxD,QAAQhD,MAAM,oBAAqBwG,EAAIjE,SACvCS,QAAQhD,MAAM,eAAgBwG,EAAIkG,OAClCrI,EAAS,2BAA6BmC,EAAIjE,QAC5C,GA8MiCoK,CAAkB/B,GACjCjG,UAAU,kFACV7E,KAAK,SAAQ8E,SAAA,EAEbI,EAAAA,EAAAA,KAAC4H,EAAAA,EAAI,CAACjI,UAAU,YAAY,4BA/E1BiG,EAAMjI,YA0FG,IAA1B+E,EAAexG,SAAiBkG,IAC/B1C,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iCAAgCC,SAAA,EAC7CI,EAAAA,EAAAA,KAAC8E,EAAAA,EAAS,CAACnF,UAAU,0CACrBK,EAAAA,EAAAA,KAAA,KAAAJ,SAAG,sCACHI,EAAAA,EAAAA,KAAA,KAAGL,UAAU,UAASC,SAAC,mDC1fjC,EAjCyBd,IAA0B,IAAzB,gBAAE+C,GAAiB/C,EAC3C,MAAM/C,EAA0B,OAAf8F,QAAe,IAAfA,OAAe,EAAfA,EAAiBlE,GAElC,OAAK5B,GASHiE,EAAAA,EAAAA,KAAA,OAAKL,UAAU,YAAWC,UACxBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2DAA0DC,SAAA,EACvEI,EAAAA,EAAAA,KAAA,MAAIL,UAAU,2CAA0CC,SAAC,uBAGzDI,EAAAA,EAAAA,KAAA,KAAGL,UAAU,6BAA4BC,SAAC,uFAI1CI,EAAAA,EAAAA,KAAC6H,EAAkB,CACjB9L,SAAUA,EACVoG,eAAgBA,KAEdnE,QAAQkE,IAAI,0CApBlBlC,EAAAA,EAAAA,KAAA,OAAKL,UAAU,sDAAqDC,UAClEI,EAAAA,EAAAA,KAAA,KAAAJ,SAAG,uD,oECMJ,MAAMkI,EAAahM,eAAOnB,GAAyC,IAAnCoN,EAAM9L,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG+L,EAAAA,GAAgBC,KAC9D,IACE,MAAMC,GAAWC,EAAAA,EAAAA,IAAYxN,GAC7B,IAAKuN,EACH,MAAM,IAAI7L,MAAM,oCAGlB,MAAMD,GAAagM,EAAAA,EAAAA,IAAazN,EAAMuN,GACtC,IAAK9L,EAAWrB,QACd,MAAM,IAAIsB,MAAMD,EAAWpB,OAG7B,MAAMsB,GAAWC,EAAAA,EAAAA,IAAuB5B,EAAK,GAADM,OAAKiN,EAASvM,cAAa,MACjEoB,EAAQ,GAAA9B,OAAMoN,EAAAA,GAAWH,GAAS,KAAAjN,OAAIqB,IAEpCtB,MAAOgC,SAAsBC,EAAAA,EAASC,QAC3CC,KAAK4K,GACL3K,OAAOL,EAAUpC,EAAM,CACtB0C,aAAc,OACdC,QAAQ,IAGZ,GAAIN,EACF,MAAMA,EAGR,MAAQQ,MAAM,UAAEC,IAAgBR,EAAAA,EAASC,QACtCC,KAAK4K,GACLrK,aAAaX,GAEhB,OAAOU,CACT,CAAE,MAAOzC,GAEP,MADAgD,QAAQhD,MAAM,wBAAyBA,GACjCA,CACR,CACF,EAOaqG,EAAYvF,SAChBgM,EAAWnN,EAAMqN,EAAAA,GAAgBC,MAQ7BK,EAAcxM,SAClBgM,EAAWnN,EAAMqN,EAAAA,GAAgBO,M,4FChEnC,MAAMC,EAAaA,KACxB,MAAOC,EAASC,IAActJ,EAAAA,EAAAA,UAAS,KAChCwD,EAASC,IAAczD,EAAAA,EAAAA,WAAS,IAChCpE,EAAOqE,IAAYD,EAAAA,EAAAA,UAAS,OAC5BuJ,EAAYC,IAAiBxJ,EAAAA,EAAAA,UAAS,KACtCyJ,EAAcC,IAAmB1J,EAAAA,EAAAA,UAAS,SAG3C2J,GAAe5F,EAAAA,EAAAA,cAAYrH,UAC/B,IACE+G,GAAW,GACXxD,EAAS,MAET,MAAM,KAAE7B,EAAI,MAAExC,SAAgBiC,EAAAA,EAC3BE,KAAK,oBACL6L,OAAO,KACPC,MAAM,SAAU,CAAEC,WAAW,IAEhC,GAAIlO,EAAO,MAAMA,EAGjB,MAAMmO,EAAkB3L,EAAKtC,KAAIkO,IAAMzF,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAClCyF,GAAM,IAETC,WAAYD,EAAOC,YAAc,GACjCC,OAAQF,EAAOE,QAAU,GACzBC,YAAaH,EAAOG,aAAe,GACnCC,OAAQJ,EAAOI,QAAU,GACzBC,IAAKL,EAAOK,KAAO,GACnBC,OAAQN,EAAOM,QAAU,SAG3BhB,EAAWS,EACb,CAAE,MAAO3H,GACPxD,QAAQhD,MAAM,0BAA2BwG,GACzCnC,EAASmC,EAAIjE,QACf,CAAC,QACCsF,GAAW,EACb,IACC,IAGG8G,GAAkBxG,EAAAA,EAAAA,cAAY,IAC3BsF,EAAQhI,QAAO2I,IAAM,IAAAQ,EAAA,OACb,QADaA,EAC1BR,EAAOS,cAAM,IAAAD,OAAA,EAAbA,EAAejO,cAAcd,SAAS8N,EAAWhN,mBAElD,CAAC8M,EAASE,IAGPmB,GAAqB3G,EAAAA,EAAAA,cAAY,CAACpH,EAAUgO,KAChDrB,GAAW9H,GAAQA,EAAK1F,KAAIkO,GAC1BA,EAAOzL,KAAO5B,GAAQ4H,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAQyF,GAAWW,GAAgBX,QAE1D,IAGGY,GAAkB7G,EAAAA,EAAAA,cAAa8G,IACnCvB,GAAW9H,GAAQ,IAAIA,EAAMqJ,OAC5B,IAGGC,GAAuB/G,EAAAA,EAAAA,cAAapH,IACxC2M,GAAW9H,GAAQA,EAAKH,QAAO2I,GAAUA,EAAOzL,KAAO5B,QACtD,IAGGoO,GAAgBhH,EAAAA,EAAAA,cAAapH,GAC1B0M,EAAQ2B,MAAKhB,GAAUA,EAAOzL,KAAO5B,KAC3C,CAAC0M,IAGE4B,GAAkBlH,EAAAA,EAAAA,cAAamH,GAC5B7B,EAAQ2B,MAAKhB,IAAM,IAAAmB,EAAA,OACX,QAAbA,EAAAnB,EAAOS,cAAM,IAAAU,OAAA,EAAbA,EAAe5O,iBAAkB2O,EAAK3O,kBAEvC,CAAC8M,IAGE+B,GAAarH,EAAAA,EAAAA,cAAYrH,UAC7B,IAGE,GAFAuD,EAAS,MAELoL,EAAW9M,GAAI,CAEjB,MAAM,KAAEH,EAAI,MAAExC,SAAgBiC,EAAAA,EAC3BE,KAAK,oBACLuN,OAAO,CACN,OAAUD,EAAWZ,OACrB,eAAaY,EAAW,gBACxB,cAAYA,EAAW,eACvB,sBAAuBA,EAAW,uBAClC,+BAA6BA,EAAW,gCACxC,sBAAuBA,EAAW,uBAClC,iCAA4BA,EAAW,kCACvC,kBAAmBA,EAAW,mBAC9B,kBAAmBA,EAAW,mBAC9B,+CAAgDA,EAAW,gDAC3D,mBAAoBA,EAAW,oBAC/B,qBAAwBA,EAAiC,qBACzD,gCAA8BA,EAAW,iCACzC,sBAAiBA,EAAW,uBAC5B,sBAAuBA,EAAW,uBAClC,uBAAqBA,EAAW,wBAChC,qEAAmEA,EAAW,sEAC9E,6BAA2BA,EAAW,8BACtC,iBAAeA,EAAW,kBAC1B,yBAAuBA,EAAW,0BAClC,yCAAuCA,EAAW,0CAClD,gDAA2CA,EAAW,iDACtD,6CAAwCA,EAAW,8CACnD,iCAA4BA,EAAW,kCACvC,sCAAiCA,EAAW,uCAC5C,kCAAgCA,EAAW,mCAC3C,kCAAmCA,EAAW,mCAC9C,wBAAyBA,EAAW,yBACpC,+BAAgCA,EAAW,gCAC3C,qCAAgCA,EAAW,sCAC3C,sCAAuCA,EAAW,uCAClD,gCAAiCA,EAAW,iCAC5C,0BAA2BA,EAAW,2BACtC,mBAAsBA,EAA+B,mBACrD,SAAYA,EAAqB,SACjC,UAAaA,EAAsB,UACnC,iBAAoBA,EAA6B,iBACjD,MAASA,EAAkB,MAC3B,iBAAoBA,EAA6B,iBACjD,WAAcA,EAAuB,WACrC,OAAUA,EAAmB,OAC7B,YAAeA,EAAwB,YACvC,OAAUA,EAAmB,OAC7B,IAAOA,EAAgB,IACvB,OAAUA,EAAmB,OAC7B,eAAkBA,EAA2B,eAC7C,sBAAyBA,EAAkC,sBAC3D,0BAA6BA,EAAsC,0BACnE,kCAAqCA,EAA8C,kCACnF,qBAAwBA,EAAiC,qBACzD,8BAAiCA,EAA0C,8BAC3E,oBAAuBA,EAAgC,oBACvD,OAAUA,EAAmB,OAC7B,qBAAwBA,EAAiC,qBACzD,QAAWA,EAAoB,QAC/B,gBAAmBA,EAA4B,gBAC/C,aAAgBA,EAAyB,eAE1CE,GAAG,KAAMF,EAAW9M,IACpBqL,SAEH,GAAIhO,EAAO,MAAMA,EAIjB,OADA8O,EAAmBW,EAAW9M,GAAIH,EAAK,IAChC,CAAEgF,SAAS,EAAMhF,KAAMA,EAAK,GACrC,CAAO,CAEL,MAAM,KAAEA,EAAI,MAAExC,SAAgBiC,EAAAA,EAC3BE,KAAK,oBACLyN,OAAO,CACN,OAAUH,EAAWZ,OACrB,eAAaY,EAAW,gBACxB,cAAYA,EAAW,eACvB,sBAAuBA,EAAW,uBAClC,+BAA6BA,EAAW,gCACxC,sBAAuBA,EAAW,uBAClC,iCAA4BA,EAAW,kCACvC,kBAAmBA,EAAW,mBAC9B,kBAAmBA,EAAW,mBAC9B,+CAAgDA,EAAW,gDAC3D,mBAAoBA,EAAW,oBAC/B,qBAAwBA,EAAiC,qBACzD,gCAA8BA,EAAW,iCACzC,sBAAiBA,EAAW,uBAC5B,sBAAuBA,EAAW,uBAClC,uBAAqBA,EAAW,wBAChC,qEAAmEA,EAAW,sEAC9E,6BAA2BA,EAAW,8BACtC,iBAAeA,EAAW,kBAC1B,yBAAuBA,EAAW,0BAClC,yCAAuCA,EAAW,0CAClD,gDAA2CA,EAAW,iDACtD,6CAAwCA,EAAW,8CACnD,iCAA4BA,EAAW,kCACvC,sCAAiCA,EAAW,uCAC5C,kCAAgCA,EAAW,mCAC3C,kCAAmCA,EAAW,mCAC9C,wBAAyBA,EAAW,yBACpC,+BAAgCA,EAAW,gCAC3C,qCAAgCA,EAAW,sCAC3C,sCAAuCA,EAAW,uCAClD,gCAAiCA,EAAW,iCAC5C,0BAA2BA,EAAW,2BACtC,mBAAsBA,EAA+B,mBACrD,SAAYA,EAAqB,SACjC,UAAaA,EAAsB,UACnC,iBAAoBA,EAA6B,iBACjD,MAASA,EAAkB,MAC3B,iBAAoBA,EAA6B,iBACjD,WAAcA,EAAuB,WACrC,OAAUA,EAAmB,OAC7B,YAAeA,EAAwB,YACvC,OAAUA,EAAmB,OAC7B,IAAOA,EAAgB,IACvB,OAAUA,EAAmB,OAC7B,eAAkBA,EAA2B,eAC7C,sBAAyBA,EAAkC,sBAC3D,0BAA6BA,EAAsC,0BACnE,kCAAqCA,EAA8C,kCACnF,qBAAwBA,EAAiC,qBACzD,8BAAiCA,EAA0C,8BAC3E,oBAAuBA,EAAgC,oBACvD,OAAUA,EAAmB,OAC7B,qBAAwBA,EAAiC,qBACzD,QAAWA,EAAoB,QAC/B,gBAAmBA,EAA4B,gBAC/C,aAAgBA,EAAyB,eAE1CzB,SAEH,GAAIhO,EAAO,MAAMA,EAIjB,OADAgP,EAAgBxM,EAAK,IACd,CAAEgF,SAAS,EAAMhF,KAAMA,EAAK,GACrC,CACF,CAAE,MAAOgE,GAGP,OAFAxD,QAAQhD,MAAM,yBAA0BwG,GACxCnC,EAASmC,EAAIjE,SACN,CAAEiF,SAAS,EAAOxH,MAAOwG,EAAIjE,QACtC,IACC,CAACuM,EAAoBE,IAGlBa,GAAe1H,EAAAA,EAAAA,cAAYrH,UAC/B,IACEuD,EAAS,MAET,MAAM,MAAErE,SAAgBiC,EAAAA,EACrBE,KAAK,oBACL2N,SACAH,GAAG,KAAM5O,GAEZ,GAAIf,EAAO,MAAMA,EAIjB,OADAkP,EAAqBnO,GACd,CAAEyG,SAAS,EACpB,CAAE,MAAOhB,GAGP,OAFAxD,QAAQhD,MAAM,0BAA2BwG,GACzCnC,EAASmC,EAAIjE,SACN,CAAEiF,SAAS,EAAOxH,MAAOwG,EAAIjE,QACtC,IACC,CAAC2M,IAOJ,OAJA7G,EAAAA,EAAAA,YAAU,KACR0F,MACC,CAACA,IAEG,CAELN,UACA7F,UACA5H,QACA2N,aACAE,eAGAD,gBACAE,kBACAC,eACAe,qBACAE,kBACAE,uBACAM,aACAK,eAGAlB,gBAAiBA,IACjBQ,gBACAE,oBCzRSU,EAAsB,CAEjC,0BACA,6CACA,6EACA,kEACA,oEACA,8EAGA,+CACA,6EACA,yGACA,gGACA,2GACA,4EAGA,oDACA,oFACA,mFACA,wFAGA,kFACA,sFAGA,6EACA,mFAGA,sDACA,4DACA,uEACA,mDAIWC,EAAyB,CACpC,CACErN,GAAI,oBACJsN,OAAQ,6BACRC,QAAS,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAE3B,CACEvN,GAAI,gCACJsN,OAAQ,kDACRC,QAAS,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,KAEhC,CACEvN,GAAI,qBACJsN,OAAQ,wBACRC,QAAS,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KAExC,CACEvN,GAAI,eACJsN,OAAQ,qBACRC,QAAS,CAAC,GAAI,GAAI,GAAI,MCxDbC,EAAiBA,KAC5B,MAAOC,EAAqBC,IAA0BjM,EAAAA,EAAAA,UAAS,KACxDkM,EAAiBC,IAAsBnM,EAAAA,EAAAA,UAAS,IAGjDoM,GAAyBrI,EAAAA,EAAAA,cAAasI,IAC1CJ,GAAuBzK,GACjBA,EAAK/F,SAAS4Q,GACT7K,EAAKH,QAAOiL,GAAKA,IAAMD,IAEvB,IAAI7K,EAAM6K,OAGpB,IAGGE,GAA8BxI,EAAAA,EAAAA,cAAa0B,IAC/C0G,EAAmB1G,GAEnBwG,GAAuBzK,IACrB,MAAMgL,EAAWhL,EAAKiL,MAAKH,GAAKA,EAAEjH,WAAW,YAE7C,OAAII,EAAMhH,OACJ+N,EACKhL,EAAK1F,KAAIwQ,GAAKA,EAAEjH,WAAW,UAAS,UAAAxJ,OAAa4J,GAAU6G,IAE3D,IAAI9K,EAAK,UAAD3F,OAAY4J,IAGtBjE,EAAKH,QAAOiL,IAAMA,EAAEjH,WAAW,iBAGzC,IAGGqH,GAAkB3I,EAAAA,EAAAA,cAAY,IACViI,EAAoB9P,KAAK,OAEhD,CAAC8P,IAGEW,GAA0B5I,EAAAA,EAAAA,cAAa6I,IAC3C,IAAKA,EAGH,OAFAX,EAAuB,SACvBE,EAAmB,IAIrB,MAAMU,EAAQD,EAAgB5Q,MAAM,KAAKF,KAAIgR,GAAQA,EAAKrO,SACpDsO,EAAc,GACpB,IAAIC,EAAQ,GAEZH,EAAMpF,SAAQqF,IACRA,EAAKzH,WAAW,WAClB2H,EAAQF,EAAKG,QAAQ,SAAU,IAAIxO,OACnCsO,EAAY7K,KAAK4K,IACRnB,EAAoBlQ,SAASqR,GACtCC,EAAY7K,KAAK4K,GACRA,IAETE,EAAQF,EACRC,EAAY7K,KAAK,UAADrG,OAAWiR,QAI/Bb,EAAuBc,GACvBZ,EAAmBa,KAClB,IAGGE,GAAmBnJ,EAAAA,EAAAA,cAAY,KACnCkI,EAAuB,IACvBE,EAAmB,MAClB,IAGGgB,GAAwBpJ,EAAAA,EAAAA,cAAY,IACjCiI,EAAoB9P,KAAK,OAAS,kCACxC,CAAC8P,IAGEoB,GAAyBrJ,EAAAA,EAAAA,cAAY,IAClCiI,EAAoBlP,OAAS,GACnC,CAACkP,IAEJ,MAAO,CAELA,sBACAE,kBAGAE,yBACAG,8BACAG,kBACAC,0BACAO,mBAGAC,wBACAC,2BCrGSC,EAAa,CACxB,CAAE9O,GAAI,gBAAiB+O,MAAO,oBAC9B,CAAE/O,GAAI,gBAAiB+O,MAAO,SAC9B,CAAE/O,GAAI,cAAe+O,MAAO,eAC5B,CAAE/O,GAAI,iBAAkB+O,MAAO,kBAC/B,CAAE/O,GAAI,qBAAsB+O,MAAO,YACnC,CAAE/O,GAAI,sBAAuB+O,MAAO,0BACpC,CAAE/O,GAAI,qBAAsB+O,MAAO,wBACnC,CAAE/O,GAAI,gBAAiB+O,MAAO,iBAC9B,CAAE/O,GAAI,QAAS+O,MAAO,YACtB,CAAE/O,GAAI,YAAa+O,MAAO,gBAC1B,CAAE/O,GAAI,uBAAwB+O,MAAO,+BACrC,CAAE/O,GAAI,cAAe+O,MAAO,eAC5B,CAAE/O,GAAI,iBAAkB+O,MAAO,qBAC/B,CAAE/O,GAAI,sBAAuB+O,MAAO,2BACpC,CAAE/O,GAAI,aAAc+O,MAAO,eAIhBC,EACQ,IADRA,EAIS,GAYTC,EACS,gB,2CChCtB,MAkKA,EAlKqB9N,IAMd,IANe,SACpB+N,EAAQ,YACRC,EAAW,eACXC,EAAc,gBACdlL,EAAe,eACfmL,GACDlO,EACC,MAAM,WACJ6J,EAAU,cACVC,EAAa,gBACbe,GACEnB,IAEJ,OACE9I,EAAAA,EAAAA,MAAAuN,EAAAA,SAAA,CAAArN,SAAA,CAEGiN,GAAYC,IACX9M,EAAAA,EAAAA,KAAA,OACEL,UAAU,kDACVqB,QAASA,IAAM+L,GAAe,KAKjCF,IAAaC,IACZ9M,EAAAA,EAAAA,KAAA,UACEL,UAAU,gKACVqB,QAASA,IAAM+L,GAAe,GAC9B,aAAW,qBAAoBnN,UAE/BI,EAAAA,EAAAA,KAACkN,EAAAA,EAAI,CAACvN,UAAU,8BAKjBkN,GAAYC,KACbpN,EAAAA,EAAAA,MAAA,SACEC,UAAS,mKAAA1E,OACP4R,EAAQ,kDAAuD,QAEjE1H,MAAO,CACLgI,UAAWN,IAAaC,EAAc,oBAAsB,gBAC5DM,IAAKP,EAAW,EAAIF,GACpB/M,SAAA,EAGFF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yCAAwCC,SAAA,EACrDF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,MAAIL,UAAU,0HAAyHC,SAAC,aAGxIF,EAAAA,EAAAA,MAAA,KAAGC,UAAU,6BAA4BC,SAAA,CACtC+J,EAAgBzN,OAAO,UAAmC,IAA3ByN,EAAgBzN,OAAe,IAAM,SAKxE2Q,IACC7M,EAAAA,EAAAA,KAAA,UACEL,UAAU,uFACVqB,QAASA,IAAM+L,GAAe,GAC9B,aAAW,sBAAqBnN,UAEhCI,EAAAA,EAAAA,KAACmB,EAAAA,EAAC,CAACxB,UAAU,kBAMnBK,EAAAA,EAAAA,KAAA,OAAKL,UAAU,OAAMC,UACnBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUC,SAAA,EACvBI,EAAAA,EAAAA,KAACqN,EAAAA,EAAM,CAAC1N,UAAU,8EAClBK,EAAAA,EAAAA,KAAA,SACElF,KAAK,OACL0L,YAAY,mBACZ7G,UAAU,8NACVkF,MAAO8D,EACPvI,SAAWmG,GAAMqC,EAAcrC,EAAEhG,OAAOsE,eAM9C7E,EAAAA,EAAAA,KAAA,OAAKL,UAAU,YAAWC,SACvB+J,EAAgBzN,OAAS,EACxByN,EAAgBzO,KAAIkO,IAClBpJ,EAAAA,EAAAA,KAAA,UAEEL,UAAS,uIAAA1E,QACQ,OAAf4G,QAAe,IAAfA,OAAe,EAAfA,EAAiBlE,MAAOyL,EAAOzL,GAC3B,8FACA,kCAENqD,QAASA,KACPgM,EAAe5D,GACXyD,GAAUE,GAAe,IAC7BnN,UAEFF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mCAAkCC,SAAA,EAC/CF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBC,SAAA,EAC7BI,EAAAA,EAAAA,KAAA,MAAIL,UAAS,wBAAA1E,QACI,OAAf4G,QAAe,IAAfA,OAAe,EAAfA,EAAiBlE,MAAOyL,EAAOzL,GAAK,iBAAmB,iBACtDiC,SACAwJ,EAAOS,SAETT,EAAO,kBACNpJ,EAAAA,EAAAA,KAAA,KAAGL,UAAU,sCAAqCC,SAC/CwJ,EAAO,sBAIE,OAAfvH,QAAe,IAAfA,OAAe,EAAfA,EAAiBlE,MAAOyL,EAAOzL,KAC9BqC,EAAAA,EAAAA,KAAA,OAAKL,UAAU,qBAAoBC,UACjCI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,4CA1BhByJ,EAAOzL,MAgCdgL,GACFjJ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mBAAkBC,SAAA,EAC/BI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,sFAAqFC,UAClGI,EAAAA,EAAAA,KAACqN,EAAAA,EAAM,CAAC1N,UAAU,6BAEpBK,EAAAA,EAAAA,KAAA,KAAGL,UAAU,wBAAuBC,SAAC,+BAGrCI,EAAAA,EAAAA,KAAA,KAAGL,UAAU,6BAA4BC,SAAC,gCAK5CF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mBAAkBC,SAAA,EAC/BI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,sFAAqFC,UAClGI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,wBAAwB2N,KAAK,OAAOC,OAAO,eAAeC,QAAQ,YAAW5N,UAC1FI,EAAAA,EAAAA,KAAA,QAAMyN,cAAc,QAAQC,eAAe,QAAQC,YAAa,EAAGC,EAAE,mJAGzE5N,EAAAA,EAAAA,KAAA,KAAGL,UAAU,wBAAuBC,SAAC,uCAQ3CI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,2CAA0CC,UACvDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,cAAaC,SAAA,EAC1BI,EAAAA,EAAAA,KAAA,KAAGL,UAAU,wBAAuBC,SAAC,mCAGrCI,EAAAA,EAAAA,KAAA,KAAGL,UAAU,6BAA4BC,SAAC,wCChJxD,EAVqBd,IAMd,IANe,WACpB6J,EAAU,cACVC,EAAa,aACbC,EAAY,gBACZC,EAAe,aACf+E,GACD/O,EACC,OAAO,MC6HT,EAlIuBA,IAGhB,IAHiB,gBACtB+C,EAAe,mBACfiM,GACDhP,EACC,MAAM,oBACJsM,EAAmB,gBACnBE,EAAe,uBACfE,EAAsB,4BACtBG,EAA2B,gBAC3BG,EAAe,sBACfS,EAAqB,uBACrBC,GACErB,IAWJ,OACEzL,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EAExBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,gBAAeC,SAAA,EAC5BI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,yDAAwDC,SAAC,2BAG1EI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,6EAA4EC,UACzFF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,CACvBoL,EAAuB9P,KAAK8I,IAC3BtE,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,MAAIL,UAAU,0EAAyEC,SACpFoE,EAAUiH,UAEbjL,EAAAA,EAAAA,KAAA,OAAKL,UAAU,iBAAgBC,SAC5BoE,EAAUkH,QAAQhQ,KAAKsD,IACtB,MAAMiN,EAAaV,EAAoBvM,GACvC,OACEkB,EAAAA,EAAAA,MAAA,SAAmBC,UAAU,4FAA2FC,SAAA,EACtHI,EAAAA,EAAAA,KAAA,SACElF,KAAK,WACL6E,UAAU,oGACVoO,QAAS3C,EAAoBvQ,SAAS4Q,GACtCrL,SAAUA,IAAMoL,EAAuBC,MAEzCzL,EAAAA,EAAAA,KAAA,QAAML,UAAU,wCAAuCC,SAAE6L,MAP/CjN,UARVwF,EAAUrG,OAwBtBqC,EAAAA,EAAAA,KAAA,OAAKL,UAAU,qCAAoCC,UACjDF,EAAAA,EAAAA,MAAA,SAAOC,UAAU,4FAA2FC,SAAA,EAC1GI,EAAAA,EAAAA,KAAA,SACElF,KAAK,WACL6E,UAAU,oGACVoO,QAAS3C,EAAoBS,MAAKH,GAAKA,EAAEjH,WAAW,YACpDrE,SAAUA,IAAMuL,EAA4BL,MAE9C5L,EAAAA,EAAAA,MAAA,OAAKC,UAAU,SAAQC,SAAA,EACrBI,EAAAA,EAAAA,KAAA,QAAML,UAAU,wBAAuBC,SAAC,0BACxCI,EAAAA,EAAAA,KAAA,SACElF,KAAK,OACL6E,UAAU,uKACV6G,YAAY,uCACZ3B,MAAOyG,EACPlL,SAAWmG,GAAMoF,EAA4BpF,EAAEhG,OAAOsE,0BAUpEnF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,yDAAwDC,SAAC,yBAC1EI,EAAAA,EAAAA,KAAA,SACElF,KAAK,OACL6E,UAAU,iLACVkF,MAAOhD,EAAgB,qBAAuB,GAC9CzB,SAAUmG,GAAKuH,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI9B,GAAe,IAAE,mBAAoB0E,EAAEhG,OAAOsE,eAKzFnF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,yDAAwDC,SAAC,6BAC1EI,EAAAA,EAAAA,KAAA,SACElF,KAAK,OACL6E,UAAU,iLACVkF,MAAOhD,EAAgBmM,sBAAwB,GAC/C5N,SAAUmG,GAAKuH,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI9B,GAAe,IAAEmM,qBAAsBzH,EAAEhG,OAAOsE,SACvF2B,YAAY,8CAKhBxG,EAAAA,EAAAA,KAAA,OAAKL,UAAU,gBAAeC,UAC5BI,EAAAA,EAAAA,KAAA,UACElF,KAAK,SACLkG,QA7FsBiN,KAC5B,MAAMjC,EAAkBF,IACxBgC,GAAmBlN,IAAI+C,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAClB/C,GAAI,IACP,+CAAgDoL,OA0F5CrM,UAAU,yIAAwIC,SACnJ,sCAMF4M,MACC9M,EAAAA,EAAAA,MAAA,OAAKC,UAAU,gBAAeC,SAAA,EAC5BI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,yDAAwDC,SAAC,4BAG1EI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,0FAAyFC,SACrG2M,aCsGb,EAlOwBzN,IAA8C,IAA7C,gBAAE+C,EAAe,mBAAEiM,GAAoBhP,EAC9D,OACEY,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EAExBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0DAAyDC,SAAA,EACtEF,EAAAA,EAAAA,MAAA,MAAIC,UAAU,mEAAkEC,SAAA,EAC9EI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,yBAAyB2N,KAAK,OAAOC,OAAO,eAAeC,QAAQ,YAAW5N,UAC3FI,EAAAA,EAAAA,KAAA,QAAMyN,cAAc,QAAQC,eAAe,QAAQC,YAAa,EAAGC,EAAE,gJACjE,mCAIRlO,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wCAAuCC,SAAA,EAEpDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,gBAAeC,SAAA,EAC5BI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,+CAA8CC,SAAC,sBAGhEI,EAAAA,EAAAA,KAAA,SACElF,KAAK,OACL6E,UAAU,6MACVkF,MAAOhD,EAAgBgI,QAAU,GACjCzJ,SAAUmG,GAAKuH,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI9B,GAAe,IAAEgI,OAAQtD,EAAEhG,OAAOsE,SACzE2B,YAAY,gCAKhB9G,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,+CAA8CC,SAAC,kBAGhEI,EAAAA,EAAAA,KAAA,SACElF,KAAK,OACL6E,UAAU,6MACVkF,MAAOhD,EAAgB,iBAAgB,GACvCzB,SAAUmG,GAAKuH,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI9B,GAAe,IAAE,eAAa0E,EAAEhG,OAAOsE,SAC9E2B,YAAY,8BAKhB9G,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,+CAA8CC,SAAC,oCAGhEI,EAAAA,EAAAA,KAAA,SACElF,KAAK,OACL6E,UAAU,6MACVkF,MAAOhD,EAAgB,mCAA+B,GACtDzB,SAAUmG,GAAKuH,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI9B,GAAe,IAAE,iCAA4B0E,EAAEhG,OAAOsE,SAC7F2B,YAAY,iBAKhB9G,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,+CAA8CC,SAAC,4BAGhEI,EAAAA,EAAAA,KAAA,SACElF,KAAK,OACL6E,UAAU,6MACVkF,MAAOhD,EAAgB,wBAA0B,GACjDzB,SAAUmG,GAAKuH,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI9B,GAAe,IAAE,sBAAuB0E,EAAEhG,OAAOsE,SACxF2B,YAAY,2CAKhB9G,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,+CAA8CC,SAAC,yBAGhEI,EAAAA,EAAAA,KAAA,SACElF,KAAK,OACL6E,UAAU,6MACVkF,MAAOhD,EAAgB,wBAA0B,GACjDzB,SAAUmG,GAAKuH,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI9B,GAAe,IAAE,sBAAuB0E,EAAEhG,OAAOsE,SACxF2B,YAAY,qCAKhB9G,EAAAA,EAAAA,MAAA,OAAKC,UAAU,gBAAeC,SAAA,EAC5BI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,+CAA8CC,SAAC,kCAGhEI,EAAAA,EAAAA,KAAA,YACEL,UAAU,8NACVkF,MAAOhD,EAAgB,iCAAgC,GACvDzB,SAAUmG,GAAKuH,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI9B,GAAe,IAAE,+BAA6B0E,EAAEhG,OAAOsE,SAC9F2B,YAAY,0DAOpB9G,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0DAAyDC,SAAA,EACtEF,EAAAA,EAAAA,MAAA,MAAIC,UAAU,mEAAkEC,SAAA,EAC9EF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wBAAwB2N,KAAK,OAAOC,OAAO,eAAeC,QAAQ,YAAW5N,SAAA,EAC1FI,EAAAA,EAAAA,KAAA,QAAMyN,cAAc,QAAQC,eAAe,QAAQC,YAAa,EAAGC,EAAE,wFACrE5N,EAAAA,EAAAA,KAAA,QAAMyN,cAAc,QAAQC,eAAe,QAAQC,YAAa,EAAGC,EAAE,wCACjE,2BAIRlO,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uDAAsDC,SAAA,EAEnEF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,+CAA8CC,SAAC,gBAGhEI,EAAAA,EAAAA,KAAA,SACElF,KAAK,OACL6E,UAAU,6MACVkF,MAAOhD,EAAgBwH,YAAc,GACrCjJ,SAAUmG,GAAKuH,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI9B,GAAe,IAAEwH,WAAY9C,EAAEhG,OAAOsE,SAC7E2B,YAAY,2BAKhB9G,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,+CAA8CC,SAAC,eAGhEI,EAAAA,EAAAA,KAAA,SACElF,KAAK,OACL6E,UAAU,6MACVkF,MAAOhD,EAAgByH,QAAU,GACjClJ,SAAUmG,GAAKuH,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI9B,GAAe,IAAEyH,OAAQ/C,EAAEhG,OAAOsE,SACzE2B,YAAY,kBAKhB9G,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,+CAA8CC,SAAC,iBAGhEI,EAAAA,EAAAA,KAAA,SACElF,KAAK,OACL6E,UAAU,6MACVkF,MAAOhD,EAAgB0H,aAAe,GACtCnJ,SAAUmG,GAAKuH,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI9B,GAAe,IAAE0H,YAAahD,EAAEhG,OAAOsE,SAC9E2B,YAAY,yBAKhB9G,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,+CAA8CC,SAAC,YAGhEI,EAAAA,EAAAA,KAAA,SACElF,KAAK,OACL6E,UAAU,6MACVkF,MAAOhD,EAAgB2H,QAAU,GACjCpJ,SAAUmG,GAAKuH,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI9B,GAAe,IAAE2H,OAAQjD,EAAEhG,OAAOsE,SACzE2B,YAAY,uBAKhB9G,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,+CAA8CC,SAAC,SAGhEI,EAAAA,EAAAA,KAAA,SACElF,KAAK,OACL6E,UAAU,6MACVkF,MAAOhD,EAAgB4H,KAAO,GAC9BrJ,SAAUmG,GAAKuH,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI9B,GAAe,IAAE4H,IAAKlD,EAAEhG,OAAOsE,SACtE2B,YAAY,kBAKhB9G,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,+CAA8CC,SAAC,YAGhEF,EAAAA,EAAAA,MAAA,UACEC,UAAU,wLACVkF,MAAOhD,EAAgB6H,QAAU,KACjCtJ,SAAUmG,GAAKuH,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI9B,GAAe,IAAE6H,OAAQnD,EAAEhG,OAAOsE,SAASjF,SAAA,EAElFI,EAAAA,EAAAA,KAAA,UAAQ6E,MAAM,KAAIjF,SAAC,kBACnBI,EAAAA,EAAAA,KAAA,UAAQ6E,MAAM,KAAIjF,SAAC,oBACnBI,EAAAA,EAAAA,KAAA,UAAQ6E,MAAM,KAAIjF,SAAC,kBACnBI,EAAAA,EAAAA,KAAA,UAAQ6E,MAAM,KAAIjF,SAAC,mCAO3BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0DAAyDC,SAAA,EACtEF,EAAAA,EAAAA,MAAA,MAAIC,UAAU,mEAAkEC,SAAA,EAC9EI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,0BAA0B2N,KAAK,OAAOC,OAAO,eAAeC,QAAQ,YAAW5N,UAC5FI,EAAAA,EAAAA,KAAA,QAAMyN,cAAc,QAAQC,eAAe,QAAQC,YAAa,EAAGC,EAAE,2HACjE,iCAIRlO,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,+CAA8CC,SAAC,0BAGhEI,EAAAA,EAAAA,KAAA,YACEL,UAAU,8NACVkF,MAAOhD,EAAgB,gBAAe,GACtCzB,SAAUmG,GAAKuH,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI9B,GAAe,IAAE,cAAY0E,EAAEhG,OAAOsE,SAC7E2B,YAAY,uCAEdxG,EAAAA,EAAAA,KAAA,KAAGL,UAAU,6BAA4BC,SAAC,gFCnLpD,EAtCwBd,IAA8C,IAA7C,gBAAE+C,EAAe,mBAAEiM,GAAoBhP,EAC9D,OACEY,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EAExBF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,yDAAwDC,SAAC,wBAG1EI,EAAAA,EAAAA,KAAA,YACEL,UAAU,yKACVkF,MAAOhD,EAAgB,oBAAsB,GAC7CzB,SAAUmG,GAAKuH,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI9B,GAAe,IAAE,kBAAmB0E,EAAEhG,OAAOsE,SACpF2B,YAAY,6DAEdxG,EAAAA,EAAAA,KAAA,KAAGL,UAAU,6BAA4BC,SAAC,4CAM5CF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,yDAAwDC,SAAC,wBAG1EI,EAAAA,EAAAA,KAAA,YACEL,UAAU,yKACVkF,MAAOhD,EAAgB,oBAAsB,GAC7CzB,SAAUmG,GAAKuH,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI9B,GAAe,IAAE,kBAAmB0E,EAAEhG,OAAOsE,SACpF2B,YAAY,6DAEdxG,EAAAA,EAAAA,KAAA,KAAGL,UAAU,6BAA4BC,SAAC,qDC6FlD,EA3H0Bd,IAA8C,IAA7C,gBAAE+C,EAAe,mBAAEiM,GAAoBhP,EAChE,OACEY,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EAExBF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,yDAAwDC,SAAC,yBAG1EI,EAAAA,EAAAA,KAAA,YACEL,UAAU,yKACVkF,MAAOhD,EAAgB,wBAAoB,GAC3CzB,SAAUmG,GAAKuH,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI9B,GAAe,IAAE,sBAAiB0E,EAAEhG,OAAOsE,SAClF2B,YAAY,8DAKhB9G,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,yDAAwDC,SAAC,oBAG1EI,EAAAA,EAAAA,KAAA,YACEL,UAAU,yKACVkF,MAAOhD,EAAgB,wBAA0B,GACjDzB,SAAUmG,GAAKuH,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI9B,GAAe,IAAE,sBAAuB0E,EAAEhG,OAAOsE,SACxF2B,YAAY,qDAKhB9G,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,yDAAwDC,SAAC,0BAG1EI,EAAAA,EAAAA,KAAA,YACEL,UAAU,yKACVkF,MAAOhD,EAAgB,yBAAwB,GAC/CzB,SAAUmG,GAAKuH,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI9B,GAAe,IAAE,uBAAqB0E,EAAEhG,OAAOsE,SACtF2B,YAAY,qDAKhB9G,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,yDAAwDC,SAAC,kCAG1EI,EAAAA,EAAAA,KAAA,YACEL,UAAU,yKACVkF,MAAOhD,EAAgB,uEAAsE,GAC7FzB,SAAUmG,GAAKuH,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI9B,GAAe,IAAE,qEAAmE0E,EAAEhG,OAAOsE,SACpI2B,YAAY,mEAKhB9G,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,yDAAwDC,SAAC,gCAG1EI,EAAAA,EAAAA,KAAA,YACEL,UAAU,yKACVkF,MAAOhD,EAAgB,+BAA8B,GACrDzB,SAAUmG,GAAKuH,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI9B,GAAe,IAAE,6BAA2B0E,EAAEhG,OAAOsE,SAC5F2B,YAAY,mDAKhB9G,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,yDAAwDC,SAAC,aAG1EI,EAAAA,EAAAA,KAAA,YACEL,UAAU,yKACVkF,MAAOhD,EAAgBqM,SAAW,GAClC9N,SAAUmG,GAAKuH,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI9B,GAAe,IAAEqM,QAAS3H,EAAEhG,OAAOsE,SAC1E2B,YAAY,2CAKhB9G,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,yDAAwDC,SAAC,qBAG1EI,EAAAA,EAAAA,KAAA,YACEL,UAAU,yKACVkF,MAAOhD,EAAgBsM,iBAAmB,GAC1C/N,SAAUmG,GAAKuH,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI9B,GAAe,IAAEsM,gBAAiB5H,EAAEhG,OAAOsE,SAClF2B,YAAY,0DAKhB9G,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,yDAAwDC,SAAC,0BAG1EI,EAAAA,EAAAA,KAAA,YACEL,UAAU,yKACVkF,MAAOhD,EAAgBuM,cAAgB,GACvChO,SAAUmG,GAAKuH,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI9B,GAAe,IAAEuM,aAAc7H,EAAEhG,OAAOsE,SAC/E2B,YAAY,8EAKhB9G,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,yDAAwDC,SAAC,qCAG1EI,EAAAA,EAAAA,KAAA,YACEL,UAAU,yKACVkF,MAAOhD,EAAgBwM,sBAAwB,GAC/CjO,SAAUmG,GAAKuH,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI9B,GAAe,IAAEwM,qBAAsB9H,EAAEhG,OAAOsE,SACvF2B,YAAY,6DC/BtB,EArF6B1H,IAA8C,IAA7C,gBAAE+C,EAAe,mBAAEiM,GAAoBhP,EACnE,OACEY,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EAExBF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,yDAAwDC,SAAC,oBAG1EI,EAAAA,EAAAA,KAAA,SACElF,KAAK,OACL6E,UAAU,iLACVkF,MAAOhD,EAAgB,mBAAkB,GACzCzB,SAAUmG,GAAKuH,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI9B,GAAe,IAAE,iBAAe0E,EAAEhG,OAAOsE,SAChF2B,YAAY,wCAKhB9G,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,yDAAwDC,SAAC,8BAG1EI,EAAAA,EAAAA,KAAA,YACEL,UAAU,yKACVkF,MAAOhD,EAAgB,2CAA0C,GACjEzB,SAAUmG,GAAKuH,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI9B,GAAe,IAAE,yCAAuC0E,EAAEhG,OAAOsE,SACxG2B,YAAY,gDAKhB9G,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,yDAAwDC,SAAC,qCAG1EI,EAAAA,EAAAA,KAAA,YACEL,UAAU,yKACVkF,MAAOhD,EAAgB,kDAA8C,GACrEzB,SAAUmG,GAAKuH,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI9B,GAAe,IAAE,gDAA2C0E,EAAEhG,OAAOsE,SAC5G2B,YAAY,uDAKhB9G,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,yDAAwDC,SAAC,8CAG1EI,EAAAA,EAAAA,KAAA,YACEL,UAAU,yKACVkF,MAAOhD,EAAgB,+CAA2C,GAClEzB,SAAUmG,GAAKuH,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI9B,GAAe,IAAE,6CAAwC0E,EAAEhG,OAAOsE,SACzG2B,YAAY,oEAKhB9G,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,yDAAwDC,SAAC,oCAG1EI,EAAAA,EAAAA,KAAA,YACEL,UAAU,yKACVkF,MAAOhD,EAAgB,mCAA+B,GACtDzB,SAAUmG,GAAKuH,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI9B,GAAe,IAAE,iCAA4B0E,EAAEhG,OAAOsE,SAC7F2B,YAAY,qDAKhB9G,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,yDAAwDC,SAAC,+BAG1EI,EAAAA,EAAAA,KAAA,YACEL,UAAU,yKACVkF,MAAOhD,EAAgB,wCAAoC,GAC3DzB,SAAUmG,GAAKuH,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI9B,GAAe,IAAE,sCAAiC0E,EAAEhG,OAAOsE,SAClG2B,YAAY,6EC9CtB,EAhC8B1H,IAA8C,IAA7C,gBAAE+C,EAAe,mBAAEiM,GAAoBhP,EACpE,OACEY,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EAExBF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,yDAAwDC,SAAC,qCAG1EI,EAAAA,EAAAA,KAAA,YACEL,UAAU,yKACVkF,MAAOhD,EAAgB,oCAAmC,GAC1DzB,SAAUmG,GAAKuH,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI9B,GAAe,IAAE,kCAAgC0E,EAAEhG,OAAOsE,SACjG2B,YAAY,sDAKhB9G,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,yDAAwDC,SAAC,qCAG1EI,EAAAA,EAAAA,KAAA,YACEL,UAAU,yKACVkF,MAAOhD,EAAgB,oCAAsC,GAC7DzB,SAAUmG,GAAKuH,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI9B,GAAe,IAAE,kCAAmC0E,EAAEhG,OAAOsE,SACpG2B,YAAY,+DCiCtB,EA1D6B1H,IAA8C,IAA7C,gBAAE+C,EAAe,mBAAEiM,GAAoBhP,EACnE,OACEY,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EAExBF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,yDAAwDC,SAAC,2BAG1EI,EAAAA,EAAAA,KAAA,YACEL,UAAU,yKACVkF,MAAOhD,EAAgB,0BAA4B,GACnDzB,SAAUmG,GAAKuH,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI9B,GAAe,IAAE,wBAAyB0E,EAAEhG,OAAOsE,SAC1F2B,YAAY,uDAKhB9G,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,yDAAwDC,SAAC,iCAG1EI,EAAAA,EAAAA,KAAA,YACEL,UAAU,yKACVkF,MAAOhD,EAAgB,iCAAmC,GAC1DzB,SAAUmG,GAAKuH,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI9B,GAAe,IAAE,+BAAgC0E,EAAEhG,OAAOsE,SACjG2B,YAAY,mDAKhB9G,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,yDAAwDC,SAAC,uCAG1EI,EAAAA,EAAAA,KAAA,YACEL,UAAU,yKACVkF,MAAOhD,EAAgB,uCAAmC,GAC1DzB,SAAUmG,GAAKuH,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI9B,GAAe,IAAE,qCAAgC0E,EAAEhG,OAAOsE,SACjG2B,YAAY,yDAKhB9G,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,yDAAwDC,SAAC,2BAG1EI,EAAAA,EAAAA,KAAA,YACEL,UAAU,yKACVkF,MAAOhD,EAAgB,wCAA0C,GACjEzB,SAAUmG,GAAKuH,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI9B,GAAe,IAAE,sCAAuC0E,EAAEhG,OAAOsE,SACxG2B,YAAY,8DCnBtB,EAhCwB1H,IAA8C,IAA7C,gBAAE+C,EAAe,mBAAEiM,GAAoBhP,EAC9D,OACEY,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EAExBF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,yDAAwDC,SAAC,mCAG1EI,EAAAA,EAAAA,KAAA,YACEL,UAAU,yKACVkF,MAAOhD,EAAgB,kCAAoC,GAC3DzB,SAAUmG,GAAKuH,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI9B,GAAe,IAAE,gCAAiC0E,EAAEhG,OAAOsE,SAClG2B,YAAY,sDAKhB9G,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,yDAAwDC,SAAC,6BAG1EI,EAAAA,EAAAA,KAAA,YACEL,UAAU,yKACVkF,MAAOhD,EAAgB,4BAA8B,GACrDzB,SAAUmG,GAAKuH,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI9B,GAAe,IAAE,0BAA2B0E,EAAEhG,OAAOsE,SAC5F2B,YAAY,kG,4CCvBtB,MA+RA,EA/RqB1H,IAAmB,IAAlB,SAAE/C,GAAU+C,EAChC,MAAOwP,EAAQC,IAAanP,EAAAA,EAAAA,UAAS,KAC9BwD,EAASC,IAAczD,EAAAA,EAAAA,WAAS,IAChCpE,EAAOqE,IAAYD,EAAAA,EAAAA,UAAS,OAC5BoD,EAASC,IAAcrD,EAAAA,EAAAA,UAAS,KAChCoP,EAAUC,IAAerP,EAAAA,EAAAA,WAAS,IAClCsP,EAAcC,IAAmBvP,EAAAA,EAAAA,UAAS,OAC1CwP,EAAUC,IAAezP,EAAAA,EAAAA,UAAS,CACvC6L,OAAQ,GACR6D,UAAW,GACX9S,UAAW,GACX+S,WAAY,UACZ/K,UAAW,QACXsD,OAAO,IAIH0H,EAAiBlT,UACrB,IACE+G,GAAW,GACXxD,EAAS,MACT,MAAM7B,QCtBL1B,eAA+BC,GACpC,MAAM,KAAEyB,EAAI,MAAExC,SAAgBiC,EAAAA,EAC3BE,KAAK,kBACL6L,OAAO,KACP2B,GAAG,YAAa5O,GAChB4O,GAAG,SAAS,GACZ1B,MAAM,aAAc,CAAEC,WAAW,IACpC,GAAIlO,EAAO,MAAMA,EACjB,OAAOwC,CACT,CDayByR,CAAgBlT,GACnCwS,EAAU/Q,EACZ,CAAE,MAAOgE,GACPnC,EAASmC,EAAIjE,QACf,CAAC,QACCsF,GAAW,EACb,IAGFQ,EAAAA,EAAAA,YAAU,KACJtH,GAAUiT,MACb,CAACjT,IAGJ,MAAMmT,EAAYA,KAChBL,EAAY,CACV5D,OAAQ,GACR6D,UAAW,GACX9S,UAAW,GACX+S,WAAY,UACZ/K,UAAW,QACXsD,OAAO,IAETqH,EAAgB,MAChBF,GAAY,IA+CRU,EAAerT,UACnB,GAAKoK,OAAOC,QAAQ,iDACpB,UC9DGrK,eAAiC6B,GACtC,MAAM,MAAE3C,SAAgBiC,EAAAA,EACrBE,KAAK,kBACL2N,SACAH,GAAG,KAAMhN,GACZ,GAAI3C,EAAO,MAAMA,EACjB,OAAO,CACT,CDwDYoU,CAAkBzR,GACxB8E,EAAW,qCACXuM,GACF,CAAE,MAAOxN,GACPnC,EAASmC,EAAIjE,QACf,GAGF,OAAIqF,GACK5C,EAAAA,EAAAA,KAAA,OAAKL,UAAU,kBAAiBC,SAAC,6BAIxCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oCAAmCC,SAAA,EAChDI,EAAAA,EAAAA,KAAA,MAAIL,UAAU,sCAAqCC,SAAC,yBACpDF,EAAAA,EAAAA,MAAA,UACEsB,QAASA,IAAMyN,GAAY,GAC3B9O,UAAU,4GAA2GC,SAAA,EAErHI,EAAAA,EAAAA,KAACqP,EAAAA,EAAI,CAAC1P,UAAU,YAAY,sBAK/B3E,IAASgF,EAAAA,EAAAA,KAAA,OAAKL,UAAU,8DAA6DC,SAAE5E,IACvFwH,IAAWxC,EAAAA,EAAAA,KAAA,OAAKL,UAAU,oEAAmEC,SAAE4C,KAGhGxC,EAAAA,EAAAA,KAAA,OAAKL,UAAU,YAAWC,SACL,IAAlB0O,EAAOpS,QACNwD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yCAAwCC,SAAA,EACrDI,EAAAA,EAAAA,KAAA,KAAGL,UAAU,gBAAeC,SAAC,iCAC7BI,EAAAA,EAAAA,KAAA,UACEgB,QAASA,IAAMyN,GAAY,GAC3B9O,UAAU,yFAAwFC,SACnG,0BAKH0O,EAAOpT,KAAKoU,IACVtP,EAAAA,EAAAA,KAAA,OAAoBL,UAAS,kCAAA1E,OAAqCqU,EAAMhI,MAAuB,GAAf,cAAoB1H,UAClGF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wCAAuCC,SAAA,EACpDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,SAAQC,SAAA,EACrBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,+BAA8BC,SAAA,EAC3CI,EAAAA,EAAAA,KAAA,MAAIL,UAAU,4BAA2BC,SAAE0P,EAAMrE,UAC/CqE,EAAMhI,QACNtH,EAAAA,EAAAA,KAAA,QAAML,UAAU,kDAAiDC,SAAC,gBAKtEI,EAAAA,EAAAA,KAAA,KAAGL,UAAU,6BAA4BC,SAAE0P,EAAMtT,aACjDgE,EAAAA,EAAAA,KAAA,OAAKL,UAAU,OAAMC,UACnBI,EAAAA,EAAAA,KAAA,UACEoF,IAAKkK,EAAMR,UACXzI,MAAOiJ,EAAMrE,OACbtL,UAAU,wCACV4P,iBAAe,OAGnB7P,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wBAAuBC,SAAA,CAAC,eACxB0P,EAAMP,WAAW,iBAAeO,EAAMtL,iBAGvDtE,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2BAA0BC,SAAA,EACvCI,EAAAA,EAAAA,KAAA,UACEgB,QAASA,IArFPsO,KAClBX,EAAgBW,GAChBT,EAAY,CACV5D,OAAQqE,EAAMrE,QAAU,GACxB6D,UAAWQ,EAAMR,WAAa,GAC9B9S,UAAWsT,EAAMtT,WAAa,GAC9B+S,WAAYO,EAAMP,YAAc,UAChC/K,UAAWsL,EAAMtL,WAAa,QAC9BsD,MAAOgI,EAAMhI,QAEfmH,GAAY,IA2EmBe,CAAWF,GAC1B3P,UAAU,oEACV0G,MAAM,SAAQzG,UAEdI,EAAAA,EAAAA,KAACyP,EAAAA,EAAK,CAAC9P,UAAU,eAEnBK,EAAAA,EAAAA,KAAA,UACEgB,QAASA,IAAMmO,EAAaG,EAAM3R,IAClCgC,UAAU,iEACV0G,MAAM,UAASzG,UAEfI,EAAAA,EAAAA,KAACsG,EAAAA,EAAM,CAAC3G,UAAU,qBArChB2P,EAAM3R,QA+CrB6Q,IACC9O,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mCAAkCC,SAAA,EAC/CF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yCAAwCC,SAAA,EACrDI,EAAAA,EAAAA,KAAA,MAAIL,UAAU,oCAAmCC,SAC9C8O,EAAe,kBAAiB,mBAEnChP,EAAAA,EAAAA,MAAA,UACEsB,QAASkO,EACTvP,UAAU,oCAAmCC,SAAA,EAE7CI,EAAAA,EAAAA,KAAA,QAAML,UAAU,UAASC,SAAC,WAAa,cAI3CF,EAAAA,EAAAA,MAAA,QAAMgQ,SArJO5T,UAEnB,GADAyK,EAAEjC,kBACGsK,EAAS3D,OAAOpN,SAAW+Q,EAASE,UAAUjR,OAEjD,YADAwB,EAAS,uDAGX,MAAMsQ,GAAOhM,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,CACXyD,UAAWwI,OAAO7T,IACf6S,GAAQ,IACXtH,MAAOuI,QAAQjB,EAAStH,SAE1B,IACEjI,EAAS,IACToD,EAAW,IACPiM,SC1CH5S,eAAiC6B,EAAImS,GAC1C,MAAM,KAAEtS,EAAI,MAAExC,SAAgBiC,EAAAA,EAC3BE,KAAK,kBACLuN,OAAOoF,GACPnF,GAAG,KAAMhN,GACTqL,SACH,GAAIhO,EAAO,MAAMA,EACjB,OAAW,OAAJwC,QAAI,IAAJA,OAAI,EAAJA,EAAO,EAChB,CDmCcuS,CAAkBrB,EAAa/Q,GAAIgS,GACzClN,EAAW,4CCtDZ3G,eAAiCwT,GACtC,MAAM,KAAE9R,EAAI,MAAExC,SAAgBiC,EAAAA,EAC3BE,KAAK,kBACLyN,OAAO,CAAC0E,IACRtG,SACH,GAAIhO,EAAO,MAAMA,EACjB,OAAW,OAAJwC,QAAI,IAAJA,OAAI,EAAJA,EAAO,EAChB,CDiDcwS,CAAkBL,GACxBlN,EAAW,iCAEbyM,IACAF,GACF,CAAE,MAAOxN,GACPnC,EAASmC,EAAIjE,QACf,GA4HoCoC,UAAU,YAAWC,SAAA,EACjDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wCAAuCC,SAAA,EACpDF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,+CAA8CC,SAAC,iBAChEI,EAAAA,EAAAA,KAAA,SACElF,KAAK,OACL+J,MAAO+J,EAAS3D,OAChB7K,SAAUmG,GAAKsI,GAAWlL,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIiL,GAAQ,IAAE3D,OAAQ1E,EAAEhG,OAAOsE,SAC3DlF,UAAU,8FACV6G,YAAY,wBACZyJ,UAAQ,QAGZvQ,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,+CAA8CC,SAAC,uBAChEI,EAAAA,EAAAA,KAAA,SACElF,KAAK,MACL+J,MAAO+J,EAASE,UAChB1O,SAAUmG,GAAKsI,GAAWlL,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIiL,GAAQ,IAAEE,UAAWvI,EAAEhG,OAAOsE,SAC9DlF,UAAU,8FACV6G,YAAY,oCACZyJ,UAAQ,WAIdvQ,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,+CAA8CC,SAAC,qBAChEI,EAAAA,EAAAA,KAAA,YACE6E,MAAO+J,EAAS5S,UAChBoE,SAAUmG,GAAKsI,GAAWlL,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIiL,GAAQ,IAAE5S,UAAWuK,EAAEhG,OAAOsE,SAC9DqL,KAAM,EACNvQ,UAAU,8FACV6G,YAAY,+CAGhB9G,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wCAAuCC,SAAA,EACpDF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,+CAA8CC,SAAC,gBAChEI,EAAAA,EAAAA,KAAA,SACElF,KAAK,OACL+J,MAAO+J,EAASG,WAChB3O,SAAUmG,GAAKsI,GAAWlL,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIiL,GAAQ,IAAEG,WAAYxI,EAAEhG,OAAOsE,SAC/DlF,UAAU,qCACV6G,YAAY,0BAGhB9G,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,+CAA8CC,SAAC,eAChEI,EAAAA,EAAAA,KAAA,SACElF,KAAK,OACL+J,MAAO+J,EAAS5K,UAChB5D,SAAUmG,GAAKsI,GAAWlL,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIiL,GAAQ,IAAE5K,UAAWuC,EAAEhG,OAAOsE,SAC9DlF,UAAU,qCACV6G,YAAY,gCAGhB9G,EAAAA,EAAAA,MAAA,OAAKC,UAAU,+BAA8BC,SAAA,EAC3CI,EAAAA,EAAAA,KAAA,SACElF,KAAK,WACLiT,QAASa,EAAStH,MAClBlH,SAAUmG,GAAKsI,GAAWlL,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIiL,GAAQ,IAAEtH,MAAOf,EAAEhG,OAAOwN,WAC1DpO,UAAU,iEAEZK,EAAAA,EAAAA,KAAA,QAAML,UAAU,wBAAuBC,SAAC,iBAG5CF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACzBF,EAAAA,EAAAA,MAAA,UACE5E,KAAK,SACL6E,UAAU,4GAA2GC,SAAA,EAErHI,EAAAA,EAAAA,KAAC4H,EAAAA,EAAI,CAACjI,UAAU,YACf+O,EAAe,YAAc,YAEhC1O,EAAAA,EAAAA,KAAA,UACElF,KAAK,SACLkG,QAASkO,EACTvP,UAAU,+FAA8FC,SACzG,0BE1Nf,EA3DiBd,IAA0B,IAAzB,gBAAE+C,GAAiB/C,EAEnC,MAAM/C,GAA0B,OAAf8F,QAAe,IAAfA,OAAe,EAAfA,EAAiBlE,MAAqB,OAAfkE,QAAe,IAAfA,OAAe,EAAfA,EAAiBuF,WAEzD,OACE1H,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EAExBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oDAAmDC,SAAA,EAChEI,EAAAA,EAAAA,KAAA,MAAIL,UAAU,yEAAwEC,SAAC,gCAGvFI,EAAAA,EAAAA,KAAA,KAAGL,UAAU,6BAA4BC,SAAC,2JAO3C7D,GACCiE,EAAAA,EAAAA,KAAA,OAAKL,UAAU,gCAA+BC,UAC5CI,EAAAA,EAAAA,KAACmQ,EAAY,CAACpU,SAAUA,OAG1BiE,EAAAA,EAAAA,KAAA,OAAKL,UAAU,gEAA+DC,UAC5EI,EAAAA,EAAAA,KAAA,KAAGL,UAAU,gBAAeC,SAAC,yDAOjCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oDAAmDC,SAAA,EAChEI,EAAAA,EAAAA,KAAA,MAAIL,UAAU,yEAAwEC,SAAC,8BAIvFF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kCAAiCC,SAAA,EAC9CF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,UAAQL,UAAU,iBAAgBC,SAAC,cACnCI,EAAAA,EAAAA,KAAA,KAAAJ,SAAG,2DACHI,EAAAA,EAAAA,KAAA,KAAGL,UAAU,wBAAuBC,SAAC,2DAGvCF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,UAAQL,UAAU,iBAAgBC,SAAC,YACnCI,EAAAA,EAAAA,KAAA,KAAAJ,SAAG,4DACHI,EAAAA,EAAAA,KAAA,KAAGL,UAAU,wBAAuBC,SAAC,0DAGvCF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,UAAQL,UAAU,iBAAgBC,SAAC,yBACnCI,EAAAA,EAAAA,KAAA,KAAAJ,SAAG,8D,2CChDf,MA6GA,EA7GoBd,IAA0D,IAAzD,MAAE+F,EAAK,SAAEzE,EAAQ,YAAEoG,EAAW,MAAEkG,EAAK,MAAEvH,EAAQ,CAAC,GAAGrG,EACtE,MAAMsR,GAAWC,EAAAA,EAAAA,QAAO,OACjBC,EAAeC,GAAoBC,EAAAA,SAAe,MAGnDC,GAAetN,EAAAA,EAAAA,cAAYrH,UAC/B,MAAM4U,EAAQC,SAASC,cAAc,SACrCF,EAAMG,aAAa,OAAQ,QAC3BH,EAAMG,aAAa,SAAU,WAC7BH,EAAMI,QAENJ,EAAMK,SAAWjV,UACf,MAAMnB,EAAO+V,EAAMpS,MAAM,GACzB,GAAI3D,GAAQ2V,EACV,IAEE,MAAMU,EAAQV,EAAcW,eAG5BX,EAAcY,YAAYF,EAAMxS,MAAO,QAAS,kFAGhD,MAAM2S,QAAiB7I,EAAAA,EAAAA,IAAY3N,GAGnC2V,EAAcc,WAAWJ,EAAMxS,MAAO,GACtC8R,EAAcY,YAAYF,EAAMxS,MAAO,QAAS2S,GAGhDb,EAAce,aAAaL,EAAMxS,MAAQ,EAC3C,CAAE,MAAOxD,GACPgD,QAAQhD,MAAM,kCAAmCA,GACjDsW,MAAM,mDACR,KAGH,CAAChB,IAGEiB,EAAUf,EAAAA,SAAc,MAC5BgB,QAAS,CACPC,UAAW,CACT,CAAC,CAAE,OAAU,CAAC,EAAG,EAAG,GAAG,KACvB,CAAC,OAAQ,SAAU,YAAa,UAChC,CAAC,CAAE,MAAS,IAAM,CAAE,WAAc,KAClC,CAAC,CAAE,KAAQ,WAAY,CAAE,KAAQ,WACjC,CAAC,CAAE,MAAS,KACZ,CAAC,QACD,CAAC,SACD,CAAC,UAEHC,SAAU,CACR9L,MAAO6K,OAGT,CAACA,IAaCkB,GAAqBxO,EAAAA,EAAAA,cAAY,CAACyO,EAASC,EAAOC,EAAQC,KAC1D3R,GACFA,EAASwR,EAASC,EAAOC,EAAQC,KAElC,CAAC3R,IAGE4R,GAAoB7O,EAAAA,EAAAA,cAAa8O,IACrC1B,EAAiB0B,KAChB,IAEH,OACEvS,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mBAAkBC,SAAA,CAC9B8M,IACC1M,EAAAA,EAAAA,KAAA,SAAOL,UAAU,yDAAwDC,SACtE8M,KAIL1M,EAAAA,EAAAA,KAAA,OAAKL,UAAU,gDAA+CC,UAC5DI,EAAAA,EAAAA,KAACkS,IAAU,CACTC,IAAK/B,EACLgC,MAAM,OACNvN,MAAOA,GAAS,GAChBzE,SAAUuR,EACVU,cAAeL,EACfT,QAASA,EACTe,QArCQ,CACd,SACA,OAAQ,SAAU,YAAa,SAC/B,QAAS,aACT,OAAQ,SACR,QACA,OAAQ,SAgCF9L,YAAaA,EACbrB,OAAKxB,EAAAA,EAAAA,GAAA,CACHnJ,OAAQ,QACR+X,gBAAiB,UACjBC,MAAO,WACJrN,WC5Ff,EAXuBrG,IAA8C,IAA7C,MAAE+F,EAAK,SAAEzE,EAAQ,YAAEoG,EAAW,MAAEkG,GAAO5N,EAC7D,OACEkB,EAAAA,EAAAA,KAACyS,EAAW,CACV5N,MAAOA,EACPzE,SAAUA,EACVoG,YAAaA,EACbkG,MAAOA,KCOb,EAdqB5N,IAA8C,IAA7C,gBAAE+C,EAAe,mBAAEiM,GAAoBhP,EAC3D,OACEkB,EAAAA,EAAAA,KAAA,OAAKL,UAAU,YAAWC,UAExBI,EAAAA,EAAAA,KAAC0S,EAAc,CACbhG,MAAM,wBACN7H,MAAOhD,EAAoC,oBAAK,GAChDzB,SAAWyE,GAAUiJ,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI9B,GAAe,IAAE,mBAAsBgD,KACpF2B,YAAY,yC,cCPpB,MA6NA,EA7N+B1H,IAA8C,IAA7C,gBAAE+C,EAAe,mBAAEiM,GAAoBhP,EACrE,MAAO6T,EAAWC,IAAgBxT,EAAAA,EAAAA,UAAS,KACpCwD,EAASC,IAAczD,EAAAA,EAAAA,WAAS,IAChCyT,EAAiBC,IAAsB1T,EAAAA,EAAAA,UAAS,OAChD2T,EAAYC,IAAiB5T,EAAAA,EAAAA,WAAS,IAG7CiE,EAAAA,EAAAA,YAAU,KACW,OAAfxB,QAAe,IAAfA,GAAAA,EAAiBlE,IACnBsV,MAED,CAAgB,OAAfpR,QAAe,IAAfA,OAAe,EAAfA,EAAiBlE,KAErB,MAAMsV,EAAgBnX,UACpB,GAAoB,OAAf+F,QAAe,IAAfA,GAAAA,EAAiBlE,GAAtB,CAEAkF,GAAW,GACX,IACE,MAAMrF,QAAa0V,EAAAA,EAAAA,IAAsBrR,EAAgBlE,IACzDiV,EAAapV,GAAQ,GACvB,CAAE,MAAOxC,GACPgD,QAAQhD,MAAM,iCAA+BA,EAC/C,CAAC,QACC6H,GAAW,EACb,CAVgC,GA6ElC,OAAID,GAEAlD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wCAAuCC,SAAA,EACpDI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,mEACfK,EAAAA,EAAAA,KAAA,QAAML,UAAU,qBAAoBC,SAAC,mCAMzCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EAExBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oCAAmCC,SAAA,EAChDI,EAAAA,EAAAA,KAAA,MAAIL,UAAU,sCAAqCC,SAAC,iCACpDI,EAAAA,EAAAA,KAAA,UACEgB,QA5BkBmS,KACxBL,EAAmB,CACjBM,eAAgB,GAChBC,SAAU,KAEZL,GAAc,IAwBRrT,UAAU,oFAAmFC,SAC9F,0BAMFiT,IACCnT,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oDAAmDC,SAAA,EAChEI,EAAAA,EAAAA,KAAA,MAAIL,UAAU,yCAAwCC,SACnDmT,EAAa,gCAA+B,qCAG/CrT,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EAExBF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,+CAA8CC,SAAC,uBAGhEI,EAAAA,EAAAA,KAAA,SACElF,KAAK,OACL+J,MAAOgO,EAAgBO,gBAAkB,GACzChT,SAAWmG,GAAMuM,GAAkBnP,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAChCkP,GAAe,IAClBO,eAAgB7M,EAAEhG,OAAOsE,SAE3BlF,UAAU,oIACV6G,YAAY,qCAKhB9G,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,+CAA8CC,SAAC,4BAGhEI,EAAAA,EAAAA,KAAC0S,EAAc,CACb7N,MAAOgO,EAAgBQ,UAAY,GACnCjT,SAAWyE,GAAUiO,GAAkBnP,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EACpCkP,GAAe,IAClBQ,SAAUxO,KAEZ2B,YAAY,2DAKhB9G,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kBAAiBC,SAAA,EAC9BI,EAAAA,EAAAA,KAAA,UACEgB,QAASA,IAjIIlF,WACzB,GAAoB,OAAf+F,QAAe,IAAfA,GAAAA,EAAiBlE,GAEtB,IACqB,OAAfkV,QAAe,IAAfA,GAAAA,EAAiBlV,SAEb2V,EAAAA,EAAAA,IAAwBT,EAAgBlV,GAAI4V,SAG5CC,EAAAA,EAAAA,KAAuB7P,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAC1B4P,GAAY,IACfnM,UAAWvF,EAAgBlE,YAKzBsV,IAGNH,EAAmB,MACnBE,GAAc,EAChB,CAAE,MAAOhY,GACPgD,QAAQhD,MAAM,8BAA4BA,GAC1CsW,MAAM,+BAA8BtW,EAAMuC,QAC5C,GAyG2BkW,CAAmBZ,GAClClT,UAAU,oFAAmFC,SAE5FmT,EAAa,QAAU,YAE1B/S,EAAAA,EAAAA,KAAA,UACEgB,QA5EW0S,KACvBZ,EAAmB,MACnBE,GAAc,IA2EFrT,UAAU,qFAAoFC,SAC/F,sBASR+S,EAAUzW,OAAS,IAClBwD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBI,EAAAA,EAAAA,KAAA,MAAIL,UAAU,oCAAmCC,SAAC,4BACjD+S,EAAUzX,KAAKmY,IACdrT,EAAAA,EAAAA,KAAA,OAAuBL,UAAU,oDAAmDC,UAClFF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mCAAkCC,SAAA,EAC/CF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,SAAQC,SAAA,CACpByT,EAASD,iBACRpT,EAAAA,EAAAA,KAAA,MAAIL,UAAU,kCAAiCC,SAC5CyT,EAASD,kBAGdpT,EAAAA,EAAAA,KAAA,OACEL,UAAU,8CACVgU,wBAAyB,CAAEC,OAAQP,EAASA,gBAGhD3T,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kBAAiBC,SAAA,EAC9BI,EAAAA,EAAAA,KAAA,UACEgB,QAASA,IA9HCqS,KAC1BrV,QAAQkE,IAAI,kCAAmCmR,GAC/CrV,QAAQkE,IAAI,gCAAiC2Q,GAC7C7U,QAAQkE,IAAI,2BAA4B6Q,GAExCD,EAAmBO,GACnBL,GAAc,GAEdhV,QAAQkE,IAAI,8CAAyCmR,GACrDrV,QAAQkE,IAAI,iDAqHmB2R,CAAmBR,GAClC1T,UAAU,uFAAsFC,SACjG,YAGDI,EAAAA,EAAAA,KAAA,UACEgB,QAASA,IAhJElF,WAC3B,GAAKoK,OAAOC,QAAQ,oDAEpB,UACQ2N,EAAAA,EAAAA,IAAwBC,SACxBd,GACR,CAAE,MAAOjY,GACPgD,QAAQhD,MAAM,+BAA6BA,GAC3CsW,MAAM,gCAA+BtW,EAAMuC,QAC7C,GAuI+ByW,CAAqBX,EAAS1V,IAC7CgC,UAAU,qFAAoFC,SAC/F,mBAvBGyT,EAAS1V,SAkCH,IAArBgV,EAAUzW,SAAiB2W,IAC1BnT,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iCAAgCC,SAAA,EAC7CI,EAAAA,EAAAA,KAAA,KAAAJ,SAAG,wDACHI,EAAAA,EAAAA,KAAA,KAAGL,UAAU,eAAcC,SAAC,yD,yHC5MtC,MAAMqU,GAAe,GAAAhZ,OAAMiZ,oBAA4B,mBAyMvD,GAvMuBpV,IAA8C,IAA7C,gBAAE+C,EAAe,mBAAEiM,GAAoBhP,EAC7D,MAAMqV,GAAS9D,EAAAA,EAAAA,QAAO,MAChB+D,GAAiB/D,EAAAA,EAAAA,QAAO,MACxBgE,GAAYhE,EAAAA,EAAAA,QAAO,MAGnBiE,EAAYA,CAACC,EAAKC,KACtB,IAAKJ,EAAeK,QAAS,OAE7B,MAAMC,EAAON,EAAeK,QAAQE,UAEpC,GAAIJ,GAAOC,IAAQI,MAAML,KAASK,MAAMJ,GAAM,CAAC,IAADK,EAC5C,MAAMC,GAAcC,EAAAA,EAAAA,IAAW,CAACC,WAAWR,GAAMQ,WAAWT,KAG5DG,EAAKO,UAAUH,GACfJ,EAAKQ,QAAQ,IAGb,MAAMC,EACwC,QAD5BN,EAAGT,EAAeK,QAAQW,YAAYC,WACrDjL,MAAKkL,GAASA,aAAiBC,EAAAA,WAAY,IAAAV,OAAA,EADzBA,EAC2BW,YAEhD,GAAIL,EAAc,CAEZd,EAAUI,SACZU,EAAaM,cAAcpB,EAAUI,SAIvC,MAAMiB,EAAS,IAAIC,EAAAA,EAAQ,CACzBC,SAAU,IAAIC,EAAAA,EAAMf,KAGtBY,EAAOI,SAAS,IAAIC,EAAAA,GAAM,CACxBnQ,MAAO,IAAIoQ,EAAAA,EAAK,CACd5Q,IAAK6O,GACLgC,MAAO,GACPC,OAAQ,CAAC,GAAK,IACdC,aAAc,WACdC,aAAc,WACd5D,MAAO,eAIX2C,EAAakB,WAAWX,GACxBrB,EAAUI,QAAUiB,CACtB,CACF,GAIIY,EAAkBhW,IACtB,MAAMwU,GAAcyB,EAAAA,EAAAA,IAASjW,EAAMkW,aAC5BhC,EAAKD,GAAOO,EAEnBhH,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EACf9B,GAAe,IAClB,SAAY0S,EAAIkC,QAAQ,GACxB,UAAajC,EAAIiC,QAAQ,OAqD7B,OAhDApT,EAAAA,EAAAA,YAAU,KACR,IAAK8Q,EAAOM,QAAS,OAGrB,MAAMvZ,EAAM,IAAIwb,EAAAA,EAAI,CAClBnW,OAAQ4T,EAAOM,QACfkC,OAAQ,CACN,IAAIC,EAAAA,EAAU,CACZ9E,OAAQ,IAAI+E,EAAAA,EAAI,CACdjZ,IAAK,2DAGT,IAAI2X,EAAAA,EAAY,CACdzD,OAAQ,IAAIgF,EAAAA,KAGhBpC,KAAM,IAAIqC,EAAAA,GAAK,CACbC,QAAQjC,EAAAA,EAAAA,IAAW,EAAE,SAAU,UAC/BkC,KAAM,MAIV7C,EAAeK,QAAUvZ,EAGzBA,EAAIgc,GAAG,QAASZ,GAGhB,MAAM/B,EAAM1S,EAA0B,SAChC2S,EAAM3S,EAA2B,UAKvC,OAJI0S,GAAOC,GACTF,EAAUC,EAAKC,GAGV,KACDJ,EAAeK,SACjBL,EAAeK,QAAQ0C,eAAUhb,MAGpC,KAGHkH,EAAAA,EAAAA,YAAU,KACR,MAAMkR,EAAM1S,EAA0B,SAChC2S,EAAM3S,EAA2B,UACvCyS,EAAUC,EAAKC,KACd,CAAC3S,EAA0B,SAAGA,EAA2B,aAG1DnC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EAExBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wCAAuCC,SAAA,EAEpDF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,yDAAwDC,SAAC,cAG1EI,EAAAA,EAAAA,KAAA,SACElF,KAAK,SACLsc,KAAK,MACLzX,UAAU,oKACVkF,MAAOhD,EAA0B,UAAK,GACtCzB,SAAUmG,GAAKuH,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI9B,GAAe,IAAE,SAAY0E,EAAEhG,OAAOsE,SAC7E2B,YAAY,kBAEdxG,EAAAA,EAAAA,KAAA,KAAGL,UAAU,6BAA4BC,SAAC,8DAM5CF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,yDAAwDC,SAAC,eAG1EI,EAAAA,EAAAA,KAAA,SACElF,KAAK,SACLsc,KAAK,MACLzX,UAAU,oKACVkF,MAAOhD,EAA2B,WAAK,GACvCzB,SAAUmG,GAAKuH,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI9B,GAAe,IAAE,UAAa0E,EAAEhG,OAAOsE,SAC9E2B,YAAY,kBAEdxG,EAAAA,EAAAA,KAAA,KAAGL,UAAU,6BAA4BC,SAAC,mEAO9CF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,yDAAwDC,SAAC,oDAG1EI,EAAAA,EAAAA,KAAA,OACEmS,IAAKgC,EACLxU,UAAU,4DACVwF,MAAO,CAAEkS,UAAW,YAEtBrX,EAAAA,EAAAA,KAAA,KAAGL,UAAU,6BAA4BC,SAAC,mEAM5CF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oDAAmDC,SAAA,EAChEI,EAAAA,EAAAA,KAAA,MAAIL,UAAU,yEAAwEC,SAAC,8BAIvFF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kCAAiCC,SAAA,EAC9CF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,UAAQL,UAAU,iBAAgBC,SAAC,uCACnCI,EAAAA,EAAAA,KAAA,KAAAJ,SAAG,kFAGLF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,UAAQL,UAAU,iBAAgBC,SAAC,mCACnCI,EAAAA,EAAAA,KAAA,KAAAJ,SAAG,yFAGLF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,UAAQL,UAAU,iBAAgBC,SAAC,8BACnCI,EAAAA,EAAAA,KAAA,KAAAJ,SAAG,qDAGLF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,UAAQL,UAAU,iBAAgBC,SAAC,iCACnCI,EAAAA,EAAAA,KAAA,KAAAJ,SAAG,0D,wIC3Mf,MA0jCA,GA1jC4B0X,KAAO,IAADC,EAChC,MAAOC,EAASC,IAAcrY,EAAAA,EAAAA,UAAS,KAChCwD,EAASC,IAAczD,EAAAA,EAAAA,WAAS,IAChCpE,EAAOqE,IAAYD,EAAAA,EAAAA,UAAS,OAC5BsY,EAAgBC,IAAqBvY,EAAAA,EAAAA,UAAS,OAC9CwY,EAAaC,IAAkBzY,EAAAA,EAAAA,UAAS,KACxC0Y,EAAcC,IAAmB3Y,EAAAA,EAAAA,WAAS,IAC1C4Y,EAAcC,IAAmB7Y,EAAAA,EAAAA,UAAS,CAAC,IAC3C8Y,EAAgBC,IAAqB/Y,EAAAA,EAAAA,UAAS,GAG/CgZ,EAAkB,CACtB,CACEza,GAAI,mBACJ2M,KAAM,oBACNtO,UAAW,oDACXqc,MAAOC,GAAAA,EACPC,IAAK,cACLC,UAAW,GAEb,CACE7a,GAAI,sBACJ2M,KAAM,+BACNtO,UAAW,0DACXqc,MAAOI,GAAAA,EACPF,IAAK,eACLC,UAAW,GAEb,CACE7a,GAAI,oBACJ2M,KAAM,yBACNtO,UAAW,gCACXqc,MAAOK,GAAAA,EACPH,IAAK,gBACLC,UAAW,GAEb,CACE7a,GAAI,iBACJ2M,KAAM,wBACNtO,UAAW,+CACXqc,MAAOM,GAAAA,EACPJ,IAAK,aACLC,UAAW,GAEb,CACE7a,GAAI,iBACJ2M,KAAM,qBACNtO,UAAW,0CACXqc,MAAOO,GAAAA,EACPL,IAAK,gBACLC,UAAW,GAEb,CACE7a,GAAI,sBACJ2M,KAAM,0BACNtO,UAAW,wCACXqc,MAAOI,GAAAA,EACPF,IAAK,cACLC,UAAW,GAEb,CACE7a,GAAI,iBACJ2M,KAAM,sBACNtO,UAAW,oCACXqc,MAAOO,GAAAA,EACPL,IAAK,gBACLC,UAAW,IAKTK,EAAiB,CACrB,CACElb,GAAI,sBACJ2M,KAAM,sBACNtO,UAAW,iCACXqc,MAAOO,GAAAA,EACPL,IAAK,gBACLO,SAAU,GAEZ,CACEnb,GAAI,sBACJ2M,KAAM,0BACNtO,UAAW,qCACXqc,MAAOI,GAAAA,EACPF,IAAK,cACLO,SAAU,GAEZ,CACEnb,GAAI,OACJ2M,KAAM,iBACNtO,UAAW,gCACXqc,MAAOK,GAAAA,EACPH,IAAK,gBACLO,SAAU,GAEZ,CACEnb,GAAI,sBACJ2M,KAAM,+BACNtO,UAAW,2CACXqc,MAAOI,GAAAA,EACPF,IAAK,eACLO,SAAU,KAiHdzV,EAAAA,EAAAA,YAAU,KACRoU,EAAWW,GACXvV,GAAW,KACV,IAGH,MAAMkW,EAAsBjd,UAC1B,IACEic,GAAgB,GAChB1Y,EAAS,MAET,MAAM,KAAE7B,EAAI,MAAExC,SAAgBiC,EAAAA,EAC3BE,KAAK6b,GACLhQ,OAAO,KACPC,MAAM,KAAM,CAAEC,WAAW,IAE5B,GAAIlO,EAAO,MAAMA,EAEjB6c,EAAera,GAAQ,IACvBma,EAAkBqB,EACpB,CAAE,MAAOxX,GACPxD,QAAQhD,MAAM,oCAADC,OAAqC+d,EAAQ,KAAKxX,GAC/DnC,EAAS,2BAADpE,OAA4BuG,EAAIjE,SAC1C,CAAC,QACCwa,GAAgB,EAClB,GAIIkB,EAAend,MAAO8B,EAAKsb,KAC/B,IACE,MAAMC,QAAiBC,MAAMxb,GACvByb,QAAaF,EAASE,OACtBC,EAAcpT,OAAOb,IAAIC,gBAAgB+T,GACzCE,EAAO5I,SAASC,cAAc,KACpC2I,EAAK9X,KAAO6X,EACZC,EAAKC,SAAWN,EAChBvI,SAAS8I,KAAKC,YAAYH,GAC1BA,EAAKzI,QACLH,SAAS8I,KAAKE,YAAYJ,GAC1BrT,OAAOb,IAAIuU,gBAAgBN,EAC7B,CAAE,MAAOte,GACPgD,QAAQhD,MAAM,kBAADC,OAAmBie,EAAQ,KAAKle,EAC/C,GAII6e,EAAuB/d,MAAOwC,EAAOwb,KACzC,IACE9b,QAAQkE,IAAI,qCAAgC5D,EAAMpC,OAAQ,YAG1D,MACM6d,EAAM,IAAIC,SADK,oCAAiBC,SAItC,IAAIC,EAAsB,EAC1B,IAAK,MAAMvf,KAAQ2D,EACjB,IACEN,QAAQkE,IAAI,qBAADjH,OAAsBN,EAAKc,KAAI,QAAAR,OAAON,EAAKiD,MAEtD,MAAMub,QAAiBC,MAAMze,EAAKiD,KAClC,IAAKub,EAASgB,GACZ,MAAM,IAAI9d,MAAM,QAADpB,OAASke,EAASiB,OAAM,MAAAnf,OAAKke,EAASkB,aAGvD,MAAMhB,QAAaF,EAASE,OAC5Brb,QAAQkE,IAAI,WAADjH,OAAYN,EAAKc,KAAI,uBAAAR,OAAsBoe,EAAK9d,KAAI,WAE/Dwe,EAAIpf,KAAKA,EAAKc,KAAM4d,GACpBa,IAGA,MAAMxU,EAAYwU,EAAsB5b,EAAMpC,OAAU,IACxDic,EAAkBzS,EAEpB,CAAE,MAAO1K,GACPgD,QAAQhD,MAAM,qBAADC,OAAsBN,EAAKc,KAAI,YAAYT,EAE1D,CAGF,GAA4B,IAAxBkf,EACF,MAAM,IAAI7d,MAAM,wCAGlB2B,QAAQkE,IAAI,mBAADjH,OAAoBif,EAAmB,iBAGlD,MAAMI,QAAgBP,EAAIQ,cAAc,CAAEzf,KAAM,SAChDkD,QAAQkE,IAAI,wBAADjH,OAAyBqf,EAAQ/e,KAAI,WAEhD,MAAM+d,EAAcpT,OAAOb,IAAIC,gBAAgBgV,GACzCf,EAAO5I,SAASC,cAAc,KACpC2I,EAAK9X,KAAO6X,EACZC,EAAKC,SAAWM,EAChBnJ,SAAS8I,KAAKC,YAAYH,GAC1BA,EAAKzI,QACLH,SAAS8I,KAAKE,YAAYJ,GAC1BrT,OAAOb,IAAIuU,gBAAgBN,GAE3Btb,QAAQkE,IAAI,2BAA4B4X,EAE1C,CAAE,MAAO9e,GACPgD,QAAQhD,MAAM,qBAAsBA,GAGpCgD,QAAQkE,IAAI,gDACZ,IAAK,MAAMvH,KAAQ2D,EACjB,UACQ2a,EAAate,EAAKiD,IAAKjD,EAAKc,YAC5B,IAAI+e,SAAQC,GAAWtW,WAAWsW,EAAS,MACnD,CAAE,MAAOC,GACP1c,QAAQhD,MAAM,kBAADC,OAAmBN,EAAKc,KAAI,KAAKif,EAChD,CAEJ,GA4aF,OAAI9X,GAEAlD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wCAAuCC,SAAA,EACpDI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,kFACfK,EAAAA,EAAAA,KAAA,OAAKL,UAAU,wBAAuBC,SAAC,8BAM3CF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EAGxBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0DAAyDC,SAAA,EACtEF,EAAAA,EAAAA,MAAA,MAAIC,UAAU,mEAAkEC,SAAA,EAC9EI,EAAAA,EAAAA,KAAC2a,GAAAA,EAAO,CAAChb,UAAU,0BAA0B,iCAI/CD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,6CAA4CC,SAAA,EAEzDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kJAAiJC,SAAA,EAC9JF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yBAAwBC,SAAA,EACrCI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,kCAAiCC,UAC9CI,EAAAA,EAAAA,KAAC2a,GAAAA,EAAO,CAAChb,UAAU,0BAErBD,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,MAAIL,UAAU,8BAA6BC,SAAC,qBAC5CI,EAAAA,EAAAA,KAAA,KAAGL,UAAU,wBAAuBC,SAAC,4BAGzCI,EAAAA,EAAAA,KAAA,KAAGL,UAAU,6BAA4BC,SAAC,yEAG1CF,EAAAA,EAAAA,MAAA,UACEsB,QA3celF,UACzB,IACEmc,EAAgB,CAAEmC,OAAQ,YAAa7c,QAAS,iCAChD4a,EAAkB,GAGlBF,EAAgB,CAAEmC,OAAQ,UAAW7c,QAAS,kCAC9C4a,EAAkB,IAElB,MAAMyC,EAAgB,CAAC,EACvB,IAAK,MAAMC,KAAUzC,EACnB,IACE,MAAM,KAAE5a,EAAI,MAAExC,SAAgBiC,EAAAA,EAC3BE,KAAK0d,EAAOld,IACZqL,OAAO,KAEV,GAAIhO,EAAO,MAAMA,EACjB4f,EAAcC,EAAOld,IAAMH,GAAQ,EACrC,CAAE,MAAOgE,GACPxD,QAAQhD,MAAM,kCAADC,OAAmC4f,EAAOld,GAAE,KAAK6D,EAChE,CAEF2W,EAAkB,IAGlBF,EAAgB,CAAEmC,OAAQ,UAAW7c,QAAS,uCAC9C4a,EAAkB,IAElB,MAAM2C,EAAiB,CAAC,EAClBC,EAAgB,GAEtB,IAAK,MAAMhT,KAAU8Q,EACnB,IACE7a,QAAQkE,IAAI,gCAADjH,OAAiC8M,EAAOpK,KACnD,MAAM,KAAEH,EAAI,MAAExC,SAAgBiC,EAAAA,EAASC,QACpCC,KAAK4K,EAAOpK,IACZY,KAAK,GAAI,CAAEyc,MAAO,MAErB,GAAIhgB,EAAO,MAAMA,EAEjBgD,QAAQkE,IAAI,UAADjH,OAAW8M,EAAOpK,GAAE,MAAA1C,QAAS,OAAJuC,QAAI,IAAJA,OAAI,EAAJA,EAAMtB,SAAU,EAAC,0BACrD8B,QAAQkE,IAAI,wBAAyB1E,GAErC,MAAMyd,EAAkB,GACxB,IAAK,MAAMC,KAAW1d,EACpB,IACEQ,QAAQkE,IAAI,qBAADjH,OAAsBigB,EAAQzf,OACzC,MAAQ+B,KAAM2d,SAAkBle,EAAAA,EAASC,QACtCC,KAAK4K,EAAOpK,IACZyd,gBAAgBF,EAAQzf,KAAM,MAEjC,GAAW,OAAP0f,QAAO,IAAPA,GAAAA,EAASE,UAAW,CACtB,MAAMC,GAAe3X,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAChBuX,GAAO,IACVtd,IAAKud,EAAQE,UACbtT,OAAQA,EAAOpK,GACf4d,WAAYxT,EAAOuC,OAErB2Q,EAAgB3Z,KAAKga,GACrBP,EAAczZ,KAAKga,GACnBtd,QAAQkE,IAAI,mBAADjH,OAAoBigB,EAAQzf,KAAI,MAAAR,OAAKkgB,EAAQE,UAAUve,UAAU,EAAG,IAAG,OACpF,MACEkB,QAAQwd,KAAK,0BAADvgB,OAAwBigB,EAAQzf,MAEhD,CAAE,MAAO+F,GACPxD,QAAQhD,MAAM,0BAADC,OAA2BigB,EAAQzf,KAAI,KAAK+F,EAC3D,CAGFxD,QAAQkE,IAAI,UAADjH,OAAW8M,EAAOpK,GAAE,MAAA1C,OAAKggB,EAAgB/e,OAAM,kBAC1D4e,EAAe/S,EAAOpK,IAAMsd,CAC9B,CAAE,MAAOzZ,GACPxD,QAAQhD,MAAM,kCAADC,OAAmC8M,EAAOpK,GAAE,KAAK6D,EAChE,CAEF2W,EAAkB,IAGlBF,EAAgB,CAAEmC,OAAQ,cAAe7c,QAAS,iCAClD4a,EAAkB,IAElB,MAAMsD,EAAiB,CACrBC,SAAU,CACRC,YAAY,IAAIlf,MAAOsB,cACvB6d,OAAQ,MACR5f,UAAW,iFACXwb,QAASY,EAAgBld,KAAIC,IAAC,CAAOwC,GAAIxC,EAAEwC,GAAI2M,KAAMnP,EAAEmP,SACvDuR,QAAShD,EAAe3d,KAAI4gB,IAAC,CAAOne,GAAIme,EAAEne,GAAI2M,KAAMwR,EAAExR,SACtDyR,eAAgBpV,OAAOqV,OAAOpB,GAAeqB,QAAO,CAACC,EAAKrB,IAAWqB,IAAa,OAANrB,QAAM,IAANA,OAAM,EAANA,EAAQ3e,SAAU,IAAI,GAClGigB,cAAexV,OAAOqV,OAAOlB,GAAgBmB,QAAO,CAACC,EAAKnU,IAAWmU,IAAa,OAANnU,QAAM,IAANA,OAAM,EAANA,EAAQ7L,SAAU,IAAI,IAEpGkgB,MAAOxB,EACP9B,SAAUgC,GAIZ7C,EAAgB,CAAEmC,OAAQ,WAAY7c,QAAS,2BAC/C4a,EAAkB,IAElB,MAAMkE,EAAcC,KAAKC,UAAUd,EAAgB,KAAM,GACnDpC,EAAO,IAAImD,KAAK,CAACH,GAAc,CAAEvhB,KAAM,oCACvCye,EAAO5I,SAASC,cAAc,KAC9BhT,EAAMyH,IAAIC,gBAAgB+T,GAChCE,EAAK1I,aAAa,OAAQjT,GAC1B2b,EAAK1I,aAAa,WAAW,wBAAD5V,QAA0B,IAAIwB,MAAOsB,cAAc3C,MAAM,KAAK,GAAE,UAC5Fme,EAAKpU,MAAMsX,WAAa,SACxB9L,SAAS8I,KAAKC,YAAYH,GAC1BA,EAAKzI,QACLH,SAAS8I,KAAKE,YAAYJ,GAG1Bvb,QAAQkE,IAAI,oCAADjH,OAAqC8f,EAAc7e,SAC9D8B,QAAQkE,IAAI,0BAA2B6Y,GAEnCA,EAAc7e,OAAS,GACzB+b,EAAgB,CAAEmC,OAAQ,UAAW7c,QAAS,wBAC9C4a,EAAkB,UAEZ0B,EACJkB,EAAc,gBAAD9f,QACG,IAAIwB,MAAOsB,cAAc3C,MAAM,KAAK,GAAE,WAGxD4C,QAAQwd,KAAK,yCACbvD,EAAgB,CACdmC,OAAQ,OACR7c,QAAS,qFAIb4a,EAAkB,KAClBF,EAAgB,CACdmC,OAAQ,YACR7c,QAAS,yCACTmf,SAAU,CACRlF,QAAS7Q,OAAOC,KAAKgU,GAAe1e,OACpCsc,UAAW7R,OAAOqV,OAAOpB,GAAeqB,QAAO,CAACC,EAAKrB,IAAWqB,IAAa,OAANrB,QAAM,IAANA,OAAM,EAANA,EAAQ3e,SAAU,IAAI,GAC7F4c,SAAUnS,OAAOqV,OAAOlB,GAAgBmB,QAAO,CAACC,EAAKnU,IAAWmU,IAAa,OAANnU,QAAM,IAANA,OAAM,EAANA,EAAQ7L,SAAU,IAAI,MAKjGiI,YAAW,KACT8T,EAAgB,CAAC,GACjBE,EAAkB,KACjB,IAEL,CAAE,MAAO3W,GACPxD,QAAQhD,MAAM,2BAA4BwG,GAC1CyW,EAAgB,CACdmC,OAAQ,OACR7c,QAAQ,mBAADtC,OAAqBuG,EAAIjE,WAElC4a,EAAkB,EACpB,GAkTUtX,SAAkC,cAAxBmX,EAAaoC,QAAkD,YAAxBpC,EAAaoC,QAAgD,YAAxBpC,EAAaoC,QAAgD,gBAAxBpC,EAAaoC,QAAoD,aAAxBpC,EAAaoC,QAAiD,YAAxBpC,EAAaoC,OACvNza,UAAU,gOAA+NC,SAAA,EAEzOI,EAAAA,EAAAA,KAAC2a,GAAAA,EAAO,CAAChb,UAAU,wBAAwB,yBAM/CD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,sJAAqJC,SAAA,EAClKF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yBAAwBC,SAAA,EACrCI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,mCAAkCC,UAC/CI,EAAAA,EAAAA,KAACsY,GAAAA,EAAQ,CAAC3Y,UAAU,0BAEtBD,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,MAAIL,UAAU,8BAA6BC,SAAC,wBAC5CI,EAAAA,EAAAA,KAAA,KAAGL,UAAU,wBAAuBC,SAAC,wBAGzCI,EAAAA,EAAAA,KAAA,KAAGL,UAAU,6BAA4BC,SAAC,gDAG1CF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBF,EAAAA,EAAAA,MAAA,UACEsB,QAtUclF,UAC1B,IACEmc,EAAgB,CAAEmC,OAAQ,UAAW7c,QAAS,yCAC9C4a,EAAkB,GAElB,MAAMwE,EAAoB,CAAC,EAC3B,IAAK,IAAIzb,EAAI,EAAGA,EAAIkX,EAAgBlc,OAAQgF,IAAK,CAC/C,MAAM2Z,EAASzC,EAAgBlX,GAC/B,IACE,MAAM,KAAE1D,EAAI,MAAExC,SAAgBiC,EAAAA,EAC3BE,KAAK0d,EAAOld,IACZqL,OAAO,KAEV,GAAIhO,EAAO,MAAMA,EACjB2hB,EAAkB9B,EAAOld,IAAMH,GAAQ,GAEvC2a,GAAmBjX,EAAI,GAAKkX,EAAgBlc,OAAS,IACvD,CAAE,MAAOsF,GACPxD,QAAQhD,MAAM,kCAADC,OAAmC4f,EAAOld,GAAE,KAAK6D,EAChE,CACF,CAGA,MAAMob,GAAY,IAAIngB,MAAOsB,cAAc3C,MAAM,KAAK,GAIhD2e,EAAM,IAAIC,SADK,oCAAiBC,SAItC,IAAK,MAAOjB,EAAUoD,KAAUzV,OAAOkW,QAAQF,GAC7C,GAAIP,GAASA,EAAMlgB,OAAS,EAAG,CAE7B,MAAM4gB,EAAUnW,OAAOC,KAAKwV,EAAM,IAG5BW,EAAa,CACjBD,EAAQxhB,KAAK,QACV8gB,EAAMlhB,KAAI8hB,GACXF,EAAQ5hB,KAAI+hB,IACV,MAAMpY,EAAQmY,EAAIC,GAElB,MAAqB,kBAAVpY,IAAuBA,EAAMhK,SAAS,MAAQgK,EAAMhK,SAAS,OAASgK,EAAMhK,SAAS,MACxF,IAANI,OAAW4J,EAAMwH,QAAQ,KAAM,MAAK,KAE/BxH,GAAS,MACfvJ,KAAK,QAEVA,KAAK,MAGPye,EAAIpf,KAAK,GAADM,OAAI+d,EAAQ,KAAA/d,OAAI2hB,EAAS,QAAQG,EAC3C,CAIF,MAAMrB,EAAW,CACfC,YAAY,IAAIlf,MAAOsB,cACvBmf,KAAM,qBACN1F,QAAS7Q,OAAOC,KAAK+V,GACrBZ,eAAgBpV,OAAOqV,OAAOW,GAAmBV,QAAO,CAACC,EAAKrB,IAAWqB,IAAa,OAANrB,QAAM,IAANA,OAAM,EAANA,EAAQ3e,SAAU,IAAI,GACtGihB,QAAS,MACTnhB,UAAW,qDAGb+d,EAAIpf,KAAK,YAADM,OAAa2hB,EAAS,SAASN,KAAKC,UAAUb,EAAU,KAAM,IAGtE,MAAMpB,QAAgBP,EAAIQ,cAAc,CAAEzf,KAAM,SAC1Cwe,EAAcpT,OAAOb,IAAIC,gBAAgBgV,GACzCf,EAAO5I,SAASC,cAAc,KACpC2I,EAAK9X,KAAO6X,EACZC,EAAKC,SAAQ,2BAAAve,OAA8B2hB,EAAS,QACpDrD,EAAKpU,MAAMsX,WAAa,SACxB9L,SAAS8I,KAAKC,YAAYH,GAC1BA,EAAKzI,QACLH,SAAS8I,KAAKE,YAAYJ,GAC1BrT,OAAOb,IAAIuU,gBAAgBN,GAE3BrB,EAAgB,CACdmC,OAAQ,YACR7c,QAAS,qDAGX4G,YAAW,KACT8T,EAAgB,CAAC,GACjBE,EAAkB,KACjB,IAEL,CAAE,MAAO3W,GACPxD,QAAQhD,MAAM,8BAA+BwG,GAC7CyW,EAAgB,CACdmC,OAAQ,OACR7c,QAAQ,mBAADtC,OAAqBuG,EAAIjE,WAElC4a,EAAkB,EACpB,GAuOYtX,SAAkC,YAAxBmX,EAAaoC,OACvBza,UAAU,oOAAmOC,SAAA,EAE7OI,EAAAA,EAAAA,KAACsY,GAAAA,EAAQ,CAAC3Y,UAAU,wBAAwB,qBAG9CK,EAAAA,EAAAA,KAAA,UACEgB,QAxpBQlF,UACpBkC,QAAQkE,IAAI,mCACZ+V,EAAgB,CAAEmC,OAAQ,WAAY7c,QAAS,wBAE/C,MAAM6f,EAAa,GAEnB,IAAK,MAAMvC,KAAUzC,EACnB,IACEpa,QAAQkE,IAAI,oBAADjH,OAAqB4f,EAAOld,KAGvC,MAAM,KAAEH,EAAI,MAAExC,SAAgBiC,EAAAA,EAC3BE,KAAK0d,EAAOld,IACZqL,OAAO,KACPgS,MAAM,GAELhgB,GACFgD,QAAQhD,MAAM,yBAADC,OAAqB4f,EAAOld,GAAE,KAAK3C,GAChDoiB,EAAW9b,KAAK,CAAEuZ,OAAQA,EAAOld,GAAIyc,OAAQ,OAAQiD,SAAUriB,EAAMuC,YAErES,QAAQkE,IAAI,iBAADjH,OAAa4f,EAAOld,GAAE,UAAA1C,QAAa,OAAJuC,QAAI,IAAJA,OAAI,EAAJA,EAAMtB,SAAU,EAAC,2BAC3DkhB,EAAW9b,KAAK,CAAEuZ,OAAQA,EAAOld,GAAIyc,OAAQ,KAAM5B,WAAe,OAAJhb,QAAI,IAAJA,OAAI,EAAJA,EAAMtB,SAAU,IAElF,CAAE,MAAOsF,GACPxD,QAAQhD,MAAM,kCAADC,OAAwB4f,EAAOld,GAAE,KAAK6D,GACnD4b,EAAW9b,KAAK,CAAEuZ,OAAQA,EAAOld,GAAIyc,OAAQ,UAAWiD,SAAU7b,EAAIjE,SACxE,CAIFS,QAAQkE,IAAI,oCAAqCkb,GAEjD,MAAME,EAAYF,EAAW3c,QAAO8c,GAAkB,OAAbA,EAAEnD,SAAiBle,OACtDshB,EAAcJ,EAAW3c,QAAO8c,GAAkB,SAAbA,EAAEnD,QAAkC,YAAbmD,EAAEnD,SAAsBle,OAGxF+b,EADkB,IAAhBuF,EACc,CACdpD,OAAQ,YACR7c,QAAQ,iDAADtC,OAA2CqiB,EAAS,uBAG7C,CACdlD,OAAQ,OACR7c,QAAQ,gBAADtC,OAAQuiB,EAAW,iEAI9BrZ,YAAW,KACT8T,EAAgB,CAAC,KAChB,MAwmBStY,UAAU,oIAAmIC,SAC9I,uCAOLF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0JAAyJC,SAAA,EACtKF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yBAAwBC,SAAA,EACrCI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,oCAAmCC,UAChDI,EAAAA,EAAAA,KAACyd,GAAAA,EAAQ,CAAC9d,UAAU,0BAEtBD,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,MAAIL,UAAU,8BAA6BC,SAAC,wBAC5CI,EAAAA,EAAAA,KAAA,KAAGL,UAAU,wBAAuBC,SAAC,2BAGzCI,EAAAA,EAAAA,KAAA,KAAGL,UAAU,6BAA4BC,SAAC,kDAG1CF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBF,EAAAA,EAAAA,MAAA,UACEsB,QAlQQlF,UACpB,IACEkC,QAAQkE,IAAI,mCACZ+V,EAAgB,CAAEmC,OAAQ,UAAW7c,QAAS,qCAC9C4a,EAAkB,GAElB,MAAM4C,EAAgB,GAEtB,IAAK,IAAI7Z,EAAI,EAAGA,EAAI2X,EAAe3c,OAAQgF,IAAK,CAC9C,MAAM6G,EAAS8Q,EAAe3X,GAC9B,IACElD,QAAQkE,IAAI,uBAADjH,OAAwB8M,EAAOpK,GAAE,MAAA1C,OAAK8M,EAAOuC,KAAI,MAC5D2N,EAAgB,CACdmC,OAAQ,UACR7c,QAAQ,uBAADtC,OAAyB8M,EAAOuC,KAAI,SAI7C,MAAQ9M,KAAMsb,EAAQ,MAAE9d,SAAgBiC,EAAAA,EAASC,QAC9CC,KAAK4K,EAAOpK,IACZY,KAAK,GAAI,CAAEyc,MAAO,MAErB,GAAIhgB,EAEF,MADAgD,QAAQhD,MAAM,qCAADC,OAAsC8M,EAAOpK,GAAE,KAAK3C,GAC3DA,EAKR,GAFAgD,QAAQkE,IAAI,UAADjH,OAAW8M,EAAOpK,GAAE,SAAA1C,QAAgB,OAAR6d,QAAQ,IAARA,OAAQ,EAARA,EAAU5c,SAAU,EAAC,cAExD4c,GAAYA,EAAS5c,OAAS,EAEhC,IAAK,MAAMgf,KAAWpC,EACpB,IACE9a,QAAQkE,IAAI,qBAADjH,OAAsBigB,EAAQzf,OAEzC,MAAQ+B,KAAM2d,EAASngB,MAAO0iB,SAAmBzgB,EAAAA,EAASC,QACvDC,KAAK4K,EAAOpK,IACZyd,gBAAgBF,EAAQzf,KAAM,MAEjC,GAAIiiB,EAAU,CACZ1f,QAAQhD,MAAM,0BAADC,OAA2BigB,EAAQzf,KAAI,KAAKiiB,GACzD,QACF,CAEA,GAAW,OAAPvC,QAAO,IAAPA,GAAAA,EAASE,UAAW,CACtB,MAAMC,GAAe3X,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAChBuX,GAAO,IACVtd,IAAKud,EAAQE,UACbtT,OAAQA,EAAOpK,GACf4d,WAAYxT,EAAOuC,OAErByQ,EAAczZ,KAAKga,GACnBtd,QAAQkE,IAAI,mBAADjH,OAAoBigB,EAAQzf,KAAI,MAAAR,OAAKkgB,EAAQE,UAAUve,UAAU,EAAG,IAAG,OACpF,MACEkB,QAAQwd,KAAK,0BAADvgB,OAAwBigB,EAAQzf,MAEhD,CAAE,MAAO+F,GACPxD,QAAQhD,MAAM,0BAADC,OAA2BigB,EAAQzf,KAAI,KAAK+F,EAC3D,MAGFxD,QAAQkE,IAAI,UAADjH,OAAW8M,EAAOpK,GAAE,mBAGjCwa,GAAmBjX,EAAI,GAAK2X,EAAe3c,OAAS,IACtD,CAAE,MAAOsF,GACPxD,QAAQhD,MAAM,4BAADC,OAA6B8M,EAAOpK,GAAE,KAAK6D,EAE1D,CACF,CAEAxD,QAAQkE,IAAI,kCAADjH,OAAmC8f,EAAc7e,SAExD6e,EAAc7e,OAAS,GACzB+b,EAAgB,CACdmC,OAAQ,WACR7c,QAAQ,2BAADtC,OAA6B8f,EAAc7e,OAAM,uBAGpD2d,EACJkB,EAAc,gBAAD9f,QACG,IAAIwB,MAAOsB,cAAc3C,MAAM,KAAK,GAAE,SAGxD6c,EAAgB,CACdmC,OAAQ,YACR7c,QAAQ,6CAADtC,OAA+C8f,EAAc7e,OAAM,0BAG5E+b,EAAgB,CACdmC,OAAQ,YACR7c,QAAS,2CAIb4G,YAAW,KACT8T,EAAgB,CAAC,GACjBE,EAAkB,KACjB,IAEL,CAAE,MAAO3W,GACPxD,QAAQhD,MAAM,8BAA+BwG,GAC7CyW,EAAgB,CACdmC,OAAQ,OACR7c,QAAQ,mBAADtC,OAAqBuG,EAAIjE,WAElC4a,EAAkB,EACpB,GAwJYtX,SAAkC,YAAxBmX,EAAaoC,QAAgD,aAAxBpC,EAAaoC,OAC5Dza,UAAU,wOAAuOC,SAAA,EAEjPI,EAAAA,EAAAA,KAACyd,GAAAA,EAAQ,CAAC9d,UAAU,wBAAwB,qBAG9CK,EAAAA,EAAAA,KAAA,UACEgB,QAhvBQlF,UACpBkC,QAAQkE,IAAI,mCACZ+V,EAAgB,CAAEmC,OAAQ,WAAY7c,QAAS,wBAE/C,MAAM6f,EAAa,GAEnB,IAAK,MAAMrV,KAAU8Q,EACnB,IACE7a,QAAQkE,IAAI,oBAADjH,OAAqB8M,EAAOpK,KAGvC,MAAM,KAAEH,EAAI,MAAExC,SAAgBiC,EAAAA,EAASC,QACpCC,KAAK4K,EAAOpK,IACZY,KAAK,GAAI,CAAEyc,MAAO,MAEjBhgB,GACFgD,QAAQhD,MAAM,yBAADC,OAAqB8M,EAAOpK,GAAE,KAAK3C,GAChDoiB,EAAW9b,KAAK,CAAEyG,OAAQA,EAAOpK,GAAIyc,OAAQ,OAAQiD,SAAUriB,EAAMuC,YAErES,QAAQkE,IAAI,iBAADjH,OAAa8M,EAAOpK,GAAE,UAAA1C,QAAa,OAAJuC,QAAI,IAAJA,OAAI,EAAJA,EAAMtB,SAAU,EAAC,0BACvDsB,GAAQA,EAAKtB,OAAS,GACxB8B,QAAQkE,IAAI,mCAADjH,OAA0B8M,EAAOpK,GAAE,KAAKH,EAAKtC,KAAIyiB,GAAKA,EAAEliB,QAErE2hB,EAAW9b,KAAK,CAAEyG,OAAQA,EAAOpK,GAAIyc,OAAQ,KAAMtB,UAAc,OAAJtb,QAAI,IAAJA,OAAI,EAAJA,EAAMtB,SAAU,IAEjF,CAAE,MAAOsF,GACPxD,QAAQhD,MAAM,kCAADC,OAAwB8M,EAAOpK,GAAE,KAAK6D,GACnD4b,EAAW9b,KAAK,CAAEyG,OAAQA,EAAOpK,GAAIyc,OAAQ,UAAWiD,SAAU7b,EAAIjE,SACxE,CAIFS,QAAQkE,IAAI,yBAA0Bkb,GAEtC,MAAMQ,EAAYR,EAAW3c,QAAO8c,GAAkB,OAAbA,EAAEnD,SAAiBle,OACtD2hB,EAAcT,EAAW3c,QAAO8c,GAAkB,SAAbA,EAAEnD,QAAkC,YAAbmD,EAAEnD,SAAsBle,OACpFigB,EAAgBiB,EAAWnB,QAAO,CAACC,EAAKqB,IAAMrB,GAAOqB,EAAEzE,UAAY,IAAI,GAG3Eb,EADkB,IAAhB4F,EACc,CACdzD,OAAQ,YACR7c,QAAQ,iDAADtC,OAA2C2iB,EAAS,uBAAA3iB,OAAsBkhB,EAAa,2BAGhF,CACd/B,OAAQ,OACR7c,QAAQ,gBAADtC,OAAQ4iB,EAAW,iEAI9B1Z,YAAW,KACT8T,EAAgB,CAAC,KAChB,MA6rBStY,UAAU,oIAAmIC,SAC9I,yCAQNoY,EAAaoC,SACZpa,EAAAA,EAAAA,KAAA,OAAKL,UAAS,0CAAA1E,OACY,cAAxB+c,EAAaoC,OACT,qDACwB,SAAxBpC,EAAaoC,OACX,+CACA,mDACLxa,UACDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oCAAmCC,SAAA,EAChDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0BAAyBC,SAAA,CACb,cAAxBoY,EAAaoC,QACZpa,EAAAA,EAAAA,KAAC8d,GAAAA,EAAW,CAACne,UAAU,2BACG,SAAxBqY,EAAaoC,QACfpa,EAAAA,EAAAA,KAACC,GAAAA,EAAW,CAACN,UAAU,0BAEvBK,EAAAA,EAAAA,KAAA,OAAKL,UAAU,kEAEjBD,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,KAAGL,UAAU,gBAAeC,SAAEoY,EAAaza,UAC1Cya,EAAa0E,WACZhd,EAAAA,EAAAA,MAAA,KAAGC,UAAU,6BAA4BC,SAAA,CAAC,YAC9BoY,EAAa0E,SAASlF,QAAQ,iBAC5BQ,EAAa0E,SAASlE,UAAU,gBACjCR,EAAa0E,SAAS5D,kBAKxCZ,EAAiB,GAAKA,EAAiB,MACtCxY,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0BAAyBC,SAAA,EACtCI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,oCAAmCC,UAChDI,EAAAA,EAAAA,KAAA,OACEL,UAAU,4DACVwF,MAAO,CAAE5K,MAAM,GAADU,OAAKid,EAAc,WAGrCxY,EAAAA,EAAAA,MAAA,QAAMC,UAAU,sBAAqBC,SAAA,CAAEhD,KAAKsI,MAAMgT,GAAgB,mBAS9ExY,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0DAAyDC,SAAA,EACtEF,EAAAA,EAAAA,MAAA,MAAIC,UAAU,mEAAkEC,SAAA,EAC9EI,EAAAA,EAAAA,KAACsY,GAAAA,EAAQ,CAAC3Y,UAAU,0BAA0B,yBAIhDK,EAAAA,EAAAA,KAAA,OAAKL,UAAU,uDAAsDC,SAClE4X,EAAQtc,KAAK2f,IACZ,MAAMkD,EAAQlD,EAAOxC,MACf2F,EAAatG,IAAmBmD,EAAOld,GAE7C,OACEqC,EAAAA,EAAAA,KAAA,OAEEL,UAAS,kHAAA1E,OACP+iB,EACI,sCACA,oEAENhd,QAASA,IAAM+X,EAAoB8B,EAAOld,IAAIiC,UAE9CF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,MAAKC,SAAA,EAClBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yBAAwBC,SAAA,EACrCI,EAAAA,EAAAA,KAAA,OAAKL,UAAS,GAAA1E,OAAK4f,EAAOtC,IAAG,kCAAiC3Y,UAC5DI,EAAAA,EAAAA,KAAC+d,EAAK,CAACpe,UAAU,0BAEnBD,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,MAAIL,UAAU,8BAA6BC,SAAEib,EAAOvQ,QACpD5K,EAAAA,EAAAA,MAAA,KAAGC,UAAU,wBAAuBC,SAAA,CAAEib,EAAOrC,UAAU,uBAG3DxY,EAAAA,EAAAA,KAAA,KAAGL,UAAU,6BAA4BC,SAAEib,EAAO7e,aAElDgE,EAAAA,EAAAA,KAAA,OAAKL,UAAU,iBAAgBC,UAC7BF,EAAAA,EAAAA,MAAA,UACEC,UAAU,+IACVqB,QAAUuF,IACRA,EAAE0X,kBACFlF,EAAoB8B,EAAOld,KAC3BiC,SAAA,EAEFI,EAAAA,EAAAA,KAACke,GAAAA,EAAG,CAACve,UAAU,iBAAiB,sBA5BjCkb,EAAOld,YA0CrB+Z,IACChY,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0DAAyDC,SAAA,EACtEF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yCAAwCC,SAAA,EACrDF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEF,EAAAA,EAAAA,MAAA,MAAIC,UAAU,sCAAqCC,SAAA,CAAC,oBACU,QAA3C2X,EAACC,EAAQpN,MAAKjP,GAAKA,EAAEwC,KAAO+Z,WAAe,IAAAH,OAAA,EAA1CA,EAA4CjN,SAEhE5K,EAAAA,EAAAA,MAAA,KAAGC,UAAU,wBAAuBC,SAAA,CACjCgY,EAAY1b,OAAO,gCAIxBwD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBC,SAAA,EAC7BF,EAAAA,EAAAA,MAAA,UACEsB,QAASA,IAAM+X,EAAoBrB,GACnC7W,SAAUiX,EACVnY,UAAU,mKAAkKC,SAAA,EAE5KI,EAAAA,EAAAA,KAACme,GAAAA,EAAS,CAACxe,UAAS,gBAAA1E,OAAkB6c,EAAe,eAAiB,MAAQ,gBAIhFpY,EAAAA,EAAAA,MAAA,UACEsB,QAASA,IAhSHod,EAACpF,EAAUoD,KAC7B,IAAKA,GAA0B,IAAjBA,EAAMlgB,OAElB,YADAoV,MAAM,2BAKR,MAAMwL,EAAUnW,OAAOC,KAAKwV,EAAM,IAG5BW,EAAa,CACjBD,EAAQxhB,KAAK,QACV8gB,EAAMlhB,KAAI8hB,GACXF,EAAQ5hB,KAAI+hB,IACV,MAAMpY,EAAQmY,EAAIC,GAElB,MAAqB,kBAAVpY,IAAuBA,EAAMhK,SAAS,MAAQgK,EAAMhK,SAAS,OAASgK,EAAMhK,SAAS,MACxF,IAANI,OAAW4J,EAAMwH,QAAQ,KAAM,MAAK,KAE/BxH,GAAS,MACfvJ,KAAK,QAEVA,KAAK,MAGD+d,EAAO,IAAImD,KAAK,CAACO,GAAa,CAAEjiB,KAAM,4BACtCye,EAAO5I,SAASC,cAAc,KAC9BhT,EAAMyH,IAAIC,gBAAgB+T,GAChCE,EAAK1I,aAAa,OAAQjT,GAC1B2b,EAAK1I,aAAa,WAAW,GAAD5V,OAAK+d,EAAQ,KAAA/d,QAAI,IAAIwB,MAAOsB,cAAc3C,MAAM,KAAK,GAAE,SACnFme,EAAKpU,MAAMsX,WAAa,SACxB9L,SAAS8I,KAAKC,YAAYH,GAC1BA,EAAKzI,QACLH,SAAS8I,KAAKE,YAAYJ,IA+PC6E,CAAY1G,EAAgBE,GAC3C/W,SAAUiX,GAAuC,IAAvBF,EAAY1b,OACtCyD,UAAU,uKAAsKC,SAAA,EAEhLI,EAAAA,EAAAA,KAACqe,GAAAA,EAAQ,CAAC1e,UAAU,iBAAiB,UAIvCD,EAAAA,EAAAA,MAAA,UACEsB,QAASA,IApQFsd,EAACtF,EAAUoD,KAC9B,IAAKA,GAA0B,IAAjBA,EAAMlgB,OAElB,YADAoV,MAAM,2BAIR,MAAM+K,EAAcC,KAAKC,UAAUH,EAAO,KAAM,GAC1C/C,EAAO,IAAImD,KAAK,CAACH,GAAc,CAAEvhB,KAAM,oCACvCye,EAAO5I,SAASC,cAAc,KAC9BhT,EAAMyH,IAAIC,gBAAgB+T,GAChCE,EAAK1I,aAAa,OAAQjT,GAC1B2b,EAAK1I,aAAa,WAAW,GAAD5V,OAAK+d,EAAQ,KAAA/d,QAAI,IAAIwB,MAAOsB,cAAc3C,MAAM,KAAK,GAAE,UACnFme,EAAKpU,MAAMsX,WAAa,SACxB9L,SAAS8I,KAAKC,YAAYH,GAC1BA,EAAKzI,QACLH,SAAS8I,KAAKE,YAAYJ,IAqPC+E,CAAa5G,EAAgBE,GAC5C/W,SAAUiX,GAAuC,IAAvBF,EAAY1b,OACtCyD,UAAU,2KAA0KC,SAAA,EAEpLI,EAAAA,EAAAA,KAACqe,GAAAA,EAAQ,CAAC1e,UAAU,iBAAiB,gBAM1C3E,IACCgF,EAAAA,EAAAA,KAAA,OAAKL,UAAU,2FAA0FC,UACvGF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0BAAyBC,SAAA,EACtCI,EAAAA,EAAAA,KAACC,GAAAA,EAAW,CAACN,UAAU,0BACvBK,EAAAA,EAAAA,KAAA,QAAAJ,SAAO5E,SAKZ8c,GACCpY,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wCAAuCC,SAAA,EACpDI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,mEACfK,EAAAA,EAAAA,KAAA,QAAML,UAAU,qBAAoBC,SAAC,4BAGvCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kBAAiBC,SAAA,CAC7BgY,EAAY1b,OAAS,GACpBwD,EAAAA,EAAAA,MAAA,SAAOC,UAAU,sCAAqCC,SAAA,EACpDI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,iBAAgBC,UAC/BI,EAAAA,EAAAA,KAAA,MAAAJ,SACG+G,OAAOC,KAAKgR,EAAY,IAAI1c,KAAK+hB,IAChCjd,EAAAA,EAAAA,KAAA,MAEEL,UAAU,iFAAgFC,SAEzFqd,GAHIA,UAQbjd,EAAAA,EAAAA,KAAA,SAAOL,UAAU,0CAAyCC,SACvDgY,EAAY2G,MAAM,EAAG,KAAKrjB,KAAI,CAAC8hB,EAAKxe,KACnCwB,EAAAA,EAAAA,KAAA,MAAgBL,UAAU,yCAAwCC,SAC/D+G,OAAOqV,OAAOgB,GAAK9hB,KAAI,CAAC2J,EAAO2Z,KAC9Bxe,EAAAA,EAAAA,KAAA,MAEEL,UAAU,sEACV0G,MAAwB,kBAAVxB,GAAsBA,EAAM3I,OAAS,GAAK2I,EAAQ,GAAGjF,SAEjD,kBAAViF,GAAsBA,EAAM3I,OAAS,GAAE,GAAAjB,OACxC4J,EAAM/H,UAAU,EAAG,IAAG,OACzB+H,GAAS,KANR2Z,MAHFhgB,WAiBfkB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kCAAiCC,SAAA,EAC9CI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,sFAAqFC,UAClGI,EAAAA,EAAAA,KAACsY,GAAAA,EAAQ,CAAC3Y,UAAU,6BAEtBK,EAAAA,EAAAA,KAAA,KAAAJ,SAAG,2CAINgY,EAAY1b,OAAS,MACpBwD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uEAAsEC,SAAA,CAAC,2CAC3CgY,EAAY1b,OAAO,iFC3hC9E,IAAIuiB,GAAmB,KACnBC,GAAwB,KACxBC,GAAgB,KAEpB,IACEF,GAAmBG,EAAAA,MAAAA,CACrB,CAAE,MAAOrY,IACPvI,QAAQwd,KAAK,sCAAoCjV,GACnD,CAEA,IACEmY,GAAwBE,EAAAA,MAAAA,CAC1B,CAAE,MAAOrY,IACPvI,QAAQwd,KAAK,2CAAyCjV,GACxD,CAEA,IACEoY,GAAgBC,EAAAA,MAAAA,CAClB,CAAE,MAAOrY,IACPvI,QAAQwd,KAAK,mCAAiCjV,GAChD,CAEA,MAguBA,GAhuBmBsY,KACjB,MAAM,eAAEC,IAAmBC,EAAAA,EAAAA,MAGpBld,EAAiBiM,IAAsB1O,EAAAA,EAAAA,UAAS,OAChD4f,EAAUC,IAAe7f,EAAAA,EAAAA,WAAS,IAClC8f,EAAWC,IAAgB/f,EAAAA,EAAAA,UAAS,OACpCggB,EAAaC,IAAkBjgB,EAAAA,EAAAA,WAAS,IACxC0N,EAAaC,IAAkB3N,EAAAA,EAAAA,WAAS,IACxCkgB,EAAiBC,IAAsBngB,EAAAA,EAAAA,WAAS,IAChDogB,EAAiBC,IAAsBrgB,EAAAA,EAAAA,WAAS,IAChDsgB,EAAgBC,IAAqBvgB,EAAAA,EAAAA,UAAS,OAC9CwgB,EAAYC,IAAiBzgB,EAAAA,EAAAA,WAAS,GAGvCyN,EAA6B,qBAAX3G,QAA0BA,OAAO4Z,YAAcnT,GAGjE,QACJlE,EACA7F,QAASmd,EACT/kB,MAAOglB,EAAY,WACnBrX,EAAU,cACVC,EAAa,aACbC,EAAY,gBACZC,EAAe,gBACfa,EAAe,WACfa,EAAU,aACVK,GACErC,KAEE,wBACJuD,EAAuB,iBACvBO,GACEnB,IA2IE8U,GAAmBA,KACvBnS,GAjEAxB,IAEO,CACLzC,OAAQ,GACR,eAAa,GACb,cAAY,GACZ,sBAAuB,GACvB,+BAA6B,GAC7B,sBAAuB,GACvB,iCAA4B,GAC5B,kBAAmB,GACnB,kBAAmB,GACnB,+CAAgD,GAChD,mBAAoB,GACpB,qBAAwB,GACxB,gCAA8B,GAC9B,sBAAiB,GACjB,sBAAuB,GACvB,uBAAqB,GACrB,qEAAmE,GACnE,6BAA2B,GAC3B,iBAAe,GACf,yBAAuB,GACvB,yCAAuC,GACvC,gDAA2C,GAC3C,6CAAwC,GACxC,iCAA4B,GAC5B,sCAAiC,GACjC,kCAAgC,GAChC,kCAAmC,GACnC,wBAAyB,GACzB,+BAAgC,GAChC,qCAAgC,GAChC,sCAAuC,GACvC,gCAAiC,GACjC,0BAA2B,GAC3B,mBAAsB,GACtB,SAAY,GACZ,UAAa,GACb,MAAS,GACT,iBAAoB,GACpB,WAAc,GACd,OAAU,GACV,YAAe,GACf,OAAU,GACV,IAAO,GACP,OAAU,KACV,eAAkB,GAClB,sBAAyB,GACzB,0BAA6B,GAC7B,kCAAqC,GACrC,qBAAwB,GACxB,8BAAiC,GACjC,oBAAuB,GACvB,OAAU,GACV,qBAAwB,GACxBqE,QAAS,GACTC,gBAAiB,GACjBC,aAAc,GACd8R,UAAWtT,MAwMf,OACElN,EAAAA,EAAAA,MAAA,OAAKC,UAAU,6EAA4EC,SAAA,EAEzFI,EAAAA,EAAAA,KAACmgB,EAAY,CACXtT,SAAUA,EACVC,YAAaA,EACbC,eAAgBA,EAChBlL,gBAAiBA,EACjBmL,eAnViB5D,IAErB2C,EAAwB3C,EAAO,iDAG/B,MAAMgX,EAAiB,CACrBziB,GAAIyL,EAAOzL,GACXkM,OAAQT,EAAOS,OACf,eAAaT,EAAO,gBACpB,cAAYA,EAAO,eACnB,sBAAuBA,EAAO,uBAC9B,+BAA6BA,EAAO,gCACpC,sBAAuBA,EAAO,uBAC9B,iCAA4BA,EAAO,kCACnC,kBAAmBA,EAAO,mBAC1B,kBAAmBA,EAAO,mBAC1B,+CAAgDA,EAAO,gDACvD,mBAAoBA,EAAO,oBAC3B,qBAAwBA,EAA6B,sBAAK,GAC1D,gCAA8BA,EAAO,iCACrC,sBAAiBA,EAAO,uBACxB,sBAAuBA,EAAO,uBAC9B,uBAAqBA,EAAO,wBAC5B,qEAAmEA,EAAO,sEAC1E,6BAA2BA,EAAO,8BAClC,iBAAeA,EAAO,kBACtB,yBAAuBA,EAAO,0BAC9B,yCAAuCA,EAAO,0CAC9C,gDAA2CA,EAAO,iDAClD,6CAAwCA,EAAO,8CAC/C,iCAA4BA,EAAO,kCACnC,sCAAiCA,EAAO,uCACxC,kCAAgCA,EAAO,mCACvC,kCAAmCA,EAAO,mCAC1C,wBAAyBA,EAAO,yBAChC,+BAAgCA,EAAO,gCACvC,qCAAgCA,EAAO,sCACvC,sCAAuCA,EAAO,uCAC9C,gCAAiCA,EAAO,iCACxC,0BAA2BA,EAAO,2BAClC,mBAAsBA,EAA2B,mBACjD,SAAYA,EAAiB,SAC7B,UAAaA,EAAkB,UAC/B,MAASA,EAAc,MACvB,iBAAoBA,EAAyB,iBAC7C,WAAcA,EAAmB,WACjC,OAAUA,EAAe,OACzB,YAAeA,EAAoB,YACnC,OAAUA,EAAe,OACzB,IAAOA,EAAY,IACnB,OAAUA,EAAe,OACzB,eAAkBA,EAAuB,eACzC,sBAAyBA,EAA8B,sBACvD,0BAA6BA,EAAkC,0BAC/D,kCAAqCA,EAA0C,kCAC/E,qBAAwBA,EAA6B,qBACrD,8BAAiCA,EAAsC,8BACvE,oBAAuBA,EAA4B,oBACnD,OAAUA,EAAe,OACzB,qBAAwBA,EAA6B,qBACrD8E,QAAS9E,EAAO8E,QAChBC,gBAAiB/E,EAAO+E,gBACxBC,aAAchF,EAAOgF,aACrB8R,UAAWtT,GAGbkB,EAAmBsS,OAqRjB1gB,EAAAA,EAAAA,MAAA,QAAMC,UAAU,6CAA4CC,SAAA,EAE1DI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,OAAMC,UACnBI,EAAAA,EAAAA,KAAA,MAAIL,UAAU,mHAAkHC,SAAC,qCAMnII,EAAAA,EAAAA,KAACqgB,EAAY,CACX1X,WAAYA,EACZC,cAAeA,EACfC,aAAcA,EACdC,gBAAiBA,EACjB+E,aAAcoS,KAIfF,IACC/f,EAAAA,EAAAA,KAAA,OAAKL,UAAU,yCAAwCC,UACrDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,cAAaC,SAAA,EAC1BI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,kFACfK,EAAAA,EAAAA,KAAA,OAAKL,UAAU,wBAAuBC,SAAC,+BAM5CogB,IACChgB,EAAAA,EAAAA,KAAA,OAAKL,UAAU,iGAAgGC,UAC7GF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0BAAyBC,SAAA,EACtCI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,uBAAuB2N,KAAK,OAAOC,OAAO,eAAeC,QAAQ,YAAW5N,UACzFI,EAAAA,EAAAA,KAAA,QAAMyN,cAAc,QAAQC,eAAe,QAAQC,YAAa,EAAGC,EAAE,yDAEvElO,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,MAAIL,UAAU,gBAAeC,SAAC,8BAC9BI,EAAAA,EAAAA,KAAA,KAAGL,UAAU,eAAcC,SAAEogB,YAOpCne,GAA8C,kBAApBA,QAA4D1F,IAA3B0F,EAAgBgI,SAC1EnK,EAAAA,EAAAA,MAAA,OAAKC,UAAU,+IAA8IC,SAAA,EAE3JF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uDAAsDC,SAAA,EACnEF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,MAAIL,UAAU,uDAAsDC,SACnEiC,EAAgBlE,GAAK,gBAAkB,gBAEvCkE,EAAgBgI,SACf7J,EAAAA,EAAAA,KAAA,KAAGL,UAAU,wBAAuBC,SAAEiC,EAAgBgI,aAG1DnK,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0BAAyBC,SAAA,EAEtCI,EAAAA,EAAAA,KAAA,UACEgB,QArOSlF,UACvB,GAAK+F,EAAL,CAEAod,GAAY,GACZE,EAAa,MACbE,GAAe,GAEf,IACE,MAAMiB,QAAe9V,EAAW3I,GAE5Bye,EAAO9d,SACT6c,GAAe,GAEfvR,EAAmBwS,EAAO9iB,MAG1B2G,YAAW,KACTkb,GAAe,KACd,MAEHF,EAAamB,EAAOtlB,MAExB,CAAE,MAAOA,GACPmkB,EAAankB,EAAMuC,QACrB,CAAC,QACC0hB,GAAY,EACd,CAzB4B,GAqOdpe,SAAUme,EACVrf,UAAU,iUAAgUC,SAEzUof,GACCtf,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0BAAyBC,SAAA,EACtCI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,8DAAkE,kBAInFD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0BAAyBC,SAAA,EACtCI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,UAAU2N,KAAK,OAAOC,OAAO,eAAeC,QAAQ,YAAW5N,UAC5EI,EAAAA,EAAAA,KAAA,QAAMyN,cAAc,QAAQC,eAAe,QAAQC,YAAa,EAAGC,EAAE,qBACjE,eAOZ5N,EAAAA,EAAAA,KAAA,UACEgB,QAASA,IAAM8M,EAAmB,MAClCnO,UAAU,6FAA4FC,UAEtGI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,UAAU2N,KAAK,OAAOC,OAAO,eAAeC,QAAQ,YAAW5N,UAC5EI,EAAAA,EAAAA,KAAA,QAAMyN,cAAc,QAAQC,eAAe,QAAQC,YAAa,EAAGC,EAAE,mCAO5EwR,IACCpf,EAAAA,EAAAA,KAAA,OAAKL,UAAU,iGAAgGC,UAC7GF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0BAAyBC,SAAA,EACtCI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,yBAAyB2N,KAAK,OAAOC,OAAO,eAAeC,QAAQ,YAAW5N,UAC3FI,EAAAA,EAAAA,KAAA,QAAMyN,cAAc,QAAQC,eAAe,QAAQC,YAAa,EAAGC,EAAE,sBAEvE5N,EAAAA,EAAAA,KAAA,QAAML,UAAU,gBAAeC,SAAC,mCAKrCsf,IACClf,EAAAA,EAAAA,KAAA,OAAKL,UAAU,2FAA0FC,UACvGF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0BAAyBC,SAAA,EACtCI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,uBAAuB2N,KAAK,OAAOC,OAAO,eAAeC,QAAQ,YAAW5N,UACzFI,EAAAA,EAAAA,KAAA,QAAMyN,cAAc,QAAQC,eAAe,QAAQC,YAAa,EAAGC,EAAE,yDAEvElO,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,QAAML,UAAU,gBAAeC,SAAC,qBAChCI,EAAAA,EAAAA,KAAA,KAAGL,UAAU,eAAcC,SAAEsf,aAOrClf,EAAAA,EAAAA,KAAA,OAAKL,UAAU,mFAAkFC,UAC/FI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,wHAAuHC,SACnI6M,EAAWvR,KAAKqlB,IACfvgB,EAAAA,EAAAA,KAAA,UAEElF,KAAK,SACLkG,QAASA,IAAM8M,GAAkBnK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI9B,GAAe,IAAEqe,UAAWK,EAAI5iB,MACvEgC,UAAS,kJAAA1E,QACN4G,EAAgBqe,WAAatT,KAAoC2T,EAAI5iB,GAClE,wDACA,8EACHiC,SAEF2gB,EAAI7T,OATA6T,EAAI5iB,WAgBjBqC,EAAAA,EAAAA,KAAA,OAAKL,UAAU,0FAAyFC,SArR1F4gB,MACtB,MAAMN,GAA2B,OAAfre,QAAe,IAAfA,OAAe,EAAfA,EAAiBqe,YAAatT,EAEhD,OAAQsT,GACN,IAAK,gBACH,OACElgB,EAAAA,EAAAA,KAACygB,EAAe,CACd5e,gBAAiBA,EACjBiM,mBAAoBA,IAI1B,IAAK,gBACH,OACE9N,EAAAA,EAAAA,KAAC0gB,EAAe,CACd7e,gBAAiBA,EACjBiM,mBAAoBA,IAI1B,IAAK,cACH,OACE9N,EAAAA,EAAAA,KAAC2gB,EAAc,CACb9e,gBAAiBA,EACjBiM,mBAAoBA,IAI1B,IAAK,iBACH,OACE9N,EAAAA,EAAAA,KAAC4gB,EAAiB,CAChB/e,gBAAiBA,EACjBiM,mBAAoBA,IAI1B,IAAK,qBACH,OACE9N,EAAAA,EAAAA,KAAC6gB,EAAoB,CACnBhf,gBAAiBA,EACjBiM,mBAAoBA,IAI1B,IAAK,sBACH,OACE9N,EAAAA,EAAAA,KAAC8gB,EAAqB,CACpBjf,gBAAiBA,EACjBiM,mBAAoBA,IAI1B,IAAK,qBACH,OACE9N,EAAAA,EAAAA,KAAC+gB,EAAoB,CACnBlf,gBAAiBA,EACjBiM,mBAAoBA,IAI1B,IAAK,gBACH,OACE9N,EAAAA,EAAAA,KAACghB,EAAe,CACdnf,gBAAiBA,EACjBiM,mBAAoBA,IAI1B,IAAK,QACH,OACE9N,EAAAA,EAAAA,KAACihB,EAAQ,CACPpf,gBAAiBA,IAIvB,IAAK,YACH,OACE7B,EAAAA,EAAAA,KAACkhB,EAAY,CACXrf,gBAAiBA,EACjBiM,mBAAoBA,IAI1B,IAAK,uBACH,OACE9N,EAAAA,EAAAA,KAACmhB,EAAsB,CACrBtf,gBAAiBA,EACjBiM,mBAAoBA,IAI1B,IAAK,cACH,OACE9N,EAAAA,EAAAA,KAACohB,GAAc,CACbvf,gBAAiBA,EACjBiM,mBAAoBA,IAM1B,IAAK,iBACH,OAAK2Q,IAGEze,EAAAA,EAAAA,KAACye,GAAgB,CAAC5c,gBAAiBA,KAFjC7B,EAAAA,EAAAA,KAAA,OAAKL,UAAU,iCAAgCC,SAAC,kCAI3D,IAAK,sBACH,OAAK8e,IAGE1e,EAAAA,EAAAA,KAAC0e,GAAqB,CAAC7c,gBAAiBA,KAFtC7B,EAAAA,EAAAA,KAAA,OAAKL,UAAU,iCAAgCC,SAAC,kCAI3D,IAAK,aACH,OAAK+e,IAGE3e,EAAAA,EAAAA,KAAC2e,GAAa,CAAC9c,gBAAiBA,KAF9B7B,EAAAA,EAAAA,KAAA,OAAKL,UAAU,iCAAgCC,SAAC,kCAK3D,QACE,OACEF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iCAAgCC,SAAA,CAAC,QACxCsgB,EAAU,+BA2JbM,SAML3e,IAAoBke,IACpB/f,EAAAA,EAAAA,KAAA,OAAKL,UAAU,oBAAmBC,UAChCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mBAAkBC,SAAA,EAC/BI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,sFAAqFC,UAClGF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0BAA0B2N,KAAK,OAAOC,OAAO,eAAeC,QAAQ,YAAW5N,SAAA,EAC5FI,EAAAA,EAAAA,KAAA,QAAMyN,cAAc,QAAQC,eAAe,QAAQC,YAAa,EAAGC,EAAE,6DACrE5N,EAAAA,EAAAA,KAAA,QAAMyN,cAAc,QAAQC,eAAe,QAAQC,YAAa,EAAGC,EAAE,6DACrE5N,EAAAA,EAAAA,KAAA,QAAMyN,cAAc,QAAQC,eAAe,QAAQC,YAAa,EAAGC,EAAE,6DACrE5N,EAAAA,EAAAA,KAAA,QAAMyN,cAAc,QAAQC,eAAe,QAAQC,YAAa,EAAGC,EAAE,6DACrE5N,EAAAA,EAAAA,KAAA,QAAMyN,cAAc,QAAQC,eAAe,QAAQC,YAAa,EAAGC,EAAE,6DACrE5N,EAAAA,EAAAA,KAAA,QAAMyN,cAAc,QAAQC,eAAe,QAAQC,YAAa,EAAGC,EAAE,6DACrE5N,EAAAA,EAAAA,KAAA,QAAMyN,cAAc,QAAQC,eAAe,QAAQC,YAAa,EAAGC,EAAE,kEAGzE5N,EAAAA,EAAAA,KAAA,MAAIL,UAAU,2CAA0CC,SAAC,sCAGzDI,EAAAA,EAAAA,KAAA,KAAGL,UAAU,qBAAoBC,SAAC,+GAGlCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBI,EAAAA,EAAAA,KAAA,UACEgB,QAASif,GACTtgB,UAAU,wRAAuRC,UAEjSF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yCAAwCC,SAAA,EACrDI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,UAAU2N,KAAK,OAAOC,OAAO,eAAeC,QAAQ,YAAW5N,UAC5EI,EAAAA,EAAAA,KAAA,QAAMyN,cAAc,QAAQC,eAAe,QAAQC,YAAa,EAAGC,EAAE,iCACjE,0BAKV5N,EAAAA,EAAAA,KAAA,UACEgB,QAASA,IAAMue,GAAmB,GAClC5f,UAAU,mRAAkRC,UAE5RF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yCAAwCC,SAAA,EACrDI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,UAAU2N,KAAK,OAAOC,OAAO,eAAeC,QAAQ,YAAW5N,UAC5EI,EAAAA,EAAAA,KAAA,QAAMyN,cAAc,QAAQC,eAAe,QAAQC,YAAa,EAAGC,EAAE,qEACjE,iCAKV5N,EAAAA,EAAAA,KAAA,UACEgB,QAASA,IAAMye,GAAmB,GAClC9f,UAAU,8QAA6QC,UAEvRF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yCAAwCC,SAAA,EACrDI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,UAAU2N,KAAK,OAAOC,OAAO,eAAeC,QAAQ,YAAW5N,UAC5EI,EAAAA,EAAAA,KAAA,QAAMyN,cAAc,QAAQC,eAAe,QAAQC,YAAa,EAAGC,EAAE,mIACjE,8BAUjB0R,IACCtf,EAAAA,EAAAA,KAAA,OAAKL,UAAU,uFAAsFC,UACnGF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,+IAA8IC,SAAA,EAE3JF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kFAAiFC,SAAA,EAC9FF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0BAAyBC,SAAA,EACtCI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,6BAA4BC,UACzCI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,qBAAqB2N,KAAK,OAAOC,OAAO,eAAeC,QAAQ,YAAW5N,UACvFI,EAAAA,EAAAA,KAAA,QAAMyN,cAAc,QAAQC,eAAe,QAAQC,YAAa,EAAGC,EAAE,wEAGzElO,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,MAAIL,UAAU,sCAAqCC,SAAC,8BACpDI,EAAAA,EAAAA,KAAA,KAAGL,UAAU,wBAAuBC,SAAC,mDAGzCI,EAAAA,EAAAA,KAAA,UACEgB,QAASA,IAAMue,GAAmB,GAClC5f,UAAU,uFAAsFC,UAEhGI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,UAAU2N,KAAK,OAAOC,OAAO,eAAeC,QAAQ,YAAW5N,UAC5EI,EAAAA,EAAAA,KAAA,QAAMyN,cAAc,QAAQC,eAAe,QAAQC,YAAa,EAAGC,EAAE,iCAM3E5N,EAAAA,EAAAA,KAAA,OAAKL,UAAU,6BAA4BC,UACzCI,EAAAA,EAAAA,KAACsX,GAAmB,WAO3BkI,IACCxf,EAAAA,EAAAA,KAAA,OAAKL,UAAU,uFAAsFC,UACnGF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mGAAkGC,SAAA,EAE/GF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oEAAmEC,SAAA,EAChFF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0BAAyBC,SAAA,EACtCI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,4BAA2BC,UACxCI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,qBAAqB2N,KAAK,OAAOC,OAAO,eAAeC,QAAQ,YAAW5N,UACvFI,EAAAA,EAAAA,KAAA,QAAMyN,cAAc,QAAQC,eAAe,QAAQC,YAAa,EAAGC,EAAE,sIAGzElO,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEI,EAAAA,EAAAA,KAAA,MAAIL,UAAU,sCAAqCC,SAAC,oBACpDI,EAAAA,EAAAA,KAAA,KAAGL,UAAU,wBAAuBC,SAAC,6CAGzCI,EAAAA,EAAAA,KAAA,UACEgB,QAASA,IAAMye,GAAmB,GAClC9f,UAAU,uFAAsFC,UAEhGI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,UAAU2N,KAAK,OAAOC,OAAO,eAAeC,QAAQ,YAAW5N,UAC5EI,EAAAA,EAAAA,KAAA,QAAMyN,cAAc,QAAQC,eAAe,QAAQC,YAAa,EAAGC,EAAE,iCAM3E5N,EAAAA,EAAAA,KAAA,OAAKL,UAAU,MAAKC,SAChB8f,GAkCAhgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wDAAuDC,SAAA,EACpEF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,+BAA8BC,SAAA,EAC3CI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,uBAAuB2N,KAAK,OAAOC,OAAO,eAAeC,QAAQ,YAAW5N,UACzFI,EAAAA,EAAAA,KAAA,QAAMyN,cAAc,QAAQC,eAAe,QAAQC,YAAa,EAAGC,EAAE,iJAEvE5N,EAAAA,EAAAA,KAAA,MAAIL,UAAU,6BAA4BC,SAAC,gCAE7CF,EAAAA,EAAAA,MAAA,KAAGC,UAAU,uBAAsBC,SAAA,CAAC,+CACGF,EAAAA,EAAAA,MAAA,UAAAE,SAAA,CAAQ,IAAE8f,EAAe7V,OAAO,OAAU,QAAInK,EAAAA,EAAAA,MAAA,UAAAE,SAAA,CAAQ,IAAE8f,EAAe,gBAAa,OAAU,QAErI1f,EAAAA,EAAAA,KAAA,KAAGL,UAAU,4BAA2BC,SAAC,6GAK3CF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACzBI,EAAAA,EAAAA,KAAA,UACEgB,QAASA,IAAM2e,EAAkB,MACjChgB,UAAU,4FAA2FC,SACtG,cAGXI,EAAAA,EAAAA,KAAA,UACYgB,QA1gBSlF,UAC7B,GAAK4jB,EAAL,CAEAG,GAAc,GACd,IACE,MAAMS,QAAezV,EAAa6U,EAAe/hB,IAE7C2iB,EAAO9d,SACTid,GAAmB,GACnBE,EAAkB,OAEC,OAAf9d,QAAe,IAAfA,OAAe,EAAfA,EAAiBlE,MAAO+hB,EAAe/hB,IACzCmQ,EAAmB,OAGrB9P,QAAQhD,MAAM,0BAA2BslB,EAAOtlB,MAEpD,CAAE,MAAOA,GACPgD,QAAQhD,MAAM,0BAA2BA,EAC3C,CAAC,QACC6kB,GAAc,EAChB,CApB2B,GA0gBPhf,SAAU+e,EACVjgB,UAAU,kMAAiMC,SAE1MggB,GACClgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yCAAwCC,SAAA,EACrDI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,8DAAkE,mBAInFD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yCAAwCC,SAAA,EACrDI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,UAAU2N,KAAK,OAAOC,OAAO,eAAeC,QAAQ,YAAW5N,UAC5EI,EAAAA,EAAAA,KAAA,QAAMyN,cAAc,QAAQC,eAAe,QAAQC,YAAa,EAAGC,EAAE,mIACjE,sCAtEhBlO,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBI,EAAAA,EAAAA,KAAA,KAAGL,UAAU,qBAAoBC,SAAC,iDAGlCI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,qCAAoCC,SAChD+J,EAAgBzO,KAAIkO,IACnBpJ,EAAAA,EAAAA,KAAA,UAEEgB,QAASA,IAAM2e,EAAkBvW,GACjCzJ,UAAU,qKAAoKC,UAE9KF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mCAAkCC,SAAA,EAC/CF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBC,SAAA,EAC7BI,EAAAA,EAAAA,KAAA,MAAIL,UAAU,qCAAoCC,SAC/CwJ,EAAOS,SAETT,EAAO,kBACNpJ,EAAAA,EAAAA,KAAA,KAAGL,UAAU,sCAAqCC,SAC/CwJ,EAAO,sBAIdpJ,EAAAA,EAAAA,KAAA,OAAKL,UAAU,qBAAoBC,UACjCI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,wBAAwB2N,KAAK,OAAOC,OAAO,eAAeC,QAAQ,YAAW5N,UAC1FI,EAAAA,EAAAA,KAAA,QAAMyN,cAAc,QAAQC,eAAe,QAAQC,YAAa,EAAGC,EAAE,yBAjBtExE,EAAOzL,wB,2JC3rB/B,MAAM0jB,EAAwBvlB,UACnC,MAAM,KAAE0B,EAAI,MAAExC,SAAgBiC,EAAAA,EAC3BE,KAAK,uBACLyN,OAAO,CAAC0W,IACRtY,SACAuY,SACH,GAAIvmB,EAAO,MAAMA,EACjB,OAAOwC,G,aCYT,MAqjBA,EArjBoCsB,IAAmC,IAAlC,SAAE/C,EAAQ,eAAEoG,GAAgBrD,EAC/D,MAAOQ,EAAeC,IAAoBH,EAAAA,EAAAA,UAAS,KAC5CgD,EAAWC,IAAgBjD,EAAAA,EAAAA,WAAS,IACpCkD,EAAgBC,IAAqBnD,EAAAA,EAAAA,UAAS,IAC9CpE,EAAOqE,IAAYD,EAAAA,EAAAA,UAAS,KAC5BoD,EAASC,IAAcrD,EAAAA,EAAAA,UAAS,KAChCsD,EAAgBC,IAAqBvD,EAAAA,EAAAA,UAAS,KAC9CwD,EAASC,IAAczD,EAAAA,EAAAA,WAAS,IAEhC0D,EAAcC,IAAmB3D,EAAAA,EAAAA,UAAS,OAC1C4D,EAAoBC,IAAyB7D,EAAAA,EAAAA,UAAS,KACtDlB,EAAQsjB,IAAapiB,EAAAA,EAAAA,UAAS,cAC9B6L,EAAQwW,IAAariB,EAAAA,EAAAA,UAAS,IAG/B8D,GAAsBC,EAAAA,EAAAA,cAAYrH,UACtC,GAAKC,EAEL,IACE8G,GAAW,GACX,MAAMO,QAAehF,EAAAA,EAAAA,IAAgBrC,EAAU,uBAC/C4G,EAAkBS,EAGpB,CAAE,MAAO5B,GACPxD,QAAQhD,MAAM,0CAA2CwG,GACzDnC,EAAS,2CACX,CAAC,QACCwD,GAAW,EACb,IACC,CAAC9G,KAEJsH,EAAAA,EAAAA,YAAU,KACRH,MACC,CAACA,KAGJG,EAAAA,EAAAA,YAAU,KACJtH,IACFiC,QAAQkE,IAAI,iEACZoB,EAAAA,EAAAA,SAED,CAACvH,KAGJsH,EAAAA,EAAAA,YAAU,KACcvH,WACpB,IAAK4G,EAAexG,OAAQ,OAC5B8B,QAAQkE,IAAI,yBAA0BQ,EAAexG,OAAQ,0BAC7D,MAAMqH,EAAc,CAAC,EACrB,IAAK,MAAMC,KAAOd,EAAgB,CAChC1E,QAAQkE,IAAI,6CAA8CsB,EAAI5F,KAC9D,MAAM6F,QAAgBC,EAAAA,EAAAA,IAAqBF,EAAI5F,IAAK7B,EAAU,aAC9DiC,QAAQkE,IAAI,qCAAsCuB,GAClDF,EAAYC,EAAI5F,KAAO6F,CACzB,CACAd,GAAkB/B,GAAQA,EAAK1F,KAAIsI,IAAGG,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACjCH,GAAG,IACNI,YAAaL,EAAYC,EAAI5F,MAAQ,CACnC6F,QAAS,GACTI,oBAAqB,GACrBC,WAAY,GACZC,UAAW,GACXC,UAAW,gBAIjBC,KAEC,CAACvB,EAAexG,OAAQH,KAG3BsH,EAAAA,EAAAA,YAAU,KACR,GAAIrI,GAASwH,EAAS,CACpB,MAAM0B,EAAQC,YAAW,KACvB9E,EAAS,IACToD,EAAW,MACV,KACH,MAAO,IAAM2B,aAAaF,EAC5B,IACC,CAAClJ,EAAOwH,IAGX,MA0BM6B,GAAalB,EAAAA,EAAAA,cAAa7C,IAC9BA,EAAMgE,iBACN,MAAMhG,EAAQ+B,MAAMlD,KAAKmD,EAAMiE,aAAajG,OAE5C,GAAqB,IAAjBA,EAAMpC,OAAc,OAGxB,MAAMsI,EAAalG,EAAMmC,QAAO9F,GAAQA,EAAKG,KAAK2J,WAAW,YACzDD,EAAWtI,OAAS,IACtBqD,GAAiBqB,GAAQ,IAAIA,KAAS4D,KACtCnF,EAAS,OAEV,IAEGqF,GAAiBvB,EAAAA,EAAAA,cAAa7C,IAClCA,EAAMgE,mBACL,IA+GGK,EAA2BA,CAACjG,EAASkG,EAAOC,KAChDlC,GAAkB/B,GAAQA,EAAK1F,KAAIsI,GACjCA,EAAI7F,KAAOe,GAAOiF,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACTH,GAAG,IAAEI,aAAWD,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAOH,EAAII,aAAW,IAAE,CAACgB,GAAQC,MACtDrB,OAIFmE,EAAoB7L,UACxBkC,QAAQkE,IAAI,gDACZlE,QAAQkE,IAAI,mBAAoB0D,GAEhC,MAAMa,EAAsBb,EAAMhI,IAC5BgG,EAAcgC,EAAMhC,YAC1B5F,QAAQkE,IAAI,gBAAiBuE,GAC7BzI,QAAQkE,IAAI,oBAAqB0B,GACjC5F,QAAQkE,IAAI,aAAcnG,GAG1B,MAAM2K,GAAgB/C,EAAAA,EAAAA,GAAA,GAAQC,GAGzB8C,EAAiB3C,WAAmD,KAAtC2C,EAAiB3C,UAAUlG,eACrD6I,EAAiB3C,UAI1B4C,OAAOC,KAAKF,GAAkBG,SAAQC,IACN,KAA1BJ,EAAiBI,WACZJ,EAAiBI,MAI5B9I,QAAQkE,IAAI,2BAA4BwE,GAExC,IACE1I,QAAQkE,IAAI,iCACZ,IAAIuB,QAAgBC,EAAAA,EAAAA,IAAqB+C,EAAqB1K,EAAU,aAGxE,GAFAiC,QAAQkE,IAAI,gCAAiCuB,GAEzCA,EAAS,CACXzF,QAAQkE,IAAI,oCACZ,MAAM6E,GAAUpD,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACX+C,GAAgB,IACnBM,YAAY,IAAIvK,MAAOsB,gBAEzBC,QAAQkE,IAAI,gCAA2B6E,GAEvC,MAAME,QAAkBC,EAAAA,EAAAA,IAAkBzD,EAAQ9F,GAAIoJ,GACtD/I,QAAQkE,IAAI,+CAAgD+E,EAC9D,KAAO,CACLjJ,QAAQkE,IAAI,2BACZ,MAAMiF,GAAexD,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,CACnByD,UAAWrL,EACXsL,WAAYZ,GACTC,GAAgB,IACnBY,OAAO,EACPxJ,YAAY,IAAIrB,MAAOsB,cACvBiJ,YAAY,IAAIvK,MAAOsB,cACvBwJ,UAAW,cAEbvJ,QAAQkE,IAAI,2BAA4BiF,GAExC,MAAMK,QAAoBC,EAAAA,EAAAA,IAAeN,GACzCnJ,QAAQkE,IAAI,oCAAqCsF,EACnD,CAGAxJ,QAAQkE,IAAI,sCACZ,IAAIof,OD/SgCxlB,OAAOuL,EAAYD,KAC3D,MAAM,KAAE5J,EAAI,MAAExC,SAAgBiC,EAAAA,EAC3BE,KAAK,uBACL6L,OAAO,KACP2B,GAAG,aAActD,GACjBsD,GAAG,YAAavD,GAChBuD,GAAG,SAAS,GACZ4W,SACH,GAAIvmB,GAAwB,aAAfA,EAAM0mB,KAAqB,MAAM1mB,EAC9C,OAAOwC,GAAQ,MCsSMmkB,CAA2B/b,EAAMnI,UAAW1B,GACzDulB,GACFtjB,QAAQkE,IAAI,yBAA0Bof,QD5TNxlB,OAAO6B,EAAImS,KACjD,MAAM,KAAEtS,EAAI,MAAExC,SAAgBiC,EAAAA,EAC3BE,KAAK,uBACLuN,OAAOoF,GACPnF,GAAG,KAAMhN,GACTqL,SACAuY,SACH,GAAIvmB,EAAO,MAAMA,EACjB,OAAOwC,GCqTKokB,CAAyBN,EAAK3jB,GAAI,CACtCkkB,MAAOnb,EAAiB5C,WACxBkD,YAAY,IAAIvK,MAAOsB,gBAEzBC,QAAQkE,IAAI,sCAEZlE,QAAQkE,IAAI,6CAGdO,EAAW,8BACPN,IACFnE,QAAQkE,IAAI,8BACZC,IAEJ,CAAE,MAAOX,GACPxD,QAAQhD,MAAM,+CACdgD,QAAQhD,MAAM,iBAAkBwG,GAChCxD,QAAQhD,MAAM,oBAAqBwG,EAAIjE,SACvCS,QAAQhD,MAAM,eAAgBwG,EAAIkG,OAClCrI,EAAS,2BAA6BmC,EAAIjE,QAC5C,GAGF,OAAIqF,GAEA5C,EAAAA,EAAAA,KAAA,OAAKL,UAAU,4BAA2BC,UACxCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wCAAuCC,SAAA,EACpDI,EAAAA,EAAAA,KAAA,OAAKL,UAAU,mEACfK,EAAAA,EAAAA,KAAA,QAAML,UAAU,qBAAoBC,SAAC,gDAO3CF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EAExBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oCAAmCC,SAAA,EAChDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0BAAyBC,SAAA,EACtCI,EAAAA,EAAAA,KAAC8hB,EAAAA,EAAI,CAACniB,UAAU,4BAChBK,EAAAA,EAAAA,KAAA,MAAIL,UAAU,sCAAqCC,SAAC,gCAEtDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wBAAuBC,SAAA,CACnC8C,EAAexG,OAAO,iBAK1BlB,IACC0E,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yEAAwEC,SAAA,EACrFI,EAAAA,EAAAA,KAACC,EAAAA,EAAW,CAACN,UAAU,0BACvBK,EAAAA,EAAAA,KAAA,QAAML,UAAU,eAAcC,SAAE5E,OAInCwH,IACC9C,EAAAA,EAAAA,MAAA,OAAKC,UAAU,6EAA4EC,SAAA,EACzFI,EAAAA,EAAAA,KAAC+E,EAAAA,EAAK,CAACpF,UAAU,4BACjBK,EAAAA,EAAAA,KAAA,QAAML,UAAU,iBAAgBC,SAAE4C,QAKtC9C,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EAEtBF,EAAAA,EAAAA,MAAA,OACEC,UAAS,uEAAA1E,OACPmH,EACI,6BACA,0EAEN4C,OAAQX,EACRY,WAAYP,EAAe9E,SAAA,EAE3BI,EAAAA,EAAAA,KAACc,EAAAA,EAAM,CAACnB,UAAU,yCAClBK,EAAAA,EAAAA,KAAA,KAAGL,UAAU,qBAAoBC,SAAC,oEAGlCI,EAAAA,EAAAA,KAAA,KAAGL,UAAU,6BAA4BC,SAAC,qFAI1CF,EAAAA,EAAAA,MAAA,SAAOC,UAAU,4HAA2HC,SAAA,EAC1II,EAAAA,EAAAA,KAAA,SACElF,KAAK,OACLqF,UAAQ,EACRD,OAAO,sDACPE,SAxTYE,IACxB,MAAMhC,EAAQ+B,MAAMlD,KAAKmD,EAAMC,OAAOjC,OACtC,GAAqB,IAAjBA,EAAMpC,OAAc,OAGxB,MAAMsE,EAAalC,EAAMmC,QAAO9F,IAC9B,MAAM+F,EAAc,CAAC,aAAc,YAAa,YAAa,aAAc,aAAa7F,SAASF,EAAKG,MAChG6F,EAAchG,EAAKY,MAAQ,QASjC,OAPKmF,GACHrB,EAAS,YAADpE,OAAaN,EAAKc,KAAI,0EAE3BkF,GACHtB,EAAS,YAADpE,OAAaN,EAAKc,KAAI,iDAGzBiF,GAAeC,KAGpBH,EAAWtE,OAAS,IACtBqD,GAAiBqB,GAAQ,IAAIA,KAASJ,KACtCnB,EAAS,MAoSCM,UAAU,SACVkB,SAAUuB,IACV,4BAMLA,IACC1C,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,6CAA4CC,SAAA,EACzDI,EAAAA,EAAAA,KAAA,QAAAJ,SAAM,mDACNF,EAAAA,EAAAA,MAAA,QAAAE,SAAA,CAAOhD,KAAKsI,MAAM5C,GAAgB,WAEpCtC,EAAAA,EAAAA,KAAA,OAAKL,UAAU,sCAAqCC,UAClDI,EAAAA,EAAAA,KAAA,OACEL,UAAU,4DACVwF,MAAO,CAAE5K,MAAM,GAADU,OAAKqH,EAAc,aAOxChD,EAAcpD,OAAS,IACtBwD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBF,EAAAA,EAAAA,MAAA,MAAIC,UAAU,4BAA2BC,SAAA,CAAC,0BAAwBN,EAAcpD,OAAO,QACvF8D,EAAAA,EAAAA,KAAA,OAAKL,UAAU,wCAAuCC,SACnDN,EAAcpE,KAAI,CAACP,EAAM6D,KACxBkB,EAAAA,EAAAA,MAAA,OAAiBC,UAAU,iBAAgBC,SAAA,EACzCI,EAAAA,EAAAA,KAAA,OACEoF,IAAKC,IAAIC,gBAAgB3K,GACzB4K,IAAK5K,EAAKc,KACVkE,UAAU,gDAEZK,EAAAA,EAAAA,KAAA,UACEgB,QAASA,IAhTDxC,KAC1Be,GAAiBqB,GAAQA,EAAKH,QAAO,CAACQ,EAAGC,IAAMA,IAAM1C,OA+SpBgH,CAAmBhH,GAClCmB,UAAU,qHAAoHC,UAE9HI,EAAAA,EAAAA,KAACmB,EAAAA,EAAC,CAACxB,UAAU,eAEfK,EAAAA,EAAAA,KAAA,KAAGL,UAAU,sCAAqCC,SAAEjF,EAAKc,SAZjD+C,QAgBdwB,EAAAA,EAAAA,KAAA,UACEgB,QArTOlF,UACnB,GAA6B,IAAzBwD,EAAcpD,OAAlB,CAEAmG,GAAa,GACbE,EAAkB,GAClBlD,EAAS,IAET,IACE,MAAMoG,EAAiB,GAEvB,IAAK,IAAIvE,EAAI,EAAGA,EAAI5B,EAAcpD,OAAQgF,IAAK,CAC7C,MAAMvG,EAAO2E,EAAc4B,GACrBwE,GAAaxE,EAAI,GAAK5B,EAAcpD,OAAU,IACpDqG,EAAkBmD,GAElB,MAAMC,QAAsB1H,EAAAA,EAAAA,IAAqBtD,EAAMoB,EAAU,GAAImC,EAAQ+M,GAC7ExF,EAAenE,KAAKqE,SAGd0b,EAAsB,CAC1Bja,UAAWrL,EACXsL,WAAY1B,EAAc/H,IAC1BmkB,aAAcpnB,EAAKc,KACnBomB,MAAO,GACPva,OAAO,GAEX,CAGA3E,GAAkB/B,GAAQ,IAAIA,KAAS6E,KACvClG,EAAiB,IACjBgD,EAAkB,GAClBE,EAAW,GAADxH,OAAIwK,EAAevJ,OAAM,8DAK/BiG,GACFA,GAGJ,CAAE,MAAOX,GACPxD,QAAQhD,MAAM,kBAAmBwG,GACjCnC,EAAS,yBAADpE,OAA0BuG,EAAIjE,SACxC,CAAC,QACC8E,GAAa,GACbE,EAAkB,EACpB,CA9CsC,GAqT1B1B,SAAUuB,EACVzC,UAAU,kHAAiHC,SAE1HwC,EAAY,oBAAsB,uBAIrC,KAIPM,EAAexG,OAAS,IACvBwD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBF,EAAAA,EAAAA,MAAA,MAAIC,UAAU,4BAA2BC,SAAA,CAAC,4BAA0B8C,EAAexG,OAAO,QAC1F8D,EAAAA,EAAAA,KAAA,OAAKL,UAAU,uDAAsDC,SAClE8C,EAAexH,KAAK0K,IAAK,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OACxBvG,EAAAA,EAAAA,MAAA,OAAoBC,UAAU,uDAAsDC,SAAA,EAElFF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBC,SAAA,EAC/BI,EAAAA,EAAAA,KAAA,OACEoF,IAAKQ,EAAMnI,UACX8H,IAAKK,EAAM5J,WAAa,sBACtB2D,UAAU,8BAIZK,EAAAA,EAAAA,KAAA,OAAKL,UAAU,gIAA+HC,UAC9II,EAAAA,EAAAA,KAAA,OAAKL,UAAU,kEAAiEC,UAC9EI,EAAAA,EAAAA,KAAA,UACEgB,QAASA,IAhSHlF,OAAO4C,EAAS3B,KACxC,GAAKmJ,OAAOC,QAAQ,4DAEpB,UACQ1H,EAAAA,EAAAA,IAAYC,EAAS3B,EAAU,uBAGrC4F,GAAkB/B,GAAQA,EAAKH,QAAO+C,GAAOA,EAAI7F,KAAOe,MAIxD+D,EAAW,gDAGPN,GACFA,GAGJ,CAAE,MAAOX,GACPxD,QAAQhD,MAAM,0BAA2BwG,GACzCnC,EAAS,2BAADpE,OAA4BuG,EAAIjE,SAC1C,GA2QiC6I,CAAkBR,EAAMjI,GAAIiI,EAAMhI,KACjD+B,UAAU,0DACV0G,MAAM,iBAAgBzG,UAEtBI,EAAAA,EAAAA,KAACsG,EAAAA,EAAM,CAAC3G,UAAU,sBAOxBD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,gBAAeC,SAAA,EAC5BI,EAAAA,EAAAA,KAAA,SAAOL,UAAU,+CAA8CC,SAAC,aAGhEI,EAAAA,EAAAA,KAAA,SACElF,KAAK,OACL6E,UAAU,8FACVkF,OAAwB,QAAjBgB,EAAAD,EAAMhC,mBAAW,IAAAiC,OAAA,EAAjBA,EAAmBpC,UAAW,GACrCrD,SAAUmG,GAAK5B,EAAyBiB,EAAMjI,GAAI,UAAW4I,EAAEhG,OAAOsE,OACtE2B,YAAY,mCAEdxG,EAAAA,EAAAA,KAAA,SAAOL,UAAU,+CAA8CC,SAAC,+BAGhEI,EAAAA,EAAAA,KAAA,YACEL,UAAU,8FACVkF,OAAwB,QAAjBiB,EAAAF,EAAMhC,mBAAW,IAAAkC,OAAA,EAAjBA,EAAmBjC,sBAAuB,GACjDzD,SAAUmG,GAAK5B,EAAyBiB,EAAMjI,GAAI,sBAAuB4I,EAAEhG,OAAOsE,OAClF2B,YAAY,4CAEdxG,EAAAA,EAAAA,KAAA,SAAOL,UAAU,+CAA8CC,SAAC,mBAGhEI,EAAAA,EAAAA,KAAA,SACElF,KAAK,OACL6E,UAAU,8FACVkF,OAAwB,QAAjBkB,EAAAH,EAAMhC,mBAAW,IAAAmC,OAAA,EAAjBA,EAAmBjC,aAAc,GACxC1D,SAAUmG,GAAK5B,EAAyBiB,EAAMjI,GAAI,aAAc4I,EAAEhG,OAAOsE,OACzE2B,YAAY,0BAEdxG,EAAAA,EAAAA,KAAA,SAAOL,UAAU,+CAA8CC,SAAC,kBAGhEI,EAAAA,EAAAA,KAAA,SACElF,KAAK,OACL6E,UAAU,8FACVkF,OAAwB,QAAjBmB,EAAAJ,EAAMhC,mBAAW,IAAAoC,OAAA,EAAjBA,EAAmBjC,YAAa,GACvC3D,SAAUmG,GAAK5B,EAAyBiB,EAAMjI,GAAI,YAAa4I,EAAEhG,OAAOsE,UAE1E7E,EAAAA,EAAAA,KAAA,SAAOL,UAAU,+CAA8CC,SAAC,eAGhEI,EAAAA,EAAAA,KAAA,SACElF,KAAK,OACL6E,UAAU,8FACVkF,OAAwB,QAAjBoB,EAAAL,EAAMhC,mBAAW,IAAAqC,OAAA,EAAjBA,EAAmBjC,YAAa,GACvC5D,SAAUmG,GAAK5B,EAAyBiB,EAAMjI,GAAI,YAAa4I,EAAEhG,OAAOsE,OACxE2B,YAAY,qCAEdxG,EAAAA,EAAAA,KAAA,OAAKL,UAAU,kBAAiBC,UAC9BF,EAAAA,EAAAA,MAAA,UACEsB,QAASA,IAAM2G,EAAkB/B,GACjCjG,UAAU,oFACV7E,KAAK,SAAQ8E,SAAA,EAEbI,EAAAA,EAAAA,KAAC4H,EAAAA,EAAI,CAACjI,UAAU,YAAY,4BA/E1BiG,EAAMjI,YA0FG,IAA1B+E,EAAexG,SAAiBkG,IAC/B1C,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iCAAgCC,SAAA,EAC7CI,EAAAA,EAAAA,KAAC8hB,EAAAA,EAAI,CAACniB,UAAU,0CAChBK,EAAAA,EAAAA,KAAA,KAAAJ,SAAG,sDACHI,EAAAA,EAAAA,KAAA,KAAGL,UAAU,UAASC,SAAC,mEC1hBjC,EAjC8Bd,IAA0B,IAAzB,gBAAE+C,GAAiB/C,EAChD,MAAM/C,EAA0B,OAAf8F,QAAe,IAAfA,OAAe,EAAfA,EAAiBlE,GAElC,OAAK5B,GASHiE,EAAAA,EAAAA,KAAA,OAAKL,UAAU,YAAWC,UACxBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2DAA0DC,SAAA,EACvEI,EAAAA,EAAAA,KAAA,MAAIL,UAAU,2CAA0CC,SAAC,6BAGzDI,EAAAA,EAAAA,KAAA,KAAGL,UAAU,6BAA4BC,SAAC,uGAI1CI,EAAAA,EAAAA,KAACgiB,EAA2B,CAC1BjmB,SAAUA,EACVoG,eAAgBA,KAEdnE,QAAQkE,IAAI,gDApBlBlC,EAAAA,EAAAA,KAAA,OAAKL,UAAU,sDAAqDC,UAClEI,EAAAA,EAAAA,KAAA,KAAAJ,SAAG,qE,gFCPJ,MAAMoI,EAAkB,CAC7BC,KAAM,OACNM,MAAO,SAGI1I,EAAoB,CAC/BC,IAAK,CACHC,SAAU,SACV5F,cAAe,CAAC,mBAChB8nB,UAAW5nB,KAEb6nB,MAAO,CACLniB,SAAU,QACV5F,cAAe,CAAC,aAAc,YAAa,aAC3C8nB,UAAW,IAEbE,MAAO,CACLpiB,SAAU,SACV5F,cAAe,CAAC,YAAa,aAAc,aAC3C8nB,UAAW,IAIF5Z,EAAa,CACxBvI,IAAK,YACLoiB,MAAO,SACPC,MAAO,SAGIha,EAAexN,GACtBkF,EAAkBC,IAAI3F,cAAcU,SAASF,EAAKG,MAAc,MAChE+E,EAAkBqiB,MAAM/nB,cAAcU,SAASF,EAAKG,MAAc,QAClE+E,EAAkBsiB,MAAMhoB,cAAcU,SAASF,EAAKG,MAAc,QAC/D,KAGIsN,EAAeA,CAACzN,EAAMG,KACjC,MAAMsnB,EAAeviB,EAAkB/E,GACvC,OAAKsnB,EAEAA,EAAajoB,cAAcU,SAASF,EAAKG,MAI1CH,EAAKY,KAAO6mB,EAAariB,SACpB,CAAEhF,SAAS,EAAOC,MAAM,4CAADC,OAA2CmnB,EAAariB,SAAQ,QAAgB,OAGzG,CAAEhF,SAAS,GAPT,CAAEA,SAAS,EAAOC,MAAM,gDAADC,OAAwD,QAATH,EAAiB,MAAiB,UAATA,EAAmB,UAAY,YAH7G,CAAEC,SAAS,EAAOC,MAAO,qCAaxCuB,EAAyB,SAAC5B,GAAuB,IAAjB0nB,EAAMpmB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GACpD,MAAMO,EAAYC,KAAKC,MACjBC,EAASC,KAAKD,SAASE,SAAS,IAAIC,UAAU,EAAG,GACjDtB,EAAYb,EAAKc,KAAKL,MAAM,KAAKM,MACvC,MAAM,GAANT,OAAUonB,GAAMpnB,OAAGuB,EAAS,KAAAvB,OAAI0B,EAAM,KAAA1B,OAAIO,EAC5C,C","sources":["services/escolaImageService.js","components/AddLocationPanel/components/PDFUploadSection.js","components/AdminPanel/tabs/DocumentosTab.js","components/EditEscolaPanel/ImageUploadSection.js","components/AdminPanel/tabs/ImagensEscolaTab.js","services/uploadService.js","components/AdminPanel/hooks/useEscolas.js","components/AdminPanel/utils/modalidadesOptions.js","components/AdminPanel/hooks/useModalidades.js","components/AdminPanel/constants/adminConstants.js","components/AdminPanel/AdminSidebar.js","components/AdminPanel/AdminToolbar.js","components/AdminPanel/tabs/ModalidadesTab.js","components/AdminPanel/tabs/DadosBasicosTab.js","components/AdminPanel/tabs/PovosLinguasTab.js","components/AdminPanel/tabs/InfraestruturaTab.js","components/AdminPanel/tabs/GestaoProfessoresTab.js","components/AdminPanel/tabs/MaterialPedagogicoTab.js","components/AdminPanel/tabs/ProjetosParceriasTab.js","components/AdminPanel/tabs/RedesSociaisTab.js","components/AdminPanel/VideoManager.js","services/videoService.js","components/AdminPanel/tabs/VideoTab.js","components/shared/QuillEditor.js","components/AdminPanel/tabs/RichTextEditor.js","components/AdminPanel/tabs/HistoriasTab.js","components/AdminPanel/tabs/HistoriaProfessoresTab.js","components/AdminPanel/tabs/CoordenadasTab.js","components/AdminPanel/tabs/TabelasIntegraisTab.js","components/AdminPanel/index.js","services/professorImageMetaService.js","components/EditEscolaPanel/ProfessorImageUploadSection.js","components/AdminPanel/tabs/ImagensProfessoresTab.js","config/storage.js"],"sourcesContent":["import { supabase } from '../supabaseClient';\n\n// Configurações para imagens das escolas\nconst ESCOLA_IMAGE_CONFIG = {\n  BUCKET_NAME: 'imagens-das-escolas',\n  MAX_FILE_SIZE: 5 * 1024 * 1024, // 5MB\n  ALLOWED_TYPES: ['image/jpeg', 'image/jpg', 'image/png', 'image/webp', 'image/gif'],\n  MAX_IMAGES_PER_SCHOOL: Infinity, // Sem limite\n  MIN_DIMENSIONS: { width: 200, height: 200 }\n};\n\n// Configurações para imagens dos professores\nconst PROFESSOR_IMAGE_CONFIG = {\n  BUCKET_NAME: 'imagens-professores', // Usando bucket existente\n  MAX_FILE_SIZE: 5 * 1024 * 1024, // 5MB\n  ALLOWED_TYPES: ['image/jpeg', 'image/jpg', 'image/png', 'image/webp', 'image/gif'],\n  MAX_IMAGES_PER_SCHOOL: Infinity, // Sem limite\n  MIN_DIMENSIONS: { width: 200, height: 200 }\n};\n\n/**\n * Valida um arquivo de imagem\n * @param {File} file - Arquivo a ser validado\n * @param {Object} config - Configuração de validação\n * @returns {Object} Resultado da validação\n */\nconst validateImageFile = (file, config) => {\n  // Verificar tipo MIME\n  if (!config.ALLOWED_TYPES.includes(file.type)) {\n    return {\n      isValid: false,\n      error: `Tipo de arquivo não suportado. Use apenas: ${config.ALLOWED_TYPES.map(t => t.split('/')[1].toUpperCase()).join(', ')}`\n    };\n  }\n\n  // Verificar tamanho\n  if (file.size > config.MAX_FILE_SIZE) {\n    return {\n      isValid: false,\n      error: `Arquivo muito grande. Tamanho máximo: ${config.MAX_FILE_SIZE / (1024 * 1024)}MB`\n    };\n  }\n\n  // Verificar extensão\n  const extension = file.name.split('.').pop().toLowerCase();\n  const allowedExtensions = config.ALLOWED_TYPES.map(t => t.split('/')[1]);\n  if (!allowedExtensions.includes(extension)) {\n    return {\n      isValid: false,\n      error: `Extensão não permitida. Use apenas: ${allowedExtensions.join(', ')}`\n    };\n  }\n\n  return { isValid: true };\n};\n\n/**\n * Gera nome único para o arquivo (sem gênero, para imagens de escola)\n * @param {File} file - Arquivo\n * @param {number} escolaId - ID da escola\n * @returns {string} Nome único do arquivo\n */\nconst generateUniqueFileName = (file, escolaId) => {\n  const timestamp = Date.now();\n  const random = Math.random().toString(36).substring(2, 8);\n  const extension = file.name.split('.').pop().toLowerCase();\n  return `${escolaId}_${timestamp}_${random}.${extension}`;\n};\n\n/**\n * Gera nome único para o arquivo, incluindo o gênero\n * @param {File} file - Arquivo\n * @param {number} escolaId - ID da escola\n * @param {string} genero - 'professor' ou 'professora'\n * @returns {string} Nome único do arquivo\n */\nconst generateUniqueFileNameWithGenero = (file, escolaId, genero) => {\n  const timestamp = Date.now();\n  const random = Math.random().toString(36).substring(2, 8);\n  const extension = file.name.split('.').pop().toLowerCase();\n  return `${genero}_${escolaId}_${timestamp}_${random}.${extension}`;\n};\n\n/**\n * Upload de imagem da escola (versão simplificada sem tabela de metadados)\n * @param {File} file - Arquivo de imagem\n * @param {number} escolaId - ID da escola\n * @param {string} descricao - Descrição da imagem\n * @returns {Promise<Object>} Dados da imagem salva\n */\nexport const uploadEscolaImage = async (file, escolaId, descricao = '') => {\n  try {\n    // Validar arquivo\n    const validation = validateImageFile(file, ESCOLA_IMAGE_CONFIG);\n    if (!validation.isValid) {\n      throw new Error(validation.error);\n    }\n\n    // Gerar nome único\n    const fileName = generateUniqueFileName(file, escolaId);\n    const filePath = `${escolaId}/${fileName}`;\n\n    // Upload ao bucket\n    const { error: uploadError } = await supabase.storage\n      .from(ESCOLA_IMAGE_CONFIG.BUCKET_NAME)\n      .upload(filePath, file, {\n        cacheControl: '3600',\n        upsert: false\n      });\n\n    if (uploadError) {\n      throw new Error(`Erro no upload: ${uploadError.message}`);\n    }\n\n    // Obter URL pública\n    const { data: { publicUrl } } = supabase.storage\n      .from(ESCOLA_IMAGE_CONFIG.BUCKET_NAME)\n      .getPublicUrl(filePath);\n\n    return {\n      id: Date.now(), // ID temporário\n      url: filePath,\n      publicUrl,\n      descricao: descricao.trim() || `Imagem da escola ${escolaId}`,\n      created_at: new Date().toISOString()\n    };\n\n  } catch (error) {\n    console.error('Erro no upload da imagem da escola:', error);\n    throw error;\n  }\n};\n\n/**\n * Upload de imagem do professor (com gênero no nome do arquivo)\n * @param {File} file - Arquivo de imagem\n * @param {number} escolaId - ID da escola\n * @param {string} descricao - Descrição da imagem\n * @param {string} genero - 'professor' ou 'professora'\n * @returns {Promise<Object>} Dados da imagem salva\n */\nexport const uploadProfessorImage = async (file, escolaId, descricao = '', genero = 'professor') => {\n  try {\n    // Validar arquivo\n    const validation = validateImageFile(file, PROFESSOR_IMAGE_CONFIG);\n    if (!validation.isValid) {\n      throw new Error(validation.error);\n    }\n\n    // Gerar nome único com gênero\n    const fileName = generateUniqueFileNameWithGenero(file, escolaId, genero);\n    const filePath = `${escolaId}/${fileName}`;\n\n    // Upload ao bucket\n    const { error: uploadError } = await supabase.storage\n      .from(PROFESSOR_IMAGE_CONFIG.BUCKET_NAME)\n      .upload(filePath, file, {\n        cacheControl: '3600',\n        upsert: false\n      });\n\n    if (uploadError) {\n      console.error('Erro detalhado do upload:', uploadError);\n      throw new Error(`Erro no upload: ${uploadError.message}`);\n    }\n\n    // Obter URL pública\n    const { data: { publicUrl } } = supabase.storage\n      .from(PROFESSOR_IMAGE_CONFIG.BUCKET_NAME)\n      .getPublicUrl(filePath);\n\n    // Retornar objeto simulado (sem metadados na tabela)\n    return {\n      id: Date.now(), // ID temporário\n      url: filePath,\n      publicUrl,\n      descricao: descricao.trim() || `Imagem do ${genero} da escola ${escolaId}`,\n      genero,\n      created_at: new Date().toISOString()\n    };\n\n  } catch (error) {\n    console.error('Erro no upload da imagem do professor:', error);\n    throw error;\n  }\n};\n\n/**\n * Buscar imagens da escola (versão simplificada)\n * @param {number} escolaId - ID da escola\n * @param {string} bucketName - Nome do bucket\n * @returns {Promise<Array>} Lista de imagens\n */\nexport const getEscolaImages = async (escolaId, bucketName = ESCOLA_IMAGE_CONFIG.BUCKET_NAME) => {\n  try {\n    // Listar arquivos no bucket para a escola específica\n    const { data: files, error } = await supabase.storage\n      .from(bucketName)\n      .list(`${escolaId}/`);\n\n    if (error) {\n      throw error;\n    }\n\n    if (!files || files.length === 0) {\n      return [];\n    }\n\n    // Criar objetos de imagem com URLs públicas\n    const imagens = files.map((file, index) => {\n      const filePath = `${escolaId}/${file.name}`;\n      const { data: { publicUrl } } = supabase.storage\n        .from(bucketName)\n        .getPublicUrl(filePath);\n\n      return {\n        id: index + 1, // ID temporário\n        url: filePath,\n        publicUrl,\n        descricao: `Imagem ${index + 1}`,\n        created_at: file.created_at || new Date().toISOString()\n      };\n    });\n\n    return imagens;\n\n  } catch (error) {\n    console.error('Erro ao buscar imagens da escola:', error);\n    throw error;\n  }\n};\n\n/**\n * Deletar imagem (versão simplificada)\n * @param {number} imageId - ID da imagem\n * @param {string} filePath - Caminho do arquivo\n * @param {string} bucketName - Nome do bucket\n * @returns {Promise<void>}\n */\nexport const deleteImage = async (imageId, filePath, bucketName) => {\n  try {\n    // Deletar arquivo do storage\n    const { error: storageError } = await supabase.storage\n      .from(bucketName)\n      .remove([filePath]);\n\n    if (storageError) {\n      throw new Error(`Erro ao deletar arquivo: ${storageError.message}`);\n    }\n\n  } catch (error) {\n    console.error('Erro ao deletar imagem:', error);\n    throw error;\n  }\n};\n\n/**\n * Atualizar descrição da imagem (versão simplificada)\n * @param {number} imageId - ID da imagem\n * @param {string} descricao - Nova descrição\n * @returns {Promise<Object>} Imagem atualizada\n */\nexport const updateImageDescription = async (imageId, descricao) => {\n  try {\n    // Como não temos tabela de metadados, retornamos um objeto simulado\n    return {\n      id: imageId,\n      descricao: descricao.trim()\n    };\n\n  } catch (error) {\n    console.error('Erro ao atualizar descrição da imagem:', error);\n    throw error;\n  }\n};\n\n/**\n * Verificar limite de imagens (versão simplificada)\n * @param {number} escolaId - ID da escola\n * @param {string} bucketName - Nome do bucket\n * @returns {Promise<Object>} Informações sobre o limite\n */\nexport const checkImageLimit = async (escolaId, bucketName) => {\n  try {\n    const config = bucketName === PROFESSOR_IMAGE_CONFIG.BUCKET_NAME \n      ? PROFESSOR_IMAGE_CONFIG \n      : ESCOLA_IMAGE_CONFIG;\n\n    // Listar arquivos no bucket para a escola específica\n    const { data: files, error } = await supabase.storage\n      .from(bucketName)\n      .list(`${escolaId}/`);\n\n    if (error) {\n      throw error;\n    }\n\n    const currentCount = files ? files.length : 0;\n\n    return {\n      current: currentCount,\n      limit: config.MAX_IMAGES_PER_SCHOOL,\n      canUpload: currentCount < config.MAX_IMAGES_PER_SCHOOL\n    };\n\n  } catch (error) {\n    console.error('Erro ao verificar limite de imagens:', error);\n    throw error;\n  }\n}; ","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Upload, File, X, AlertCircle } from 'lucide-react';\nimport { uploadPDF } from '../../../services/uploadService';\nimport { FILE_RESTRICTIONS } from '../../../config/storage';\n\nconst PDFUploadSection = ({ onUploadComplete, onRemove, existingUrls = [] }) => {\n  const [isUploading, setIsUploading] = useState(false);\n  const [error, setError] = useState(null);\n  const [selectedFiles, setSelectedFiles] = useState([]);\n  const [previewUrls, setPreviewUrls] = useState(existingUrls);\n\n  const handleFileSelect = async (event) => {\n    const files = Array.from(event.target.files);\n    if (files.length === 0) return;\n\n    // Validate each file\n    const validFiles = files.filter(file => {\n      const isValidType = FILE_RESTRICTIONS.PDF.ALLOWED_TYPES.includes(file.type);\n      const isValidSize = file.size <= FILE_RESTRICTIONS.PDF.MAX_SIZE;\n      return isValidType && isValidSize;\n    });\n\n    if (validFiles.length !== files.length) {\n      setError('Alguns arquivos foram ignorados. Use apenas PDFs até 10MB.');\n    }\n\n    setSelectedFiles(prev => [...prev, ...validFiles]);\n  };\n\n  const handleUpload = async () => {\n    if (selectedFiles.length === 0) return;\n\n    setIsUploading(true);\n    setError(null);\n    const uploadedUrls = [];\n\n    try {\n      for (const file of selectedFiles) {\n        const url = await uploadPDF(file);\n        uploadedUrls.push(url);\n      }\n\n      const allUrls = [...previewUrls, ...uploadedUrls];\n      setPreviewUrls(allUrls);\n      onUploadComplete(allUrls);\n      setSelectedFiles([]);\n    } catch (err) {\n      setError('Erro ao fazer upload dos arquivos. Tente novamente.');\n      console.error('Erro no upload:', err);\n    } finally {\n      setIsUploading(false);\n    }\n  };\n\n  const handleRemove = (index) => {\n    const newUrls = previewUrls.filter((_, i) => i !== index);\n    setPreviewUrls(newUrls);\n    onRemove(newUrls);\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex items-center justify-between\">\n        <label className=\"block font-medium text-gray-800\">\n          Documentos PDF\n          <span className=\"text-sm text-gray-500 ml-2\">\n            (Máx. {FILE_RESTRICTIONS.PDF.MAX_SIZE / (1024 * 1024)}MB cada arquivo)\n          </span>\n        </label>\n        {error && (\n          <div className=\"flex items-center text-red-500 text-sm\">\n            <AlertCircle size={16} className=\"mr-1\" />\n            {error}\n          </div>\n        )}\n      </div>\n\n      {/* File Input */}\n      <div className=\"grid grid-cols-1 gap-4\">\n        <label className=\"cursor-pointer\">\n          <input\n            type=\"file\"\n            accept=\".pdf\"\n            multiple\n            onChange={handleFileSelect}\n            className=\"hidden\"\n            disabled={isUploading}\n          />\n          <div className={`flex items-center justify-center gap-2 border-2 border-dashed rounded-lg p-4 \n            ${isUploading ? 'border-gray-300 bg-gray-50' : 'border-blue-300 hover:border-blue-400 bg-blue-50'}`}>\n            <Upload size={20} className={isUploading ? 'text-gray-400' : 'text-blue-500'} />\n            <span className={isUploading ? 'text-gray-500' : 'text-blue-600'}>\n              {isUploading ? 'Fazendo upload...' : 'Selecionar PDFs'}\n            </span>\n          </div>\n        </label>\n\n        {/* Selected Files Preview */}\n        {selectedFiles.length > 0 && (\n          <div className=\"space-y-2\">\n            <h4 className=\"font-medium text-sm text-gray-700\">Arquivos selecionados:</h4>\n            <div className=\"grid grid-cols-1 gap-2\">\n              {selectedFiles.map((file, index) => (\n                <div key={index} className=\"flex items-center justify-between bg-gray-50 p-2 rounded\">\n                  <div className=\"flex items-center gap-2\">\n                    <File size={16} className=\"text-gray-500\" />\n                    <span className=\"text-sm text-gray-700\">{file.name}</span>\n                  </div>\n                  <button\n                    type=\"button\"\n                    onClick={() => setSelectedFiles(prev => prev.filter((_, i) => i !== index))}\n                    className=\"text-gray-500 hover:text-red-500\"\n                  >\n                    <X size={16} />\n                  </button>\n                </div>\n              ))}\n            </div>\n            <button\n              type=\"button\"\n              onClick={handleUpload}\n              disabled={isUploading}\n              className={`w-full py-2 px-4 rounded-lg text-white font-medium\n                ${isUploading ? 'bg-gray-400' : 'bg-blue-500 hover:bg-blue-600'}`}\n            >\n              {isUploading ? 'Enviando...' : 'Fazer Upload'}\n            </button>\n          </div>\n        )}\n\n        {/* Uploaded Files Preview */}\n        {previewUrls.length > 0 && (\n          <div className=\"space-y-2\">\n            <h4 className=\"font-medium text-sm text-gray-700\">Documentos enviados:</h4>\n            <div className=\"grid grid-cols-1 gap-2\">\n              {previewUrls.map((url, index) => (\n                <div key={index} className=\"flex items-center justify-between bg-gray-50 p-2 rounded\">\n                  <div className=\"flex items-center gap-2\">\n                    <File size={16} className=\"text-gray-500\" />\n                    <a\n                      href={url}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      className=\"text-sm text-blue-600 hover:underline\"\n                    >\n                      Documento {index + 1}\n                    </a>\n                  </div>\n                  <button\n                    type=\"button\"\n                    onClick={() => handleRemove(index)}\n                    className=\"text-gray-500 hover:text-red-500\"\n                  >\n                    <X size={16} />\n                  </button>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nPDFUploadSection.propTypes = {\n  onUploadComplete: PropTypes.func.isRequired,\n  onRemove: PropTypes.func.isRequired,\n  existingUrls: PropTypes.arrayOf(PropTypes.string),\n};\n\nexport default PDFUploadSection; ","import React, { useState } from 'react';\nimport PDFUploadSection from '../../AddLocationPanel/components/PDFUploadSection';\n\nconst DocumentosTab = ({ editingLocation }) => {\n  const escolaId = editingLocation?.id;\n  const [documentos, setDocumentos] = useState(editingLocation?.documentos || []);\n\n  if (!escolaId) {\n    return (\n      <div className=\"flex items-center justify-center h-64 text-gray-500\">\n        <p>Selecione uma escola para gerenciar seus documentos</p>\n      </div>\n    );\n  }\n\n  const handleUploadComplete = (urls) => {\n    setDocumentos(urls);\n    // Aqui você pode salvar os documentos no banco de dados se necessário\n    console.log('Documentos atualizados:', urls);\n  };\n\n  const handleRemove = (urls) => {\n    setDocumentos(urls);\n    // Aqui você pode atualizar o banco de dados se necessário\n    console.log('Documentos após remoção:', urls);\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">\n          Documentos da Escola\n        </h3>\n        <p className=\"text-sm text-gray-600 mb-6\">\n          Faça upload de documentos da escola em formato PDF. Não há limite no número de documentos.\n        </p>\n        \n        <PDFUploadSection \n          onUploadComplete={handleUploadComplete}\n          onRemove={handleRemove}\n          existingUrls={documentos}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default DocumentosTab; ","import React, { useState, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { Upload, X, Image as ImageIcon, Trash2, Edit3, Check, AlertCircle, Save } from 'lucide-react';\nimport { \n  uploadEscolaImage, \n  getEscolaImages, \n  deleteImage, \n  updateImageDescription\n} from '../../services/escolaImageService';\nimport { \n  getLegendaByImageUrl, \n  addLegendaFoto, \n  updateLegendaFoto,\n  testLegendasTable\n} from '../../services/legendasService';\n\nconst ImageUploadSection = ({ escolaId, onImagesUpdate }) => {\n  const [selectedFiles, setSelectedFiles] = useState([]);\n  const [uploading, setUploading] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [existingImages, setExistingImages] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  const [editingImage, setEditingImage] = useState(null);\n  const [editingDescription, setEditingDescription] = useState('');\n\n  // Buscar imagens existentes\n  const fetchExistingImages = useCallback(async () => {\n    if (!escolaId) return;\n    \n    try {\n      setLoading(true);\n      const images = await getEscolaImages(escolaId, 'imagens-das-escolas');\n      setExistingImages(images);\n    } catch (err) {\n      console.error('Erro ao buscar imagens:', err);\n      setError('Erro ao carregar imagens existentes');\n    } finally {\n      setLoading(false);\n    }\n  }, [escolaId]);\n\n  useEffect(() => {\n    fetchExistingImages();\n  }, [fetchExistingImages]);\n\n  // Testar estrutura da tabela quando o componente for carregado\n  useEffect(() => {\n    if (escolaId) {\n      console.log('Testando estrutura da tabela legendas_fotos...');\n      testLegendasTable();\n    }\n  }, [escolaId]);\n\n  // Buscar legendas para as imagens existentes\n  useEffect(() => {\n    const fetchLegendas = async () => {\n      if (!existingImages.length) return;\n      console.log('Buscando legendas para', existingImages.length, 'imagens');\n      const legendasMap = {};\n      for (const img of existingImages) {\n        console.log('Buscando legenda para imagem:', img.url);\n        const legenda = await getLegendaByImageUrl(img.url, escolaId, 'escola');\n        console.log('Legenda encontrada:', legenda);\n        legendasMap[img.url] = legenda;\n      }\n      setExistingImages(prev => prev.map(img => ({\n        ...img,\n        legendaData: legendasMap[img.url] || {\n          legenda: '',\n          descricao_detalhada: '',\n          autor_foto: '',\n          data_foto: '',\n          categoria: 'geral',\n        }\n      })));\n    };\n    fetchLegendas();\n    // eslint-disable-next-line\n  }, [existingImages.length, escolaId]);\n\n  // Limpar mensagens após 5 segundos\n  useEffect(() => {\n    if (error || success) {\n      const timer = setTimeout(() => {\n        setError('');\n        setSuccess('');\n      }, 5000);\n      return () => clearTimeout(timer);\n    }\n  }, [error, success]);\n\n  // Handler para seleção de arquivos\n  const handleFileSelect = (event) => {\n    const files = Array.from(event.target.files);\n    if (files.length === 0) return;\n\n    // Validar arquivos\n    const validFiles = files.filter(file => {\n      const isValidType = ['image/jpeg', 'image/jpg', 'image/png', 'image/webp', 'image/gif'].includes(file.type);\n      const isValidSize = file.size <= 5 * 1024 * 1024; // 5MB\n      \n      if (!isValidType) {\n        setError(`Arquivo \"${file.name}\" não é uma imagem válida. Use apenas JPG, PNG, WEBP ou GIF.`);\n      }\n      if (!isValidSize) {\n        setError(`Arquivo \"${file.name}\" é muito grande. Tamanho máximo: 5MB.`);\n      }\n      \n      return isValidType && isValidSize;\n    });\n\n    if (validFiles.length > 0) {\n      setSelectedFiles(prev => [...prev, ...validFiles]);\n      setError('');\n    }\n  };\n\n  // Handler para drag & drop\n  const handleDrop = useCallback((event) => {\n    event.preventDefault();\n    const files = Array.from(event.dataTransfer.files);\n    \n    if (files.length === 0) return;\n\n    // Filtrar apenas imagens\n    const imageFiles = files.filter(file => file.type.startsWith('image/'));\n    if (imageFiles.length > 0) {\n      setSelectedFiles(prev => [...prev, ...imageFiles]);\n      setError('');\n    }\n  }, []);\n\n  const handleDragOver = useCallback((event) => {\n    event.preventDefault();\n  }, []);\n\n  // Remover arquivo selecionado\n  const removeSelectedFile = (index) => {\n    setSelectedFiles(prev => prev.filter((_, i) => i !== index));\n  };\n\n  // Upload das imagens selecionadas\n  const handleUpload = async () => {\n    if (selectedFiles.length === 0) return;\n\n    setUploading(true);\n    setUploadProgress(0);\n    setError('');\n\n    try {\n      const uploadedImages = [];\n      \n      for (let i = 0; i < selectedFiles.length; i++) {\n        const file = selectedFiles[i];\n        const progress = ((i + 1) / selectedFiles.length) * 100;\n        setUploadProgress(progress);\n\n        const uploadedImage = await uploadEscolaImage(file, escolaId);\n        uploadedImages.push(uploadedImage);\n      }\n\n      // Atualizar lista de imagens\n      setExistingImages(prev => [...prev, ...uploadedImages]);\n      setSelectedFiles([]);\n      setUploadProgress(0);\n      setSuccess(`${uploadedImages.length} imagem(ns) carregada(s) com sucesso!`);\n\n\n\n      // Notificar componente pai\n      if (onImagesUpdate) {\n        onImagesUpdate();\n      }\n\n    } catch (err) {\n      console.error('Erro no upload:', err);\n      setError(`Erro ao fazer upload: ${err.message}`);\n    } finally {\n      setUploading(false);\n      setUploadProgress(0);\n    }\n  };\n\n  // Deletar imagem existente\n  const handleDeleteImage = async (imageId, filePath) => {\n    if (!window.confirm('Tem certeza que deseja excluir esta imagem?')) return;\n\n    try {\n      await deleteImage(imageId, filePath, 'imagens-das-escolas');\n      \n      // Atualizar lista\n      setExistingImages(prev => prev.filter(img => img.id !== imageId));\n      \n\n\n      setSuccess('Imagem excluída com sucesso!');\n\n      // Notificar componente pai\n      if (onImagesUpdate) {\n        onImagesUpdate();\n      }\n\n    } catch (err) {\n      console.error('Erro ao deletar imagem:', err);\n      setError(`Erro ao excluir imagem: ${err.message}`);\n    }\n  };\n\n  // Atualizar descrição da imagem\n  const handleDescriptionChange = async (imageId, novaDescricao) => {\n    if (!novaDescricao.trim()) return;\n\n    try {\n      await updateImageDescription(imageId, novaDescricao);\n      \n      // Atualizar lista\n      setExistingImages(prev => prev.map(img => \n        img.id === imageId \n          ? { ...img, descricao: novaDescricao.trim() }\n          : img\n      ));\n\n      setSuccess('Legenda atualizada com sucesso!');\n\n      // Notificar componente pai\n      if (onImagesUpdate) {\n        onImagesUpdate();\n      }\n\n    } catch (err) {\n      console.error('Erro ao atualizar descrição:', err);\n      setError(`Erro ao atualizar legenda: ${err.message}`);\n    }\n  };\n\n  // Atualizar legenda inline\n  const handleLegendaFieldChange = (imageId, field, value) => {\n    setExistingImages(prev => prev.map(img =>\n      img.id === imageId\n        ? { ...img, legendaData: { ...img.legendaData, [field]: value } }\n        : img\n    ));\n  };\n\n  const handleLegendaSave = async (image) => {\n    console.log('=== DEBUG: Salvando legenda ===');\n    console.log('Imagem completa:', image);\n    \n    const imagem_url_relativa = image.url;\n    const legendaData = image.legendaData;\n    console.log('URL relativa:', imagem_url_relativa);\n    console.log('Dados da legenda:', legendaData);\n    console.log('Escola ID:', escolaId);\n    \n    // Validar e limpar dados da legenda\n    const cleanLegendaData = { ...legendaData };\n    \n    // Tratar campo data_foto - remover se estiver vazio\n    if (!cleanLegendaData.data_foto || cleanLegendaData.data_foto.trim() === '') {\n      delete cleanLegendaData.data_foto;\n    }\n    \n    // Tratar outros campos vazios que podem causar problemas\n    Object.keys(cleanLegendaData).forEach(key => {\n      if (cleanLegendaData[key] === '') {\n        delete cleanLegendaData[key];\n      }\n    });\n    \n    console.log('Dados limpos da legenda:', cleanLegendaData);\n    \n    try {\n      console.log('Buscando legenda existente...');\n      let legenda = await getLegendaByImageUrl(imagem_url_relativa, escolaId, 'escola');\n      console.log('Legenda existente encontrada:', legenda);\n      \n      if (legenda) {\n        console.log('Atualizando legenda existente...');\n        const updateData = {\n          ...cleanLegendaData,\n          updated_at: new Date().toISOString()\n        };\n        console.log('Dados para atualização:', updateData);\n        \n        const resultado = await updateLegendaFoto(legenda.id, updateData);\n        console.log('Legenda atualizada com sucesso:', resultado);\n      } else {\n        console.log('Criando nova legenda...');\n        const novaLegendaData = {\n          escola_id: escolaId,\n          imagem_url: imagem_url_relativa,\n          ...cleanLegendaData,\n          ativo: true,\n          created_at: new Date().toISOString(),\n          updated_at: new Date().toISOString(),\n          tipo_foto: 'escola'\n        };\n        console.log('Dados para nova legenda:', novaLegendaData);\n        \n        const novaLegenda = await addLegendaFoto(novaLegendaData);\n        console.log('Nova legenda criada:', novaLegenda);\n      }\n      \n      setSuccess('Legenda salva com sucesso!');\n      if (onImagesUpdate) {\n        console.log('Chamando onImagesUpdate...');\n        onImagesUpdate();\n      }\n    } catch (err) {\n      console.error('=== ERRO ao salvar legenda ===');\n      console.error('Erro completo:', err);\n      console.error('Mensagem de erro:', err.message);\n      console.error('Stack trace:', err.stack);\n      setError('Erro ao salvar legenda: ' + err.message);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"p-6 bg-gray-50 rounded-lg\">\n        <div className=\"flex items-center justify-center py-8\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n          <span className=\"ml-2 text-gray-600\">Carregando imagens...</span>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <ImageIcon className=\"w-5 h-5 text-blue-600\" />\n          <h3 className=\"text-lg font-semibold text-gray-900\">Imagens da Escola</h3>\n        </div>\n        <div className=\"text-sm text-gray-500\">\n          {existingImages.length} imagens\n        </div>\n      </div>\n\n      {/* Mensagens */}\n      {error && (\n        <div className=\"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg\">\n          <AlertCircle className=\"w-5 h-5 text-red-600\" />\n          <span className=\"text-red-700\">{error}</span>\n        </div>\n      )}\n\n      {success && (\n        <div className=\"flex items-center gap-2 p-3 bg-green-50 border border-green-200 rounded-lg\">\n          <Check className=\"w-5 h-5 text-green-600\" />\n          <span className=\"text-green-700\">{success}</span>\n        </div>\n      )}\n\n      {/* Área de Upload */}\n      <div className=\"space-y-4\">\n          {/* Drag & Drop */}\n          <div\n            className={`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${\n              uploading \n                ? 'border-gray-300 bg-gray-50' \n                : 'border-blue-300 bg-blue-50 hover:border-blue-400 hover:bg-blue-100'\n            }`}\n            onDrop={handleDrop}\n            onDragOver={handleDragOver}\n          >\n            <Upload className=\"w-8 h-8 text-blue-600 mx-auto mb-2\" />\n            <p className=\"text-gray-600 mb-2\">\n              Arraste imagens aqui ou clique para selecionar\n            </p>\n            <p className=\"text-sm text-gray-500 mb-4\">\n              JPG, PNG, WEBP, GIF • Máximo 5MB por arquivo\n            </p>\n            \n            <label className=\"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer transition-colors\">\n              <input\n                type=\"file\"\n                multiple\n                accept=\"image/jpeg,image/jpg,image/png,image/webp,image/gif\"\n                onChange={handleFileSelect}\n                className=\"hidden\"\n                disabled={uploading}\n              />\n              Selecionar Arquivos\n            </label>\n          </div>\n\n          {/* Progress Bar */}\n          {uploading && (\n            <div className=\"space-y-2\">\n              <div className=\"flex justify-between text-sm text-gray-600\">\n                <span>Fazendo upload...</span>\n                <span>{Math.round(uploadProgress)}%</span>\n              </div>\n              <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                <div \n                  className=\"bg-blue-600 h-2 rounded-full transition-all duration-300\"\n                  style={{ width: `${uploadProgress}%` }}\n                ></div>\n              </div>\n            </div>\n          )}\n\n          {/* Arquivos Selecionados */}\n          {selectedFiles.length > 0 && (\n            <div className=\"space-y-3\">\n              <h4 className=\"font-medium text-gray-900\">Arquivos selecionados ({selectedFiles.length})</h4>\n              <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3\">\n                {selectedFiles.map((file, index) => (\n                  <div key={index} className=\"relative group\">\n                    <img\n                      src={URL.createObjectURL(file)}\n                      alt={file.name}\n                      className=\"w-full h-24 object-cover rounded-lg border\"\n                    />\n                    <button\n                      onClick={() => removeSelectedFile(index)}\n                      className=\"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity\"\n                    >\n                      <X className=\"w-3 h-3\" />\n                    </button>\n                    <p className=\"text-xs text-gray-600 mt-1 truncate\">{file.name}</p>\n                  </div>\n                ))}\n              </div>\n              <button\n                onClick={handleUpload}\n                disabled={uploading}\n                className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                {uploading ? 'Fazendo Upload...' : 'Fazer Upload'}\n              </button>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Imagens Existentes */}\n      {existingImages.length > 0 && (\n        <div className=\"space-y-4\">\n          <h4 className=\"font-medium text-gray-900\">Imagens da Escola ({existingImages.length})</h4>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {existingImages.map((image) => (\n              <div key={image.id} className=\"bg-white border rounded-lg overflow-hidden shadow-sm\">\n                {/* Imagem */}\n                <div className=\"relative group\">\n                <img\n                  src={image.publicUrl}\n                  alt={image.descricao || 'Imagem da escola'}\n                    className=\"w-full h-48 object-cover\"\n                />\n                \n                {/* Overlay de ações */}\n                  <div className=\"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center\">\n                  <div className=\"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity\">\n                    <button\n                      onClick={() => handleDeleteImage(image.id, image.url)}\n                      className=\"p-2 bg-red-600 text-white rounded-full hover:bg-red-700\"\n                      title=\"Excluir imagem\"\n                    >\n                      <Trash2 className=\"w-5 h-5\" />\n                    </button>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Campos de legenda integrados com legendas_fotos */}\n                <div className=\"p-4 space-y-2\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Legenda\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    value={image.legendaData?.legenda || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'legenda', e.target.value)}\n                    placeholder=\"Digite a legenda da imagem...\"\n                  />\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Descrição Detalhada\n                  </label>\n                  <textarea\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    value={image.legendaData?.descricao_detalhada || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'descricao_detalhada', e.target.value)}\n                    placeholder=\"Descrição detalhada da imagem...\"\n                  />\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Autor da Foto\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    value={image.legendaData?.autor_foto || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'autor_foto', e.target.value)}\n                    placeholder=\"Nome do fotógrafo\"\n                  />\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Data da Foto\n                  </label>\n                  <input\n                    type=\"date\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    value={image.legendaData?.data_foto || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'data_foto', e.target.value)}\n                  />\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Categoria\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    value={image.legendaData?.categoria || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'categoria', e.target.value)}\n                    placeholder=\"Digite a categoria da imagem...\"\n                  />\n                  <div className=\"flex gap-2 pt-2\">\n                    <button\n                      onClick={() => handleLegendaSave(image)}\n                      className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n                      type=\"button\"\n                    >\n                      <Save className=\"w-5 h-5\" /> Salvar Legenda\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Mensagem quando não há imagens */}\n      {existingImages.length === 0 && !uploading && (\n        <div className=\"text-center py-8 text-gray-500\">\n          <ImageIcon className=\"w-12 h-12 mx-auto mb-2 text-gray-300\" />\n          <p>Nenhuma imagem adicionada ainda.</p>\n          <p className=\"text-sm\">Adicione imagens para mostrar a escola.</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nImageUploadSection.propTypes = {\n  escolaId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  onImagesUpdate: PropTypes.func\n};\n\nexport default ImageUploadSection; ","import React from 'react';\nimport ImageUploadSection from '../../EditEscolaPanel/ImageUploadSection';\n\nconst ImagensEscolaTab = ({ editingLocation }) => {\n  const escolaId = editingLocation?.id;\n\n  if (!escolaId) {\n    return (\n      <div className=\"flex items-center justify-center h-64 text-gray-500\">\n        <p>Selecione uma escola para gerenciar suas imagens</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">\n          Imagens da Escola\n        </h3>\n        <p className=\"text-sm text-gray-600 mb-6\">\n          Faça upload de imagens da escola. Não há limite no número de imagens.\n        </p>\n        \n        <ImageUploadSection \n          escolaId={escolaId}\n          onImagesUpdate={() => {\n            // Callback para atualizar dados se necessário\n            console.log('Imagens da escola atualizadas');\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default ImagensEscolaTab; ","import { supabase } from '../supabaseClient';\nimport { \n  STORAGE_BUCKETS, \n  FILE_PATHS, \n  validateFile, \n  generateUniqueFileName,\n  getFileType \n} from '../config/storage';\n\n/**\n * Uploads a file to the specified bucket\n * @param {File} file - The file to upload\n * @param {string} bucket - The bucket to upload to (defaults to 'pdfs')\n * @returns {Promise<string>} The public URL of the uploaded file\n */\nexport const uploadFile = async (file, bucket = STORAGE_BUCKETS.PDFS) => {\n  try {\n    const fileType = getFileType(file);\n    if (!fileType) {\n      throw new Error('Tipo de arquivo não suportado');\n    }\n\n    const validation = validateFile(file, fileType);\n    if (!validation.isValid) {\n      throw new Error(validation.error);\n    }\n\n    const fileName = generateUniqueFileName(file, `${fileType.toLowerCase()}_`);\n    const filePath = `${FILE_PATHS[fileType]}/${fileName}`;\n\n    const { error: uploadError } = await supabase.storage\n      .from(bucket)\n      .upload(filePath, file, {\n        cacheControl: '3600',\n        upsert: false\n      });\n\n    if (uploadError) {\n      throw uploadError;\n    }\n\n    const { data: { publicUrl } } = supabase.storage\n      .from(bucket)\n      .getPublicUrl(filePath);\n\n    return publicUrl;\n  } catch (error) {\n    console.error('Erro ao fazer upload:', error);\n    throw error;\n  }\n};\n\n/**\n * Uploads a PDF file to the pdfs bucket\n * @param {File} file - The PDF file to upload\n * @returns {Promise<string>} The public URL of the uploaded PDF\n */\nexport const uploadPDF = async (file) => {\n  return uploadFile(file, STORAGE_BUCKETS.PDFS);\n};\n\n/**\n * Uploads an image file to the media bucket\n * @param {File} file - The image file to upload\n * @returns {Promise<string>} The public URL of the uploaded image\n */\nexport const uploadImage = async (file) => {\n  return uploadFile(file, STORAGE_BUCKETS.MEDIA);\n};\n\n/**\n * Uploads an audio file to the media bucket\n * @param {File} file - The audio file to upload\n * @returns {Promise<string>} The public URL of the uploaded audio\n */\nexport const uploadAudio = async (file) => {\n  return uploadFile(file, STORAGE_BUCKETS.MEDIA);\n};\n\n/**\n * Deletes a file from the specified bucket\n * @param {string} filePath - The path of the file to delete\n * @param {string} bucket - The bucket containing the file\n * @returns {Promise<void>}\n */\nexport const deleteFile = async (filePath, bucket = STORAGE_BUCKETS.PDFS) => {\n  try {\n    const { error } = await supabase.storage\n      .from(bucket)\n      .remove([filePath]);\n\n    if (error) {\n      throw error;\n    }\n  } catch (error) {\n    console.error('Erro ao deletar arquivo:', error);\n    throw error;\n  }\n}; ","import { useState, useEffect, useCallback } from 'react';\nimport { supabase } from '../../../supabaseClient';\n\nexport const useEscolas = () => {\n  const [escolas, setEscolas] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedType, setSelectedType] = useState('todos');\n\n  // Buscar todas as escolas\n  const fetchEscolas = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const { data, error } = await supabase\n        .from('escolas_completa')\n        .select('*')\n        .order('Escola', { ascending: true });\n\n      if (error) throw error;\n      \n      // Mapear os dados para usar os nomes originais das colunas\n      const escolasMapeadas = data.map(escola => ({\n        ...escola,\n        // Garantir que os novos campos de endereço existam\n        logradouro: escola.logradouro || '',\n        numero: escola.numero || '',\n        complemento: escola.complemento || '',\n        bairro: escola.bairro || '',\n        cep: escola.cep || '',\n        estado: escola.estado || 'SP'\n      }));\n      \n      setEscolas(escolasMapeadas);\n    } catch (err) {\n      console.error('Erro ao buscar escolas:', err);\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Filtrar escolas baseado no termo de busca\n  const filteredEscolas = useCallback(() => {\n    return escolas.filter(escola => \n      escola.Escola?.toLowerCase().includes(searchTerm.toLowerCase())\n    );\n  }, [escolas, searchTerm]);\n\n  // Atualizar escola na lista local\n  const updateEscolaInList = useCallback((escolaId, updatedData) => {\n    setEscolas(prev => prev.map(escola => \n      escola.id === escolaId ? { ...escola, ...updatedData } : escola\n    ));\n  }, []);\n\n  // Adicionar nova escola à lista\n  const addEscolaToList = useCallback((novaEscola) => {\n    setEscolas(prev => [...prev, novaEscola]);\n  }, []);\n\n  // Remover escola da lista\n  const removeEscolaFromList = useCallback((escolaId) => {\n    setEscolas(prev => prev.filter(escola => escola.id !== escolaId));\n  }, []);\n\n  // Buscar escola por ID\n  const getEscolaById = useCallback((escolaId) => {\n    return escolas.find(escola => escola.id === escolaId);\n  }, [escolas]);\n\n  // Buscar escola por nome\n  const getEscolaByName = useCallback((nome) => {\n    return escolas.find(escola => \n      escola.Escola?.toLowerCase() === nome.toLowerCase()\n    );\n  }, [escolas]);\n\n  // Salvar escola no Supabase\n  const saveEscola = useCallback(async (escolaData) => {\n    try {\n      setError(null);\n      \n      if (escolaData.id) {\n        // Atualizar escola existente\n        const { data, error } = await supabase\n          .from('escolas_completa')\n          .update({\n            'Escola': escolaData.Escola,\n            'Município': escolaData['Município'],\n            'Endereço': escolaData['Endereço'],\n            'Terra Indigena (TI)': escolaData['Terra Indigena (TI)'],\n            'Parcerias com o município': escolaData['Parcerias com o município'],\n            'Diretoria de Ensino': escolaData['Diretoria de Ensino'],\n            'Ano de criação da escola': escolaData['Ano de criação da escola'],\n            'Povos indigenas': escolaData['Povos indigenas'],\n            'Linguas faladas': escolaData['Linguas faladas'],\n            'Modalidade de Ensino/turnos de funcionamento': escolaData['Modalidade de Ensino/turnos de funcionamento'],\n            'Numero de alunos': escolaData['Numero de alunos'],\n            'turnos_funcionamento': escolaData['turnos_funcionamento'],\n            'Espaço escolar e estrutura': escolaData['Espaço escolar e estrutura'],\n            'Acesso à água': escolaData['Acesso à água'],\n            'Tem coleta de lixo?': escolaData['Tem coleta de lixo?'],\n            'Acesso à internet': escolaData['Acesso à internet'],\n            'Equipamentos Tecnológicos (Computadores, tablets e impressoras)': escolaData['Equipamentos Tecnológicos (Computadores, tablets e impressoras)'],\n            'Modo de acesso à escola': escolaData['Modo de acesso à escola'],\n            'Gestão/Nome': escolaData['Gestão/Nome'],\n            'Outros funcionários': escolaData['Outros funcionários'],\n            'Quantidade de professores indígenas': escolaData['Quantidade de professores indígenas'],\n            'Quantidade de professores não indígenas': escolaData['Quantidade de professores não indígenas'],\n            'Professores falam a língua indígena?': escolaData['Professores falam a língua indígena?'],\n            'Formação dos professores': escolaData['Formação dos professores'],\n            'Formação continuada oferecida': escolaData['Formação continuada oferecida'],\n            'A escola possui PPP próprio?': escolaData['A escola possui PPP próprio?'],\n            'PPP elaborado com a comunidade?': escolaData['PPP elaborado com a comunidade?'],\n            'Projetos em andamento': escolaData['Projetos em andamento'],\n            'Parcerias com universidades?': escolaData['Parcerias com universidades?'],\n            'Ações com ONGs ou coletivos?': escolaData['Ações com ONGs ou coletivos?'],\n            'Desejos da comunidade para a escola': escolaData['Desejos da comunidade para a escola'],\n            'Escola utiliza redes sociais?': escolaData['Escola utiliza redes sociais?'],\n            'Links das redes sociais': escolaData['Links das redes sociais'],\n            'historia_da_escola': escolaData['historia_da_escola'],\n            'Latitude': escolaData['Latitude'],\n            'Longitude': escolaData['Longitude'],\n            'historia_do_prof': escolaData['historia_do_prof'],\n            'links': escolaData['links'],\n            'link_para_videos': escolaData['link_para_videos'],\n            'logradouro': escolaData['logradouro'],\n            'numero': escolaData['numero'],\n            'complemento': escolaData['complemento'],\n            'bairro': escolaData['bairro'],\n            'cep': escolaData['cep'],\n            'estado': escolaData['estado'],\n            'nome_professor': escolaData['nome_professor'],\n            'professores_indigenas': escolaData['professores_indigenas'],\n            'professores_nao_indigenas': escolaData['professores_nao_indigenas'],\n            'professores_falam_lingua_indigena': escolaData['professores_falam_lingua_indigena'],\n            'formacao_professores': escolaData['formacao_professores'],\n            'visitas_supervisores_formacao': escolaData['visitas_supervisores_formacao'],\n            'outros_funcionarios': escolaData['outros_funcionarios'],\n            'gestao': escolaData['gestao'],\n            'merenda_diferenciada': escolaData['merenda_diferenciada'],\n            'cozinha': escolaData['cozinha'],\n            'merenda_escolar': escolaData['merenda_escolar'],\n            'diferenciada': escolaData['diferenciada']\n          })\n          .eq('id', escolaData.id)\n          .select();\n\n        if (error) throw error;\n        \n        // Atualizar na lista local\n        updateEscolaInList(escolaData.id, data[0]);\n        return { success: true, data: data[0] };\n      } else {\n        // Criar nova escola\n        const { data, error } = await supabase\n          .from('escolas_completa')\n          .insert({\n            'Escola': escolaData.Escola,\n            'Município': escolaData['Município'],\n            'Endereço': escolaData['Endereço'],\n            'Terra Indigena (TI)': escolaData['Terra Indigena (TI)'],\n            'Parcerias com o município': escolaData['Parcerias com o município'],\n            'Diretoria de Ensino': escolaData['Diretoria de Ensino'],\n            'Ano de criação da escola': escolaData['Ano de criação da escola'],\n            'Povos indigenas': escolaData['Povos indigenas'],\n            'Linguas faladas': escolaData['Linguas faladas'],\n            'Modalidade de Ensino/turnos de funcionamento': escolaData['Modalidade de Ensino/turnos de funcionamento'],\n            'Numero de alunos': escolaData['Numero de alunos'],\n            'turnos_funcionamento': escolaData['turnos_funcionamento'],\n            'Espaço escolar e estrutura': escolaData['Espaço escolar e estrutura'],\n            'Acesso à água': escolaData['Acesso à água'],\n            'Tem coleta de lixo?': escolaData['Tem coleta de lixo?'],\n            'Acesso à internet': escolaData['Acesso à internet'],\n            'Equipamentos Tecnológicos (Computadores, tablets e impressoras)': escolaData['Equipamentos Tecnológicos (Computadores, tablets e impressoras)'],\n            'Modo de acesso à escola': escolaData['Modo de acesso à escola'],\n            'Gestão/Nome': escolaData['Gestão/Nome'],\n            'Outros funcionários': escolaData['Outros funcionários'],\n            'Quantidade de professores indígenas': escolaData['Quantidade de professores indígenas'],\n            'Quantidade de professores não indígenas': escolaData['Quantidade de professores não indígenas'],\n            'Professores falam a língua indígena?': escolaData['Professores falam a língua indígena?'],\n            'Formação dos professores': escolaData['Formação dos professores'],\n            'Formação continuada oferecida': escolaData['Formação continuada oferecida'],\n            'A escola possui PPP próprio?': escolaData['A escola possui PPP próprio?'],\n            'PPP elaborado com a comunidade?': escolaData['PPP elaborado com a comunidade?'],\n            'Projetos em andamento': escolaData['Projetos em andamento'],\n            'Parcerias com universidades?': escolaData['Parcerias com universidades?'],\n            'Ações com ONGs ou coletivos?': escolaData['Ações com ONGs ou coletivos?'],\n            'Desejos da comunidade para a escola': escolaData['Desejos da comunidade para a escola'],\n            'Escola utiliza redes sociais?': escolaData['Escola utiliza redes sociais?'],\n            'Links das redes sociais': escolaData['Links das redes sociais'],\n            'historia_da_escola': escolaData['historia_da_escola'],\n            'Latitude': escolaData['Latitude'],\n            'Longitude': escolaData['Longitude'],\n            'historia_do_prof': escolaData['historia_do_prof'],\n            'links': escolaData['links'],\n            'link_para_videos': escolaData['link_para_videos'],\n            'logradouro': escolaData['logradouro'],\n            'numero': escolaData['numero'],\n            'complemento': escolaData['complemento'],\n            'bairro': escolaData['bairro'],\n            'cep': escolaData['cep'],\n            'estado': escolaData['estado'],\n            'nome_professor': escolaData['nome_professor'],\n            'professores_indigenas': escolaData['professores_indigenas'],\n            'professores_nao_indigenas': escolaData['professores_nao_indigenas'],\n            'professores_falam_lingua_indigena': escolaData['professores_falam_lingua_indigena'],\n            'formacao_professores': escolaData['formacao_professores'],\n            'visitas_supervisores_formacao': escolaData['visitas_supervisores_formacao'],\n            'outros_funcionarios': escolaData['outros_funcionarios'],\n            'gestao': escolaData['gestao'],\n            'merenda_diferenciada': escolaData['merenda_diferenciada'],\n            'cozinha': escolaData['cozinha'],\n            'merenda_escolar': escolaData['merenda_escolar'],\n            'diferenciada': escolaData['diferenciada']\n          })\n          .select();\n\n        if (error) throw error;\n        \n        // Adicionar à lista local\n        addEscolaToList(data[0]);\n        return { success: true, data: data[0] };\n      }\n    } catch (err) {\n      console.error('Erro ao salvar escola:', err);\n      setError(err.message);\n      return { success: false, error: err.message };\n    }\n  }, [updateEscolaInList, addEscolaToList]);\n\n  // Deletar escola do banco de dados\n  const deleteEscola = useCallback(async (escolaId) => {\n    try {\n      setError(null);\n      \n      const { error } = await supabase\n        .from('escolas_completa')\n        .delete()\n        .eq('id', escolaId);\n\n      if (error) throw error;\n      \n      // Remover da lista local\n      removeEscolaFromList(escolaId);\n      return { success: true };\n    } catch (err) {\n      console.error('Erro ao deletar escola:', err);\n      setError(err.message);\n      return { success: false, error: err.message };\n    }\n  }, [removeEscolaFromList]);\n\n  // Carregar escolas na inicialização\n  useEffect(() => {\n    fetchEscolas();\n  }, [fetchEscolas]);\n\n  return {\n    // Estado\n    escolas,\n    loading,\n    error,\n    searchTerm,\n    selectedType,\n    \n    // Ações\n    setSearchTerm,\n    setSelectedType,\n    fetchEscolas,\n    updateEscolaInList,\n    addEscolaToList,\n    removeEscolaFromList,\n    saveEscola,\n    deleteEscola,\n    \n    // Utilitários\n    filteredEscolas: filteredEscolas(),\n    getEscolaById,\n    getEscolaByName,\n  };\n}; ","// Lista de modalidades de ensino organizadas por categoria\nexport const MODALIDADES_OPTIONS = [\n  // 1. Educação Infantil\n  'Educação Infantil',\n  'Educação Infantil (Idade 0 a 6 anos)',\n  'Educação Infantil (Pré-escola I e II) – 1 sala multisseriada',\n  'Educação Infantil (Pré-escola I) – 1 sala regular',\n  'Educação Infantil + Ensino Fundamental – multisseriado',\n  'Educação Infantil + Ensino Fundamental – regular e multisseriado',\n  \n  // 2. Educação Infantil + Ensino Fundamental\n  'Educação Infantil + Ensino Fundamental',\n  'Educação Infantil + Ensino Fundamental (Anos Iniciais e Anos Finais)',\n  'Educação Infantil + Ensino Fundamental (Anos Iniciais multisseriado + Anos Finais multisseriado)',\n  'Educação Infantil + Ensino Fundamental (1º ao 9º ano) – Salas multisseriadas',\n  'Educação Infantil + Ensino Fundamental (Pré I + 1º ao 4º ano) – 1 sala multisseriada',\n  'Educação Infantil + Ensino Fundamental com EJA – Multisseriado',\n  \n  // 3. Ensino Fundamental - Anos Iniciais\n  'Ensino Fundamental Anos Iniciais (1º ao 3º)',\n  'Ensino Fundamental Anos Iniciais (1º ao 5º ano) – 1 sala multisseriada',\n  'Ensino Fundamental Anos Iniciais (4º e 5º ano) – 1 sala multisseriada',\n  'Ensino Fundamental Anos Iniciais – EJA (1º ao 5º ano) – multisseriado',\n  \n  // 3. Ensino Fundamental - Anos Finais\n  'Ensino Fundamental Anos Finais (6º ao 9º ano) – 1 sala multisseriada',\n  'Ensino Fundamental Anos Finais – EJA (6º ao 9º ano) – multisseriado',\n  \n  // 3. Ensino Fundamental - Ambos\n  'Ensino Fundamental (Anos Iniciais e Finais) – regular e multisseriado',\n  'Ensino Fundamental – Atendimento temporário em escola não indígena',\n  \n  // 4. Ensino Médio\n  'Ensino Médio (1º ao 3º ano) – regular',\n  'Ensino Médio (1º ao 3º ano) – multisseriado',\n  'Ensino Médio – EJA (1º ao 3º ano) – multisseriado',\n  'Ensino Médio – Não há atendimento'\n];\n\n// Categorias para organização visual\nexport const MODALIDADES_CATEGORIAS = [\n  {\n    id: 'educacao-infantil',\n    titulo: '1. Educação Infantil',\n    indices: [0, 1, 2, 3, 4, 5]\n  },\n  {\n    id: 'educacao-infantil-fundamental',\n    titulo: '2. Educação Infantil + Ensino Fundamental',\n    indices: [6, 7, 8, 9, 10, 11, 12]\n  },\n  {\n    id: 'ensino-fundamental',\n    titulo: '3. Ensino Fundamental',\n    indices: [13, 14, 15, 16, 17, 18, 19, 20]\n  },\n  {\n    id: 'ensino-medio',\n    titulo: '4. Ensino Médio',\n    indices: [21, 22, 23, 24]\n  }\n];\n\n// Função para obter modalidades por categoria\nexport const getModalidadesByCategoria = (categoriaId) => {\n  const categoria = MODALIDADES_CATEGORIAS.find(cat => cat.id === categoriaId);\n  if (!categoria) return [];\n  \n  return categoria.indices.map(index => MODALIDADES_OPTIONS[index]);\n};\n\n// Função para validar se uma modalidade existe na lista\nexport const isValidModalidade = (modalidade) => {\n  return MODALIDADES_OPTIONS.includes(modalidade);\n};\n\n// Função para obter categoria de uma modalidade\nexport const getCategoriaByModalidade = (modalidade) => {\n  const index = MODALIDADES_OPTIONS.indexOf(modalidade);\n  if (index === -1) return null;\n  \n  return MODALIDADES_CATEGORIAS.find(cat => \n    cat.indices.includes(index)\n  );\n}; ","import { useState, useCallback } from 'react';\nimport { MODALIDADES_OPTIONS } from '../utils/modalidadesOptions';\n\nexport const useModalidades = () => {\n  const [selectedModalidades, setSelectedModalidades] = useState([]);\n  const [outroModalidade, setOutroModalidade] = useState('');\n\n  // Função para alternar seleção de modalidade\n  const handleModalidadeChange = useCallback((modalidade) => {\n    setSelectedModalidades(prev => {\n      if (prev.includes(modalidade)) {\n        return prev.filter(m => m !== modalidade);\n      } else {\n        return [...prev, modalidade];\n      }\n    });\n  }, []);\n\n  // Função para gerenciar campo \"Outro (especificar)\"\n  const handleOutroModalidadeChange = useCallback((value) => {\n    setOutroModalidade(value);\n    \n    setSelectedModalidades(prev => {\n      const hasOutro = prev.some(m => m.startsWith('Outro:'));\n      \n      if (value.trim()) {\n        if (hasOutro) {\n          return prev.map(m => m.startsWith('Outro:') ? `Outro: ${value}` : m);\n        } else {\n          return [...prev, `Outro: ${value}`];\n        }\n      } else {\n        return prev.filter(m => !m.startsWith('Outro:'));\n      }\n    });\n  }, []);\n\n  // Função para salvar modalidades no editingLocation\n  const saveModalidades = useCallback(() => {\n    const modalidadesText = selectedModalidades.join('; ');\n    return modalidadesText;\n  }, [selectedModalidades]);\n\n  // Função para carregar modalidades existentes\n  const loadExistingModalidades = useCallback((modalidadesText) => {\n    if (!modalidadesText) {\n      setSelectedModalidades([]);\n      setOutroModalidade('');\n      return;\n    }\n\n    const parts = modalidadesText.split(';').map(part => part.trim());\n    const modalidades = [];\n    let outro = '';\n\n    parts.forEach(part => {\n      if (part.startsWith('Outro:')) {\n        outro = part.replace('Outro:', '').trim();\n        modalidades.push(part);\n      } else if (MODALIDADES_OPTIONS.includes(part)) {\n        modalidades.push(part);\n      } else if (part) {\n        // Se não está na lista padrão, tratar como \"outro\"\n        outro = part;\n        modalidades.push(`Outro: ${part}`);\n      }\n    });\n\n    setSelectedModalidades(modalidades);\n    setOutroModalidade(outro);\n  }, []);\n\n  // Função para limpar modalidades\n  const clearModalidades = useCallback(() => {\n    setSelectedModalidades([]);\n    setOutroModalidade('');\n  }, []);\n\n  // Função para obter preview do texto final\n  const getModalidadesPreview = useCallback(() => {\n    return selectedModalidades.join('; ') || 'Nenhuma modalidade selecionada';\n  }, [selectedModalidades]);\n\n  // Função para verificar se há modalidades selecionadas\n  const hasSelectedModalidades = useCallback(() => {\n    return selectedModalidades.length > 0;\n  }, [selectedModalidades]);\n\n  return {\n    // Estado\n    selectedModalidades,\n    outroModalidade,\n    \n    // Ações\n    handleModalidadeChange,\n    handleOutroModalidadeChange,\n    saveModalidades,\n    loadExistingModalidades,\n    clearModalidades,\n    \n    // Utilitários\n    getModalidadesPreview,\n    hasSelectedModalidades,\n  };\n}; ","// Configuração das abas do painel de administração\nexport const ADMIN_TABS = [\n  { id: 'dados-basicos', label: 'Dados Básicos' },\n  { id: 'povos-linguas', label: 'Povos' },\n  { id: 'modalidades', label: 'Modalidades' },\n  { id: 'infraestrutura', label: 'Infraestrutura' },\n  { id: 'gestao-professores', label: 'Gestores' },\n  { id: 'material-pedagogico', label: 'Material Pedagógico' },\n  { id: 'projetos-parcerias', label: 'Projetos e Parcerias' },\n  { id: 'redes-sociais', label: 'Redes Sociais' },\n  { id: 'video', label: 'Vídeo' },\n  { id: 'historias', label: 'Histórias' },\n  { id: 'historia-professores', label: 'História dos Professores' },\n  { id: 'coordenadas', label: 'Coordenadas' },\n  { id: 'imagens-escola', label: 'Imagens da Escola' },\n  { id: 'imagens-professores', label: 'Imagens dos Professores' },\n  { id: 'documentos', label: 'Documentos' }\n];\n\n// Configurações de UI\nexport const UI_CONFIG = {\n  MOBILE_BREAKPOINT: 768,\n  SIDEBAR_WIDTH: 'w-64',\n  SIDEBAR_WIDTH_MOBILE: 'max-w-[80vw]',\n  SIDEBAR_TOP_OFFSET: 72,\n};\n\n// Estados de salvamento\nexport const SAVE_STATES = {\n  IDLE: 'idle',\n  SAVING: 'saving',\n  SUCCESS: 'success',\n  ERROR: 'error',\n};\n\n// Configurações de formulário\nexport const FORM_CONFIG = {\n  DEFAULT_ACTIVE_TAB: 'dados-basicos',\n  VALIDATION_RULES: {\n    REQUIRED_FIELDS: ['Escola'],\n  },\n};\n\n// Configurações de busca\nexport const SEARCH_CONFIG = {\n  DEBOUNCE_DELAY: 300,\n  MIN_SEARCH_LENGTH: 2,\n}; ","import React from 'react';\nimport { Menu, Search, X } from 'lucide-react';\nimport { useEscolas } from './hooks/useEscolas';\nimport { UI_CONFIG } from './constants/adminConstants';\n\nconst AdminSidebar = ({ \n  isMobile, \n  sidebarOpen, \n  setSidebarOpen, \n  editingLocation, \n  onEscolaSelect \n}) => {\n  const { \n    searchTerm, \n    setSearchTerm, \n    filteredEscolas \n  } = useEscolas();\n\n  return (\n    <>\n      {/* Overlay para mobile */}\n      {isMobile && sidebarOpen && (\n        <div \n          className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-30\"\n          onClick={() => setSidebarOpen(false)}\n        />\n      )}\n\n      {/* Botão de menu para mobile */}\n      {isMobile && !sidebarOpen && (\n        <button\n          className=\"fixed top-4 left-4 z-50 bg-gray-900/90 backdrop-blur-sm rounded-full shadow-lg p-3 border border-gray-800/50 hover:bg-gray-800/90 transition-all duration-200\"\n          onClick={() => setSidebarOpen(true)}\n          aria-label=\"Abrir menu lateral\"\n        >\n          <Menu className=\"w-6 h-6 text-gray-200\" />\n        </button>\n      )}\n\n      {/* Menu lateral */}\n      {(!isMobile || sidebarOpen) && (\n        <aside\n          className={`bg-gray-900/95 backdrop-blur-sm border-r border-gray-800/50 rounded-r-2xl shadow-2xl p-6 overflow-y-auto h-screen sticky top-0 z-40 transition-all duration-300 ${\n            isMobile ? `fixed left-0 top-0 w-80 max-w-[85vw] shadow-2xl` : 'w-80'\n          }`}\n          style={{\n            transform: isMobile && !sidebarOpen ? 'translateX(-100%)' : 'translateX(0)',\n            top: isMobile ? 0 : UI_CONFIG.SIDEBAR_TOP_OFFSET,\n          }}\n        >\n          {/* Header do sidebar */}\n          <div className=\"flex items-center justify-between mb-8\">\n            <div>\n              <h2 className=\"text-2xl font-bold tracking-wide text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-emerald-300 uppercase\">\n                Escolas\n              </h2>\n              <p className=\"text-gray-400 text-sm mt-1\">\n                {filteredEscolas.length} escola{filteredEscolas.length !== 1 ? 's' : ''}\n              </p>\n            </div>\n            \n            {/* Botão de fechar para mobile */}\n            {isMobile && (\n              <button\n                className=\"text-gray-400 hover:text-gray-200 hover:bg-gray-800 rounded-lg p-2 transition-colors\"\n                onClick={() => setSidebarOpen(false)}\n                aria-label=\"Fechar menu lateral\"\n              >\n                <X className=\"w-5 h-5\" />\n              </button>\n            )}\n          </div>\n\n          {/* Busca no menu lateral */}\n          <div className=\"mb-6\">\n            <div className=\"relative\">\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\" />\n              <input\n                type=\"text\"\n                placeholder=\"Buscar escola...\"\n                className=\"w-full pl-10 pr-4 py-3 border border-gray-700/50 rounded-xl text-sm bg-gray-800/50 text-gray-100 placeholder-gray-400 focus:ring-2 focus:ring-green-400 focus:border-green-400 transition-all duration-200 backdrop-blur-sm\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n              />\n            </div>\n          </div>\n\n          {/* Lista de escolas */}\n          <div className=\"space-y-2\">\n            {filteredEscolas.length > 0 ? (\n              filteredEscolas.map(escola => (\n                <button\n                  key={escola.id}\n                  className={`w-full text-left p-4 rounded-xl hover:bg-gray-800/50 transition-all duration-200 border border-transparent hover:border-gray-700/50 ${\n                    editingLocation?.id === escola.id \n                      ? 'bg-gradient-to-r from-green-600/20 to-green-700/20 border-green-500/50 text-white shadow-lg' \n                      : 'text-gray-200 hover:text-white'\n                  }`}\n                  onClick={() => {\n                    onEscolaSelect(escola);\n                    if (isMobile) setSidebarOpen(false);\n                  }}\n                >\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"flex-1 min-w-0\">\n                      <h3 className={`font-medium truncate ${\n                        editingLocation?.id === escola.id ? 'text-green-300' : 'text-gray-200'\n                      }`}>\n                        {escola.Escola}\n                      </h3>\n                      {escola['Município'] && (\n                        <p className=\"text-sm text-gray-400 truncate mt-1\">\n                          {escola['Município']}\n                        </p>\n                      )}\n                    </div>\n                    {editingLocation?.id === escola.id && (\n                      <div className=\"ml-2 flex-shrink-0\">\n                        <div className=\"w-2 h-2 bg-green-400 rounded-full\"></div>\n                      </div>\n                    )}\n                  </div>\n                </button>\n              ))\n            ) : searchTerm ? (\n              <div className=\"text-center py-8\">\n                <div className=\"w-16 h-16 bg-gray-800/50 rounded-full flex items-center justify-center mx-auto mb-4\">\n                  <Search className=\"w-8 h-8 text-gray-400\" />\n                </div>\n                <p className=\"text-gray-400 text-sm\">\n                  Nenhuma escola encontrada\n                </p>\n                <p className=\"text-gray-500 text-xs mt-1\">\n                  Tente ajustar sua busca\n                </p>\n              </div>\n            ) : (\n              <div className=\"text-center py-8\">\n                <div className=\"w-16 h-16 bg-gray-800/50 rounded-full flex items-center justify-center mx-auto mb-4\">\n                  <svg className=\"w-8 h-8 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\" />\n                  </svg>\n                </div>\n                <p className=\"text-gray-400 text-sm\">\n                  Nenhuma escola disponível\n                </p>\n              </div>\n            )}\n          </div>\n\n          {/* Footer do sidebar */}\n          <div className=\"mt-auto pt-6 border-t border-gray-800/50\">\n            <div className=\"text-center\">\n              <p className=\"text-gray-500 text-xs\">\n                Painel de Administração\n              </p>\n              <p className=\"text-gray-600 text-xs mt-1\">\n                Escolas Indígenas SP\n              </p>\n            </div>\n          </div>\n        </aside>\n      )}\n    </>\n  );\n};\n\nexport default AdminSidebar; ","import React from 'react';\n\nconst AdminToolbar = ({ \n  searchTerm, \n  setSearchTerm, \n  selectedType, \n  setSelectedType, \n  onNovaEscola \n}) => {\n  return null;\n};\n\nexport default AdminToolbar; ","import React from 'react';\nimport { useModalidades } from '../hooks/useModalidades';\nimport { MODALIDADES_OPTIONS, MODALIDADES_CATEGORIAS } from '../utils/modalidadesOptions';\n\nconst ModalidadesTab = ({ \n  editingLocation, \n  setEditingLocation \n}) => {\n  const {\n    selectedModalidades,\n    outroModalidade,\n    handleModalidadeChange,\n    handleOutroModalidadeChange,\n    saveModalidades,\n    getModalidadesPreview,\n    hasSelectedModalidades,\n  } = useModalidades();\n\n  // Função para salvar modalidades no editingLocation\n  const handleSaveModalidades = () => {\n    const modalidadesText = saveModalidades();\n    setEditingLocation(prev => ({\n      ...prev,\n      'Modalidade de Ensino/turnos de funcionamento': modalidadesText\n    }));\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Modalidades de Ensino */}\n      <div className=\"md:col-span-2\">\n        <label className=\"block text-sm font-medium text-gray-200 mb-4 text-base\">\n          Modalidades de Ensino\n        </label>\n        <div className=\"bg-gray-800 border border-gray-700 rounded-lg p-4 max-h-96 overflow-y-auto\">\n          <div className=\"space-y-4\">\n            {MODALIDADES_CATEGORIAS.map((categoria) => (\n              <div key={categoria.id}>\n                <h4 className=\"text-sm font-semibold text-green-400 mb-2 border-b border-gray-600 pb-1\">\n                  {categoria.titulo}\n                </h4>\n                <div className=\"space-y-2 ml-2\">\n                  {categoria.indices.map((index) => {\n                    const modalidade = MODALIDADES_OPTIONS[index];\n                    return (\n                      <label key={index} className=\"flex items-start space-x-3 cursor-pointer hover:bg-gray-700 p-2 rounded transition-colors\">\n                        <input\n                          type=\"checkbox\"\n                          className=\"mt-1 h-4 w-4 text-green-600 bg-gray-700 border-gray-600 rounded focus:ring-green-500 focus:ring-2\"\n                          checked={selectedModalidades.includes(modalidade)}\n                          onChange={() => handleModalidadeChange(modalidade)}\n                        />\n                        <span className=\"text-sm text-gray-200 leading-relaxed\">{modalidade}</span>\n                      </label>\n                    );\n                  })}\n                </div>\n              </div>\n            ))}\n            \n            {/* Opção \"Outro\" */}\n            <div className=\"border-t border-gray-600 pt-3 mt-3\">\n              <label className=\"flex items-start space-x-3 cursor-pointer hover:bg-gray-700 p-2 rounded transition-colors\">\n                <input\n                  type=\"checkbox\"\n                  className=\"mt-1 h-4 w-4 text-green-600 bg-gray-700 border-gray-600 rounded focus:ring-green-500 focus:ring-2\"\n                  checked={selectedModalidades.some(m => m.startsWith('Outro:'))}\n                  onChange={() => handleOutroModalidadeChange(outroModalidade)}\n                />\n                <div className=\"flex-1\">\n                  <span className=\"text-sm text-gray-200\">Outro (especificar):</span>\n                  <input\n                    type=\"text\"\n                    className=\"mt-1 w-full px-3 py-2 border border-gray-600 rounded text-sm bg-gray-700 text-gray-100 placeholder-gray-400 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                    placeholder=\"Digite a modalidade específica...\"\n                    value={outroModalidade}\n                    onChange={(e) => handleOutroModalidadeChange(e.target.value)}\n                  />\n                </div>\n              </label>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Número de Alunos */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Número de Alunos</label>\n        <input\n          type=\"text\"\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n          value={editingLocation['Numero de alunos'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Numero de alunos': e.target.value })}\n        />\n      </div>\n\n      {/* Turnos de Funcionamento */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Turnos de Funcionamento</label>\n        <input\n          type=\"text\"\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n          value={editingLocation.turnos_funcionamento || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, turnos_funcionamento: e.target.value })}\n          placeholder=\"Ex: Diurno, Noturno, Vespertino, etc.\"\n        />\n      </div>\n\n      {/* Botão para salvar modalidades */}\n      <div className=\"md:col-span-2\">\n        <button\n          type=\"button\"\n          onClick={handleSaveModalidades}\n          className=\"px-4 py-2 bg-green-700 text-white rounded-lg hover:bg-green-800 focus:outline-none focus:ring-2 focus:ring-green-400 transition-colors\"\n        >\n          Salvar Modalidades Selecionadas\n        </button>\n      </div>\n\n      {/* Preview do texto final */}\n      {hasSelectedModalidades() && (\n        <div className=\"md:col-span-2\">\n          <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n            Preview do Texto Final\n          </label>\n          <div className=\"bg-gray-800 border border-gray-700 rounded px-3 py-2 text-gray-200 text-sm min-h-[60px]\">\n            {getModalidadesPreview()}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ModalidadesTab; ","import React from 'react';\n\nconst DadosBasicosTab = ({ editingLocation, setEditingLocation }) => {\n  return (\n    <div className=\"space-y-8\">\n      {/* Seção: Informações Principais */}\n      <div className=\"bg-gray-800/30 rounded-xl p-6 border border-gray-700/30\">\n        <h3 className=\"text-lg font-semibold text-gray-100 mb-6 flex items-center gap-2\">\n          <svg className=\"w-5 h-5 text-green-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\" />\n          </svg>\n          Informações Principais\n        </h3>\n        \n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n          {/* Nome da Escola */}\n          <div className=\"lg:col-span-2\">\n            <label className=\"block text-sm font-medium text-gray-200 mb-3\">\n              Nome da Escola *\n            </label>\n            <input\n              type=\"text\"\n              className=\"w-full border border-gray-700 bg-gray-800/50 rounded-xl px-4 py-3 focus:ring-2 focus:ring-green-400 focus:border-green-400 text-gray-100 placeholder-gray-400 transition-all duration-200 backdrop-blur-sm\"\n              value={editingLocation.Escola || ''}\n              onChange={e => setEditingLocation({ ...editingLocation, Escola: e.target.value })}\n              placeholder=\"Digite o nome da escola\"\n            />\n          </div>\n\n          {/* Município */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-200 mb-3\">\n              Município\n            </label>\n            <input\n              type=\"text\"\n              className=\"w-full border border-gray-700 bg-gray-800/50 rounded-xl px-4 py-3 focus:ring-2 focus:ring-green-400 focus:border-green-400 text-gray-100 placeholder-gray-400 transition-all duration-200 backdrop-blur-sm\"\n              value={editingLocation['Município'] || ''}\n              onChange={e => setEditingLocation({ ...editingLocation, 'Município': e.target.value })}\n              placeholder=\"Digite o município\"\n            />\n          </div>\n\n          {/* Ano de Criação */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-200 mb-3\">\n              Ano de Criação da Escola\n            </label>\n            <input\n              type=\"text\"\n              className=\"w-full border border-gray-700 bg-gray-800/50 rounded-xl px-4 py-3 focus:ring-2 focus:ring-green-400 focus:border-green-400 text-gray-100 placeholder-gray-400 transition-all duration-200 backdrop-blur-sm\"\n              value={editingLocation['Ano de criação da escola'] || ''}\n              onChange={e => setEditingLocation({ ...editingLocation, 'Ano de criação da escola': e.target.value })}\n              placeholder=\"Ex: 1995\"\n            />\n          </div>\n\n          {/* Terra Indígena */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-200 mb-3\">\n              Terra Indígena (TI)\n            </label>\n            <input\n              type=\"text\"\n              className=\"w-full border border-gray-700 bg-gray-800/50 rounded-xl px-4 py-3 focus:ring-2 focus:ring-green-400 focus:border-green-400 text-gray-100 placeholder-gray-400 transition-all duration-200 backdrop-blur-sm\"\n              value={editingLocation['Terra Indigena (TI)'] || ''}\n              onChange={e => setEditingLocation({ ...editingLocation, 'Terra Indigena (TI)': e.target.value })}\n              placeholder=\"Digite o nome da Terra Indígena\"\n            />\n          </div>\n\n          {/* Diretoria de Ensino */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-200 mb-3\">\n              Diretoria de Ensino\n            </label>\n            <input\n              type=\"text\"\n              className=\"w-full border border-gray-700 bg-gray-800/50 rounded-xl px-4 py-3 focus:ring-2 focus:ring-green-400 focus:border-green-400 text-gray-100 placeholder-gray-400 transition-all duration-200 backdrop-blur-sm\"\n              value={editingLocation['Diretoria de Ensino'] || ''}\n              onChange={e => setEditingLocation({ ...editingLocation, 'Diretoria de Ensino': e.target.value })}\n              placeholder=\"Digite a diretoria de ensino\"\n            />\n          </div>\n\n          {/* Parcerias com o Município */}\n          <div className=\"lg:col-span-2\">\n            <label className=\"block text-sm font-medium text-gray-200 mb-3\">\n              Parcerias com o Município\n            </label>\n            <textarea\n              className=\"w-full border border-gray-700 bg-gray-800/50 rounded-xl px-4 py-3 h-32 focus:ring-2 focus:ring-green-400 focus:border-green-400 text-gray-100 placeholder-gray-400 transition-all duration-200 backdrop-blur-sm resize-none\"\n              value={editingLocation['Parcerias com o município'] || ''}\n              onChange={e => setEditingLocation({ ...editingLocation, 'Parcerias com o município': e.target.value })}\n              placeholder=\"Descreva as parcerias com o município...\"\n            />\n          </div>\n        </div>\n      </div>\n\n      {/* Seção: Endereço Completo */}\n      <div className=\"bg-gray-800/30 rounded-xl p-6 border border-gray-700/30\">\n        <h3 className=\"text-lg font-semibold text-gray-100 mb-6 flex items-center gap-2\">\n          <svg className=\"w-5 h-5 text-blue-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\" />\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\" />\n          </svg>\n          Endereço Completo\n        </h3>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {/* Logradouro */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-200 mb-3\">\n              Logradouro\n            </label>\n            <input\n              type=\"text\"\n              className=\"w-full border border-gray-700 bg-gray-800/50 rounded-xl px-4 py-3 focus:ring-2 focus:ring-green-400 focus:border-green-400 text-gray-100 placeholder-gray-400 transition-all duration-200 backdrop-blur-sm\"\n              value={editingLocation.logradouro || ''}\n              onChange={e => setEditingLocation({ ...editingLocation, logradouro: e.target.value })}\n              placeholder=\"Rua, Avenida, etc.\"\n            />\n          </div>\n\n          {/* Número */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-200 mb-3\">\n              Número\n            </label>\n            <input\n              type=\"text\"\n              className=\"w-full border border-gray-700 bg-gray-800/50 rounded-xl px-4 py-3 focus:ring-2 focus:ring-green-400 focus:border-green-400 text-gray-100 placeholder-gray-400 transition-all duration-200 backdrop-blur-sm\"\n              value={editingLocation.numero || ''}\n              onChange={e => setEditingLocation({ ...editingLocation, numero: e.target.value })}\n              placeholder=\"Número\"\n            />\n          </div>\n\n          {/* Complemento */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-200 mb-3\">\n              Complemento\n            </label>\n            <input\n              type=\"text\"\n              className=\"w-full border border-gray-700 bg-gray-800/50 rounded-xl px-4 py-3 focus:ring-2 focus:ring-green-400 focus:border-green-400 text-gray-100 placeholder-gray-400 transition-all duration-200 backdrop-blur-sm\"\n              value={editingLocation.complemento || ''}\n              onChange={e => setEditingLocation({ ...editingLocation, complemento: e.target.value })}\n              placeholder=\"Apto, Casa, etc.\"\n            />\n          </div>\n\n          {/* Bairro */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-200 mb-3\">\n              Bairro\n            </label>\n            <input\n              type=\"text\"\n              className=\"w-full border border-gray-700 bg-gray-800/50 rounded-xl px-4 py-3 focus:ring-2 focus:ring-green-400 focus:border-green-400 text-gray-100 placeholder-gray-400 transition-all duration-200 backdrop-blur-sm\"\n              value={editingLocation.bairro || ''}\n              onChange={e => setEditingLocation({ ...editingLocation, bairro: e.target.value })}\n              placeholder=\"Nome do bairro\"\n            />\n          </div>\n\n          {/* CEP */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-200 mb-3\">\n              CEP\n            </label>\n            <input\n              type=\"text\"\n              className=\"w-full border border-gray-700 bg-gray-800/50 rounded-xl px-4 py-3 focus:ring-2 focus:ring-green-400 focus:border-green-400 text-gray-100 placeholder-gray-400 transition-all duration-200 backdrop-blur-sm\"\n              value={editingLocation.cep || ''}\n              onChange={e => setEditingLocation({ ...editingLocation, cep: e.target.value })}\n              placeholder=\"00000-000\"\n            />\n          </div>\n\n          {/* Estado */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-200 mb-3\">\n              Estado\n            </label>\n            <select\n              className=\"w-full border border-gray-700 bg-gray-800/50 rounded-xl px-4 py-3 focus:ring-2 focus:ring-green-400 focus:border-green-400 text-gray-100 transition-all duration-200 backdrop-blur-sm\"\n              value={editingLocation.estado || 'SP'}\n              onChange={e => setEditingLocation({ ...editingLocation, estado: e.target.value })}\n            >\n              <option value=\"SP\">São Paulo</option>\n              <option value=\"RJ\">Rio de Janeiro</option>\n              <option value=\"MG\">Minas Gerais</option>\n              <option value=\"ES\">Espírito Santo</option>\n            </select>\n          </div>\n        </div>\n      </div>\n\n      {/* Seção: Endereço Antigo (para compatibilidade) */}\n      <div className=\"bg-gray-800/30 rounded-xl p-6 border border-gray-700/30\">\n        <h3 className=\"text-lg font-semibold text-gray-100 mb-6 flex items-center gap-2\">\n          <svg className=\"w-5 h-5 text-yellow-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n          </svg>\n          Endereço (Campo Legado)\n        </h3>\n        \n        <div>\n          <label className=\"block text-sm font-medium text-gray-200 mb-3\">\n            Endereço Completo\n          </label>\n          <textarea\n            className=\"w-full border border-gray-700 bg-gray-800/50 rounded-xl px-4 py-3 h-24 focus:ring-2 focus:ring-green-400 focus:border-green-400 text-gray-100 placeholder-gray-400 transition-all duration-200 backdrop-blur-sm resize-none\"\n            value={editingLocation['Endereço'] || ''}\n            onChange={e => setEditingLocation({ ...editingLocation, 'Endereço': e.target.value })}\n            placeholder=\"Endereço completo da escola...\"\n          />\n          <p className=\"text-gray-500 text-xs mt-2\">\n            Este campo é mantido para compatibilidade com dados existentes\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DadosBasicosTab; ","import React from 'react';\n\nconst PovosLinguasTab = ({ editingLocation, setEditingLocation }) => {\n  return (\n    <div className=\"space-y-6\">\n      {/* Povos Indígenas */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Povos Indígenas\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-32 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Povos indigenas'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Povos indigenas': e.target.value })}\n          placeholder=\"Descreva os povos indígenas atendidos pela escola...\"\n        />\n        <p className=\"text-xs text-gray-400 mt-1\">\n          Ex: Guarani, Kaingang, Terena, etc.\n        </p>\n      </div>\n\n      {/* Línguas Faladas */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Línguas Faladas\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-32 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Linguas faladas'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Linguas faladas': e.target.value })}\n          placeholder=\"Descreva as línguas faladas na comunidade escolar...\"\n        />\n        <p className=\"text-xs text-gray-400 mt-1\">\n          Ex: Português, Guarani, Kaingang, etc.\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default PovosLinguasTab; ","import React from 'react';\n\nconst InfraestruturaTab = ({ editingLocation, setEditingLocation }) => {\n  return (\n    <div className=\"space-y-6\">\n      {/* Acesso à Água */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Acesso à Água\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Acesso à água'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Acesso à água': e.target.value })}\n          placeholder=\"Descreva como é o acesso à água na escola...\"\n        />\n      </div>\n\n      {/* Coleta de Lixo */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Coleta de Lixo\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Tem coleta de lixo?'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Tem coleta de lixo?': e.target.value })}\n          placeholder=\"Descreva como é feita a coleta de lixo...\"\n        />\n      </div>\n\n      {/* Acesso à Internet */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Acesso à Internet\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Acesso à internet'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Acesso à internet': e.target.value })}\n          placeholder=\"Descreva o acesso à internet na escola...\"\n        />\n      </div>\n\n      {/* Equipamentos Tecnológicos */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Equipamentos Tecnológicos\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Equipamentos Tecnológicos (Computadores, tablets e impressoras)'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Equipamentos Tecnológicos (Computadores, tablets e impressoras)': e.target.value })}\n          placeholder=\"Descreva os equipamentos tecnológicos disponíveis...\"\n        />\n      </div>\n\n      {/* Modo de Acesso à Escola */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Modo de Acesso à Escola\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Modo de acesso à escola'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Modo de acesso à escola': e.target.value })}\n          placeholder=\"Descreva como é o acesso à escola...\"\n        />\n      </div>\n\n      {/* Cozinha */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Cozinha\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation.cozinha || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, cozinha: e.target.value })}\n          placeholder=\"Descreva a estrutura da cozinha...\"\n        />\n      </div>\n\n      {/* Merenda Escolar */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Merenda Escolar\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation.merenda_escolar || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, merenda_escolar: e.target.value })}\n          placeholder=\"Descreva como é fornecida a merenda escolar...\"\n        />\n      </div>\n\n      {/* Merenda Diferenciada */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Merenda Diferenciada\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation.diferenciada || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, diferenciada: e.target.value })}\n          placeholder=\"Descreva se há merenda diferenciada (cultural, religiosa, etc.)...\"\n        />\n      </div>\n\n      {/* Merenda Diferenciada (Detalhes) */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Merenda Diferenciada (Detalhes)\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation.merenda_diferenciada || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, merenda_diferenciada: e.target.value })}\n          placeholder=\"Descreva detalhes sobre a merenda diferenciada...\"\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default InfraestruturaTab; ","import React from 'react';\n\nconst GestaoProfessoresTab = ({ editingLocation, setEditingLocation }) => {\n  return (\n    <div className=\"space-y-6\">\n      {/* Gestão/Nome */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Gestão/Nome\n        </label>\n        <input\n          type=\"text\"\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n          value={editingLocation['Gestão/Nome'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Gestão/Nome': e.target.value })}\n          placeholder=\"Digite o nome do gestor/diretor\"\n        />\n      </div>\n\n      {/* Professores Indígenas */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Professores Indígenas\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Quantidade de professores indígenas'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Quantidade de professores indígenas': e.target.value })}\n          placeholder=\"Descreva os professores indígenas...\"\n        />\n      </div>\n\n      {/* Professores Não Indígenas */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Professores Não Indígenas\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Quantidade de professores não indígenas'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Quantidade de professores não indígenas': e.target.value })}\n          placeholder=\"Descreva os professores não indígenas...\"\n        />\n      </div>\n\n      {/* Professores Falam Língua Indígena? */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Professores Falam Língua Indígena?\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Professores falam a língua indígena?'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Professores falam a língua indígena?': e.target.value })}\n          placeholder=\"Descreva se os professores falam a língua indígena...\"\n        />\n      </div>\n\n      {/* Formação dos Professores */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Formação dos Professores\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-32 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Formação dos professores'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Formação dos professores': e.target.value })}\n          placeholder=\"Descreva a formação dos professores...\"\n        />\n      </div>\n\n      {/* Formação Continuada */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Formação Continuada\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-32 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Formação continuada oferecida'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Formação continuada oferecida': e.target.value })}\n          placeholder=\"Descreva a formação continuada oferecida aos professores...\"\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default GestaoProfessoresTab; ","import React from 'react';\n\nconst MaterialPedagogicoTab = ({ editingLocation, setEditingLocation }) => {\n  return (\n    <div className=\"space-y-6\">\n      {/* A escola possui PPP próprio? */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          A escola possui PPP próprio?\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['A escola possui PPP próprio?'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'A escola possui PPP próprio?': e.target.value })}\n          placeholder=\"Descreva se a escola possui PPP próprio...\"\n        />\n      </div>\n\n      {/* PPP elaborado com a comunidade? */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          PPP elaborado com a comunidade?\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['PPP elaborado com a comunidade?'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'PPP elaborado com a comunidade?': e.target.value })}\n          placeholder=\"Descreva se o PPP foi elaborado com a comunidade...\"\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default MaterialPedagogicoTab; ","import React from 'react';\n\nconst ProjetosParceriasTab = ({ editingLocation, setEditingLocation }) => {\n  return (\n    <div className=\"space-y-6\">\n      {/* Projetos em Andamento */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Projetos em Andamento\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-32 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Projetos em andamento'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Projetos em andamento': e.target.value })}\n          placeholder=\"Descreva os projetos em andamento na escola...\"\n        />\n      </div>\n\n      {/* Parcerias com Universidades */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Parcerias com Universidades\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-32 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Parcerias com universidades?'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Parcerias com universidades?': e.target.value })}\n          placeholder=\"Descreva as parcerias com universidades...\"\n        />\n      </div>\n\n      {/* Ações com ONGs ou Coletivos */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Ações com ONGs ou Coletivos\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-32 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Ações com ONGs ou coletivos?'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Ações com ONGs ou coletivos?': e.target.value })}\n          placeholder=\"Descreva as ações com ONGs ou coletivos...\"\n        />\n      </div>\n\n      {/* Desejos da Comunidade */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Desejos da Comunidade\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-32 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Desejos da comunidade para a escola'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Desejos da comunidade para a escola': e.target.value })}\n          placeholder=\"Descreva os desejos da comunidade para a escola...\"\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default ProjetosParceriasTab; ","import React from 'react';\n\nconst RedesSociaisTab = ({ editingLocation, setEditingLocation }) => {\n  return (\n    <div className=\"space-y-6\">\n      {/* Escola utiliza redes sociais? */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Escola utiliza redes sociais?\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Escola utiliza redes sociais?'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Escola utiliza redes sociais?': e.target.value })}\n          placeholder=\"Descreva se a escola utiliza redes sociais...\"\n        />\n      </div>\n\n      {/* Links das Redes Sociais */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Links das Redes Sociais\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-32 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Links das redes sociais'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Links das redes sociais': e.target.value })}\n          placeholder=\"Cole aqui os links das redes sociais da escola (Facebook, Instagram, YouTube, etc.)...\"\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default RedesSociaisTab; ","import React, { useState, useEffect } from 'react';\nimport { getVideosEscola, createVideoEscola, updateVideoEscola, deleteVideoEscola } from '../../services/videoService';\nimport { Plus, Edit3, Trash2, Save } from 'lucide-react';\n\nconst VideoManager = ({ escolaId }) => {\n  const [videos, setVideos] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState('');\n  const [showForm, setShowForm] = useState(false);\n  const [editingVideo, setEditingVideo] = useState(null);\n  const [formData, setFormData] = useState({\n    titulo: '',\n    video_url: '',\n    descricao: '',\n    plataforma: 'youtube',\n    categoria: 'geral',\n    ativo: true\n  });\n\n  // Carregar vídeos\n  const carregarVideos = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const data = await getVideosEscola(escolaId);\n      setVideos(data);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (escolaId) carregarVideos();\n  }, [escolaId]);\n\n  // Reset form\n  const resetForm = () => {\n    setFormData({\n      titulo: '',\n      video_url: '',\n      descricao: '',\n      plataforma: 'youtube',\n      categoria: 'geral',\n      ativo: true\n    });\n    setEditingVideo(null);\n    setShowForm(false);\n  };\n\n  // Handle submit\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!formData.titulo.trim() || !formData.video_url.trim()) {\n      setError('Título e URL do vídeo são obrigatórios.');\n      return;\n    }\n    const payload = {\n      escola_id: Number(escolaId),\n      ...formData,\n      ativo: Boolean(formData.ativo)\n    };\n    try {\n      setError('');\n      setSuccess('');\n      if (editingVideo) {\n        await updateVideoEscola(editingVideo.id, payload);\n        setSuccess('Vídeo atualizado com sucesso!');\n      } else {\n        await createVideoEscola(payload);\n        setSuccess('Vídeo criado com sucesso!');\n      }\n      resetForm();\n      carregarVideos();\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  // Handle edit\n  const handleEdit = (video) => {\n    setEditingVideo(video);\n    setFormData({\n      titulo: video.titulo || '',\n      video_url: video.video_url || '',\n      descricao: video.descricao || '',\n      plataforma: video.plataforma || 'youtube',\n      categoria: video.categoria || 'geral',\n      ativo: video.ativo\n    });\n    setShowForm(true);\n  };\n\n  // Handle delete\n  const handleDelete = async (id) => {\n    if (!window.confirm('Tem certeza que deseja excluir este vídeo?')) return;\n    try {\n      await deleteVideoEscola(id);\n      setSuccess('Vídeo excluído com sucesso!');\n      carregarVideos();\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  if (loading) {\n    return <div className=\"p-6 text-center\">Carregando vídeos...</div>;\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <h3 className=\"text-lg font-semibold text-gray-900\">Vídeos da Escola</h3>\n        <button\n          onClick={() => setShowForm(true)}\n          className=\"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\n        >\n          <Plus className=\"w-5 h-5\" />\n          Novo Vídeo\n        </button>\n      </div>\n\n      {error && <div className=\"p-4 bg-red-50 border border-red-200 rounded-lg text-red-600\">{error}</div>}\n      {success && <div className=\"p-4 bg-green-50 border border-green-200 rounded-lg text-green-600\">{success}</div>}\n\n      {/* Lista de vídeos */}\n      <div className=\"space-y-4\">\n        {videos.length === 0 ? (\n          <div className=\"text-center py-8 bg-gray-50 rounded-lg\">\n            <p className=\"text-gray-500\">Nenhum vídeo cadastrado.</p>\n            <button\n              onClick={() => setShowForm(true)}\n              className=\"mt-4 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\n            >\n              Adicionar vídeo\n            </button>\n          </div>\n        ) : (\n          videos.map((video) => (\n            <div key={video.id} className={`p-6 bg-white rounded-lg border ${!video.ativo ? 'opacity-60' : ''}`}>\n              <div className=\"flex items-start justify-between mb-2\">\n                <div className=\"flex-1\">\n                  <div className=\"flex items-center gap-3 mb-2\">\n                    <h4 className=\"font-medium text-gray-900\">{video.titulo}</h4>\n                    {!video.ativo && (\n                      <span className=\"flex items-center gap-1 text-orange-600 text-sm\">\n                        Inativo\n                      </span>\n                    )}\n                  </div>\n                  <p className=\"text-gray-700 text-sm mb-2\">{video.descricao}</p>\n                  <div className=\"mb-2\">\n                    <iframe\n                      src={video.video_url}\n                      title={video.titulo}\n                      className=\"w-full aspect-video rounded-lg border\"\n                      allowFullScreen\n                    />\n                  </div>\n                  <div className=\"text-xs text-gray-500\">\n                    Plataforma: {video.plataforma} | Categoria: {video.categoria}\n                  </div>\n                </div>\n                <div className=\"flex flex-col gap-2 ml-4\">\n                  <button\n                    onClick={() => handleEdit(video)}\n                    className=\"p-2 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg\"\n                    title=\"Editar\"\n                  >\n                    <Edit3 className=\"w-5 h-5\" />\n                  </button>\n                  <button\n                    onClick={() => handleDelete(video.id)}\n                    className=\"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg\"\n                    title=\"Excluir\"\n                  >\n                    <Trash2 className=\"w-5 h-5\" />\n                  </button>\n                </div>\n              </div>\n            </div>\n          ))\n        )}\n      </div>\n\n      {/* Formulário de adicionar/editar vídeo */}\n      {showForm && (\n        <div className=\"p-6 bg-gray-50 rounded-lg border\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h4 className=\"text-lg font-medium text-gray-900\">\n              {editingVideo ? 'Editar Vídeo' : 'Novo Vídeo'}\n            </h4>\n            <button\n              onClick={resetForm}\n              className=\"text-gray-400 hover:text-gray-600\"\n            >\n              <span className=\"sr-only\">Fechar</span>\n              ×\n            </button>\n          </div>\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Título *</label>\n                <input\n                  type=\"text\"\n                  value={formData.titulo}\n                  onChange={e => setFormData({ ...formData, titulo: e.target.value })}\n                  className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                  placeholder=\"Título do vídeo\"\n                  required\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">URL do Vídeo *</label>\n                <input\n                  type=\"url\"\n                  value={formData.video_url}\n                  onChange={e => setFormData({ ...formData, video_url: e.target.value })}\n                  className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                  placeholder=\"https://www.youtube.com/embed/...\"\n                  required\n                />\n              </div>\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Descrição</label>\n              <textarea\n                value={formData.descricao}\n                onChange={e => setFormData({ ...formData, descricao: e.target.value })}\n                rows={3}\n                className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                placeholder=\"Descrição do vídeo (opcional)\"\n              />\n            </div>\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Plataforma</label>\n                <input\n                  type=\"text\"\n                  value={formData.plataforma}\n                  onChange={e => setFormData({ ...formData, plataforma: e.target.value })}\n                  className=\"w-full border rounded-lg px-3 py-2\"\n                  placeholder=\"youtube, vimeo...\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Categoria</label>\n                <input\n                  type=\"text\"\n                  value={formData.categoria}\n                  onChange={e => setFormData({ ...formData, categoria: e.target.value })}\n                  className=\"w-full border rounded-lg px-3 py-2\"\n                  placeholder=\"geral, institucional...\"\n                />\n              </div>\n              <div className=\"flex items-center gap-2 mt-6\">\n                <input\n                  type=\"checkbox\"\n                  checked={formData.ativo}\n                  onChange={e => setFormData({ ...formData, ativo: e.target.checked })}\n                  className=\"rounded border-gray-300 text-green-600 focus:ring-green-500\"\n                />\n                <span className=\"text-sm text-gray-700\">Ativo</span>\n              </div>\n            </div>\n            <div className=\"flex gap-3\">\n              <button\n                type=\"submit\"\n                className=\"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\n              >\n                <Save className=\"w-5 h-5\" />\n                {editingVideo ? 'Atualizar' : 'Criar'}\n              </button>\n              <button\n                type=\"button\"\n                onClick={resetForm}\n                className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors\"\n              >\n                Cancelar\n              </button>\n            </div>\n          </form>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default VideoManager; ","import { supabase } from '../supabaseClient';\n\n// Buscar todos os vídeos de uma escola\nexport async function getVideosEscola(escolaId) {\n  const { data, error } = await supabase\n    .from('titulos_videos')\n    .select('*')\n    .eq('escola_id', escolaId)\n    .eq('ativo', true)\n    .order('created_at', { ascending: false });\n  if (error) throw error;\n  return data;\n}\n\n// Criar novo vídeo\nexport async function createVideoEscola(video) {\n  const { data, error } = await supabase\n    .from('titulos_videos')\n    .insert([video])\n    .select();\n  if (error) throw error;\n  return data?.[0];\n}\n\n// Atualizar vídeo existente\nexport async function updateVideoEscola(id, updates) {\n  const { data, error } = await supabase\n    .from('titulos_videos')\n    .update(updates)\n    .eq('id', id)\n    .select();\n  if (error) throw error;\n  return data?.[0];\n}\n\n// Remover vídeo\nexport async function deleteVideoEscola(id) {\n  const { error } = await supabase\n    .from('titulos_videos')\n    .delete()\n    .eq('id', id);\n  if (error) throw error;\n  return true;\n} ","import React from 'react';\nimport VideoManager from '../VideoManager';\n\nconst VideoTab = ({ editingLocation }) => {\n  // Extrair o ID da escola do editingLocation\n  const escolaId = editingLocation?.id || editingLocation?.escola_id;\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Informações sobre Vídeos */}\n      <div className=\"bg-gray-800 border border-gray-700 rounded-lg p-4\">\n        <h3 className=\"text-lg font-semibold text-gray-100 mb-4 border-b border-gray-600 pb-2\">\n          Gerenciamento de Vídeos\n        </h3>\n        <p className=\"text-gray-300 text-sm mb-4\">\n          Aqui você pode adicionar, editar e gerenciar vídeos relacionados à escola. \n          Os vídeos podem ser do YouTube, Vimeo ou outras plataformas.\n        </p>\n      </div>\n\n      {/* VideoManager Component */}\n      {escolaId ? (\n        <div className=\"bg-white rounded-lg shadow-sm\">\n          <VideoManager escolaId={escolaId} />\n        </div>\n      ) : (\n        <div className=\"bg-gray-800 border border-gray-700 rounded-lg p-6 text-center\">\n          <p className=\"text-gray-300\">\n            Selecione uma escola para gerenciar os vídeos.\n          </p>\n        </div>\n      )}\n\n      {/* Instruções de Uso */}\n      <div className=\"bg-gray-800 border border-gray-700 rounded-lg p-4\">\n        <h3 className=\"text-lg font-semibold text-gray-100 mb-4 border-b border-gray-600 pb-2\">\n          Como Adicionar Vídeos\n        </h3>\n        \n        <div className=\"space-y-3 text-sm text-gray-300\">\n          <div>\n            <strong className=\"text-amber-400\">YouTube:</strong>\n            <p>Use o formato: https://www.youtube.com/embed/VIDEO_ID</p>\n            <p className=\"text-xs text-gray-400\">Exemplo: https://www.youtube.com/embed/dQw4w9WgXcQ</p>\n          </div>\n          \n          <div>\n            <strong className=\"text-amber-400\">Vimeo:</strong>\n            <p>Use o formato: https://player.vimeo.com/video/VIDEO_ID</p>\n            <p className=\"text-xs text-gray-400\">Exemplo: https://player.vimeo.com/video/123456789</p>\n          </div>\n          \n          <div>\n            <strong className=\"text-amber-400\">Outras plataformas:</strong>\n            <p>Use o URL de embed fornecido pela plataforma</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default VideoTab; ","import React, { useRef, useCallback } from 'react';\nimport ReactQuill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\nimport './QuillEditor.css';\nimport { uploadImage } from '../../services/uploadService';\n\nconst QuillEditor = ({ value, onChange, placeholder, label, style = {} }) => {\n  const quillRef = useRef(null);\n  const [quillInstance, setQuillInstance] = React.useState(null);\n\n  // Handler customizado para upload de imagens\n  const imageHandler = useCallback(async () => {\n    const input = document.createElement('input');\n    input.setAttribute('type', 'file');\n    input.setAttribute('accept', 'image/*');\n    input.click();\n\n    input.onchange = async () => {\n      const file = input.files[0];\n      if (file && quillInstance) {\n        try {\n          // Mostrar loading\n          const range = quillInstance.getSelection();\n          \n          // Inserir placeholder de loading\n          quillInstance.insertEmbed(range.index, 'image', 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7');\n          \n          // Fazer upload da imagem\n          const imageUrl = await uploadImage(file);\n          \n          // Substituir placeholder pela imagem real\n          quillInstance.deleteText(range.index, 1);\n          quillInstance.insertEmbed(range.index, 'image', imageUrl);\n          \n          // Mover cursor para depois da imagem\n          quillInstance.setSelection(range.index + 1);\n        } catch (error) {\n          console.error('Erro ao fazer upload da imagem:', error);\n          alert('Erro ao fazer upload da imagem. Tente novamente.');\n        }\n      }\n    };\n  }, [quillInstance]);\n\n  // Configuração dos módulos do Quill\n  const modules = React.useMemo(() => ({\n    toolbar: {\n      container: [\n        [{ 'header': [1, 2, 3, false] }],\n        ['bold', 'italic', 'underline', 'strike'],\n        [{ 'color': [] }, { 'background': [] }],\n        [{ 'list': 'ordered'}, { 'list': 'bullet' }],\n        [{ 'align': [] }],\n        ['link'],\n        ['image'],\n        ['clean']\n      ],\n      handlers: {\n        image: imageHandler\n      }\n    },\n  }), [imageHandler]);\n\n  // Configuração dos formatos permitidos\n  const formats = [\n    'header',\n    'bold', 'italic', 'underline', 'strike',\n    'color', 'background',\n    'list', 'bullet',\n    'align',\n    'link', 'image'\n  ];\n\n  // Callback quando o editor é montado\n  const handleEditorChange = useCallback((content, delta, source, editor) => {\n    if (onChange) {\n      onChange(content, delta, source, editor);\n    }\n  }, [onChange]);\n\n  // Callback quando o editor é montado\n  const handleEditorReady = useCallback((quill) => {\n    setQuillInstance(quill);\n  }, []);\n\n  return (\n    <div className=\"rich-text-editor\">\n      {label && (\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          {label}\n        </label>\n      )}\n      \n      <div className=\"bg-gray-800 border border-gray-700 rounded-lg\">\n        <ReactQuill\n          ref={quillRef}\n          theme=\"snow\"\n          value={value || ''}\n          onChange={handleEditorChange}\n          onEditorReady={handleEditorReady}\n          modules={modules}\n          formats={formats}\n          placeholder={placeholder}\n          style={{\n            height: '300px',\n            backgroundColor: '#1f2937', // bg-gray-800\n            color: '#f3f4f6', // text-gray-100\n            ...style\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default QuillEditor;\n","import React from 'react';\nimport QuillEditor from '../../shared/QuillEditor';\nimport './RichTextEditor.css';\n\nconst RichTextEditor = ({ value, onChange, placeholder, label }) => {\n  return (\n    <QuillEditor\n      value={value}\n      onChange={onChange}\n      placeholder={placeholder}\n      label={label}\n    />\n  );\n};\n\nexport default RichTextEditor; ","import React from 'react';\nimport RichTextEditor from './RichTextEditor';\n\nconst HistoriasTab = ({ editingLocation, setEditingLocation }) => {\n  return (\n    <div className=\"space-y-6\">\n      {/* História da Escola */}\n      <RichTextEditor\n        label=\"História da Escola\"\n        value={editingLocation['historia_da_escola'] || ''}\n        onChange={(value) => setEditingLocation({ ...editingLocation, 'historia_da_escola': value })}\n        placeholder=\"Digite a história da escola...\"\n      />\n    </div>\n  );\n};\n\nexport default HistoriasTab; ","import React, { useState, useEffect } from 'react';\nimport { getHistoriasProfessor, createHistoriaProfessor, updateHistoriaProfessor, deleteHistoriaProfessor } from '../../../services/historiaProfessorService';\nimport RichTextEditor from './RichTextEditor';\n\nconst HistoriaProfessoresTab = ({ editingLocation, setEditingLocation }) => {\n  const [historias, setHistorias] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [editingHistoria, setEditingHistoria] = useState(null);\n  const [isCreating, setIsCreating] = useState(false);\n\n  // Carregar histórias existentes\n  useEffect(() => {\n    if (editingLocation?.id) {\n      loadHistorias();\n    }\n  }, [editingLocation?.id]);\n\n  const loadHistorias = async () => {\n    if (!editingLocation?.id) return;\n    \n    setLoading(true);\n    try {\n      const data = await getHistoriasProfessor(editingLocation.id);\n      setHistorias(data || []);\n    } catch (error) {\n      console.error('Erro ao carregar histórias:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSaveHistoria = async (historiaData) => {\n    if (!editingLocation?.id) return;\n\n    try {\n      if (editingHistoria?.id) {\n        // Atualizar história existente\n        await updateHistoriaProfessor(editingHistoria.id, historiaData);\n      } else {\n        // Criar nova história\n        await createHistoriaProfessor({\n          ...historiaData,\n          escola_id: editingLocation.id\n        });\n      }\n      \n      // Recarregar histórias\n      await loadHistorias();\n      \n      // Limpar estado de edição\n      setEditingHistoria(null);\n      setIsCreating(false);\n    } catch (error) {\n      console.error('Erro ao salvar história:', error);\n      alert('Erro ao salvar história: ' + error.message);\n    }\n  };\n\n  const handleDeleteHistoria = async (historiaId) => {\n    if (!window.confirm('Tem certeza que deseja excluir esta história?')) return;\n\n    try {\n      await deleteHistoriaProfessor(historiaId);\n      await loadHistorias();\n    } catch (error) {\n      console.error('Erro ao deletar história:', error);\n      alert('Erro ao deletar história: ' + error.message);\n    }\n  };\n\n  const handleEditHistoria = (historia) => {\n    console.log('handleEditHistoria chamado com:', historia);\n    console.log('Estado atual editingHistoria:', editingHistoria);\n    console.log('Estado atual isCreating:', isCreating);\n    \n    setEditingHistoria(historia);\n    setIsCreating(false);\n    \n    console.log('Após setState - editingHistoria será:', historia);\n    console.log('Após setState - isCreating será: false');\n  };\n\n  const handleNewHistoria = () => {\n    setEditingHistoria({\n      nome_professor: '',\n      historia: ''\n    });\n    setIsCreating(true);\n  };\n\n  const handleCancelEdit = () => {\n    setEditingHistoria(null);\n    setIsCreating(false);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-8\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600\"></div>\n        <span className=\"ml-2 text-gray-600\">Carregando histórias...</span>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Cabeçalho */}\n      <div className=\"flex items-center justify-between\">\n        <h3 className=\"text-lg font-semibold text-gray-200\">Depoimentos dos Professores</h3>\n        <button\n          onClick={handleNewHistoria}\n          className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\n        >\n          + Nova História\n        </button>\n      </div>\n\n      {/* Formulário de edição/criação */}\n      {editingHistoria && (\n        <div className=\"bg-gray-800 border border-gray-700 rounded-lg p-6\">\n          <h4 className=\"text-md font-medium text-gray-200 mb-4\">\n            {isCreating ? 'Nova História do Professor' : 'Editar História do Professor'}\n          </h4>\n          \n          <div className=\"space-y-4\">\n            {/* Nome do Professor */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-200 mb-2\">\n                Nome do Professor\n              </label>\n              <input\n                type=\"text\"\n                value={editingHistoria.nome_professor || ''}\n                onChange={(e) => setEditingHistoria({\n                  ...editingHistoria,\n                  nome_professor: e.target.value\n                })}\n                className=\"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-200 focus:outline-none focus:ring-2 focus:ring-green-500\"\n                placeholder=\"Nome do professor (opcional)\"\n              />\n            </div>\n\n            {/* História/Depoimento */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-200 mb-2\">\n                Depoimento/História\n              </label>\n              <RichTextEditor\n                value={editingHistoria.historia || ''}\n                onChange={(value) => setEditingHistoria({\n                  ...editingHistoria,\n                  historia: value\n                })}\n                placeholder=\"Digite o depoimento ou história do professor...\"\n              />\n            </div>\n\n            {/* Botões de ação */}\n            <div className=\"flex gap-3 pt-4\">\n              <button\n                onClick={() => handleSaveHistoria(editingHistoria)}\n                className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\n              >\n                {isCreating ? 'Criar' : 'Salvar'}\n              </button>\n              <button\n                onClick={handleCancelEdit}\n                className=\"px-4 py-2 bg-gray-600 text-gray-200 rounded-lg hover:bg-gray-700 transition-colors\"\n              >\n                Cancelar\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Lista de histórias existentes */}\n      {historias.length > 0 && (\n        <div className=\"space-y-4\">\n          <h4 className=\"text-md font-medium text-gray-200\">Histórias Existentes</h4>\n          {historias.map((historia) => (\n            <div key={historia.id} className=\"bg-gray-800 border border-gray-700 rounded-lg p-4\">\n              <div className=\"flex items-start justify-between\">\n                <div className=\"flex-1\">\n                  {historia.nome_professor && (\n                    <h5 className=\"font-medium text-green-400 mb-2\">\n                      {historia.nome_professor}\n                    </h5>\n                  )}\n                  <div \n                    className=\"text-gray-300 prose prose-invert max-w-none\"\n                    dangerouslySetInnerHTML={{ __html: historia.historia }}\n                  />\n                </div>\n                <div className=\"flex gap-2 ml-4\">\n                  <button\n                    onClick={() => handleEditHistoria(historia)}\n                    className=\"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 transition-colors\"\n                  >\n                    Editar\n                  </button>\n                  <button\n                    onClick={() => handleDeleteHistoria(historia.id)}\n                    className=\"px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700 transition-colors\"\n                  >\n                    Excluir\n                  </button>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* Mensagem quando não há histórias */}\n      {historias.length === 0 && !editingHistoria && (\n        <div className=\"text-center py-8 text-gray-500\">\n          <p>Nenhuma história de professor cadastrada ainda.</p>\n          <p className=\"text-sm mt-2\">Clique em \"Nova História\" para começar.</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default HistoriaProfessoresTab; ","import React, { useEffect, useRef } from 'react';\nimport Map from 'ol/Map';\nimport View from 'ol/View';\nimport TileLayer from 'ol/layer/Tile';\nimport VectorLayer from 'ol/layer/Vector';\nimport VectorSource from 'ol/source/Vector';\nimport XYZ from 'ol/source/XYZ';\nimport { fromLonLat, toLonLat } from 'ol/proj';\nimport { Point } from 'ol/geom';\nimport { Feature } from 'ol';\nimport { Style, Fill, Stroke, Icon } from 'ol/style';\nimport 'ol/ol.css';\n\n// Caminho para o marcador SVG\nconst MARKER_SVG_PATH = `${process.env.PUBLIC_URL || ''}/map-marker.svg`;\n\nconst CoordenadasTab = ({ editingLocation, setEditingLocation }) => {\n  const mapRef = useRef(null);\n  const mapInstanceRef = useRef(null);\n  const markerRef = useRef(null);\n\n  // Função para atualizar o mapa quando as coordenadas mudam\n  const updateMap = (lat, lng) => {\n    if (!mapInstanceRef.current) return;\n\n    const view = mapInstanceRef.current.getView();\n    \n    if (lat && lng && !isNaN(lat) && !isNaN(lng)) {\n      const coordinates = fromLonLat([parseFloat(lng), parseFloat(lat)]);\n      \n      // Atualizar o centro do mapa\n      view.setCenter(coordinates);\n      view.setZoom(15);\n\n      // Atualizar ou criar o marcador\n      const vectorSource = mapInstanceRef.current.getLayers().getArray()\n        .find(layer => layer instanceof VectorLayer)?.getSource();\n\n      if (vectorSource) {\n        // Remover marcador anterior\n        if (markerRef.current) {\n          vectorSource.removeFeature(markerRef.current);\n        }\n\n        // Criar novo marcador\n        const marker = new Feature({\n          geometry: new Point(coordinates)\n        });\n\n        marker.setStyle(new Style({\n          image: new Icon({\n            src: MARKER_SVG_PATH,\n            scale: 0.6,\n            anchor: [0.5, 0.5],\n            anchorXUnits: 'fraction',\n            anchorYUnits: 'fraction',\n            color: '#fbbf24'\n          })\n        }));\n\n        vectorSource.addFeature(marker);\n        markerRef.current = marker;\n      }\n    }\n  };\n\n  // Função para atualizar coordenadas quando o mapa é clicado\n  const handleMapClick = (event) => {\n    const coordinates = toLonLat(event.coordinate);\n    const [lng, lat] = coordinates;\n    \n    setEditingLocation({\n      ...editingLocation,\n      'latitude': lat.toFixed(6),\n      'longitude': lng.toFixed(6)\n    });\n  };\n\n  // Inicializar mapa\n  useEffect(() => {\n    if (!mapRef.current) return;\n\n    // Criar mapa\n    const map = new Map({\n      target: mapRef.current,\n      layers: [\n        new TileLayer({\n          source: new XYZ({\n            url: 'https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png'\n          })\n        }),\n        new VectorLayer({\n          source: new VectorSource()\n        })\n      ],\n      view: new View({\n        center: fromLonLat([-46.6388, -23.5489]), // São Paulo\n        zoom: 8\n      })\n    });\n\n    mapInstanceRef.current = map;\n\n    // Adicionar evento de clique\n    map.on('click', handleMapClick);\n\n    // Atualizar mapa com coordenadas iniciais\n    const lat = editingLocation['Latitude'];\n    const lng = editingLocation['Longitude'];\n    if (lat && lng) {\n      updateMap(lat, lng);\n    }\n\n    return () => {\n      if (mapInstanceRef.current) {\n        mapInstanceRef.current.setTarget(undefined);\n      }\n    };\n  }, []);\n\n  // Atualizar mapa quando coordenadas mudam\n  useEffect(() => {\n    const lat = editingLocation['Latitude'];\n    const lng = editingLocation['Longitude'];\n    updateMap(lat, lng);\n  }, [editingLocation['Latitude'], editingLocation['Longitude']]);\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Campos de Coordenadas */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        {/* Latitude */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n            Latitude\n          </label>\n          <input\n            type=\"number\"\n            step=\"any\"\n            className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n            value={editingLocation['Latitude'] || ''}\n            onChange={e => setEditingLocation({ ...editingLocation, 'Latitude': e.target.value })}\n            placeholder=\"Ex: -23.5489\"\n          />\n          <p className=\"text-xs text-gray-400 mt-1\">\n            Valor entre -90 e 90 (ex: -23.5489 para São Paulo)\n          </p>\n        </div>\n\n        {/* Longitude */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n            Longitude\n          </label>\n          <input\n            type=\"number\"\n            step=\"any\"\n            className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n            value={editingLocation['Longitude'] || ''}\n            onChange={e => setEditingLocation({ ...editingLocation, 'Longitude': e.target.value })}\n            placeholder=\"Ex: -46.6388\"\n          />\n          <p className=\"text-xs text-gray-400 mt-1\">\n            Valor entre -180 e 180 (ex: -46.6388 para São Paulo)\n          </p>\n        </div>\n      </div>\n\n      {/* Mapa */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Mapa - Clique para definir a localização\n        </label>\n        <div \n          ref={mapRef}\n          className=\"w-full h-64 border border-gray-700 rounded-lg bg-gray-800\"\n          style={{ minHeight: '256px' }}\n        />\n        <p className=\"text-xs text-gray-400 mt-1\">\n          Clique no mapa para definir as coordenadas automaticamente\n        </p>\n      </div>\n\n      {/* Informações sobre Coordenadas */}\n      <div className=\"bg-gray-800 border border-gray-700 rounded-lg p-4\">\n        <h3 className=\"text-lg font-semibold text-gray-100 mb-4 border-b border-gray-600 pb-2\">\n          Como Usar as Coordenadas\n        </h3>\n        \n        <div className=\"space-y-3 text-sm text-gray-300\">\n          <div>\n            <strong className=\"text-amber-400\">Método 1 - Digite manualmente:</strong>\n            <p>Digite as coordenadas nos campos acima. Use ponto decimal (ex: -23.5489).</p>\n          </div>\n          \n          <div>\n            <strong className=\"text-amber-400\">Método 2 - Clique no mapa:</strong>\n            <p>Clique no mapa para definir automaticamente as coordenadas da localização.</p>\n          </div>\n          \n          <div>\n            <strong className=\"text-amber-400\">Formato das coordenadas:</strong>\n            <p>Latitude: -90 a +90 | Longitude: -180 a +180</p>\n          </div>\n          \n          <div>\n            <strong className=\"text-amber-400\">Exemplos para São Paulo:</strong>\n            <p>Latitude: -23.5489 | Longitude: -46.6388</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CoordenadasTab; ","import React, { useState, useEffect } from 'react';\nimport { Download, Eye, RefreshCw, Database, FileText, Users, Image, Video, FileImage, Archive, HardDrive, Globe, FileDown, CheckCircle, AlertCircle } from 'lucide-react';\nimport { supabase } from '../../../supabaseClient';\n\nconst TabelasIntegraisTab = () => {\n  const [tabelas, setTabelas] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedTabela, setSelectedTabela] = useState(null);\n  const [dadosTabela, setDadosTabela] = useState([]);\n  const [loadingDados, setLoadingDados] = useState(false);\n  const [backupStatus, setBackupStatus] = useState({});\n  const [backupProgress, setBackupProgress] = useState(0);\n\n  // Lista das tabelas principais do sistema\n  const TABELAS_SISTEMA = [\n    {\n      id: 'escolas_completa',\n      nome: 'Escolas Completas',\n      descricao: 'Dados principais de todas as escolas indígenas',\n      icone: Database,\n      cor: 'bg-blue-500',\n      registros: 0\n    },\n    {\n      id: 'historias_professor',\n      nome: 'Histórias dos Professores',\n      descricao: 'Depoimentos e histórias dos professores indígenas',\n      icone: Users,\n      cor: 'bg-green-500',\n      registros: 0\n    },\n    {\n      id: 'documentos_escola',\n      nome: 'Documentos das Escolas',\n      descricao: 'PDFs e documentos das escolas',\n      icone: FileText,\n      cor: 'bg-purple-500',\n      registros: 0\n    },\n    {\n      id: 'titulos_videos',\n      nome: 'Vídeos das Escolas',\n      descricao: 'Links e títulos dos vídeos das escolas',\n      icone: Video,\n      cor: 'bg-red-500',\n      registros: 0\n    },\n    {\n      id: 'legendas_fotos',\n      nome: 'Legendas das Fotos',\n      descricao: 'Legendas e descrições das imagens',\n      icone: Image,\n      cor: 'bg-yellow-500',\n      registros: 0\n    },\n    {\n      id: 'imagens_professores',\n      nome: 'Imagens dos Professores',\n      descricao: 'Metadados das imagens dos professores',\n      icone: Users,\n      cor: 'bg-teal-500',\n      registros: 0\n    },\n    {\n      id: 'imagens_escola',\n      nome: 'Imagens das Escolas',\n      descricao: 'Metadados das imagens das escolas',\n      icone: Image,\n      cor: 'bg-indigo-500',\n      registros: 0\n    }\n  ];\n\n  // Buckets do Supabase para backup\n  const BUCKETS_BACKUP = [\n    {\n      id: 'imagens-das-escolas',\n      nome: 'Imagens das Escolas',\n      descricao: 'Fotos das escolas indígenas',\n      icone: Image,\n      cor: 'bg-indigo-500',\n      arquivos: 0\n    },\n    {\n      id: 'imagens-professores',\n      nome: 'Imagens dos Professores',\n      descricao: 'Fotos dos professores indígenas',\n      icone: Users,\n      cor: 'bg-teal-500',\n      arquivos: 0\n    },\n    {\n      id: 'pdfs',\n      nome: 'Documentos PDF',\n      descricao: 'Documentos das escolas em PDF',\n      icone: FileText,\n      cor: 'bg-orange-500',\n      arquivos: 0\n    },\n    {\n      id: 'historias-professor',\n      nome: 'Histórias dos Professores',\n      descricao: 'Imagens das histórias dos professores',\n      icone: Users,\n      cor: 'bg-green-500',\n      arquivos: 0\n    }\n  ];\n\n  // Função para testar buckets\n  const testarBuckets = async () => {\n    console.log('Testando buckets do Supabase...');\n    setBackupStatus({ status: 'testando', message: 'Testando buckets...' });\n    \n    const resultados = [];\n    \n    for (const bucket of BUCKETS_BACKUP) {\n      try {\n        console.log(`Testando bucket: ${bucket.id}`);\n        \n        // Tentar listar arquivos do bucket\n        const { data, error } = await supabase.storage\n          .from(bucket.id)\n          .list('', { limit: 1000 });\n        \n        if (error) {\n          console.error(`❌ Erro no bucket ${bucket.id}:`, error);\n          resultados.push({ bucket: bucket.id, status: 'erro', mensagem: error.message });\n        } else {\n          console.log(`✅ Bucket ${bucket.id} OK - ${data?.length || 0} arquivos encontrados`);\n          if (data && data.length > 0) {\n            console.log(`📁 Arquivos no bucket ${bucket.id}:`, data.map(f => f.name));\n          }\n          resultados.push({ bucket: bucket.id, status: 'ok', arquivos: data?.length || 0 });\n        }\n      } catch (err) {\n        console.error(`❌ Exceção no bucket ${bucket.id}:`, err);\n        resultados.push({ bucket: bucket.id, status: 'excecao', mensagem: err.message });\n      }\n    }\n    \n    // Mostrar resultados\n    console.log('Resultados dos testes:', resultados);\n    \n    const bucketsOk = resultados.filter(r => r.status === 'ok').length;\n    const bucketsErro = resultados.filter(r => r.status === 'erro' || r.status === 'excecao').length;\n    const totalArquivos = resultados.reduce((acc, r) => acc + (r.arquivos || 0), 0);\n    \n    if (bucketsErro === 0) {\n      setBackupStatus({ \n        status: 'concluido', \n        message: `✅ Todos os buckets estão funcionando! ${bucketsOk} buckets testados, ${totalArquivos} arquivos encontrados.` \n      });\n    } else {\n      setBackupStatus({ \n        status: 'erro', \n        message: `⚠️ ${bucketsErro} bucket(s) com problema. Verifique o console para detalhes.` \n      });\n    }\n    \n    setTimeout(() => {\n      setBackupStatus({});\n    }, 5000);\n  };\n\n  // Função para testar tabelas\n  const testarTabelas = async () => {\n    console.log('Testando tabelas do Supabase...');\n    setBackupStatus({ status: 'testando', message: 'Testando tabelas...' });\n    \n    const resultados = [];\n    \n    for (const tabela of TABELAS_SISTEMA) {\n      try {\n        console.log(`Testando tabela: ${tabela.id}`);\n        \n        // Tentar buscar dados da tabela\n        const { data, error } = await supabase\n          .from(tabela.id)\n          .select('*')\n          .limit(5);\n        \n        if (error) {\n          console.error(`❌ Erro na tabela ${tabela.id}:`, error);\n          resultados.push({ tabela: tabela.id, status: 'erro', mensagem: error.message });\n        } else {\n          console.log(`✅ Tabela ${tabela.id} OK - ${data?.length || 0} registros encontrados`);\n          resultados.push({ tabela: tabela.id, status: 'ok', registros: data?.length || 0 });\n        }\n      } catch (err) {\n        console.error(`❌ Exceção na tabela ${tabela.id}:`, err);\n        resultados.push({ tabela: tabela.id, status: 'excecao', mensagem: err.message });\n      }\n    }\n    \n    // Mostrar resultados\n    console.log('Resultados dos testes de tabelas:', resultados);\n    \n    const tabelasOk = resultados.filter(r => r.status === 'ok').length;\n    const tabelasErro = resultados.filter(r => r.status === 'erro' || r.status === 'excecao').length;\n    \n    if (tabelasErro === 0) {\n      setBackupStatus({ \n        status: 'concluido', \n        message: `✅ Todas as tabelas estão funcionando! ${tabelasOk} tabelas testadas.` \n      });\n    } else {\n      setBackupStatus({ \n        status: 'erro', \n        message: `⚠️ ${tabelasErro} tabela(s) com problema. Verifique o console para detalhes.` \n      });\n    }\n    \n    setTimeout(() => {\n      setBackupStatus({});\n    }, 5000);\n  };\n\n  useEffect(() => {\n    setTabelas(TABELAS_SISTEMA);\n    setLoading(false);\n  }, []);\n\n  // Carregar dados de uma tabela específica\n  const carregarDadosTabela = async (tabelaId) => {\n    try {\n      setLoadingDados(true);\n      setError(null);\n      \n      const { data, error } = await supabase\n        .from(tabelaId)\n        .select('*')\n        .order('id', { ascending: true });\n\n      if (error) throw error;\n      \n      setDadosTabela(data || []);\n      setSelectedTabela(tabelaId);\n    } catch (err) {\n      console.error(`Erro ao carregar dados da tabela ${tabelaId}:`, err);\n      setError(`Erro ao carregar dados: ${err.message}`);\n    } finally {\n      setLoadingDados(false);\n    }\n  };\n\n  // Função para baixar arquivo individual\n  const downloadFile = async (url, filename) => {\n    try {\n      const response = await fetch(url);\n      const blob = await response.blob();\n      const downloadUrl = window.URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = downloadUrl;\n      link.download = filename;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      window.URL.revokeObjectURL(downloadUrl);\n    } catch (error) {\n      console.error(`Erro ao baixar ${filename}:`, error);\n    }\n  };\n\n  // Função para criar e baixar ZIP\n  const createAndDownloadZip = async (files, zipName) => {\n    try {\n      console.log('Iniciando criação do ZIP com', files.length, 'arquivos');\n      \n      // Importar JSZip dinamicamente\n      const JSZip = (await import('jszip')).default;\n      const zip = new JSZip();\n\n      // Adicionar arquivos ao ZIP\n      let arquivosAdicionados = 0;\n      for (const file of files) {\n        try {\n          console.log(`Baixando arquivo: ${file.name} de ${file.url}`);\n          \n          const response = await fetch(file.url);\n          if (!response.ok) {\n            throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n          }\n          \n          const blob = await response.blob();\n          console.log(`Arquivo ${file.name} baixado, tamanho: ${blob.size} bytes`);\n          \n          zip.file(file.name, blob);\n          arquivosAdicionados++;\n          \n          // Atualizar progresso\n          const progress = (arquivosAdicionados / files.length) * 100;\n          setBackupProgress(progress);\n          \n        } catch (error) {\n          console.error(`Erro ao adicionar ${file.name} ao ZIP:`, error);\n          // Continuar com outros arquivos\n        }\n      }\n\n      if (arquivosAdicionados === 0) {\n        throw new Error('Nenhum arquivo foi adicionado ao ZIP');\n      }\n\n      console.log(`Gerando ZIP com ${arquivosAdicionados} arquivos...`);\n      \n      // Gerar e baixar ZIP\n      const zipBlob = await zip.generateAsync({ type: 'blob' });\n      console.log(`ZIP gerado, tamanho: ${zipBlob.size} bytes`);\n      \n      const downloadUrl = window.URL.createObjectURL(zipBlob);\n      const link = document.createElement('a');\n      link.href = downloadUrl;\n      link.download = zipName;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      window.URL.revokeObjectURL(downloadUrl);\n      \n      console.log('ZIP baixado com sucesso:', zipName);\n      \n    } catch (error) {\n      console.error('Erro ao criar ZIP:', error);\n      \n      // Fallback: baixar arquivos individualmente\n      console.log('Tentando download individual dos arquivos...');\n      for (const file of files) {\n        try {\n          await downloadFile(file.url, file.name);\n          await new Promise(resolve => setTimeout(resolve, 200)); // Delay maior para evitar sobrecarga\n        } catch (downloadError) {\n          console.error(`Erro ao baixar ${file.name}:`, downloadError);\n        }\n      }\n    }\n  };\n\n  // Backup completo do site com download das imagens\n  const backupCompletoSite = async () => {\n    try {\n      setBackupStatus({ status: 'iniciando', message: 'Iniciando backup completo...' });\n      setBackupProgress(0);\n\n      // 1. Backup das tabelas (25% do progresso)\n      setBackupStatus({ status: 'tabelas', message: 'Fazendo backup das tabelas...' });\n      setBackupProgress(10);\n      \n      const backupTabelas = {};\n      for (const tabela of TABELAS_SISTEMA) {\n        try {\n          const { data, error } = await supabase\n            .from(tabela.id)\n            .select('*');\n          \n          if (error) throw error;\n          backupTabelas[tabela.id] = data || [];\n        } catch (err) {\n          console.error(`Erro ao fazer backup da tabela ${tabela.id}:`, err);\n        }\n      }\n      setBackupProgress(25);\n\n      // 2. Backup dos buckets com URLs para download (50% do progresso)\n      setBackupStatus({ status: 'buckets', message: 'Preparando download das imagens...' });\n      setBackupProgress(30);\n\n      const backupArquivos = {};\n      const todosArquivos = [];\n      \n      for (const bucket of BUCKETS_BACKUP) {\n        try {\n          console.log(`Listando arquivos do bucket: ${bucket.id}`);\n          const { data, error } = await supabase.storage\n            .from(bucket.id)\n            .list('', { limit: 1000 });\n          \n          if (error) throw error;\n          \n          console.log(`Bucket ${bucket.id}: ${data?.length || 0} arquivos encontrados`);\n          console.log('Arquivos encontrados:', data);\n          \n          const arquivosComUrls = [];\n          for (const arquivo of data) {\n            try {\n              console.log(`Gerando URL para: ${arquivo.name}`);\n              const { data: urlData } = await supabase.storage\n                .from(bucket.id)\n                .createSignedUrl(arquivo.name, 3600); // URL válida por 1 hora\n              \n              if (urlData?.signedUrl) {\n                const arquivoCompleto = {\n                  ...arquivo,\n                  url: urlData.signedUrl,\n                  bucket: bucket.id,\n                  bucketNome: bucket.nome\n                };\n                arquivosComUrls.push(arquivoCompleto);\n                todosArquivos.push(arquivoCompleto);\n                console.log(`URL gerada para ${arquivo.name}: ${urlData.signedUrl.substring(0, 50)}...`);\n              } else {\n                console.warn(`URL não gerada para ${arquivo.name}`);\n              }\n            } catch (err) {\n              console.error(`Erro ao gerar URL para ${arquivo.name}:`, err);\n            }\n          }\n          \n          console.log(`Bucket ${bucket.id}: ${arquivosComUrls.length} URLs geradas`);\n          backupArquivos[bucket.id] = arquivosComUrls;\n        } catch (err) {\n          console.error(`Erro ao fazer backup do bucket ${bucket.id}:`, err);\n        }\n      }\n      setBackupProgress(75);\n\n      // 3. Criar arquivo de backup completo (25% do progresso)\n      setBackupStatus({ status: 'finalizando', message: 'Criando arquivo de backup...' });\n      setBackupProgress(80);\n\n      const backupCompleto = {\n        metadata: {\n          dataBackup: new Date().toISOString(),\n          versao: '1.0',\n          descricao: 'Backup completo do sistema OPIN - Observatório dos Professores Indígenas',\n          tabelas: TABELAS_SISTEMA.map(t => ({ id: t.id, nome: t.nome })),\n          buckets: BUCKETS_BACKUP.map(b => ({ id: b.id, nome: b.nome })),\n          totalRegistros: Object.values(backupTabelas).reduce((acc, tabela) => acc + (tabela?.length || 0), 0),\n          totalArquivos: Object.values(backupArquivos).reduce((acc, bucket) => acc + (bucket?.length || 0), 0)\n        },\n        dados: backupTabelas,\n        arquivos: backupArquivos\n      };\n\n      // 4. Download do backup completo\n      setBackupStatus({ status: 'download', message: 'Preparando download...' });\n      setBackupProgress(90);\n\n      const jsonContent = JSON.stringify(backupCompleto, null, 2);\n      const blob = new Blob([jsonContent], { type: 'application/json;charset=utf-8;' });\n      const link = document.createElement('a');\n      const url = URL.createObjectURL(blob);\n      link.setAttribute('href', url);\n      link.setAttribute('download', `backup_completo_opin_${new Date().toISOString().split('T')[0]}.json`);\n      link.style.visibility = 'hidden';\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n\n      // 5. Download das imagens em ZIP\n      console.log(`Total de arquivos para download: ${todosArquivos.length}`);\n      console.log('Arquivos para download:', todosArquivos);\n      \n      if (todosArquivos.length > 0) {\n        setBackupStatus({ status: 'imagens', message: 'Baixando imagens...' });\n        setBackupProgress(95);\n        \n        await createAndDownloadZip(\n          todosArquivos, \n          `imagens_opin_${new Date().toISOString().split('T')[0]}.zip`\n        );\n      } else {\n        console.warn('Nenhuma imagem encontrada para backup');\n        setBackupStatus({ \n          status: 'erro', \n          message: 'Nenhuma imagem encontrada para backup. Verifique se há arquivos nos buckets.' \n        });\n      }\n\n      setBackupProgress(100);\n      setBackupStatus({ \n        status: 'concluido', \n        message: 'Backup completo realizado com sucesso!',\n        detalhes: {\n          tabelas: Object.keys(backupTabelas).length,\n          registros: Object.values(backupTabelas).reduce((acc, tabela) => acc + (tabela?.length || 0), 0),\n          arquivos: Object.values(backupArquivos).reduce((acc, bucket) => acc + (bucket?.length || 0), 0)\n        }\n      });\n\n      // Limpar status após 5 segundos\n      setTimeout(() => {\n        setBackupStatus({});\n        setBackupProgress(0);\n      }, 5000);\n\n    } catch (err) {\n      console.error('Erro no backup completo:', err);\n      setBackupStatus({ \n        status: 'erro', \n        message: `Erro no backup: ${err.message}` \n      });\n      setBackupProgress(0);\n    }\n  };\n\n  // Backup apenas das tabelas em formato CSV\n  const backupApenasTabelas = async () => {\n    try {\n      setBackupStatus({ status: 'tabelas', message: 'Fazendo backup das tabelas em CSV...' });\n      setBackupProgress(0);\n\n      const backupTabelasData = {};\n      for (let i = 0; i < TABELAS_SISTEMA.length; i++) {\n        const tabela = TABELAS_SISTEMA[i];\n        try {\n          const { data, error } = await supabase\n            .from(tabela.id)\n            .select('*');\n          \n          if (error) throw error;\n          backupTabelasData[tabela.id] = data || [];\n          \n          setBackupProgress((i + 1) / TABELAS_SISTEMA.length * 100);\n        } catch (err) {\n          console.error(`Erro ao fazer backup da tabela ${tabela.id}:`, err);\n        }\n      }\n\n      // Criar arquivo CSV para cada tabela\n      const dataAtual = new Date().toISOString().split('T')[0];\n      \n      // Importar JSZip dinamicamente para criar um arquivo ZIP com todos os CSVs\n      const JSZip = (await import('jszip')).default;\n      const zip = new JSZip();\n\n      // Adicionar cada tabela como um arquivo CSV separado\n      for (const [tabelaId, dados] of Object.entries(backupTabelasData)) {\n        if (dados && dados.length > 0) {\n          // Obter cabeçalhos das colunas\n          const headers = Object.keys(dados[0]);\n          \n          // Criar conteúdo CSV\n          const csvContent = [\n            headers.join(','),\n            ...dados.map(row => \n              headers.map(header => {\n                const value = row[header];\n                // Escapar vírgulas e quebras de linha\n                if (typeof value === 'string' && (value.includes(',') || value.includes('\\n') || value.includes('\"'))) {\n                  return `\"${value.replace(/\"/g, '\"\"')}\"`;\n                }\n                return value || '';\n              }).join(',')\n            )\n          ].join('\\n');\n\n          // Adicionar ao ZIP\n          zip.file(`${tabelaId}_${dataAtual}.csv`, csvContent);\n        }\n      }\n\n      // Adicionar arquivo de metadados\n      const metadata = {\n        dataBackup: new Date().toISOString(),\n        tipo: 'backup_tabelas_csv',\n        tabelas: Object.keys(backupTabelasData),\n        totalRegistros: Object.values(backupTabelasData).reduce((acc, tabela) => acc + (tabela?.length || 0), 0),\n        formato: 'CSV',\n        descricao: 'Backup das tabelas do sistema OPIN em formato CSV'\n      };\n      \n      zip.file(`metadata_${dataAtual}.json`, JSON.stringify(metadata, null, 2));\n\n      // Gerar e baixar ZIP\n      const zipBlob = await zip.generateAsync({ type: 'blob' });\n      const downloadUrl = window.URL.createObjectURL(zipBlob);\n      const link = document.createElement('a');\n      link.href = downloadUrl;\n      link.download = `backup_tabelas_csv_opin_${dataAtual}.zip`;\n      link.style.visibility = 'hidden';\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      window.URL.revokeObjectURL(downloadUrl);\n\n      setBackupStatus({ \n        status: 'concluido', \n        message: 'Backup das tabelas em CSV realizado com sucesso!' \n      });\n\n      setTimeout(() => {\n        setBackupStatus({});\n        setBackupProgress(0);\n      }, 3000);\n\n    } catch (err) {\n      console.error('Erro no backup das tabelas:', err);\n      setBackupStatus({ \n        status: 'erro', \n        message: `Erro no backup: ${err.message}` \n      });\n      setBackupProgress(0);\n    }\n  };\n\n  // Backup apenas das imagens\n  const backupImagens = async () => {\n    try {\n      console.log('Iniciando backup das imagens...');\n      setBackupStatus({ status: 'imagens', message: 'Preparando backup das imagens...' });\n      setBackupProgress(0);\n\n      const todosArquivos = [];\n      \n      for (let i = 0; i < BUCKETS_BACKUP.length; i++) {\n        const bucket = BUCKETS_BACKUP[i];\n        try {\n          console.log(`Processando bucket: ${bucket.id} (${bucket.nome})`);\n          setBackupStatus({ \n            status: 'imagens', \n            message: `Processando bucket: ${bucket.nome}...` \n          });\n          \n          // Listar arquivos do bucket\n          const { data: arquivos, error } = await supabase.storage\n            .from(bucket.id)\n            .list('', { limit: 1000 });\n          \n          if (error) {\n            console.error(`Erro ao listar arquivos do bucket ${bucket.id}:`, error);\n            throw error;\n          }\n          \n          console.log(`Bucket ${bucket.id} tem ${arquivos?.length || 0} arquivos`);\n          \n          if (arquivos && arquivos.length > 0) {\n            // Gerar URLs assinadas para cada arquivo\n            for (const arquivo of arquivos) {\n              try {\n                console.log(`Gerando URL para: ${arquivo.name}`);\n                \n                const { data: urlData, error: urlError } = await supabase.storage\n                  .from(bucket.id)\n                  .createSignedUrl(arquivo.name, 3600);\n                \n                if (urlError) {\n                  console.error(`Erro ao gerar URL para ${arquivo.name}:`, urlError);\n                  continue;\n                }\n                \n                if (urlData?.signedUrl) {\n                  const arquivoCompleto = {\n                    ...arquivo,\n                    url: urlData.signedUrl,\n                    bucket: bucket.id,\n                    bucketNome: bucket.nome\n                  };\n                  todosArquivos.push(arquivoCompleto);\n                  console.log(`URL gerada para ${arquivo.name}: ${urlData.signedUrl.substring(0, 50)}...`);\n                } else {\n                  console.warn(`URL não gerada para ${arquivo.name}`);\n                }\n              } catch (err) {\n                console.error(`Erro ao gerar URL para ${arquivo.name}:`, err);\n              }\n            }\n          } else {\n            console.log(`Bucket ${bucket.id} está vazio`);\n          }\n          \n          setBackupProgress((i + 1) / BUCKETS_BACKUP.length * 100);\n        } catch (err) {\n          console.error(`Erro ao processar bucket ${bucket.id}:`, err);\n          // Continuar com outros buckets\n        }\n      }\n\n      console.log(`Total de arquivos encontrados: ${todosArquivos.length}`);\n\n      if (todosArquivos.length > 0) {\n        setBackupStatus({ \n          status: 'download', \n          message: `Criando arquivo ZIP com ${todosArquivos.length} imagens...` \n        });\n        \n        await createAndDownloadZip(\n          todosArquivos, \n          `imagens_opin_${new Date().toISOString().split('T')[0]}.zip`\n        );\n\n        setBackupStatus({ \n          status: 'concluido', \n          message: `Backup das imagens realizado com sucesso! ${todosArquivos.length} arquivos baixados.` \n        });\n      } else {\n        setBackupStatus({ \n          status: 'concluido', \n          message: 'Nenhuma imagem encontrada para backup.' \n        });\n      }\n\n      setTimeout(() => {\n        setBackupStatus({});\n        setBackupProgress(0);\n      }, 3000);\n\n    } catch (err) {\n      console.error('Erro no backup das imagens:', err);\n      setBackupStatus({ \n        status: 'erro', \n        message: `Erro no backup: ${err.message}` \n      });\n      setBackupProgress(0);\n    }\n  };\n\n  // Download dos dados em formato CSV\n  const downloadCSV = (tabelaId, dados) => {\n    if (!dados || dados.length === 0) {\n      alert('Nenhum dado para baixar');\n      return;\n    }\n\n    // Obter cabeçalhos das colunas\n    const headers = Object.keys(dados[0]);\n    \n    // Criar conteúdo CSV\n    const csvContent = [\n      headers.join(','),\n      ...dados.map(row => \n        headers.map(header => {\n          const value = row[header];\n          // Escapar vírgulas e quebras de linha\n          if (typeof value === 'string' && (value.includes(',') || value.includes('\\n') || value.includes('\"'))) {\n            return `\"${value.replace(/\"/g, '\"\"')}\"`;\n          }\n          return value || '';\n        }).join(',')\n      )\n    ].join('\\n');\n\n    // Criar blob e download\n    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n    const link = document.createElement('a');\n    const url = URL.createObjectURL(blob);\n    link.setAttribute('href', url);\n    link.setAttribute('download', `${tabelaId}_${new Date().toISOString().split('T')[0]}.csv`);\n    link.style.visibility = 'hidden';\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n\n  // Download dos dados em formato JSON\n  const downloadJSON = (tabelaId, dados) => {\n    if (!dados || dados.length === 0) {\n      alert('Nenhum dado para baixar');\n      return;\n    }\n\n    const jsonContent = JSON.stringify(dados, null, 2);\n    const blob = new Blob([jsonContent], { type: 'application/json;charset=utf-8;' });\n    const link = document.createElement('a');\n    const url = URL.createObjectURL(blob);\n    link.setAttribute('href', url);\n    link.setAttribute('download', `${tabelaId}_${new Date().toISOString().split('T')[0]}.json`);\n    link.style.visibility = 'hidden';\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-green-400 mx-auto mb-4\"></div>\n        <div className=\"text-gray-400 text-lg\">Carregando tabelas...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-8\">\n\n      {/* Seção de Backup */}\n      <div className=\"bg-gray-800/30 rounded-xl p-6 border border-gray-700/30\">\n        <h4 className=\"text-lg font-semibold text-gray-100 mb-6 flex items-center gap-2\">\n          <Archive className=\"w-5 h-5 text-blue-400\" />\n          Backup Completo do Sistema\n        </h4>\n        \n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6\">\n          {/* Backup Completo */}\n          <div className=\"bg-gradient-to-br from-blue-600/20 to-blue-700/20 rounded-xl p-6 border border-blue-500/30 hover:border-blue-400/50 transition-all duration-200\">\n            <div className=\"flex items-center mb-4\">\n              <div className=\"bg-blue-500 p-3 rounded-lg mr-3\">\n                <Archive className=\"w-6 h-6 text-white\" />\n              </div>\n              <div>\n                <h5 className=\"font-semibold text-gray-100\">Backup Completo</h5>\n                <p className=\"text-sm text-gray-400\">Sistema completo</p>\n              </div>\n            </div>\n            <p className=\"text-sm text-gray-300 mb-4\">\n              Inclui todas as tabelas, imagens dos buckets e metadados do sistema\n            </p>\n            <button\n              onClick={backupCompletoSite}\n              disabled={backupStatus.status === 'iniciando' || backupStatus.status === 'tabelas' || backupStatus.status === 'buckets' || backupStatus.status === 'finalizando' || backupStatus.status === 'download' || backupStatus.status === 'imagens'}\n              className=\"w-full px-4 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl hover:from-blue-700 hover:to-blue-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl\"\n            >\n              <Archive className=\"w-4 h-4 inline mr-2\" />\n              Backup Completo\n            </button>\n          </div>\n\n          {/* Backup das Tabelas */}\n          <div className=\"bg-gradient-to-br from-green-600/20 to-green-700/20 rounded-xl p-6 border border-green-500/30 hover:border-green-400/50 transition-all duration-200\">\n            <div className=\"flex items-center mb-4\">\n              <div className=\"bg-green-500 p-3 rounded-lg mr-3\">\n                <Database className=\"w-6 h-6 text-white\" />\n              </div>\n              <div>\n                <h5 className=\"font-semibold text-gray-100\">Backup das Tabelas</h5>\n                <p className=\"text-sm text-gray-400\">Apenas dados</p>\n              </div>\n            </div>\n            <p className=\"text-sm text-gray-300 mb-4\">\n              Apenas os dados das tabelas em formato CSV\n            </p>\n            <div className=\"space-y-2\">\n              <button\n                onClick={backupApenasTabelas}\n                disabled={backupStatus.status === 'tabelas'}\n                className=\"w-full px-4 py-3 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-xl hover:from-green-700 hover:to-green-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl\"\n              >\n                <Database className=\"w-4 h-4 inline mr-2\" />\n                Backup Tabelas\n              </button>\n              <button\n                onClick={testarTabelas}\n                className=\"w-full px-3 py-2 bg-gray-700/50 text-gray-300 rounded-lg hover:bg-gray-600/50 transition-colors border border-gray-600/50 text-sm\"\n              >\n                🔍 Testar Tabelas\n              </button>\n            </div>\n          </div>\n\n          {/* Backup das Imagens */}\n          <div className=\"bg-gradient-to-br from-purple-600/20 to-purple-700/20 rounded-xl p-6 border border-purple-500/30 hover:border-purple-400/50 transition-all duration-200\">\n            <div className=\"flex items-center mb-4\">\n              <div className=\"bg-purple-500 p-3 rounded-lg mr-3\">\n                <FileDown className=\"w-6 h-6 text-white\" />\n              </div>\n              <div>\n                <h5 className=\"font-semibold text-gray-100\">Backup das Imagens</h5>\n                <p className=\"text-sm text-gray-400\">Apenas arquivos</p>\n              </div>\n            </div>\n            <p className=\"text-sm text-gray-300 mb-4\">\n              Apenas as imagens dos buckets em arquivo ZIP\n            </p>\n            <div className=\"space-y-2\">\n              <button\n                onClick={backupImagens}\n                disabled={backupStatus.status === 'imagens' || backupStatus.status === 'download'}\n                className=\"w-full px-4 py-3 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-xl hover:from-purple-700 hover:to-purple-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl\"\n              >\n                <FileDown className=\"w-4 h-4 inline mr-2\" />\n                Backup Imagens\n              </button>\n              <button\n                onClick={testarBuckets}\n                className=\"w-full px-3 py-2 bg-gray-700/50 text-gray-300 rounded-lg hover:bg-gray-600/50 transition-colors border border-gray-600/50 text-sm\"\n              >\n                🔍 Testar Buckets\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Status do Backup */}\n        {backupStatus.status && (\n          <div className={`p-6 rounded-xl border backdrop-blur-sm ${\n            backupStatus.status === 'concluido' \n              ? 'bg-green-900/50 border-green-700/50 text-green-200' \n              : backupStatus.status === 'erro' \n                ? 'bg-red-900/50 border-red-700/50 text-red-200'\n                : 'bg-blue-900/50 border-blue-700/50 text-blue-200'\n          }`}>\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-3\">\n                {backupStatus.status === 'concluido' ? (\n                  <CheckCircle className=\"w-6 h-6 text-green-400\" />\n                ) : backupStatus.status === 'erro' ? (\n                  <AlertCircle className=\"w-6 h-6 text-red-400\" />\n                ) : (\n                  <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-400\"></div>\n                )}\n                <div>\n                  <p className=\"font-semibold\">{backupStatus.message}</p>\n                  {backupStatus.detalhes && (\n                    <p className=\"text-sm mt-1 text-gray-300\">\n                      Tabelas: {backupStatus.detalhes.tabelas} | \n                      Registros: {backupStatus.detalhes.registros} | \n                      Arquivos: {backupStatus.detalhes.arquivos}\n                    </p>\n                  )}\n                </div>\n              </div>\n              {backupProgress > 0 && backupProgress < 100 && (\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"w-32 bg-gray-700 rounded-full h-2\">\n                    <div \n                      className=\"bg-green-400 h-2 rounded-full transition-all duration-300\" \n                      style={{ width: `${backupProgress}%` }}\n                    ></div>\n                  </div>\n                  <span className=\"text-sm font-medium\">{Math.round(backupProgress)}%</span>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Lista de Tabelas */}\n      <div className=\"bg-gray-800/30 rounded-xl p-6 border border-gray-700/30\">\n        <h4 className=\"text-lg font-semibold text-gray-100 mb-6 flex items-center gap-2\">\n          <Database className=\"w-5 h-5 text-gray-400\" />\n          Tabelas do Sistema\n        </h4>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {tabelas.map((tabela) => {\n            const Icone = tabela.icone;\n            const isSelected = selectedTabela === tabela.id;\n            \n            return (\n              <div\n                key={tabela.id}\n                className={`bg-gray-800/50 backdrop-blur-sm rounded-xl border-2 cursor-pointer transition-all duration-200 hover:shadow-lg ${\n                  isSelected \n                    ? 'border-green-500/50 bg-green-600/20' \n                    : 'border-gray-700/50 hover:border-gray-600/50 hover:bg-gray-700/30'\n                }`}\n                onClick={() => carregarDadosTabela(tabela.id)}\n              >\n                <div className=\"p-6\">\n                  <div className=\"flex items-center mb-4\">\n                    <div className={`${tabela.cor} p-3 rounded-lg mr-3 shadow-lg`}>\n                      <Icone className=\"w-6 h-6 text-white\" />\n                    </div>\n                    <div>\n                      <h4 className=\"font-semibold text-gray-100\">{tabela.nome}</h4>\n                      <p className=\"text-sm text-gray-400\">{tabela.registros} registros</p>\n                    </div>\n                  </div>\n                  <p className=\"text-sm text-gray-300 mb-4\">{tabela.descricao}</p>\n                  \n                  <div className=\"flex space-x-2\">\n                    <button\n                      className=\"flex items-center px-3 py-2 text-xs bg-blue-600/20 text-blue-300 rounded-lg hover:bg-blue-600/30 transition-colors border border-blue-500/30\"\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        carregarDadosTabela(tabela.id);\n                      }}\n                    >\n                      <Eye className=\"w-3 h-3 mr-1\" />\n                      Visualizar\n                    </button>\n                  </div>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n\n\n\n      {/* Visualização dos Dados */}\n      {selectedTabela && (\n        <div className=\"bg-gray-800/30 rounded-xl p-6 border border-gray-700/30\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <div>\n              <h4 className=\"text-lg font-semibold text-gray-100\">\n                Dados da Tabela: {tabelas.find(t => t.id === selectedTabela)?.nome}\n              </h4>\n              <p className=\"text-sm text-gray-400\">\n                {dadosTabela.length} registros encontrados\n              </p>\n            </div>\n            \n            <div className=\"flex space-x-3\">\n              <button\n                onClick={() => carregarDadosTabela(selectedTabela)}\n                disabled={loadingDados}\n                className=\"flex items-center px-4 py-2 text-sm bg-gray-700/50 text-gray-200 rounded-lg hover:bg-gray-600/50 transition-colors disabled:opacity-50 border border-gray-600/50\"\n              >\n                <RefreshCw className={`w-4 h-4 mr-2 ${loadingDados ? 'animate-spin' : ''}`} />\n                Atualizar\n              </button>\n              \n              <button\n                onClick={() => downloadCSV(selectedTabela, dadosTabela)}\n                disabled={loadingDados || dadosTabela.length === 0}\n                className=\"flex items-center px-4 py-2 text-sm bg-green-600/20 text-green-300 rounded-lg hover:bg-green-600/30 transition-colors disabled:opacity-50 border border-green-500/30\"\n              >\n                <Download className=\"w-4 h-4 mr-2\" />\n                CSV\n              </button>\n              \n              <button\n                onClick={() => downloadJSON(selectedTabela, dadosTabela)}\n                disabled={loadingDados || dadosTabela.length === 0}\n                className=\"flex items-center px-4 py-2 text-sm bg-purple-600/20 text-purple-300 rounded-lg hover:bg-purple-600/30 transition-colors disabled:opacity-50 border border-purple-500/30\"\n              >\n                <Download className=\"w-4 h-4 mr-2\" />\n                JSON\n              </button>\n            </div>\n          </div>\n\n          {error && (\n            <div className=\"mb-6 p-4 bg-red-900/50 border border-red-700/50 text-red-200 rounded-xl backdrop-blur-sm\">\n              <div className=\"flex items-center gap-3\">\n                <AlertCircle className=\"w-5 h-5 text-red-400\" />\n                <span>{error}</span>\n              </div>\n            </div>\n          )}\n\n          {loadingDados ? (\n            <div className=\"flex items-center justify-center h-32\">\n              <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-green-400\"></div>\n              <span className=\"ml-3 text-gray-400\">Carregando dados...</span>\n            </div>\n          ) : (\n            <div className=\"overflow-x-auto\">\n              {dadosTabela.length > 0 ? (\n                <table className=\"min-w-full divide-y divide-gray-700\">\n                  <thead className=\"bg-gray-700/30\">\n                    <tr>\n                      {Object.keys(dadosTabela[0]).map((header) => (\n                        <th\n                          key={header}\n                          className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\"\n                        >\n                          {header}\n                        </th>\n                      ))}\n                    </tr>\n                  </thead>\n                  <tbody className=\"bg-gray-800/20 divide-y divide-gray-700\">\n                    {dadosTabela.slice(0, 100).map((row, index) => (\n                      <tr key={index} className=\"hover:bg-gray-700/30 transition-colors\">\n                        {Object.values(row).map((value, cellIndex) => (\n                          <td\n                            key={cellIndex}\n                            className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-200 max-w-xs truncate\"\n                            title={typeof value === 'string' && value.length > 50 ? value : ''}\n                          >\n                            {typeof value === 'string' && value.length > 50 \n                              ? `${value.substring(0, 50)}...` \n                              : value || '-'}\n                          </td>\n                        ))}\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              ) : (\n                <div className=\"text-center py-12 text-gray-400\">\n                  <div className=\"w-16 h-16 bg-gray-700/30 rounded-full flex items-center justify-center mx-auto mb-4\">\n                    <Database className=\"w-8 h-8 text-gray-500\" />\n                  </div>\n                  <p>Nenhum dado encontrado nesta tabela</p>\n                </div>\n              )}\n              \n              {dadosTabela.length > 100 && (\n                <div className=\"mt-6 text-center text-sm text-gray-400 bg-gray-700/20 p-4 rounded-lg\">\n                  Mostrando os primeiros 100 registros de {dadosTabela.length} total.\n                  Use os botões de download para acessar todos os dados.\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default TabelasIntegraisTab;\n\n","import React, { useState, useEffect } from 'react';\nimport { useRefresh } from '../../contexts/RefreshContext';\nimport { useEscolas } from './hooks/useEscolas';\nimport { useModalidades } from './hooks/useModalidades';\nimport { ADMIN_TABS, UI_CONFIG, FORM_CONFIG } from './constants/adminConstants';\nimport AdminSidebar from './AdminSidebar';\nimport AdminToolbar from './AdminToolbar';\nimport './AdminPanel.css';\nimport ModalidadesTab from './tabs/ModalidadesTab';\nimport DadosBasicosTab from './tabs/DadosBasicosTab';\nimport PovosLinguasTab from './tabs/PovosLinguasTab';\nimport InfraestruturaTab from './tabs/InfraestruturaTab';\nimport GestaoProfessoresTab from './tabs/GestaoProfessoresTab';\nimport MaterialPedagogicoTab from './tabs/MaterialPedagogicoTab';\nimport ProjetosParceriasTab from './tabs/ProjetosParceriasTab';\nimport RedesSociaisTab from './tabs/RedesSociaisTab';\nimport VideoTab from './tabs/VideoTab';\nimport HistoriasTab from './tabs/HistoriasTab';\nimport HistoriaProfessoresTab from './tabs/HistoriaProfessoresTab';\nimport CoordenadasTab from './tabs/CoordenadasTab';\nimport TabelasIntegraisTab from './tabs/TabelasIntegraisTab';\n\n// Imports condicionais para evitar problemas de hot reload\nlet ImagensEscolaTab = null;\nlet ImagensProfessoresTab = null;\nlet DocumentosTab = null;\n\ntry {\n  ImagensEscolaTab = require('./tabs/ImagensEscolaTab').default;\n} catch (e) {\n  console.warn('ImagensEscolaTab não encontrado:', e);\n}\n\ntry {\n  ImagensProfessoresTab = require('./tabs/ImagensProfessoresTab').default;\n} catch (e) {\n  console.warn('ImagensProfessoresTab não encontrado:', e);\n}\n\ntry {\n  DocumentosTab = require('./tabs/DocumentosTab').default;\n} catch (e) {\n  console.warn('DocumentosTab não encontrado:', e);\n}\n\nconst AdminPanel = () => {\n  const { triggerRefresh } = useRefresh();\n  \n  // Estados principais\n  const [editingLocation, setEditingLocation] = useState(null);\n  const [isSaving, setIsSaving] = useState(false);\n  const [saveError, setSaveError] = useState(null);\n  const [saveSuccess, setSaveSuccess] = useState(false);\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n  const [showBackupModal, setShowBackupModal] = useState(false);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [escolaToDelete, setEscolaToDelete] = useState(null);\n  const [isDeleting, setIsDeleting] = useState(false);\n\n  // Detectar se é mobile\n  const isMobile = typeof window !== 'undefined' && window.innerWidth <= UI_CONFIG.MOBILE_BREAKPOINT;\n\n  // Hooks customizados\n  const { \n    escolas, \n    loading: escolasLoading, \n    error: escolasError,\n    searchTerm, \n    setSearchTerm, \n    selectedType, \n    setSelectedType,\n    filteredEscolas,\n    saveEscola,\n    deleteEscola\n  } = useEscolas();\n\n  const {\n    loadExistingModalidades,\n    clearModalidades\n  } = useModalidades();\n\n  // Função para abrir edição de escola\n  const openEditModal = (escola) => {\n    // Carregar modalidades existentes\n    loadExistingModalidades(escola['Modalidade de Ensino/turnos de funcionamento']);\n    \n    // Garantir que apenas os campos originais do banco sejam usados\n    const escolaOriginal = {\n      id: escola.id,\n      Escola: escola.Escola,\n      'Município': escola['Município'],\n      'Endereço': escola['Endereço'],\n      'Terra Indigena (TI)': escola['Terra Indigena (TI)'],\n      'Parcerias com o município': escola['Parcerias com o município'],\n      'Diretoria de Ensino': escola['Diretoria de Ensino'],\n      'Ano de criação da escola': escola['Ano de criação da escola'],\n      'Povos indigenas': escola['Povos indigenas'],\n      'Linguas faladas': escola['Linguas faladas'],\n      'Modalidade de Ensino/turnos de funcionamento': escola['Modalidade de Ensino/turnos de funcionamento'],\n      'Numero de alunos': escola['Numero de alunos'],\n      'turnos_funcionamento': escola['turnos_funcionamento'] || '',\n      'Espaço escolar e estrutura': escola['Espaço escolar e estrutura'],\n      'Acesso à água': escola['Acesso à água'],\n      'Tem coleta de lixo?': escola['Tem coleta de lixo?'],\n      'Acesso à internet': escola['Acesso à internet'],\n      'Equipamentos Tecnológicos (Computadores, tablets e impressoras)': escola['Equipamentos Tecnológicos (Computadores, tablets e impressoras)'],\n      'Modo de acesso à escola': escola['Modo de acesso à escola'],\n      'Gestão/Nome': escola['Gestão/Nome'],\n      'Outros funcionários': escola['Outros funcionários'],\n      'Quantidade de professores indígenas': escola['Quantidade de professores indígenas'],\n      'Quantidade de professores não indígenas': escola['Quantidade de professores não indígenas'],\n      'Professores falam a língua indígena?': escola['Professores falam a língua indígena?'],\n      'Formação dos professores': escola['Formação dos professores'],\n      'Formação continuada oferecida': escola['Formação continuada oferecida'],\n      'A escola possui PPP próprio?': escola['A escola possui PPP próprio?'],\n      'PPP elaborado com a comunidade?': escola['PPP elaborado com a comunidade?'],\n      'Projetos em andamento': escola['Projetos em andamento'],\n      'Parcerias com universidades?': escola['Parcerias com universidades?'],\n      'Ações com ONGs ou coletivos?': escola['Ações com ONGs ou coletivos?'],\n      'Desejos da comunidade para a escola': escola['Desejos da comunidade para a escola'],\n      'Escola utiliza redes sociais?': escola['Escola utiliza redes sociais?'],\n      'Links das redes sociais': escola['Links das redes sociais'],\n      'historia_da_escola': escola['historia_da_escola'],\n      'Latitude': escola['Latitude'],\n      'Longitude': escola['Longitude'],\n      'links': escola['links'],\n      'link_para_videos': escola['link_para_videos'],\n      'logradouro': escola['logradouro'],\n      'numero': escola['numero'],\n      'complemento': escola['complemento'],\n      'bairro': escola['bairro'],\n      'cep': escola['cep'],\n      'estado': escola['estado'],\n      'nome_professor': escola['nome_professor'],\n      'professores_indigenas': escola['professores_indigenas'],\n      'professores_nao_indigenas': escola['professores_nao_indigenas'],\n      'professores_falam_lingua_indigena': escola['professores_falam_lingua_indigena'],\n      'formacao_professores': escola['formacao_professores'],\n      'visitas_supervisores_formacao': escola['visitas_supervisores_formacao'],\n      'outros_funcionarios': escola['outros_funcionarios'],\n      'gestao': escola['gestao'],\n      'merenda_diferenciada': escola['merenda_diferenciada'],\n      cozinha: escola.cozinha,\n      merenda_escolar: escola.merenda_escolar,\n      diferenciada: escola.diferenciada,\n      activeTab: FORM_CONFIG.DEFAULT_ACTIVE_TAB\n    };\n    \n    setEditingLocation(escolaOriginal);\n  };\n\n  // Função para criar nova escola vazia\n  const criarNovaEscolaVazia = () => {\n    // Limpar modalidades\n    clearModalidades();\n    \n    return {\n      Escola: '',\n      'Município': '',\n      'Endereço': '',\n      'Terra Indigena (TI)': '',\n      'Parcerias com o município': '',\n      'Diretoria de Ensino': '',\n      'Ano de criação da escola': '',\n      'Povos indigenas': '',\n      'Linguas faladas': '',\n      'Modalidade de Ensino/turnos de funcionamento': '',\n      'Numero de alunos': '',\n      'turnos_funcionamento': '',\n      'Espaço escolar e estrutura': '',\n      'Acesso à água': '',\n      'Tem coleta de lixo?': '',\n      'Acesso à internet': '',\n      'Equipamentos Tecnológicos (Computadores, tablets e impressoras)': '',\n      'Modo de acesso à escola': '',\n      'Gestão/Nome': '',\n      'Outros funcionários': '',\n      'Quantidade de professores indígenas': '',\n      'Quantidade de professores não indígenas': '',\n      'Professores falam a língua indígena?': '',\n      'Formação dos professores': '',\n      'Formação continuada oferecida': '',\n      'A escola possui PPP próprio?': '',\n      'PPP elaborado com a comunidade?': '',\n      'Projetos em andamento': '',\n      'Parcerias com universidades?': '',\n      'Ações com ONGs ou coletivos?': '',\n      'Desejos da comunidade para a escola': '',\n      'Escola utiliza redes sociais?': '',\n      'Links das redes sociais': '',\n      'historia_da_escola': '',\n      'Latitude': '',\n      'Longitude': '',\n      'links': '',\n      'link_para_videos': '',\n      'logradouro': '',\n      'numero': '',\n      'complemento': '',\n      'bairro': '',\n      'cep': '',\n      'estado': 'SP',\n      'nome_professor': '',\n      'professores_indigenas': '',\n      'professores_nao_indigenas': '',\n      'professores_falam_lingua_indigena': '',\n      'formacao_professores': '',\n      'visitas_supervisores_formacao': '',\n      'outros_funcionarios': '',\n      'gestao': '',\n      'merenda_diferenciada': '',\n      cozinha: '',\n      merenda_escolar: '',\n      diferenciada: '',\n      activeTab: FORM_CONFIG.DEFAULT_ACTIVE_TAB\n    };\n  };\n\n  // Função para criar nova escola\n  const handleNovaEscola = () => {\n    setEditingLocation(criarNovaEscolaVazia());\n  };\n\n  // Função para abrir modal de remoção\n  const handleRemoverEscola = (escola) => {\n    setEscolaToDelete(escola);\n    setShowDeleteModal(true);\n  };\n\n  // Função para confirmar remoção\n  const handleConfirmarRemocao = async () => {\n    if (!escolaToDelete) return;\n\n    setIsDeleting(true);\n    try {\n      const result = await deleteEscola(escolaToDelete.id);\n      \n      if (result.success) {\n        setShowDeleteModal(false);\n        setEscolaToDelete(null);\n        // Limpar edição se a escola removida estava sendo editada\n        if (editingLocation?.id === escolaToDelete.id) {\n          setEditingLocation(null);\n        }\n      } else {\n        console.error('Erro ao remover escola:', result.error);\n      }\n    } catch (error) {\n      console.error('Erro ao remover escola:', error);\n    } finally {\n      setIsDeleting(false);\n    }\n  };\n\n  // Função para salvar escola\n  const handleSaveEscola = async () => {\n    if (!editingLocation) return;\n\n    setIsSaving(true);\n    setSaveError(null);\n    setSaveSuccess(false);\n\n    try {\n      const result = await saveEscola(editingLocation);\n      \n      if (result.success) {\n        setSaveSuccess(true);\n        // Atualizar o editingLocation com os dados salvos\n        setEditingLocation(result.data);\n        \n        // Limpar mensagem de sucesso após 3 segundos\n        setTimeout(() => {\n          setSaveSuccess(false);\n        }, 3000);\n      } else {\n        setSaveError(result.error);\n      }\n    } catch (error) {\n      setSaveError(error.message);\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  // Renderizar aba ativa\n  const renderActiveTab = () => {\n    const activeTab = editingLocation?.activeTab || FORM_CONFIG.DEFAULT_ACTIVE_TAB;\n\n    switch (activeTab) {\n      case 'dados-basicos':\n        return (\n          <DadosBasicosTab \n            editingLocation={editingLocation}\n            setEditingLocation={setEditingLocation}\n          />\n        );\n      \n      case 'povos-linguas':\n        return (\n          <PovosLinguasTab \n            editingLocation={editingLocation}\n            setEditingLocation={setEditingLocation}\n          />\n        );\n      \n      case 'modalidades':\n        return (\n          <ModalidadesTab \n            editingLocation={editingLocation}\n            setEditingLocation={setEditingLocation}\n          />\n        );\n      \n      case 'infraestrutura':\n        return (\n          <InfraestruturaTab \n            editingLocation={editingLocation}\n            setEditingLocation={setEditingLocation}\n          />\n        );\n      \n      case 'gestao-professores':\n        return (\n          <GestaoProfessoresTab \n            editingLocation={editingLocation}\n            setEditingLocation={setEditingLocation}\n          />\n        );\n      \n      case 'material-pedagogico':\n        return (\n          <MaterialPedagogicoTab \n            editingLocation={editingLocation}\n            setEditingLocation={setEditingLocation}\n          />\n        );\n      \n      case 'projetos-parcerias':\n        return (\n          <ProjetosParceriasTab \n            editingLocation={editingLocation}\n            setEditingLocation={setEditingLocation}\n          />\n        );\n      \n      case 'redes-sociais':\n        return (\n          <RedesSociaisTab \n            editingLocation={editingLocation}\n            setEditingLocation={setEditingLocation}\n          />\n        );\n      \n      case 'video':\n        return (\n          <VideoTab \n            editingLocation={editingLocation}\n          />\n        );\n      \n      case 'historias':\n        return (\n          <HistoriasTab \n            editingLocation={editingLocation}\n            setEditingLocation={setEditingLocation}\n          />\n        );\n      \n      case 'historia-professores':\n        return (\n          <HistoriaProfessoresTab \n            editingLocation={editingLocation}\n            setEditingLocation={setEditingLocation}\n          />\n        );\n      \n      case 'coordenadas':\n        return (\n          <CoordenadasTab \n            editingLocation={editingLocation}\n            setEditingLocation={setEditingLocation}\n          />\n        );\n      \n\n      \n      case 'imagens-escola':\n        if (!ImagensEscolaTab) {\n          return <div className=\"text-center py-8 text-gray-500\">Componente em carregamento...</div>;\n        }\n        return <ImagensEscolaTab editingLocation={editingLocation} />;\n      \n      case 'imagens-professores':\n        if (!ImagensProfessoresTab) {\n          return <div className=\"text-center py-8 text-gray-500\">Componente em carregamento...</div>;\n        }\n        return <ImagensProfessoresTab editingLocation={editingLocation} />;\n      \n      case 'documentos':\n        if (!DocumentosTab) {\n          return <div className=\"text-center py-8 text-gray-500\">Componente em carregamento...</div>;\n        }\n        return <DocumentosTab editingLocation={editingLocation} />;\n      \n      // TODO: Implementar outras abas\n      default:\n        return (\n          <div className=\"text-gray-400 text-center py-8\">\n            Aba \"{activeTab}\" em desenvolvimento...\n          </div>\n        );\n    }\n  };\n\n  return (\n    <div className=\"flex min-h-screen bg-gradient-to-br from-gray-950 via-gray-900 to-gray-950\">\n      {/* Sidebar */}\n      <AdminSidebar\n        isMobile={isMobile}\n        sidebarOpen={sidebarOpen}\n        setSidebarOpen={setSidebarOpen}\n        editingLocation={editingLocation}\n        onEscolaSelect={openEditModal}\n      />\n\n      {/* Conteúdo principal */}\n      <main className=\"flex-1 p-4 lg:p-8 overflow-y-auto h-screen\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <h1 className=\"text-3xl lg:text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-emerald-300 mb-2\">\n            Painel de Administração\n          </h1>\n        </div>\n        \n        {/* Toolbar */}\n        <AdminToolbar\n          searchTerm={searchTerm}\n          setSearchTerm={setSearchTerm}\n          selectedType={selectedType}\n          setSelectedType={setSelectedType}\n          onNovaEscola={handleNovaEscola}\n        />\n\n        {/* Loading state */}\n        {escolasLoading && (\n          <div className=\"flex items-center justify-center py-12\">\n            <div className=\"text-center\">\n              <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-green-400 mx-auto mb-4\"></div>\n              <div className=\"text-gray-400 text-lg\">Carregando escolas...</div>\n            </div>\n          </div>\n        )}\n\n        {/* Error state */}\n        {escolasError && (\n          <div className=\"bg-red-900/50 border border-red-700/50 text-red-200 px-6 py-4 rounded-xl mb-6 backdrop-blur-sm\">\n            <div className=\"flex items-center gap-3\">\n              <svg className=\"w-6 h-6 text-red-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n              </svg>\n              <div>\n                <h3 className=\"font-semibold\">Erro ao carregar escolas</h3>\n                <p className=\"text-red-300\">{escolasError}</p>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Painel de Edição */}\n        {editingLocation && typeof editingLocation === 'object' && (editingLocation.Escola !== undefined) && (\n          <div className=\"bg-gray-900/80 backdrop-blur-sm rounded-2xl shadow-2xl border border-gray-800/50 p-6 max-h-[calc(100vh-200px)] overflow-hidden flex flex-col\">\n            {/* Header do painel */}\n            <div className=\"flex justify-between items-center mb-6 flex-shrink-0\">\n              <div>\n                <h2 className=\"text-xl lg:text-2xl font-semibold text-gray-100 mb-1\">\n                {editingLocation.id ? 'Editar Escola' : 'Nova Escola'}\n              </h2>\n                {editingLocation.Escola && (\n                  <p className=\"text-gray-400 text-sm\">{editingLocation.Escola}</p>\n                )}\n              </div>\n              <div className=\"flex items-center gap-3\">\n                {/* Botão Salvar */}\n                <button\n                  onClick={handleSaveEscola}\n                  disabled={isSaving}\n                  className=\"px-6 py-3 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-xl hover:from-green-700 hover:to-green-800 focus:outline-none focus:ring-2 focus:ring-green-400 focus:ring-offset-2 focus:ring-offset-gray-900 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl\"\n                >\n                  {isSaving ? (\n                    <div className=\"flex items-center gap-2\">\n                      <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\n                      Salvando...\n                    </div>\n                  ) : (\n                    <div className=\"flex items-center gap-2\">\n                      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                      </svg>\n                      Salvar\n                    </div>\n                  )}\n                </button>\n                \n                {/* Botão Fechar */}\n                <button\n                  onClick={() => setEditingLocation(null)}\n                  className=\"px-4 py-3 text-gray-400 hover:text-gray-200 hover:bg-gray-800 rounded-xl transition-colors\"\n                >\n                  <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                  </svg>\n                </button>\n              </div>\n            </div>\n\n            {/* Mensagens de feedback */}\n            {saveSuccess && (\n              <div className=\"mb-6 p-4 bg-green-900/50 border border-green-700/50 text-green-200 rounded-xl backdrop-blur-sm\">\n                <div className=\"flex items-center gap-3\">\n                  <svg className=\"w-6 h-6 text-green-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                  </svg>\n                  <span className=\"font-semibold\">Escola salva com sucesso!</span>\n                </div>\n              </div>\n            )}\n            \n            {saveError && (\n              <div className=\"mb-6 p-4 bg-red-900/50 border border-red-700/50 text-red-200 rounded-xl backdrop-blur-sm\">\n                <div className=\"flex items-center gap-3\">\n                  <svg className=\"w-6 h-6 text-red-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                  </svg>\n                  <div>\n                    <span className=\"font-semibold\">Erro ao salvar:</span>\n                    <p className=\"text-red-300\">{saveError}</p>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Navegação por abas */}\n            <div className=\"border-b border-gray-800 mb-6 flex-shrink-0 bg-gray-800/50 rounded-t-xl relative\">\n              <nav className=\"-mb-px flex space-x-1 overflow-x-auto scrollbar-thin scrollbar-thumb-gray-600 scrollbar-track-gray-800 tabs-container\">\n                {ADMIN_TABS.map((tab) => (\n                  <button\n                    key={tab.id}\n                    type=\"button\"\n                    onClick={() => setEditingLocation({ ...editingLocation, activeTab: tab.id })}\n                    className={`whitespace-nowrap py-3 px-3 sm:px-4 border-b-2 font-medium text-xs sm:text-sm transition-all duration-200 rounded-t-lg flex-shrink-0 min-w-fit ${\n                      (editingLocation.activeTab || FORM_CONFIG.DEFAULT_ACTIVE_TAB) === tab.id\n                        ? 'border-green-400 text-green-300 bg-gray-900 shadow-lg'\n                        : 'border-transparent text-gray-400 hover:text-green-200 hover:bg-gray-700/50'\n                    }`}\n                  >\n                    {tab.label}\n                  </button>\n                ))}\n              </nav>\n            </div>\n\n            {/* Conteúdo da aba ativa */}\n            <div className=\"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-gray-800\">\n              {renderActiveTab()}\n            </div>\n          </div>\n        )}\n\n        {/* Mensagem quando nenhuma escola está selecionada */}\n        {!editingLocation && !escolasLoading && (\n          <div className=\"text-center py-16\">\n            <div className=\"max-w-md mx-auto\">\n              <div className=\"w-24 h-24 bg-gray-800/50 rounded-full flex items-center justify-center mx-auto mb-6\">\n                <svg className=\"w-12 h-12 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5\" />\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5\" />\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5\" />\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5\" />\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5\" />\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5\" />\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5\" />\n                </svg>\n              </div>\n              <h3 className=\"text-xl font-semibold text-gray-200 mb-2\">\n                Selecione uma escola para editar\n              </h3>\n              <p className=\"text-gray-400 mb-8\">\n                Escolha uma escola da lista lateral ou crie uma nova escola nessa parte inicial do painel de edição\n              </p>\n              <div className=\"space-y-4\">\n                <button\n                  onClick={handleNovaEscola}\n                  className=\"w-full px-8 py-4 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-xl hover:from-green-700 hover:to-green-800 focus:outline-none focus:ring-2 focus:ring-green-400 focus:ring-offset-2 focus:ring-offset-gray-900 transition-all duration-200 shadow-lg hover:shadow-xl\"\n                >\n                  <div className=\"flex items-center gap-3 justify-center\">\n                    <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\" />\n                    </svg>\n                    Criar Nova Escola\n                  </div>\n                </button>\n                \n                <button\n                  onClick={() => setShowBackupModal(true)}\n                  className=\"w-full px-8 py-4 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl hover:from-blue-700 hover:to-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2 focus:ring-offset-gray-900 transition-all duration-200 shadow-lg hover:shadow-xl\"\n                >\n                  <div className=\"flex items-center gap-3 justify-center\">\n                    <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12\" />\n                    </svg>\n                    Backup dos Dados do Site\n                  </div>\n                </button>\n\n                <button\n                  onClick={() => setShowDeleteModal(true)}\n                  className=\"w-full px-8 py-4 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-xl hover:from-red-700 hover:to-red-800 focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-offset-2 focus:ring-offset-gray-900 transition-all duration-200 shadow-lg hover:shadow-xl\"\n                >\n                  <div className=\"flex items-center gap-3 justify-center\">\n                    <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                    </svg>\n                    Remover Escola\n                  </div>\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Modal de Backup */}\n        {showBackupModal && (\n          <div className=\"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\n            <div className=\"bg-gray-900/95 backdrop-blur-sm rounded-2xl shadow-2xl border border-gray-800/50 w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col\">\n              {/* Header da Modal */}\n              <div className=\"flex justify-between items-center p-6 border-b border-gray-800/50 flex-shrink-0\">\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"bg-blue-500 p-3 rounded-lg\">\n                    <svg className=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12\" />\n                    </svg>\n                  </div>\n                  <div>\n                    <h2 className=\"text-xl font-semibold text-gray-100\">Backup dos Dados do Site</h2>\n                    <p className=\"text-sm text-gray-400\">Gerencie backups das tabelas e arquivos</p>\n                  </div>\n                </div>\n                <button\n                  onClick={() => setShowBackupModal(false)}\n                  className=\"p-2 text-gray-400 hover:text-gray-200 hover:bg-gray-800 rounded-lg transition-colors\"\n                >\n                  <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                  </svg>\n                </button>\n              </div>\n\n              {/* Conteúdo da Modal */}\n              <div className=\"flex-1 overflow-y-auto p-6\">\n                <TabelasIntegraisTab />\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Modal de Remoção de Escola */}\n        {showDeleteModal && (\n          <div className=\"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\n            <div className=\"bg-gray-900/95 backdrop-blur-sm rounded-2xl shadow-2xl border border-gray-800/50 w-full max-w-md\">\n              {/* Header da Modal */}\n              <div className=\"flex justify-between items-center p-6 border-b border-gray-800/50\">\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"bg-red-500 p-3 rounded-lg\">\n                    <svg className=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                    </svg>\n                  </div>\n                  <div>\n                    <h2 className=\"text-xl font-semibold text-gray-100\">Remover Escola</h2>\n                    <p className=\"text-sm text-gray-400\">Selecione uma escola para remover</p>\n                  </div>\n                </div>\n                <button\n                  onClick={() => setShowDeleteModal(false)}\n                  className=\"p-2 text-gray-400 hover:text-gray-200 hover:bg-gray-800 rounded-lg transition-colors\"\n                >\n                  <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                  </svg>\n                </button>\n              </div>\n\n              {/* Conteúdo da Modal */}\n              <div className=\"p-6\">\n                {!escolaToDelete ? (\n                  <div className=\"space-y-4\">\n                    <p className=\"text-gray-300 mb-4\">\n                      Selecione uma escola da lista para remover:\n                    </p>\n                    <div className=\"max-h-64 overflow-y-auto space-y-2\">\n                      {filteredEscolas.map(escola => (\n                        <button\n                          key={escola.id}\n                          onClick={() => setEscolaToDelete(escola)}\n                          className=\"w-full text-left p-4 rounded-xl hover:bg-gray-800/50 transition-all duration-200 border border-transparent hover:border-gray-700/50 text-gray-200 hover:text-white\"\n                        >\n                          <div className=\"flex items-start justify-between\">\n                            <div className=\"flex-1 min-w-0\">\n                              <h3 className=\"font-medium truncate text-gray-200\">\n                                {escola.Escola}\n                              </h3>\n                              {escola['Município'] && (\n                                <p className=\"text-sm text-gray-400 truncate mt-1\">\n                                  {escola['Município']}\n                                </p>\n                              )}\n                            </div>\n                            <div className=\"ml-2 flex-shrink-0\">\n                              <svg className=\"w-5 h-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n                              </svg>\n                            </div>\n                          </div>\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n                ) : (\n                  <div className=\"space-y-6\">\n                    <div className=\"bg-red-900/20 border border-red-700/50 rounded-xl p-4\">\n                      <div className=\"flex items-center gap-3 mb-3\">\n                        <svg className=\"w-6 h-6 text-red-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\" />\n                        </svg>\n                        <h3 className=\"font-semibold text-red-200\">Confirmar Remoção</h3>\n                      </div>\n                      <p className=\"text-red-300 text-sm\">\n                        Você está prestes a remover a escola <strong>\"{escolaToDelete.Escola}\"</strong> de <strong>\"{escolaToDelete['Município']}\"</strong>.\n                      </p>\n                      <p className=\"text-red-400 text-sm mt-2\">\n                        ⚠️ Esta ação é irreversível e removerá todos os dados da escola do sistema.\n                      </p>\n                    </div>\n\n                    <div className=\"flex gap-3\">\n                      <button\n                        onClick={() => setEscolaToDelete(null)}\n                        className=\"flex-1 px-4 py-3 bg-gray-700 text-gray-200 rounded-xl hover:bg-gray-600 transition-colors\"\n                      >\n                        Cancelar\n                      </button>\n            <button\n                        onClick={handleConfirmarRemocao}\n                        disabled={isDeleting}\n                        className=\"flex-1 px-4 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-xl hover:from-red-700 hover:to-red-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200\"\n                      >\n                        {isDeleting ? (\n                          <div className=\"flex items-center gap-2 justify-center\">\n                            <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\n                            Removendo...\n                          </div>\n                        ) : (\n                          <div className=\"flex items-center gap-2 justify-center\">\n                            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                            </svg>\n                            Confirmar Remoção\n                          </div>\n                        )}\n            </button>\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n      </main>\n    </div>\n  );\n};\n\nexport default AdminPanel; ","import { supabase } from '../supabaseClient';\n\nexport const addProfessorImageMeta = async (meta) => {\n  const { data, error } = await supabase\n    .from('imagens_professores')\n    .insert([meta])\n    .select()\n    .single();\n  if (error) throw error;\n  return data;\n};\n\nexport const updateProfessorImageMeta = async (id, updates) => {\n  const { data, error } = await supabase\n    .from('imagens_professores')\n    .update(updates)\n    .eq('id', id)\n    .select()\n    .single();\n  if (error) throw error;\n  return data;\n};\n\nexport const getProfessorImageMetaByUrl = async (imagem_url, escola_id) => {\n  const { data, error } = await supabase\n    .from('imagens_professores')\n    .select('*')\n    .eq('imagem_url', imagem_url)\n    .eq('escola_id', escola_id)\n    .eq('ativo', true)\n    .single();\n  if (error && error.code !== 'PGRST116') throw error;\n  return data || null;\n}; ","import React, { useState, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { Upload, X, User, Trash2, Edit3, Check, AlertCircle, Save } from 'lucide-react';\nimport { \n  uploadProfessorImage, \n  getEscolaImages, \n  deleteImage, \n  updateImageDescription\n} from '../../services/escolaImageService';\nimport { \n  getLegendaByImageUrl, \n  addLegendaFoto, \n  updateLegendaFoto,\n  testLegendasTable\n} from '../../services/legendasService';\nimport {\n  addProfessorImageMeta,\n  updateProfessorImageMeta,\n  getProfessorImageMetaByUrl\n} from '../../services/professorImageMetaService';\n\nconst ProfessorImageUploadSection = ({ escolaId, onImagesUpdate }) => {\n  const [selectedFiles, setSelectedFiles] = useState([]);\n  const [uploading, setUploading] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [existingImages, setExistingImages] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  const [editingImage, setEditingImage] = useState(null);\n  const [editingDescription, setEditingDescription] = useState('');\n  const [genero, setGenero] = useState('professor');\n  const [titulo, setTitulo] = useState('');\n\n  // Buscar imagens existentes dos professores\n  const fetchExistingImages = useCallback(async () => {\n    if (!escolaId) return;\n    \n    try {\n      setLoading(true);\n      const images = await getEscolaImages(escolaId, 'imagens-professores');\n      setExistingImages(images);\n      \n\n    } catch (err) {\n      console.error('Erro ao buscar imagens dos professores:', err);\n      setError('Erro ao carregar imagens dos professores');\n    } finally {\n      setLoading(false);\n    }\n  }, [escolaId]);\n\n  useEffect(() => {\n    fetchExistingImages();\n  }, [fetchExistingImages]);\n\n  // Testar estrutura da tabela quando o componente for carregado\n  useEffect(() => {\n    if (escolaId) {\n      console.log('Testando estrutura da tabela legendas_fotos (professores)...');\n      testLegendasTable();\n    }\n  }, [escolaId]);\n\n  // Buscar legendas para as imagens existentes\n  useEffect(() => {\n    const fetchLegendas = async () => {\n      if (!existingImages.length) return;\n      console.log('Buscando legendas para', existingImages.length, 'imagens de professores');\n      const legendasMap = {};\n      for (const img of existingImages) {\n        console.log('Buscando legenda para imagem de professor:', img.url);\n        const legenda = await getLegendaByImageUrl(img.url, escolaId, 'professor');\n        console.log('Legenda encontrada para professor:', legenda);\n        legendasMap[img.url] = legenda;\n      }\n      setExistingImages(prev => prev.map(img => ({\n        ...img,\n        legendaData: legendasMap[img.url] || {\n          legenda: '',\n          descricao_detalhada: '',\n          autor_foto: '',\n          data_foto: '',\n          categoria: 'geral',\n        }\n      })));\n    };\n    fetchLegendas();\n    // eslint-disable-next-line\n  }, [existingImages.length, escolaId]);\n\n  // Limpar mensagens após 5 segundos\n  useEffect(() => {\n    if (error || success) {\n      const timer = setTimeout(() => {\n        setError('');\n        setSuccess('');\n      }, 5000);\n      return () => clearTimeout(timer);\n    }\n  }, [error, success]);\n\n  // Handler para seleção de arquivos\n  const handleFileSelect = (event) => {\n    const files = Array.from(event.target.files);\n    if (files.length === 0) return;\n\n    // Validar arquivos\n    const validFiles = files.filter(file => {\n      const isValidType = ['image/jpeg', 'image/jpg', 'image/png', 'image/webp', 'image/gif'].includes(file.type);\n      const isValidSize = file.size <= 5 * 1024 * 1024; // 5MB\n      \n      if (!isValidType) {\n        setError(`Arquivo \"${file.name}\" não é uma imagem válida. Use apenas JPG, PNG, WEBP ou GIF.`);\n      }\n      if (!isValidSize) {\n        setError(`Arquivo \"${file.name}\" é muito grande. Tamanho máximo: 5MB.`);\n      }\n      \n      return isValidType && isValidSize;\n    });\n\n    if (validFiles.length > 0) {\n      setSelectedFiles(prev => [...prev, ...validFiles]);\n      setError('');\n    }\n  };\n\n  // Handler para drag & drop\n  const handleDrop = useCallback((event) => {\n    event.preventDefault();\n    const files = Array.from(event.dataTransfer.files);\n    \n    if (files.length === 0) return;\n\n    // Filtrar apenas imagens\n    const imageFiles = files.filter(file => file.type.startsWith('image/'));\n    if (imageFiles.length > 0) {\n      setSelectedFiles(prev => [...prev, ...imageFiles]);\n      setError('');\n    }\n  }, []);\n\n  const handleDragOver = useCallback((event) => {\n    event.preventDefault();\n  }, []);\n\n  // Remover arquivo selecionado\n  const removeSelectedFile = (index) => {\n    setSelectedFiles(prev => prev.filter((_, i) => i !== index));\n  };\n\n  // Upload das imagens selecionadas\n  const handleUpload = async () => {\n    if (selectedFiles.length === 0) return;\n\n    setUploading(true);\n    setUploadProgress(0);\n    setError('');\n\n    try {\n      const uploadedImages = [];\n      \n      for (let i = 0; i < selectedFiles.length; i++) {\n        const file = selectedFiles[i];\n        const progress = ((i + 1) / selectedFiles.length) * 100;\n        setUploadProgress(progress);\n\n        const uploadedImage = await uploadProfessorImage(file, escolaId, '', genero, titulo);\n        uploadedImages.push(uploadedImage);\n\n        // Criar registro em imagens_professores\n        await addProfessorImageMeta({\n          escola_id: escolaId,\n          imagem_url: uploadedImage.url,\n          nome_arquivo: file.name,\n          autor: '',\n          ativo: true\n        });\n      }\n\n      // Atualizar lista de imagens\n      setExistingImages(prev => [...prev, ...uploadedImages]);\n      setSelectedFiles([]);\n      setUploadProgress(0);\n      setSuccess(`${uploadedImages.length} imagem(ns) do(s) professor(es) carregada(s) com sucesso!`);\n\n\n\n      // Notificar componente pai\n      if (onImagesUpdate) {\n        onImagesUpdate();\n      }\n\n    } catch (err) {\n      console.error('Erro no upload:', err);\n      setError(`Erro ao fazer upload: ${err.message}`);\n    } finally {\n      setUploading(false);\n      setUploadProgress(0);\n    }\n  };\n\n  // Deletar imagem existente\n  const handleDeleteImage = async (imageId, filePath) => {\n    if (!window.confirm('Tem certeza que deseja excluir esta imagem do professor?')) return;\n\n    try {\n      await deleteImage(imageId, filePath, 'imagens-professores');\n      \n      // Atualizar lista\n      setExistingImages(prev => prev.filter(img => img.id !== imageId));\n      \n\n\n      setSuccess('Imagem do professor excluída com sucesso!');\n\n      // Notificar componente pai\n      if (onImagesUpdate) {\n        onImagesUpdate();\n      }\n\n    } catch (err) {\n      console.error('Erro ao deletar imagem:', err);\n      setError(`Erro ao excluir imagem: ${err.message}`);\n    }\n  };\n\n  // Atualizar descrição da imagem\n  const handleDescriptionChange = async (imageId, novaDescricao) => {\n    if (!novaDescricao.trim()) return;\n\n    try {\n      await updateImageDescription(imageId, novaDescricao);\n      \n      // Atualizar lista\n      setExistingImages(prev => prev.map(img => \n        img.id === imageId \n          ? { ...img, descricao: novaDescricao.trim() }\n          : img\n      ));\n\n      setSuccess('Legenda atualizada com sucesso!');\n\n      // Notificar componente pai\n      if (onImagesUpdate) {\n        onImagesUpdate();\n      }\n\n    } catch (err) {\n      console.error('Erro ao atualizar descrição:', err);\n      setError(`Erro ao atualizar legenda: ${err.message}`);\n    }\n  };\n\n  // Atualizar legenda inline\n  const handleLegendaFieldChange = (imageId, field, value) => {\n    setExistingImages(prev => prev.map(img =>\n      img.id === imageId\n        ? { ...img, legendaData: { ...img.legendaData, [field]: value } }\n        : img\n    ));\n  };\n\n  const handleLegendaSave = async (image) => {\n    console.log('=== DEBUG: Salvando legenda de professor ===');\n    console.log('Imagem completa:', image);\n    \n    const imagem_url_relativa = image.url;\n    const legendaData = image.legendaData;\n    console.log('URL relativa:', imagem_url_relativa);\n    console.log('Dados da legenda:', legendaData);\n    console.log('Escola ID:', escolaId);\n    \n    // Validar e limpar dados da legenda\n    const cleanLegendaData = { ...legendaData };\n    \n    // Tratar campo data_foto - remover se estiver vazio\n    if (!cleanLegendaData.data_foto || cleanLegendaData.data_foto.trim() === '') {\n      delete cleanLegendaData.data_foto;\n    }\n    \n    // Tratar outros campos vazios que podem causar problemas\n    Object.keys(cleanLegendaData).forEach(key => {\n      if (cleanLegendaData[key] === '') {\n        delete cleanLegendaData[key];\n      }\n    });\n    \n    console.log('Dados limpos da legenda:', cleanLegendaData);\n    \n    try {\n      console.log('Buscando legenda existente...');\n      let legenda = await getLegendaByImageUrl(imagem_url_relativa, escolaId, 'professor');\n      console.log('Legenda existente encontrada:', legenda);\n      \n      if (legenda) {\n        console.log('Atualizando legenda existente...');\n        const updateData = {\n          ...cleanLegendaData,\n          updated_at: new Date().toISOString()\n        };\n        console.log('Dados para atualização:', updateData);\n        \n        const resultado = await updateLegendaFoto(legenda.id, updateData);\n        console.log('Legenda de professor atualizada com sucesso:', resultado);\n      } else {\n        console.log('Criando nova legenda...');\n        const novaLegendaData = {\n          escola_id: escolaId,\n          imagem_url: imagem_url_relativa,\n          ...cleanLegendaData,\n          ativo: true,\n          created_at: new Date().toISOString(),\n          updated_at: new Date().toISOString(),\n          tipo_foto: 'professor'\n        };\n        console.log('Dados para nova legenda:', novaLegendaData);\n        \n        const novaLegenda = await addLegendaFoto(novaLegendaData);\n        console.log('Nova legenda de professor criada:', novaLegenda);\n      }\n      \n      // Atualizar imagens_professores\n      console.log('Atualizando metadados da imagem...');\n      let meta = await getProfessorImageMetaByUrl(image.publicUrl, escolaId);\n      if (meta) {\n        console.log('Metadados encontrados:', meta);\n        await updateProfessorImageMeta(meta.id, {\n          autor: cleanLegendaData.autor_foto,\n          updated_at: new Date().toISOString()\n        });\n        console.log('Metadados atualizados com sucesso');\n      } else {\n        console.log('Nenhum metadado encontrado para atualizar');\n      }\n      \n      setSuccess('Legenda salva com sucesso!');\n      if (onImagesUpdate) {\n        console.log('Chamando onImagesUpdate...');\n        onImagesUpdate();\n      }\n    } catch (err) {\n      console.error('=== ERRO ao salvar legenda de professor ===');\n      console.error('Erro completo:', err);\n      console.error('Mensagem de erro:', err.message);\n      console.error('Stack trace:', err.stack);\n      setError('Erro ao salvar legenda: ' + err.message);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"p-6 bg-gray-50 rounded-lg\">\n        <div className=\"flex items-center justify-center py-8\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600\"></div>\n          <span className=\"ml-2 text-gray-600\">Carregando imagens dos professores...</span>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <User className=\"w-5 h-5 text-green-600\" />\n          <h3 className=\"text-lg font-semibold text-gray-900\">Imagens dos Professores</h3>\n        </div>\n        <div className=\"text-sm text-gray-500\">\n          {existingImages.length} imagens\n        </div>\n      </div>\n\n      {/* Mensagens */}\n      {error && (\n        <div className=\"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg\">\n          <AlertCircle className=\"w-5 h-5 text-red-600\" />\n          <span className=\"text-red-700\">{error}</span>\n        </div>\n      )}\n\n      {success && (\n        <div className=\"flex items-center gap-2 p-3 bg-green-50 border border-green-200 rounded-lg\">\n          <Check className=\"w-5 h-5 text-green-600\" />\n          <span className=\"text-green-700\">{success}</span>\n        </div>\n      )}\n\n      {/* Área de Upload */}\n      <div className=\"space-y-4\">\n          {/* Drag & Drop */}\n          <div\n            className={`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${\n              uploading \n                ? 'border-gray-300 bg-gray-50' \n                : 'border-green-300 bg-green-50 hover:border-green-400 hover:bg-green-100'\n            }`}\n            onDrop={handleDrop}\n            onDragOver={handleDragOver}\n          >\n            <Upload className=\"w-8 h-8 text-green-600 mx-auto mb-2\" />\n            <p className=\"text-gray-600 mb-2\">\n              Arraste imagens dos professores aqui ou clique para selecionar\n            </p>\n            <p className=\"text-sm text-gray-500 mb-4\">\n              JPG, PNG, WEBP, GIF • Máximo 5MB por arquivo • Máximo 5 imagens\n            </p>\n            \n            <label className=\"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer transition-colors\">\n              <input\n                type=\"file\"\n                multiple\n                accept=\"image/jpeg,image/jpg,image/png,image/webp,image/gif\"\n                onChange={handleFileSelect}\n                className=\"hidden\"\n                disabled={uploading}\n              />\n              Selecionar Arquivos\n            </label>\n          </div>\n\n          {/* Progress Bar */}\n          {uploading && (\n            <div className=\"space-y-2\">\n              <div className=\"flex justify-between text-sm text-gray-600\">\n                <span>Fazendo upload das imagens dos professores...</span>\n                <span>{Math.round(uploadProgress)}%</span>\n              </div>\n              <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                <div \n                  className=\"bg-green-600 h-2 rounded-full transition-all duration-300\"\n                  style={{ width: `${uploadProgress}%` }}\n                ></div>\n              </div>\n            </div>\n          )}\n\n          {/* Arquivos Selecionados */}\n          {selectedFiles.length > 0 && (\n            <div className=\"space-y-3\">\n              <h4 className=\"font-medium text-gray-900\">Arquivos selecionados ({selectedFiles.length})</h4>\n              <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3\">\n                {selectedFiles.map((file, index) => (\n                  <div key={index} className=\"relative group\">\n                    <img\n                      src={URL.createObjectURL(file)}\n                      alt={file.name}\n                      className=\"w-full h-24 object-cover rounded-lg border\"\n                    />\n                    <button\n                      onClick={() => removeSelectedFile(index)}\n                      className=\"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity\"\n                    >\n                      <X className=\"w-3 h-3\" />\n                    </button>\n                    <p className=\"text-xs text-gray-600 mt-1 truncate\">{file.name}</p>\n                  </div>\n                ))}\n              </div>\n              <button\n                onClick={handleUpload}\n                disabled={uploading}\n                className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                {uploading ? 'Fazendo Upload...' : 'Fazer Upload'}\n              </button>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Imagens Existentes */}\n      {existingImages.length > 0 && (\n        <div className=\"space-y-4\">\n          <h4 className=\"font-medium text-gray-900\">Imagens dos Professores ({existingImages.length})</h4>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {existingImages.map((image) => (\n              <div key={image.id} className=\"bg-white border rounded-lg overflow-hidden shadow-sm\">\n                {/* Imagem */}\n                <div className=\"relative group\">\n                <img\n                  src={image.publicUrl}\n                  alt={image.descricao || 'Imagem do professor'}\n                    className=\"w-full h-48 object-cover\"\n                />\n                \n                {/* Overlay de ações */}\n                  <div className=\"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center\">\n                  <div className=\"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity\">\n                    <button\n                      onClick={() => handleDeleteImage(image.id, image.url)}\n                      className=\"p-2 bg-red-600 text-white rounded-full hover:bg-red-700\"\n                      title=\"Excluir imagem\"\n                    >\n                      <Trash2 className=\"w-5 h-5\" />\n                    </button>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Campos de legenda integrados com legendas_fotos */}\n                <div className=\"p-4 space-y-2\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Legenda\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                    value={image.legendaData?.legenda || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'legenda', e.target.value)}\n                    placeholder=\"Digite a legenda da imagem...\"\n                  />\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Descrição Detalhada\n                  </label>\n                  <textarea\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                    value={image.legendaData?.descricao_detalhada || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'descricao_detalhada', e.target.value)}\n                    placeholder=\"Descrição detalhada da imagem...\"\n                  />\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Autor da Foto\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                    value={image.legendaData?.autor_foto || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'autor_foto', e.target.value)}\n                    placeholder=\"Nome do fotógrafo\"\n                  />\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Data da Foto\n                  </label>\n                  <input\n                    type=\"date\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                    value={image.legendaData?.data_foto || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'data_foto', e.target.value)}\n                  />\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Categoria\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                    value={image.legendaData?.categoria || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'categoria', e.target.value)}\n                    placeholder=\"Digite a categoria da imagem...\"\n                  />\n                  <div className=\"flex gap-2 pt-2\">\n                    <button\n                      onClick={() => handleLegendaSave(image)}\n                      className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\n                      type=\"button\"\n                    >\n                      <Save className=\"w-5 h-5\" /> Salvar Legenda\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Mensagem quando não há imagens */}\n      {existingImages.length === 0 && !uploading && (\n        <div className=\"text-center py-8 text-gray-500\">\n          <User className=\"w-12 h-12 mx-auto mb-2 text-gray-300\" />\n          <p>Nenhuma imagem dos professores adicionada ainda.</p>\n          <p className=\"text-sm\">Adicione imagens para mostrar os professores da escola.</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nProfessorImageUploadSection.propTypes = {\n  escolaId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  onImagesUpdate: PropTypes.func\n};\n\nexport default ProfessorImageUploadSection; ","import React from 'react';\nimport ProfessorImageUploadSection from '../../EditEscolaPanel/ProfessorImageUploadSection';\n\nconst ImagensProfessoresTab = ({ editingLocation }) => {\n  const escolaId = editingLocation?.id;\n\n  if (!escolaId) {\n    return (\n      <div className=\"flex items-center justify-center h-64 text-gray-500\">\n        <p>Selecione uma escola para gerenciar as imagens dos professores</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">\n          Imagens dos Professores\n        </h3>\n        <p className=\"text-sm text-gray-600 mb-6\">\n          Faça upload de imagens dos professores da escola. Não há limite no número de imagens.\n        </p>\n        \n        <ProfessorImageUploadSection \n          escolaId={escolaId}\n          onImagesUpdate={() => {\n            // Callback para atualizar dados se necessário\n            console.log('Imagens dos professores atualizadas');\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default ImagensProfessoresTab; ","// Storage configuration constants\n\nexport const STORAGE_BUCKETS = {\n  PDFS: 'pdfs',\n  MEDIA: 'media', // Keeping for backward compatibility\n};\n\nexport const FILE_RESTRICTIONS = {\n  PDF: {\n    MAX_SIZE: 10 * 1024 * 1024, // 10MB\n    ALLOWED_TYPES: ['application/pdf'],\n    MAX_FILES: Infinity, // Sem limite\n  },\n  IMAGE: {\n    MAX_SIZE: 5 * 1024 * 1024, // 5MB\n    ALLOWED_TYPES: ['image/jpeg', 'image/png', 'image/jpg'],\n    MAX_FILES: 10,\n  },\n  AUDIO: {\n    MAX_SIZE: 20 * 1024 * 1024, // 20MB\n    ALLOWED_TYPES: ['audio/wav', 'audio/mpeg', 'audio/mp3'],\n    MAX_FILES: 1,\n  },\n};\n\nexport const FILE_PATHS = {\n  PDF: 'documents',\n  IMAGE: 'images',\n  AUDIO: 'audio',\n};\n\nexport const getFileType = (file) => {\n  if (FILE_RESTRICTIONS.PDF.ALLOWED_TYPES.includes(file.type)) return 'PDF';\n  if (FILE_RESTRICTIONS.IMAGE.ALLOWED_TYPES.includes(file.type)) return 'IMAGE';\n  if (FILE_RESTRICTIONS.AUDIO.ALLOWED_TYPES.includes(file.type)) return 'AUDIO';\n  return null;\n};\n\nexport const validateFile = (file, type) => {\n  const restrictions = FILE_RESTRICTIONS[type];\n  if (!restrictions) return { isValid: false, error: 'Tipo de arquivo não suportado' };\n\n  if (!restrictions.ALLOWED_TYPES.includes(file.type)) {\n    return { isValid: false, error: `Tipo de arquivo não permitido. Use apenas ${type === 'PDF' ? 'PDF' : type === 'IMAGE' ? 'JPG/PNG' : 'WAV/MP3'}` };\n  }\n\n  if (file.size > restrictions.MAX_SIZE) {\n    return { isValid: false, error: `Arquivo muito grande. Tamanho máximo: ${restrictions.MAX_SIZE / (1024 * 1024)}MB` };\n  }\n\n  return { isValid: true };\n};\n\nexport const generateUniqueFileName = (file, prefix = '') => {\n  const timestamp = Date.now();\n  const random = Math.random().toString(36).substring(2, 8);\n  const extension = file.name.split('.').pop();\n  return `${prefix}${timestamp}_${random}.${extension}`;\n}; "],"names":["ESCOLA_IMAGE_CONFIG","BUCKET_NAME","MAX_FILE_SIZE","ALLOWED_TYPES","MAX_IMAGES_PER_SCHOOL","Infinity","MIN_DIMENSIONS","width","height","PROFESSOR_IMAGE_CONFIG","validateImageFile","file","config","includes","type","isValid","error","concat","map","t","split","toUpperCase","join","size","extension","name","pop","toLowerCase","allowedExtensions","uploadEscolaImage","async","escolaId","descricao","arguments","length","undefined","validation","Error","fileName","generateUniqueFileName","timestamp","Date","now","random","Math","toString","substring","filePath","uploadError","supabase","storage","from","upload","cacheControl","upsert","message","data","publicUrl","getPublicUrl","id","url","trim","created_at","toISOString","console","uploadProfessorImage","genero","generateUniqueFileNameWithGenero","getEscolaImages","bucketName","files","list","index","deleteImage","imageId","storageError","remove","updateImageDescription","_ref","onUploadComplete","onRemove","existingUrls","isUploading","setIsUploading","useState","setError","selectedFiles","setSelectedFiles","previewUrls","setPreviewUrls","_jsxs","className","children","FILE_RESTRICTIONS","PDF","MAX_SIZE","_jsx","AlertCircle","accept","multiple","onChange","Array","event","target","validFiles","filter","isValidType","isValidSize","prev","disabled","Upload","File","onClick","_","i","X","uploadedUrls","uploadPDF","push","allUrls","err","href","rel","newUrls","handleRemove","editingLocation","documentos","setDocumentos","PDFUploadSection","urls","log","onImagesUpdate","uploading","setUploading","uploadProgress","setUploadProgress","success","setSuccess","existingImages","setExistingImages","loading","setLoading","editingImage","setEditingImage","editingDescription","setEditingDescription","fetchExistingImages","useCallback","images","useEffect","testLegendasTable","legendasMap","img","legenda","getLegendaByImageUrl","_objectSpread","legendaData","descricao_detalhada","autor_foto","data_foto","categoria","fetchLegendas","timer","setTimeout","clearTimeout","handleDrop","preventDefault","dataTransfer","imageFiles","startsWith","handleDragOver","handleLegendaFieldChange","field","value","ImageIcon","Check","onDrop","onDragOver","round","style","src","URL","createObjectURL","alt","removeSelectedFile","uploadedImages","progress","uploadedImage","image","_image$legendaData","_image$legendaData2","_image$legendaData3","_image$legendaData4","_image$legendaData5","window","confirm","handleDeleteImage","title","Trash2","e","placeholder","imagem_url_relativa","cleanLegendaData","Object","keys","forEach","key","updateData","updated_at","resultado","updateLegendaFoto","novaLegendaData","escola_id","imagem_url","ativo","tipo_foto","novaLegenda","addLegendaFoto","stack","handleLegendaSave","Save","ImageUploadSection","uploadFile","bucket","STORAGE_BUCKETS","PDFS","fileType","getFileType","validateFile","FILE_PATHS","uploadImage","MEDIA","useEscolas","escolas","setEscolas","searchTerm","setSearchTerm","selectedType","setSelectedType","fetchEscolas","select","order","ascending","escolasMapeadas","escola","logradouro","numero","complemento","bairro","cep","estado","filteredEscolas","_escola$Escola","Escola","updateEscolaInList","updatedData","addEscolaToList","novaEscola","removeEscolaFromList","getEscolaById","find","getEscolaByName","nome","_escola$Escola2","saveEscola","escolaData","update","eq","insert","deleteEscola","delete","MODALIDADES_OPTIONS","MODALIDADES_CATEGORIAS","titulo","indices","useModalidades","selectedModalidades","setSelectedModalidades","outroModalidade","setOutroModalidade","handleModalidadeChange","modalidade","m","handleOutroModalidadeChange","hasOutro","some","saveModalidades","loadExistingModalidades","modalidadesText","parts","part","modalidades","outro","replace","clearModalidades","getModalidadesPreview","hasSelectedModalidades","ADMIN_TABS","label","UI_CONFIG","FORM_CONFIG","isMobile","sidebarOpen","setSidebarOpen","onEscolaSelect","_Fragment","Menu","transform","top","Search","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","onNovaEscola","setEditingLocation","checked","turnos_funcionamento","handleSaveModalidades","cozinha","merenda_escolar","diferenciada","merenda_diferenciada","videos","setVideos","showForm","setShowForm","editingVideo","setEditingVideo","formData","setFormData","video_url","plataforma","carregarVideos","getVideosEscola","resetForm","handleDelete","deleteVideoEscola","Plus","video","allowFullScreen","handleEdit","Edit3","onSubmit","payload","Number","Boolean","updates","updateVideoEscola","createVideoEscola","required","rows","VideoManager","quillRef","useRef","quillInstance","setQuillInstance","React","imageHandler","input","document","createElement","setAttribute","click","onchange","range","getSelection","insertEmbed","imageUrl","deleteText","setSelection","alert","modules","toolbar","container","handlers","handleEditorChange","content","delta","source","editor","handleEditorReady","quill","ReactQuill","ref","theme","onEditorReady","formats","backgroundColor","color","QuillEditor","RichTextEditor","historias","setHistorias","editingHistoria","setEditingHistoria","isCreating","setIsCreating","loadHistorias","getHistoriasProfessor","handleNewHistoria","nome_professor","historia","updateHistoriaProfessor","historiaData","createHistoriaProfessor","handleSaveHistoria","handleCancelEdit","dangerouslySetInnerHTML","__html","handleEditHistoria","deleteHistoriaProfessor","historiaId","handleDeleteHistoria","MARKER_SVG_PATH","process","mapRef","mapInstanceRef","markerRef","updateMap","lat","lng","current","view","getView","isNaN","_mapInstanceRef$curre","coordinates","fromLonLat","parseFloat","setCenter","setZoom","vectorSource","getLayers","getArray","layer","VectorLayer","getSource","removeFeature","marker","Feature","geometry","Point","setStyle","Style","Icon","scale","anchor","anchorXUnits","anchorYUnits","addFeature","handleMapClick","toLonLat","coordinate","toFixed","Map","layers","TileLayer","XYZ","VectorSource","View","center","zoom","on","setTarget","step","minHeight","TabelasIntegraisTab","_tabelas$find","tabelas","setTabelas","selectedTabela","setSelectedTabela","dadosTabela","setDadosTabela","loadingDados","setLoadingDados","backupStatus","setBackupStatus","backupProgress","setBackupProgress","TABELAS_SISTEMA","icone","Database","cor","registros","Users","FileText","Video","Image","BUCKETS_BACKUP","arquivos","carregarDadosTabela","tabelaId","downloadFile","filename","response","fetch","blob","downloadUrl","link","download","body","appendChild","removeChild","revokeObjectURL","createAndDownloadZip","zipName","zip","JSZip","default","arquivosAdicionados","ok","status","statusText","zipBlob","generateAsync","Promise","resolve","downloadError","Archive","backupTabelas","tabela","backupArquivos","todosArquivos","limit","arquivosComUrls","arquivo","urlData","createSignedUrl","signedUrl","arquivoCompleto","bucketNome","warn","backupCompleto","metadata","dataBackup","versao","buckets","b","totalRegistros","values","reduce","acc","totalArquivos","dados","jsonContent","JSON","stringify","Blob","visibility","detalhes","backupTabelasData","dataAtual","entries","headers","csvContent","row","header","tipo","formato","resultados","mensagem","tabelasOk","r","tabelasErro","FileDown","urlError","f","bucketsOk","bucketsErro","CheckCircle","Icone","isSelected","stopPropagation","Eye","RefreshCw","downloadCSV","Download","downloadJSON","slice","cellIndex","ImagensEscolaTab","ImagensProfessoresTab","DocumentosTab","require","AdminPanel","triggerRefresh","useRefresh","isSaving","setIsSaving","saveError","setSaveError","saveSuccess","setSaveSuccess","showBackupModal","setShowBackupModal","showDeleteModal","setShowDeleteModal","escolaToDelete","setEscolaToDelete","isDeleting","setIsDeleting","innerWidth","escolasLoading","escolasError","handleNovaEscola","activeTab","AdminSidebar","escolaOriginal","AdminToolbar","result","tab","renderActiveTab","DadosBasicosTab","PovosLinguasTab","ModalidadesTab","InfraestruturaTab","GestaoProfessoresTab","MaterialPedagogicoTab","ProjetosParceriasTab","RedesSociaisTab","VideoTab","HistoriasTab","HistoriaProfessoresTab","CoordenadasTab","addProfessorImageMeta","meta","single","setGenero","setTitulo","code","getProfessorImageMetaByUrl","updateProfessorImageMeta","autor","User","nome_arquivo","ProfessorImageUploadSection","MAX_FILES","IMAGE","AUDIO","restrictions","prefix"],"sourceRoot":""}