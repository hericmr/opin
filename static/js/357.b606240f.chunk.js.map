{"version":3,"file":"static/js/357.b606240f.chunk.js","mappings":"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","sources":["services/escolaImageService.js","components/AdminPanel/hooks/useEscolas.js","components/AdminPanel/utils/modalidadesOptions.js","components/AdminPanel/hooks/useModalidades.js","components/AdminPanel/constants/adminConstants.js","components/AdminPanel/AdminSidebar.js","components/AdminPanel/AdminToolbar.js","components/AdminPanel/tabs/ModalidadesTab.js","components/AdminPanel/tabs/DadosBasicosTab.js","components/AdminPanel/tabs/PovosLinguasTab.js","components/AdminPanel/tabs/InfraestruturaTab.js","components/AdminPanel/tabs/GestaoProfessoresTab.js","components/AdminPanel/tabs/MaterialPedagogicoTab.js","components/AdminPanel/tabs/ProjetosParceriasTab.js","components/AdminPanel/tabs/RedesSociaisTab.js","components/AdminPanel/VideoManager.js","services/videoService.js","components/AdminPanel/tabs/VideoTab.js","components/shared/QuillEditor.js","components/AdminPanel/tabs/RichTextEditor.js","components/AdminPanel/tabs/HistoriasTab.js","components/AdminPanel/tabs/HistoriaProfessoresTab.js","components/AdminPanel/tabs/CoordenadasTab.js","components/AdminPanel/tabs/TabelasIntegraisTab.js","components/AdminPanel/index.js","components/AdminPanel.js","components/AddLocationPanel/components/PDFUploadSection.js","components/AdminPanel/tabs/DocumentosTab.js","components/EditEscolaPanel/ImageUploadSection.js","components/AdminPanel/tabs/ImagensEscolaTab.js","services/uploadService.js","services/professorImageMetaService.js","components/EditEscolaPanel/ProfessorImageUploadSection.js","components/AdminPanel/tabs/ImagensProfessoresTab.js","config/storage.js"],"sourcesContent":["import { supabase } from '../supabaseClient';\n\n// Configurações para imagens das escolas\nconst ESCOLA_IMAGE_CONFIG = {\n  BUCKET_NAME: 'imagens-das-escolas',\n  MAX_FILE_SIZE: 5 * 1024 * 1024, // 5MB\n  ALLOWED_TYPES: ['image/jpeg', 'image/jpg', 'image/png', 'image/webp', 'image/gif'],\n  MAX_IMAGES_PER_SCHOOL: Infinity, // Sem limite\n  MIN_DIMENSIONS: { width: 200, height: 200 }\n};\n\n// Configurações para imagens dos professores\nconst PROFESSOR_IMAGE_CONFIG = {\n  BUCKET_NAME: 'imagens-professores', // Usando bucket existente\n  MAX_FILE_SIZE: 5 * 1024 * 1024, // 5MB\n  ALLOWED_TYPES: ['image/jpeg', 'image/jpg', 'image/png', 'image/webp', 'image/gif'],\n  MAX_IMAGES_PER_SCHOOL: Infinity, // Sem limite\n  MIN_DIMENSIONS: { width: 200, height: 200 }\n};\n\n/**\n * Valida um arquivo de imagem\n * @param {File} file - Arquivo a ser validado\n * @param {Object} config - Configuração de validação\n * @returns {Object} Resultado da validação\n */\nconst validateImageFile = (file, config) => {\n  // Verificar tipo MIME\n  if (!config.ALLOWED_TYPES.includes(file.type)) {\n    return {\n      isValid: false,\n      error: `Tipo de arquivo não suportado. Use apenas: ${config.ALLOWED_TYPES.map(t => t.split('/')[1].toUpperCase()).join(', ')}`\n    };\n  }\n\n  // Verificar tamanho\n  if (file.size > config.MAX_FILE_SIZE) {\n    return {\n      isValid: false,\n      error: `Arquivo muito grande. Tamanho máximo: ${config.MAX_FILE_SIZE / (1024 * 1024)}MB`\n    };\n  }\n\n  // Verificar extensão\n  const extension = file.name.split('.').pop().toLowerCase();\n  const allowedExtensions = config.ALLOWED_TYPES.map(t => t.split('/')[1]);\n  if (!allowedExtensions.includes(extension)) {\n    return {\n      isValid: false,\n      error: `Extensão não permitida. Use apenas: ${allowedExtensions.join(', ')}`\n    };\n  }\n\n  return { isValid: true };\n};\n\n/**\n * Gera nome único para o arquivo (sem gênero, para imagens de escola)\n * @param {File} file - Arquivo\n * @param {number} escolaId - ID da escola\n * @returns {string} Nome único do arquivo\n */\nconst generateUniqueFileName = (file, escolaId) => {\n  const timestamp = Date.now();\n  const random = Math.random().toString(36).substring(2, 8);\n  const extension = file.name.split('.').pop().toLowerCase();\n  return `${escolaId}_${timestamp}_${random}.${extension}`;\n};\n\n/**\n * Gera nome único para o arquivo, incluindo o gênero\n * @param {File} file - Arquivo\n * @param {number} escolaId - ID da escola\n * @param {string} genero - 'professor' ou 'professora'\n * @returns {string} Nome único do arquivo\n */\nconst generateUniqueFileNameWithGenero = (file, escolaId, genero) => {\n  const timestamp = Date.now();\n  const random = Math.random().toString(36).substring(2, 8);\n  const extension = file.name.split('.').pop().toLowerCase();\n  return `${genero}_${escolaId}_${timestamp}_${random}.${extension}`;\n};\n\n/**\n * Upload de imagem da escola (versão simplificada sem tabela de metadados)\n * @param {File} file - Arquivo de imagem\n * @param {number} escolaId - ID da escola\n * @param {string} descricao - Descrição da imagem\n * @returns {Promise<Object>} Dados da imagem salva\n */\nexport const uploadEscolaImage = async (file, escolaId, descricao = '') => {\n  try {\n    // Validar arquivo\n    const validation = validateImageFile(file, ESCOLA_IMAGE_CONFIG);\n    if (!validation.isValid) {\n      throw new Error(validation.error);\n    }\n\n    // Gerar nome único\n    const fileName = generateUniqueFileName(file, escolaId);\n    const filePath = `${escolaId}/${fileName}`;\n\n    // Upload ao bucket\n    const { error: uploadError } = await supabase.storage\n      .from(ESCOLA_IMAGE_CONFIG.BUCKET_NAME)\n      .upload(filePath, file, {\n        cacheControl: '3600',\n        upsert: false\n      });\n\n    if (uploadError) {\n      throw new Error(`Erro no upload: ${uploadError.message}`);\n    }\n\n    // Obter URL pública\n    const { data: { publicUrl } } = supabase.storage\n      .from(ESCOLA_IMAGE_CONFIG.BUCKET_NAME)\n      .getPublicUrl(filePath);\n\n    return {\n      id: Date.now(), // ID temporário\n      url: filePath,\n      publicUrl,\n      descricao: descricao.trim() || `Imagem da escola ${escolaId}`,\n      created_at: new Date().toISOString()\n    };\n\n  } catch (error) {\n    console.error('Erro no upload da imagem da escola:', error);\n    throw error;\n  }\n};\n\n/**\n * Upload de imagem do professor (com gênero no nome do arquivo)\n * @param {File} file - Arquivo de imagem\n * @param {number} escolaId - ID da escola\n * @param {string} descricao - Descrição da imagem\n * @param {string} genero - 'professor' ou 'professora'\n * @returns {Promise<Object>} Dados da imagem salva\n */\nexport const uploadProfessorImage = async (file, escolaId, descricao = '', genero = 'professor') => {\n  try {\n    // Validar arquivo\n    const validation = validateImageFile(file, PROFESSOR_IMAGE_CONFIG);\n    if (!validation.isValid) {\n      throw new Error(validation.error);\n    }\n\n    // Gerar nome único com gênero\n    const fileName = generateUniqueFileNameWithGenero(file, escolaId, genero);\n    const filePath = `${escolaId}/${fileName}`;\n\n    // Upload ao bucket\n    const { error: uploadError } = await supabase.storage\n      .from(PROFESSOR_IMAGE_CONFIG.BUCKET_NAME)\n      .upload(filePath, file, {\n        cacheControl: '3600',\n        upsert: false\n      });\n\n    if (uploadError) {\n      console.error('Erro detalhado do upload:', uploadError);\n      throw new Error(`Erro no upload: ${uploadError.message}`);\n    }\n\n    // Obter URL pública\n    const { data: { publicUrl } } = supabase.storage\n      .from(PROFESSOR_IMAGE_CONFIG.BUCKET_NAME)\n      .getPublicUrl(filePath);\n\n    // Retornar objeto simulado (sem metadados na tabela)\n    return {\n      id: Date.now(), // ID temporário\n      url: filePath,\n      publicUrl,\n      descricao: descricao.trim() || `Imagem do ${genero} da escola ${escolaId}`,\n      genero,\n      created_at: new Date().toISOString()\n    };\n\n  } catch (error) {\n    console.error('Erro no upload da imagem do professor:', error);\n    throw error;\n  }\n};\n\n/**\n * Buscar imagens da escola (versão simplificada)\n * @param {number} escolaId - ID da escola\n * @param {string} bucketName - Nome do bucket\n * @returns {Promise<Array>} Lista de imagens\n */\nexport const getEscolaImages = async (escolaId, bucketName = ESCOLA_IMAGE_CONFIG.BUCKET_NAME) => {\n  try {\n    // Listar arquivos no bucket para a escola específica\n    const { data: files, error } = await supabase.storage\n      .from(bucketName)\n      .list(`${escolaId}/`);\n\n    if (error) {\n      throw error;\n    }\n\n    if (!files || files.length === 0) {\n      return [];\n    }\n\n    // Criar objetos de imagem com URLs públicas\n    const imagens = files.map((file, index) => {\n      const filePath = `${escolaId}/${file.name}`;\n      const { data: { publicUrl } } = supabase.storage\n        .from(bucketName)\n        .getPublicUrl(filePath);\n\n      return {\n        id: index + 1, // ID temporário\n        url: filePath,\n        publicUrl,\n        descricao: `Imagem ${index + 1}`,\n        created_at: file.created_at || new Date().toISOString()\n      };\n    });\n\n    return imagens;\n\n  } catch (error) {\n    console.error('Erro ao buscar imagens da escola:', error);\n    throw error;\n  }\n};\n\n/**\n * Deletar imagem (versão simplificada)\n * @param {number} imageId - ID da imagem\n * @param {string} filePath - Caminho do arquivo\n * @param {string} bucketName - Nome do bucket\n * @returns {Promise<void>}\n */\nexport const deleteImage = async (imageId, filePath, bucketName) => {\n  try {\n    // Deletar arquivo do storage\n    const { error: storageError } = await supabase.storage\n      .from(bucketName)\n      .remove([filePath]);\n\n    if (storageError) {\n      throw new Error(`Erro ao deletar arquivo: ${storageError.message}`);\n    }\n\n  } catch (error) {\n    console.error('Erro ao deletar imagem:', error);\n    throw error;\n  }\n};\n\n/**\n * Atualizar descrição da imagem (versão simplificada)\n * @param {number} imageId - ID da imagem\n * @param {string} descricao - Nova descrição\n * @returns {Promise<Object>} Imagem atualizada\n */\nexport const updateImageDescription = async (imageId, descricao) => {\n  try {\n    // Como não temos tabela de metadados, retornamos um objeto simulado\n    return {\n      id: imageId,\n      descricao: descricao.trim()\n    };\n\n  } catch (error) {\n    console.error('Erro ao atualizar descrição da imagem:', error);\n    throw error;\n  }\n};\n\n/**\n * Verificar limite de imagens (versão simplificada)\n * @param {number} escolaId - ID da escola\n * @param {string} bucketName - Nome do bucket\n * @returns {Promise<Object>} Informações sobre o limite\n */\nexport const checkImageLimit = async (escolaId, bucketName) => {\n  try {\n    const config = bucketName === PROFESSOR_IMAGE_CONFIG.BUCKET_NAME \n      ? PROFESSOR_IMAGE_CONFIG \n      : ESCOLA_IMAGE_CONFIG;\n\n    // Listar arquivos no bucket para a escola específica\n    const { data: files, error } = await supabase.storage\n      .from(bucketName)\n      .list(`${escolaId}/`);\n\n    if (error) {\n      throw error;\n    }\n\n    const currentCount = files ? files.length : 0;\n\n    return {\n      current: currentCount,\n      limit: config.MAX_IMAGES_PER_SCHOOL,\n      canUpload: currentCount < config.MAX_IMAGES_PER_SCHOOL\n    };\n\n  } catch (error) {\n    console.error('Erro ao verificar limite de imagens:', error);\n    throw error;\n  }\n}; ","import { useState, useEffect, useCallback } from 'react';\nimport { supabase } from '../../../supabaseClient';\n\nexport const useEscolas = () => {\n  const [escolas, setEscolas] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedType, setSelectedType] = useState('todos');\n\n  // Buscar todas as escolas\n  const fetchEscolas = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const { data, error } = await supabase\n        .from('escolas_completa')\n        .select('*')\n        .order('Escola', { ascending: true });\n\n      if (error) throw error;\n      \n      // Mapear os dados para usar os nomes originais das colunas\n      const escolasMapeadas = data.map(escola => ({\n        ...escola,\n        // Garantir que os novos campos de endereço existam\n        logradouro: escola.logradouro || '',\n        numero: escola.numero || '',\n        complemento: escola.complemento || '',\n        bairro: escola.bairro || '',\n        cep: escola.cep || '',\n        estado: escola.estado || 'SP'\n      }));\n      \n      setEscolas(escolasMapeadas);\n    } catch (err) {\n      console.error('Erro ao buscar escolas:', err);\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Filtrar escolas baseado no termo de busca\n  const filteredEscolas = useCallback(() => {\n    return escolas.filter(escola => \n      escola.Escola?.toLowerCase().includes(searchTerm.toLowerCase())\n    );\n  }, [escolas, searchTerm]);\n\n  // Atualizar escola na lista local\n  const updateEscolaInList = useCallback((escolaId, updatedData) => {\n    setEscolas(prev => prev.map(escola => \n      escola.id === escolaId ? { ...escola, ...updatedData } : escola\n    ));\n  }, []);\n\n  // Adicionar nova escola à lista\n  const addEscolaToList = useCallback((novaEscola) => {\n    setEscolas(prev => [...prev, novaEscola]);\n  }, []);\n\n  // Remover escola da lista\n  const removeEscolaFromList = useCallback((escolaId) => {\n    setEscolas(prev => prev.filter(escola => escola.id !== escolaId));\n  }, []);\n\n  // Buscar escola por ID\n  const getEscolaById = useCallback((escolaId) => {\n    return escolas.find(escola => escola.id === escolaId);\n  }, [escolas]);\n\n  // Buscar escola por nome\n  const getEscolaByName = useCallback((nome) => {\n    return escolas.find(escola => \n      escola.Escola?.toLowerCase() === nome.toLowerCase()\n    );\n  }, [escolas]);\n\n  // Salvar escola no Supabase\n  const saveEscola = useCallback(async (escolaData) => {\n    try {\n      setError(null);\n      \n      if (escolaData.id) {\n        // Atualizar escola existente\n        const { data, error } = await supabase\n          .from('escolas_completa')\n          .update({\n            'Escola': escolaData.Escola,\n            'Município': escolaData['Município'],\n            'Endereço': escolaData['Endereço'],\n            'Terra Indigena (TI)': escolaData['Terra Indigena (TI)'],\n            'Parcerias com o município': escolaData['Parcerias com o município'],\n            'Diretoria de Ensino': escolaData['Diretoria de Ensino'],\n            'Ano de criação da escola': escolaData['Ano de criação da escola'],\n            'Povos indigenas': escolaData['Povos indigenas'],\n            'Linguas faladas': escolaData['Linguas faladas'],\n            'Modalidade de Ensino/turnos de funcionamento': escolaData['Modalidade de Ensino/turnos de funcionamento'],\n            'Numero de alunos': escolaData['Numero de alunos'],\n            'turnos_funcionamento': escolaData['turnos_funcionamento'],\n            'Espaço escolar e estrutura': escolaData['Espaço escolar e estrutura'],\n            'Acesso à água': escolaData['Acesso à água'],\n            'Tem coleta de lixo?': escolaData['Tem coleta de lixo?'],\n            'Acesso à internet': escolaData['Acesso à internet'],\n            'Equipamentos Tecnológicos (Computadores, tablets e impressoras)': escolaData['Equipamentos Tecnológicos (Computadores, tablets e impressoras)'],\n            'Modo de acesso à escola': escolaData['Modo de acesso à escola'],\n            'Gestão/Nome': escolaData['Gestão/Nome'],\n            'Outros funcionários': escolaData['Outros funcionários'],\n            'Quantidade de professores indígenas': escolaData['Quantidade de professores indígenas'],\n            'Quantidade de professores não indígenas': escolaData['Quantidade de professores não indígenas'],\n            'Professores falam a língua indígena?': escolaData['Professores falam a língua indígena?'],\n            'Formação dos professores': escolaData['Formação dos professores'],\n            'Formação continuada oferecida': escolaData['Formação continuada oferecida'],\n            'A escola possui PPP próprio?': escolaData['A escola possui PPP próprio?'],\n            'PPP elaborado com a comunidade?': escolaData['PPP elaborado com a comunidade?'],\n            'Projetos em andamento': escolaData['Projetos em andamento'],\n            'Parcerias com universidades?': escolaData['Parcerias com universidades?'],\n            'Ações com ONGs ou coletivos?': escolaData['Ações com ONGs ou coletivos?'],\n            'Desejos da comunidade para a escola': escolaData['Desejos da comunidade para a escola'],\n            'Escola utiliza redes sociais?': escolaData['Escola utiliza redes sociais?'],\n            'Links das redes sociais': escolaData['Links das redes sociais'],\n            'historia_da_escola': escolaData['historia_da_escola'],\n            'Latitude': escolaData['Latitude'],\n            'Longitude': escolaData['Longitude'],\n            'historia_do_prof': escolaData['historia_do_prof'],\n            'links': escolaData['links'],\n            'link_para_videos': escolaData['link_para_videos'],\n            'logradouro': escolaData['logradouro'],\n            'numero': escolaData['numero'],\n            'complemento': escolaData['complemento'],\n            'bairro': escolaData['bairro'],\n            'cep': escolaData['cep'],\n            'estado': escolaData['estado'],\n            'nome_professor': escolaData['nome_professor'],\n            'professores_indigenas': escolaData['professores_indigenas'],\n            'professores_nao_indigenas': escolaData['professores_nao_indigenas'],\n            'professores_falam_lingua_indigena': escolaData['professores_falam_lingua_indigena'],\n            'formacao_professores': escolaData['formacao_professores'],\n            'visitas_supervisores_formacao': escolaData['visitas_supervisores_formacao'],\n            'outros_funcionarios': escolaData['outros_funcionarios'],\n            'gestao': escolaData['gestao'],\n            'merenda_diferenciada': escolaData['merenda_diferenciada'],\n            'cozinha': escolaData['cozinha'],\n            'merenda_escolar': escolaData['merenda_escolar'],\n            'diferenciada': escolaData['diferenciada']\n          })\n          .eq('id', escolaData.id)\n          .select();\n\n        if (error) throw error;\n        \n        // Atualizar na lista local\n        updateEscolaInList(escolaData.id, data[0]);\n        return { success: true, data: data[0] };\n      } else {\n        // Criar nova escola\n        const { data, error } = await supabase\n          .from('escolas_completa')\n          .insert({\n            'Escola': escolaData.Escola,\n            'Município': escolaData['Município'],\n            'Endereço': escolaData['Endereço'],\n            'Terra Indigena (TI)': escolaData['Terra Indigena (TI)'],\n            'Parcerias com o município': escolaData['Parcerias com o município'],\n            'Diretoria de Ensino': escolaData['Diretoria de Ensino'],\n            'Ano de criação da escola': escolaData['Ano de criação da escola'],\n            'Povos indigenas': escolaData['Povos indigenas'],\n            'Linguas faladas': escolaData['Linguas faladas'],\n            'Modalidade de Ensino/turnos de funcionamento': escolaData['Modalidade de Ensino/turnos de funcionamento'],\n            'Numero de alunos': escolaData['Numero de alunos'],\n            'turnos_funcionamento': escolaData['turnos_funcionamento'],\n            'Espaço escolar e estrutura': escolaData['Espaço escolar e estrutura'],\n            'Acesso à água': escolaData['Acesso à água'],\n            'Tem coleta de lixo?': escolaData['Tem coleta de lixo?'],\n            'Acesso à internet': escolaData['Acesso à internet'],\n            'Equipamentos Tecnológicos (Computadores, tablets e impressoras)': escolaData['Equipamentos Tecnológicos (Computadores, tablets e impressoras)'],\n            'Modo de acesso à escola': escolaData['Modo de acesso à escola'],\n            'Gestão/Nome': escolaData['Gestão/Nome'],\n            'Outros funcionários': escolaData['Outros funcionários'],\n            'Quantidade de professores indígenas': escolaData['Quantidade de professores indígenas'],\n            'Quantidade de professores não indígenas': escolaData['Quantidade de professores não indígenas'],\n            'Professores falam a língua indígena?': escolaData['Professores falam a língua indígena?'],\n            'Formação dos professores': escolaData['Formação dos professores'],\n            'Formação continuada oferecida': escolaData['Formação continuada oferecida'],\n            'A escola possui PPP próprio?': escolaData['A escola possui PPP próprio?'],\n            'PPP elaborado com a comunidade?': escolaData['PPP elaborado com a comunidade?'],\n            'Projetos em andamento': escolaData['Projetos em andamento'],\n            'Parcerias com universidades?': escolaData['Parcerias com universidades?'],\n            'Ações com ONGs ou coletivos?': escolaData['Ações com ONGs ou coletivos?'],\n            'Desejos da comunidade para a escola': escolaData['Desejos da comunidade para a escola'],\n            'Escola utiliza redes sociais?': escolaData['Escola utiliza redes sociais?'],\n            'Links das redes sociais': escolaData['Links das redes sociais'],\n            'historia_da_escola': escolaData['historia_da_escola'],\n            'Latitude': escolaData['Latitude'],\n            'Longitude': escolaData['Longitude'],\n            'historia_do_prof': escolaData['historia_do_prof'],\n            'links': escolaData['links'],\n            'link_para_videos': escolaData['link_para_videos'],\n            'logradouro': escolaData['logradouro'],\n            'numero': escolaData['numero'],\n            'complemento': escolaData['complemento'],\n            'bairro': escolaData['bairro'],\n            'cep': escolaData['cep'],\n            'estado': escolaData['estado'],\n            'nome_professor': escolaData['nome_professor'],\n            'professores_indigenas': escolaData['professores_indigenas'],\n            'professores_nao_indigenas': escolaData['professores_nao_indigenas'],\n            'professores_falam_lingua_indigena': escolaData['professores_falam_lingua_indigena'],\n            'formacao_professores': escolaData['formacao_professores'],\n            'visitas_supervisores_formacao': escolaData['visitas_supervisores_formacao'],\n            'outros_funcionarios': escolaData['outros_funcionarios'],\n            'gestao': escolaData['gestao'],\n            'merenda_diferenciada': escolaData['merenda_diferenciada'],\n            'cozinha': escolaData['cozinha'],\n            'merenda_escolar': escolaData['merenda_escolar'],\n            'diferenciada': escolaData['diferenciada']\n          })\n          .select();\n\n        if (error) throw error;\n        \n        // Adicionar à lista local\n        addEscolaToList(data[0]);\n        return { success: true, data: data[0] };\n      }\n    } catch (err) {\n      console.error('Erro ao salvar escola:', err);\n      setError(err.message);\n      return { success: false, error: err.message };\n    }\n  }, [updateEscolaInList, addEscolaToList]);\n\n  // Carregar escolas na inicialização\n  useEffect(() => {\n    fetchEscolas();\n  }, [fetchEscolas]);\n\n  return {\n    // Estado\n    escolas,\n    loading,\n    error,\n    searchTerm,\n    selectedType,\n    \n    // Ações\n    setSearchTerm,\n    setSelectedType,\n    fetchEscolas,\n    updateEscolaInList,\n    addEscolaToList,\n    removeEscolaFromList,\n    saveEscola,\n    \n    // Utilitários\n    filteredEscolas: filteredEscolas(),\n    getEscolaById,\n    getEscolaByName,\n  };\n}; ","// Lista de modalidades de ensino organizadas por categoria\nexport const MODALIDADES_OPTIONS = [\n  // 1. Educação Infantil\n  'Educação Infantil',\n  'Educação Infantil (Idade 0 a 6 anos)',\n  'Educação Infantil (Pré-escola I e II) – 1 sala multisseriada',\n  'Educação Infantil (Pré-escola I) – 1 sala regular',\n  'Educação Infantil + Ensino Fundamental – multisseriado',\n  'Educação Infantil + Ensino Fundamental – regular e multisseriado',\n  \n  // 2. Educação Infantil + Ensino Fundamental\n  'Educação Infantil + Ensino Fundamental',\n  'Educação Infantil + Ensino Fundamental (Anos Iniciais e Anos Finais)',\n  'Educação Infantil + Ensino Fundamental (Anos Iniciais multisseriado + Anos Finais multisseriado)',\n  'Educação Infantil + Ensino Fundamental (1º ao 9º ano) – Salas multisseriadas',\n  'Educação Infantil + Ensino Fundamental (Pré I + 1º ao 4º ano) – 1 sala multisseriada',\n  'Educação Infantil + Ensino Fundamental com EJA – Multisseriado',\n  \n  // 3. Ensino Fundamental - Anos Iniciais\n  'Ensino Fundamental Anos Iniciais (1º ao 3º)',\n  'Ensino Fundamental Anos Iniciais (1º ao 5º ano) – 1 sala multisseriada',\n  'Ensino Fundamental Anos Iniciais (4º e 5º ano) – 1 sala multisseriada',\n  'Ensino Fundamental Anos Iniciais – EJA (1º ao 5º ano) – multisseriado',\n  \n  // 3. Ensino Fundamental - Anos Finais\n  'Ensino Fundamental Anos Finais (6º ao 9º ano) – 1 sala multisseriada',\n  'Ensino Fundamental Anos Finais – EJA (6º ao 9º ano) – multisseriado',\n  \n  // 3. Ensino Fundamental - Ambos\n  'Ensino Fundamental (Anos Iniciais e Finais) – regular e multisseriado',\n  'Ensino Fundamental – Atendimento temporário em escola não indígena',\n  \n  // 4. Ensino Médio\n  'Ensino Médio (1º ao 3º ano) – regular',\n  'Ensino Médio (1º ao 3º ano) – multisseriado',\n  'Ensino Médio – EJA (1º ao 3º ano) – multisseriado',\n  'Ensino Médio – Não há atendimento'\n];\n\n// Categorias para organização visual\nexport const MODALIDADES_CATEGORIAS = [\n  {\n    id: 'educacao-infantil',\n    titulo: '1. Educação Infantil',\n    indices: [0, 1, 2, 3, 4, 5]\n  },\n  {\n    id: 'educacao-infantil-fundamental',\n    titulo: '2. Educação Infantil + Ensino Fundamental',\n    indices: [6, 7, 8, 9, 10, 11, 12]\n  },\n  {\n    id: 'ensino-fundamental',\n    titulo: '3. Ensino Fundamental',\n    indices: [13, 14, 15, 16, 17, 18, 19, 20]\n  },\n  {\n    id: 'ensino-medio',\n    titulo: '4. Ensino Médio',\n    indices: [21, 22, 23, 24]\n  }\n];\n\n// Função para obter modalidades por categoria\nexport const getModalidadesByCategoria = (categoriaId) => {\n  const categoria = MODALIDADES_CATEGORIAS.find(cat => cat.id === categoriaId);\n  if (!categoria) return [];\n  \n  return categoria.indices.map(index => MODALIDADES_OPTIONS[index]);\n};\n\n// Função para validar se uma modalidade existe na lista\nexport const isValidModalidade = (modalidade) => {\n  return MODALIDADES_OPTIONS.includes(modalidade);\n};\n\n// Função para obter categoria de uma modalidade\nexport const getCategoriaByModalidade = (modalidade) => {\n  const index = MODALIDADES_OPTIONS.indexOf(modalidade);\n  if (index === -1) return null;\n  \n  return MODALIDADES_CATEGORIAS.find(cat => \n    cat.indices.includes(index)\n  );\n}; ","import { useState, useCallback } from 'react';\nimport { MODALIDADES_OPTIONS } from '../utils/modalidadesOptions';\n\nexport const useModalidades = () => {\n  const [selectedModalidades, setSelectedModalidades] = useState([]);\n  const [outroModalidade, setOutroModalidade] = useState('');\n\n  // Função para alternar seleção de modalidade\n  const handleModalidadeChange = useCallback((modalidade) => {\n    setSelectedModalidades(prev => {\n      if (prev.includes(modalidade)) {\n        return prev.filter(m => m !== modalidade);\n      } else {\n        return [...prev, modalidade];\n      }\n    });\n  }, []);\n\n  // Função para gerenciar campo \"Outro (especificar)\"\n  const handleOutroModalidadeChange = useCallback((value) => {\n    setOutroModalidade(value);\n    \n    setSelectedModalidades(prev => {\n      const hasOutro = prev.some(m => m.startsWith('Outro:'));\n      \n      if (value.trim()) {\n        if (hasOutro) {\n          return prev.map(m => m.startsWith('Outro:') ? `Outro: ${value}` : m);\n        } else {\n          return [...prev, `Outro: ${value}`];\n        }\n      } else {\n        return prev.filter(m => !m.startsWith('Outro:'));\n      }\n    });\n  }, []);\n\n  // Função para salvar modalidades no editingLocation\n  const saveModalidades = useCallback(() => {\n    const modalidadesText = selectedModalidades.join('; ');\n    return modalidadesText;\n  }, [selectedModalidades]);\n\n  // Função para carregar modalidades existentes\n  const loadExistingModalidades = useCallback((modalidadesText) => {\n    if (!modalidadesText) {\n      setSelectedModalidades([]);\n      setOutroModalidade('');\n      return;\n    }\n\n    const parts = modalidadesText.split(';').map(part => part.trim());\n    const modalidades = [];\n    let outro = '';\n\n    parts.forEach(part => {\n      if (part.startsWith('Outro:')) {\n        outro = part.replace('Outro:', '').trim();\n        modalidades.push(part);\n      } else if (MODALIDADES_OPTIONS.includes(part)) {\n        modalidades.push(part);\n      } else if (part) {\n        // Se não está na lista padrão, tratar como \"outro\"\n        outro = part;\n        modalidades.push(`Outro: ${part}`);\n      }\n    });\n\n    setSelectedModalidades(modalidades);\n    setOutroModalidade(outro);\n  }, []);\n\n  // Função para limpar modalidades\n  const clearModalidades = useCallback(() => {\n    setSelectedModalidades([]);\n    setOutroModalidade('');\n  }, []);\n\n  // Função para obter preview do texto final\n  const getModalidadesPreview = useCallback(() => {\n    return selectedModalidades.join('; ') || 'Nenhuma modalidade selecionada';\n  }, [selectedModalidades]);\n\n  // Função para verificar se há modalidades selecionadas\n  const hasSelectedModalidades = useCallback(() => {\n    return selectedModalidades.length > 0;\n  }, [selectedModalidades]);\n\n  return {\n    // Estado\n    selectedModalidades,\n    outroModalidade,\n    \n    // Ações\n    handleModalidadeChange,\n    handleOutroModalidadeChange,\n    saveModalidades,\n    loadExistingModalidades,\n    clearModalidades,\n    \n    // Utilitários\n    getModalidadesPreview,\n    hasSelectedModalidades,\n  };\n}; ","// Configuração das abas do painel de administração\nexport const ADMIN_TABS = [\n  { id: 'dados-basicos', label: 'Dados Básicos' },\n  { id: 'povos-linguas', label: 'Povos' },\n  { id: 'modalidades', label: 'Modalidades' },\n  { id: 'infraestrutura', label: 'Infraestrutura' },\n  { id: 'gestao-professores', label: 'Gestores' },\n  { id: 'material-pedagogico', label: 'Material Pedagógico' },\n  { id: 'projetos-parcerias', label: 'Projetos e Parcerias' },\n  { id: 'redes-sociais', label: 'Redes Sociais' },\n  { id: 'video', label: 'Vídeo' },\n  { id: 'historias', label: 'Histórias' },\n  { id: 'historia-professores', label: 'História dos Professores' },\n  { id: 'coordenadas', label: 'Coordenadas' },\n  { id: 'imagens-escola', label: 'Imagens da Escola' },\n  { id: 'imagens-professores', label: 'Imagens dos Professores' },\n  { id: 'documentos', label: 'Documentos' },\n  { id: 'tabelas-integrais', label: 'Tabelas Integrais' }\n];\n\n// Configurações de UI\nexport const UI_CONFIG = {\n  MOBILE_BREAKPOINT: 768,\n  SIDEBAR_WIDTH: 'w-64',\n  SIDEBAR_WIDTH_MOBILE: 'max-w-[80vw]',\n  SIDEBAR_TOP_OFFSET: 72,\n};\n\n// Estados de salvamento\nexport const SAVE_STATES = {\n  IDLE: 'idle',\n  SAVING: 'saving',\n  SUCCESS: 'success',\n  ERROR: 'error',\n};\n\n// Configurações de formulário\nexport const FORM_CONFIG = {\n  DEFAULT_ACTIVE_TAB: 'dados-basicos',\n  VALIDATION_RULES: {\n    REQUIRED_FIELDS: ['Escola'],\n  },\n};\n\n// Configurações de busca\nexport const SEARCH_CONFIG = {\n  DEBOUNCE_DELAY: 300,\n  MIN_SEARCH_LENGTH: 2,\n}; ","import React from 'react';\nimport { Menu } from 'lucide-react';\nimport { useEscolas } from './hooks/useEscolas';\nimport { UI_CONFIG } from './constants/adminConstants';\n\nconst AdminSidebar = ({ \n  isMobile, \n  sidebarOpen, \n  setSidebarOpen, \n  editingLocation, \n  onEscolaSelect \n}) => {\n  const { \n    searchTerm, \n    setSearchTerm, \n    filteredEscolas \n  } = useEscolas();\n\n  return (\n    <>\n      {/* Botão de menu para mobile */}\n      {isMobile && !sidebarOpen && (\n        <button\n          className=\"fixed top-4 left-4 z-50 bg-gray-900 rounded-full shadow-lg p-2 border border-gray-800\"\n          onClick={() => setSidebarOpen(true)}\n          aria-label=\"Abrir menu lateral\"\n        >\n          <Menu className=\"w-6 h-6 text-gray-200\" />\n        </button>\n      )}\n\n      {/* Menu lateral */}\n      {(!isMobile || sidebarOpen) && (\n        <aside\n          className={`bg-gray-900 border-r border-gray-700 rounded-r-2xl shadow-lg p-4 overflow-y-auto h-screen sticky top-0 z-40 transition-transform duration-300 ${\n            isMobile ? `fixed left-0 top-0 ${UI_CONFIG.SIDEBAR_WIDTH_MOBILE} shadow-2xl` : UI_CONFIG.SIDEBAR_WIDTH\n          }`}\n          style={{\n            transform: isMobile && !sidebarOpen ? 'translateX(-100%)' : 'translateX(0)',\n            top: isMobile ? 0 : UI_CONFIG.SIDEBAR_TOP_OFFSET,\n          }}\n        >\n          {/* Botão de fechar para mobile */}\n          {isMobile && (\n            <button\n              className=\"absolute top-4 right-4 text-gray-400 hover:text-gray-200 focus:outline-none focus:ring-2 focus:ring-green-400\"\n              onClick={() => setSidebarOpen(false)}\n              aria-label=\"Fechar menu lateral\"\n            >\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          )}\n\n          {/* Título */}\n          <h2 className=\"text-xl font-bold tracking-wide text-green-400 uppercase mb-6 sticky top-0 bg-gray-900 pb-2\">\n            Escolas\n          </h2>\n\n          {/* Busca no menu lateral */}\n          <div className=\"mb-4 sticky top-24 mt-8 bg-gray-900 pb-2\">\n            <input\n              type=\"text\"\n              placeholder=\"Buscar escola...\"\n              className=\"w-full px-3 py-2 border border-gray-700 rounded text-sm bg-gray-800 text-gray-100 placeholder-gray-400 focus:ring-2 focus:ring-amber-400 focus:border-amber-400\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n            />\n          </div>\n\n          {/* Lista de escolas */}\n          <ul className=\"space-y-1\">\n            {filteredEscolas.map(escola => (\n              <li key={escola.id}>\n                <button\n                  className={`block w-full text-left px-2 py-1 rounded hover:bg-green-800 text-sm text-gray-200 ${\n                    editingLocation?.id === escola.id ? 'bg-green-700 font-bold text-white' : ''\n                  }`}\n                  onClick={() => {\n                    onEscolaSelect(escola);\n                    if (isMobile) setSidebarOpen(false);\n                  }}\n                >\n                  {escola.Escola}\n                </button>\n              </li>\n            ))}\n          </ul>\n\n          {/* Mensagem quando não há resultados */}\n          {filteredEscolas.length === 0 && searchTerm && (\n            <div className=\"text-gray-400 text-sm text-center py-4\">\n              Nenhuma escola encontrada\n            </div>\n          )}\n        </aside>\n      )}\n    </>\n  );\n};\n\nexport default AdminSidebar; ","import React from 'react';\nimport { useEscolas } from './hooks/useEscolas';\n\nconst AdminToolbar = ({ \n  searchTerm, \n  setSearchTerm, \n  selectedType, \n  setSelectedType, \n  onNovaEscola \n}) => {\n  return (\n    <div className=\"bg-gray-900 p-4 rounded-lg shadow mb-6 border border-gray-800\">\n      <div className=\"flex flex-col sm:flex-row gap-4\">\n        {/* Campo de busca */}\n        <div className=\"relative flex-1\">\n          <input\n            type=\"text\"\n            placeholder=\"Buscar por título ou descrição...\"\n            className=\"w-full pl-10 pr-4 py-2 border border-gray-700 rounded-lg bg-gray-800 text-gray-100 placeholder-gray-400 focus:ring-2 focus:ring-amber-400 focus:border-amber-400\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n          />\n          {/* Ícone de busca */}\n          <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n            <svg className=\"h-5 w-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n            </svg>\n          </div>\n        </div>\n\n        {/* Filtro por tipo */}\n        <div className=\"relative\">\n          <select\n            className=\"pl-10 pr-4 py-2 border border-gray-700 rounded-lg bg-gray-800 text-gray-100 focus:ring-2 focus:ring-amber-400 focus:border-amber-400\"\n            value={selectedType}\n            onChange={(e) => setSelectedType(e.target.value)}\n          >\n            <option value=\"todos\">Todos</option>\n            <option value=\"indigena\">Indígena</option>\n            <option value=\"urbana\">Urbana</option>\n            <option value=\"rural\">Rural</option>\n          </select>\n          {/* Ícone de filtro */}\n          <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n            <svg className=\"h-5 w-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z\" />\n            </svg>\n          </div>\n        </div>\n\n        {/* Botão Nova Escola */}\n        <button\n          onClick={onNovaEscola}\n          className=\"px-4 py-2 bg-green-700 text-white rounded-lg hover:bg-green-800 focus:outline-none focus:ring-2 focus:ring-green-400 transition-colors flex items-center gap-2\"\n        >\n          <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\" />\n          </svg>\n          + Nova Escola\n        </button>\n      </div>\n\n      {/* Estatísticas rápidas */}\n      <div className=\"mt-4 pt-4 border-t border-gray-700 flex flex-wrap gap-4 text-sm text-gray-300\">\n        <div className=\"flex items-center gap-2\">\n          <div className=\"w-2 h-2 bg-green-500 rounded-full\"></div>\n          <span>Total de escolas: <span className=\"font-semibold text-green-400\">0</span></span>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <div className=\"w-2 h-2 bg-blue-500 rounded-full\"></div>\n          <span>Escolas indígenas: <span className=\"font-semibold text-blue-400\">0</span></span>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <div className=\"w-2 h-2 bg-yellow-500 rounded-full\"></div>\n          <span>Em edição: <span className=\"font-semibold text-yellow-400\">0</span></span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminToolbar; ","import React from 'react';\nimport { useModalidades } from '../hooks/useModalidades';\nimport { MODALIDADES_OPTIONS, MODALIDADES_CATEGORIAS } from '../utils/modalidadesOptions';\n\nconst ModalidadesTab = ({ \n  editingLocation, \n  setEditingLocation \n}) => {\n  const {\n    selectedModalidades,\n    outroModalidade,\n    handleModalidadeChange,\n    handleOutroModalidadeChange,\n    saveModalidades,\n    getModalidadesPreview,\n    hasSelectedModalidades,\n  } = useModalidades();\n\n  // Função para salvar modalidades no editingLocation\n  const handleSaveModalidades = () => {\n    const modalidadesText = saveModalidades();\n    setEditingLocation(prev => ({\n      ...prev,\n      'Modalidade de Ensino/turnos de funcionamento': modalidadesText\n    }));\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Modalidades de Ensino */}\n      <div className=\"md:col-span-2\">\n        <label className=\"block text-sm font-medium text-gray-200 mb-4 text-base\">\n          Modalidades de Ensino\n        </label>\n        <div className=\"bg-gray-800 border border-gray-700 rounded-lg p-4 max-h-96 overflow-y-auto\">\n          <div className=\"space-y-4\">\n            {MODALIDADES_CATEGORIAS.map((categoria) => (\n              <div key={categoria.id}>\n                <h4 className=\"text-sm font-semibold text-green-400 mb-2 border-b border-gray-600 pb-1\">\n                  {categoria.titulo}\n                </h4>\n                <div className=\"space-y-2 ml-2\">\n                  {categoria.indices.map((index) => {\n                    const modalidade = MODALIDADES_OPTIONS[index];\n                    return (\n                      <label key={index} className=\"flex items-start space-x-3 cursor-pointer hover:bg-gray-700 p-2 rounded transition-colors\">\n                        <input\n                          type=\"checkbox\"\n                          className=\"mt-1 h-4 w-4 text-green-600 bg-gray-700 border-gray-600 rounded focus:ring-green-500 focus:ring-2\"\n                          checked={selectedModalidades.includes(modalidade)}\n                          onChange={() => handleModalidadeChange(modalidade)}\n                        />\n                        <span className=\"text-sm text-gray-200 leading-relaxed\">{modalidade}</span>\n                      </label>\n                    );\n                  })}\n                </div>\n              </div>\n            ))}\n            \n            {/* Opção \"Outro\" */}\n            <div className=\"border-t border-gray-600 pt-3 mt-3\">\n              <label className=\"flex items-start space-x-3 cursor-pointer hover:bg-gray-700 p-2 rounded transition-colors\">\n                <input\n                  type=\"checkbox\"\n                  className=\"mt-1 h-4 w-4 text-green-600 bg-gray-700 border-gray-600 rounded focus:ring-green-500 focus:ring-2\"\n                  checked={selectedModalidades.some(m => m.startsWith('Outro:'))}\n                  onChange={() => handleOutroModalidadeChange(outroModalidade)}\n                />\n                <div className=\"flex-1\">\n                  <span className=\"text-sm text-gray-200\">Outro (especificar):</span>\n                  <input\n                    type=\"text\"\n                    className=\"mt-1 w-full px-3 py-2 border border-gray-600 rounded text-sm bg-gray-700 text-gray-100 placeholder-gray-400 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                    placeholder=\"Digite a modalidade específica...\"\n                    value={outroModalidade}\n                    onChange={(e) => handleOutroModalidadeChange(e.target.value)}\n                  />\n                </div>\n              </label>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Número de Alunos */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Número de Alunos</label>\n        <input\n          type=\"text\"\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n          value={editingLocation['Numero de alunos'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Numero de alunos': e.target.value })}\n        />\n      </div>\n\n      {/* Turnos de Funcionamento */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Turnos de Funcionamento</label>\n        <input\n          type=\"text\"\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n          value={editingLocation.turnos_funcionamento || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, turnos_funcionamento: e.target.value })}\n          placeholder=\"Ex: Diurno, Noturno, Vespertino, etc.\"\n        />\n      </div>\n\n      {/* Botão para salvar modalidades */}\n      <div className=\"md:col-span-2\">\n        <button\n          type=\"button\"\n          onClick={handleSaveModalidades}\n          className=\"px-4 py-2 bg-green-700 text-white rounded-lg hover:bg-green-800 focus:outline-none focus:ring-2 focus:ring-green-400 transition-colors\"\n        >\n          Salvar Modalidades Selecionadas\n        </button>\n      </div>\n\n      {/* Preview do texto final */}\n      {hasSelectedModalidades() && (\n        <div className=\"md:col-span-2\">\n          <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n            Preview do Texto Final\n          </label>\n          <div className=\"bg-gray-800 border border-gray-700 rounded px-3 py-2 text-gray-200 text-sm min-h-[60px]\">\n            {getModalidadesPreview()}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ModalidadesTab; ","import React from 'react';\n\nconst DadosBasicosTab = ({ editingLocation, setEditingLocation }) => {\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6\">\n      {/* Nome da Escola */}\n      <div className=\"md:col-span-2\">\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Nome da Escola</label>\n        <input\n          type=\"text\"\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n          value={editingLocation.Escola || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, Escola: e.target.value })}\n          placeholder=\"Digite o nome da escola\"\n        />\n      </div>\n\n      {/* Município */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Município</label>\n        <input\n          type=\"text\"\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n          value={editingLocation['Município'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Município': e.target.value })}\n          placeholder=\"Digite o município\"\n        />\n      </div>\n\n      {/* Ano de Criação */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Ano de Criação da Escola</label>\n        <input\n          type=\"text\"\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n          value={editingLocation['Ano de criação da escola'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Ano de criação da escola': e.target.value })}\n          placeholder=\"Ex: 1995\"\n        />\n      </div>\n\n      {/* Terra Indígena */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Terra Indígena (TI)</label>\n        <input\n          type=\"text\"\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n          value={editingLocation['Terra Indigena (TI)'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Terra Indigena (TI)': e.target.value })}\n          placeholder=\"Digite o nome da Terra Indígena\"\n        />\n      </div>\n\n      {/* Diretoria de Ensino */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Diretoria de Ensino</label>\n        <input\n          type=\"text\"\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n          value={editingLocation['Diretoria de Ensino'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Diretoria de Ensino': e.target.value })}\n          placeholder=\"Digite a diretoria de ensino\"\n        />\n      </div>\n\n      {/* Parcerias com o Município */}\n      <div className=\"md:col-span-2\">\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Parcerias com o Município</label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Parcerias com o município'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Parcerias com o município': e.target.value })}\n          placeholder=\"Descreva as parcerias com o município...\"\n        />\n      </div>\n\n      {/* Endereço Completo */}\n      <div className=\"md:col-span-2\">\n        <h3 className=\"text-lg font-semibold text-gray-100 mb-4 border-b border-gray-700 pb-2\">Endereço Completo</h3>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          {/* Logradouro */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-200 mb-2\">Logradouro</label>\n            <input\n              type=\"text\"\n              className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400\"\n              value={editingLocation.logradouro || ''}\n              onChange={e => setEditingLocation({ ...editingLocation, logradouro: e.target.value })}\n              placeholder=\"Rua, Avenida, etc.\"\n            />\n          </div>\n\n          {/* Número */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-200 mb-2\">Número</label>\n            <input\n              type=\"text\"\n              className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400\"\n              value={editingLocation.numero || ''}\n              onChange={e => setEditingLocation({ ...editingLocation, numero: e.target.value })}\n              placeholder=\"Número\"\n            />\n          </div>\n\n          {/* Complemento */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-200 mb-2\">Complemento</label>\n            <input\n              type=\"text\"\n              className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400\"\n              value={editingLocation.complemento || ''}\n              onChange={e => setEditingLocation({ ...editingLocation, complemento: e.target.value })}\n              placeholder=\"Apto, Casa, etc.\"\n            />\n          </div>\n\n          {/* Bairro */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-200 mb-2\">Bairro</label>\n            <input\n              type=\"text\"\n              className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400\"\n              value={editingLocation.bairro || ''}\n              onChange={e => setEditingLocation({ ...editingLocation, bairro: e.target.value })}\n              placeholder=\"Nome do bairro\"\n            />\n          </div>\n\n          {/* CEP */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-200 mb-2\">CEP</label>\n            <input\n              type=\"text\"\n              className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400\"\n              value={editingLocation.cep || ''}\n              onChange={e => setEditingLocation({ ...editingLocation, cep: e.target.value })}\n              placeholder=\"00000-000\"\n            />\n          </div>\n\n          {/* Estado */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-200 mb-2\">Estado</label>\n            <select\n              className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100\"\n              value={editingLocation.estado || 'SP'}\n              onChange={e => setEditingLocation({ ...editingLocation, estado: e.target.value })}\n            >\n              <option value=\"SP\">São Paulo</option>\n              <option value=\"RJ\">Rio de Janeiro</option>\n              <option value=\"MG\">Minas Gerais</option>\n              <option value=\"ES\">Espírito Santo</option>\n              <option value=\"RS\">Rio Grande do Sul</option>\n              <option value=\"SC\">Santa Catarina</option>\n              <option value=\"PR\">Paraná</option>\n              <option value=\"MS\">Mato Grosso do Sul</option>\n              <option value=\"MT\">Mato Grosso</option>\n              <option value=\"GO\">Goiás</option>\n              <option value=\"DF\">Distrito Federal</option>\n              <option value=\"BA\">Bahia</option>\n              <option value=\"SE\">Sergipe</option>\n              <option value=\"AL\">Alagoas</option>\n              <option value=\"PE\">Pernambuco</option>\n              <option value=\"PB\">Paraíba</option>\n              <option value=\"RN\">Rio Grande do Norte</option>\n              <option value=\"CE\">Ceará</option>\n              <option value=\"PI\">Piauí</option>\n              <option value=\"MA\">Maranhão</option>\n              <option value=\"PA\">Pará</option>\n              <option value=\"AP\">Amapá</option>\n              <option value=\"TO\">Tocantins</option>\n              <option value=\"RO\">Rondônia</option>\n              <option value=\"AC\">Acre</option>\n              <option value=\"AM\">Amazonas</option>\n              <option value=\"RR\">Roraima</option>\n            </select>\n          </div>\n        </div>\n      </div>\n\n      {/* Endereço Antigo (para compatibilidade) */}\n      <div className=\"md:col-span-2\">\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Endereço (Campo Legado)</label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-20 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Endereço'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Endereço': e.target.value })}\n          placeholder=\"Endereço completo (campo legado - use os campos acima para novos registros)\"\n        />\n        <p className=\"text-xs text-gray-400 mt-1\">\n          Este campo é mantido para compatibilidade com dados existentes. Para novos registros, use os campos de endereço estruturado acima.\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default DadosBasicosTab; ","import React from 'react';\n\nconst PovosLinguasTab = ({ editingLocation, setEditingLocation }) => {\n  return (\n    <div className=\"space-y-6\">\n      {/* Povos Indígenas */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Povos Indígenas\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-32 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Povos indigenas'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Povos indigenas': e.target.value })}\n          placeholder=\"Descreva os povos indígenas atendidos pela escola...\"\n        />\n        <p className=\"text-xs text-gray-400 mt-1\">\n          Ex: Guarani, Kaingang, Terena, etc.\n        </p>\n      </div>\n\n      {/* Línguas Faladas */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Línguas Faladas\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-32 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Linguas faladas'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Linguas faladas': e.target.value })}\n          placeholder=\"Descreva as línguas faladas na comunidade escolar...\"\n        />\n        <p className=\"text-xs text-gray-400 mt-1\">\n          Ex: Português, Guarani, Kaingang, etc.\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default PovosLinguasTab; ","import React from 'react';\n\nconst InfraestruturaTab = ({ editingLocation, setEditingLocation }) => {\n  return (\n    <div className=\"space-y-6\">\n      {/* Acesso à Água */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Acesso à Água\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Acesso à água'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Acesso à água': e.target.value })}\n          placeholder=\"Descreva como é o acesso à água na escola...\"\n        />\n      </div>\n\n      {/* Coleta de Lixo */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Coleta de Lixo\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Tem coleta de lixo?'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Tem coleta de lixo?': e.target.value })}\n          placeholder=\"Descreva como é feita a coleta de lixo...\"\n        />\n      </div>\n\n      {/* Acesso à Internet */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Acesso à Internet\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Acesso à internet'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Acesso à internet': e.target.value })}\n          placeholder=\"Descreva o acesso à internet na escola...\"\n        />\n      </div>\n\n      {/* Equipamentos Tecnológicos */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Equipamentos Tecnológicos\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Equipamentos Tecnológicos (Computadores, tablets e impressoras)'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Equipamentos Tecnológicos (Computadores, tablets e impressoras)': e.target.value })}\n          placeholder=\"Descreva os equipamentos tecnológicos disponíveis...\"\n        />\n      </div>\n\n      {/* Modo de Acesso à Escola */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Modo de Acesso à Escola\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Modo de acesso à escola'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Modo de acesso à escola': e.target.value })}\n          placeholder=\"Descreva como é o acesso à escola...\"\n        />\n      </div>\n\n      {/* Cozinha */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Cozinha\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation.cozinha || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, cozinha: e.target.value })}\n          placeholder=\"Descreva a estrutura da cozinha...\"\n        />\n      </div>\n\n      {/* Merenda Escolar */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Merenda Escolar\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation.merenda_escolar || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, merenda_escolar: e.target.value })}\n          placeholder=\"Descreva como é fornecida a merenda escolar...\"\n        />\n      </div>\n\n      {/* Merenda Diferenciada */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Merenda Diferenciada\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation.diferenciada || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, diferenciada: e.target.value })}\n          placeholder=\"Descreva se há merenda diferenciada (cultural, religiosa, etc.)...\"\n        />\n      </div>\n\n      {/* Merenda Diferenciada (Detalhes) */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Merenda Diferenciada (Detalhes)\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation.merenda_diferenciada || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, merenda_diferenciada: e.target.value })}\n          placeholder=\"Descreva detalhes sobre a merenda diferenciada...\"\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default InfraestruturaTab; ","import React from 'react';\n\nconst GestaoProfessoresTab = ({ editingLocation, setEditingLocation }) => {\n  return (\n    <div className=\"space-y-6\">\n      {/* Gestão/Nome */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Gestão/Nome\n        </label>\n        <input\n          type=\"text\"\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n          value={editingLocation['Gestão/Nome'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Gestão/Nome': e.target.value })}\n          placeholder=\"Digite o nome do gestor/diretor\"\n        />\n      </div>\n\n      {/* Professores Indígenas */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Professores Indígenas\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Quantidade de professores indígenas'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Quantidade de professores indígenas': e.target.value })}\n          placeholder=\"Descreva os professores indígenas...\"\n        />\n      </div>\n\n      {/* Professores Não Indígenas */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Professores Não Indígenas\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Quantidade de professores não indígenas'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Quantidade de professores não indígenas': e.target.value })}\n          placeholder=\"Descreva os professores não indígenas...\"\n        />\n      </div>\n\n      {/* Professores Falam Língua Indígena? */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Professores Falam Língua Indígena?\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Professores falam a língua indígena?'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Professores falam a língua indígena?': e.target.value })}\n          placeholder=\"Descreva se os professores falam a língua indígena...\"\n        />\n      </div>\n\n      {/* Formação dos Professores */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Formação dos Professores\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-32 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Formação dos professores'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Formação dos professores': e.target.value })}\n          placeholder=\"Descreva a formação dos professores...\"\n        />\n      </div>\n\n      {/* Formação Continuada */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Formação Continuada\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-32 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Formação continuada oferecida'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Formação continuada oferecida': e.target.value })}\n          placeholder=\"Descreva a formação continuada oferecida aos professores...\"\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default GestaoProfessoresTab; ","import React from 'react';\n\nconst MaterialPedagogicoTab = ({ editingLocation, setEditingLocation }) => {\n  return (\n    <div className=\"space-y-6\">\n      {/* A escola possui PPP próprio? */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          A escola possui PPP próprio?\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['A escola possui PPP próprio?'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'A escola possui PPP próprio?': e.target.value })}\n          placeholder=\"Descreva se a escola possui PPP próprio...\"\n        />\n      </div>\n\n      {/* PPP elaborado com a comunidade? */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          PPP elaborado com a comunidade?\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['PPP elaborado com a comunidade?'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'PPP elaborado com a comunidade?': e.target.value })}\n          placeholder=\"Descreva se o PPP foi elaborado com a comunidade...\"\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default MaterialPedagogicoTab; ","import React from 'react';\n\nconst ProjetosParceriasTab = ({ editingLocation, setEditingLocation }) => {\n  return (\n    <div className=\"space-y-6\">\n      {/* Projetos em Andamento */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Projetos em Andamento\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-32 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Projetos em andamento'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Projetos em andamento': e.target.value })}\n          placeholder=\"Descreva os projetos em andamento na escola...\"\n        />\n      </div>\n\n      {/* Parcerias com Universidades */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Parcerias com Universidades\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-32 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Parcerias com universidades?'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Parcerias com universidades?': e.target.value })}\n          placeholder=\"Descreva as parcerias com universidades...\"\n        />\n      </div>\n\n      {/* Ações com ONGs ou Coletivos */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Ações com ONGs ou Coletivos\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-32 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Ações com ONGs ou coletivos?'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Ações com ONGs ou coletivos?': e.target.value })}\n          placeholder=\"Descreva as ações com ONGs ou coletivos...\"\n        />\n      </div>\n\n      {/* Desejos da Comunidade */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Desejos da Comunidade\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-32 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Desejos da comunidade para a escola'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Desejos da comunidade para a escola': e.target.value })}\n          placeholder=\"Descreva os desejos da comunidade para a escola...\"\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default ProjetosParceriasTab; ","import React from 'react';\n\nconst RedesSociaisTab = ({ editingLocation, setEditingLocation }) => {\n  return (\n    <div className=\"space-y-6\">\n      {/* Escola utiliza redes sociais? */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Escola utiliza redes sociais?\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Escola utiliza redes sociais?'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Escola utiliza redes sociais?': e.target.value })}\n          placeholder=\"Descreva se a escola utiliza redes sociais...\"\n        />\n      </div>\n\n      {/* Links das Redes Sociais */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Links das Redes Sociais\n        </label>\n        <textarea\n          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-32 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n          value={editingLocation['Links das redes sociais'] || ''}\n          onChange={e => setEditingLocation({ ...editingLocation, 'Links das redes sociais': e.target.value })}\n          placeholder=\"Cole aqui os links das redes sociais da escola (Facebook, Instagram, YouTube, etc.)...\"\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default RedesSociaisTab; ","import React, { useState, useEffect } from 'react';\nimport { getVideosEscola, createVideoEscola, updateVideoEscola, deleteVideoEscola } from '../../services/videoService';\nimport { Plus, Edit3, Trash2, Save } from 'lucide-react';\n\nconst VideoManager = ({ escolaId }) => {\n  const [videos, setVideos] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState('');\n  const [showForm, setShowForm] = useState(false);\n  const [editingVideo, setEditingVideo] = useState(null);\n  const [formData, setFormData] = useState({\n    titulo: '',\n    video_url: '',\n    descricao: '',\n    plataforma: 'youtube',\n    categoria: 'geral',\n    ativo: true\n  });\n\n  // Carregar vídeos\n  const carregarVideos = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const data = await getVideosEscola(escolaId);\n      setVideos(data);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (escolaId) carregarVideos();\n  }, [escolaId]);\n\n  // Reset form\n  const resetForm = () => {\n    setFormData({\n      titulo: '',\n      video_url: '',\n      descricao: '',\n      plataforma: 'youtube',\n      categoria: 'geral',\n      ativo: true\n    });\n    setEditingVideo(null);\n    setShowForm(false);\n  };\n\n  // Handle submit\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!formData.titulo.trim() || !formData.video_url.trim()) {\n      setError('Título e URL do vídeo são obrigatórios.');\n      return;\n    }\n    const payload = {\n      escola_id: Number(escolaId),\n      ...formData,\n      ativo: Boolean(formData.ativo)\n    };\n    try {\n      setError('');\n      setSuccess('');\n      if (editingVideo) {\n        await updateVideoEscola(editingVideo.id, payload);\n        setSuccess('Vídeo atualizado com sucesso!');\n      } else {\n        await createVideoEscola(payload);\n        setSuccess('Vídeo criado com sucesso!');\n      }\n      resetForm();\n      carregarVideos();\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  // Handle edit\n  const handleEdit = (video) => {\n    setEditingVideo(video);\n    setFormData({\n      titulo: video.titulo || '',\n      video_url: video.video_url || '',\n      descricao: video.descricao || '',\n      plataforma: video.plataforma || 'youtube',\n      categoria: video.categoria || 'geral',\n      ativo: video.ativo\n    });\n    setShowForm(true);\n  };\n\n  // Handle delete\n  const handleDelete = async (id) => {\n    if (!window.confirm('Tem certeza que deseja excluir este vídeo?')) return;\n    try {\n      await deleteVideoEscola(id);\n      setSuccess('Vídeo excluído com sucesso!');\n      carregarVideos();\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  if (loading) {\n    return <div className=\"p-6 text-center\">Carregando vídeos...</div>;\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <h3 className=\"text-lg font-semibold text-gray-900\">Vídeos da Escola</h3>\n        <button\n          onClick={() => setShowForm(true)}\n          className=\"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\n        >\n          <Plus className=\"w-5 h-5\" />\n          Novo Vídeo\n        </button>\n      </div>\n\n      {error && <div className=\"p-4 bg-red-50 border border-red-200 rounded-lg text-red-600\">{error}</div>}\n      {success && <div className=\"p-4 bg-green-50 border border-green-200 rounded-lg text-green-600\">{success}</div>}\n\n      {/* Lista de vídeos */}\n      <div className=\"space-y-4\">\n        {videos.length === 0 ? (\n          <div className=\"text-center py-8 bg-gray-50 rounded-lg\">\n            <p className=\"text-gray-500\">Nenhum vídeo cadastrado.</p>\n            <button\n              onClick={() => setShowForm(true)}\n              className=\"mt-4 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\n            >\n              Adicionar vídeo\n            </button>\n          </div>\n        ) : (\n          videos.map((video) => (\n            <div key={video.id} className={`p-6 bg-white rounded-lg border ${!video.ativo ? 'opacity-60' : ''}`}>\n              <div className=\"flex items-start justify-between mb-2\">\n                <div className=\"flex-1\">\n                  <div className=\"flex items-center gap-3 mb-2\">\n                    <h4 className=\"font-medium text-gray-900\">{video.titulo}</h4>\n                    {!video.ativo && (\n                      <span className=\"flex items-center gap-1 text-orange-600 text-sm\">\n                        Inativo\n                      </span>\n                    )}\n                  </div>\n                  <p className=\"text-gray-700 text-sm mb-2\">{video.descricao}</p>\n                  <div className=\"mb-2\">\n                    <iframe\n                      src={video.video_url}\n                      title={video.titulo}\n                      className=\"w-full aspect-video rounded-lg border\"\n                      allowFullScreen\n                    />\n                  </div>\n                  <div className=\"text-xs text-gray-500\">\n                    Plataforma: {video.plataforma} | Categoria: {video.categoria}\n                  </div>\n                </div>\n                <div className=\"flex flex-col gap-2 ml-4\">\n                  <button\n                    onClick={() => handleEdit(video)}\n                    className=\"p-2 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg\"\n                    title=\"Editar\"\n                  >\n                    <Edit3 className=\"w-5 h-5\" />\n                  </button>\n                  <button\n                    onClick={() => handleDelete(video.id)}\n                    className=\"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg\"\n                    title=\"Excluir\"\n                  >\n                    <Trash2 className=\"w-5 h-5\" />\n                  </button>\n                </div>\n              </div>\n            </div>\n          ))\n        )}\n      </div>\n\n      {/* Formulário de adicionar/editar vídeo */}\n      {showForm && (\n        <div className=\"p-6 bg-gray-50 rounded-lg border\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h4 className=\"text-lg font-medium text-gray-900\">\n              {editingVideo ? 'Editar Vídeo' : 'Novo Vídeo'}\n            </h4>\n            <button\n              onClick={resetForm}\n              className=\"text-gray-400 hover:text-gray-600\"\n            >\n              <span className=\"sr-only\">Fechar</span>\n              ×\n            </button>\n          </div>\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Título *</label>\n                <input\n                  type=\"text\"\n                  value={formData.titulo}\n                  onChange={e => setFormData({ ...formData, titulo: e.target.value })}\n                  className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                  placeholder=\"Título do vídeo\"\n                  required\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">URL do Vídeo *</label>\n                <input\n                  type=\"url\"\n                  value={formData.video_url}\n                  onChange={e => setFormData({ ...formData, video_url: e.target.value })}\n                  className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                  placeholder=\"https://www.youtube.com/embed/...\"\n                  required\n                />\n              </div>\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Descrição</label>\n              <textarea\n                value={formData.descricao}\n                onChange={e => setFormData({ ...formData, descricao: e.target.value })}\n                rows={3}\n                className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                placeholder=\"Descrição do vídeo (opcional)\"\n              />\n            </div>\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Plataforma</label>\n                <input\n                  type=\"text\"\n                  value={formData.plataforma}\n                  onChange={e => setFormData({ ...formData, plataforma: e.target.value })}\n                  className=\"w-full border rounded-lg px-3 py-2\"\n                  placeholder=\"youtube, vimeo...\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Categoria</label>\n                <input\n                  type=\"text\"\n                  value={formData.categoria}\n                  onChange={e => setFormData({ ...formData, categoria: e.target.value })}\n                  className=\"w-full border rounded-lg px-3 py-2\"\n                  placeholder=\"geral, institucional...\"\n                />\n              </div>\n              <div className=\"flex items-center gap-2 mt-6\">\n                <input\n                  type=\"checkbox\"\n                  checked={formData.ativo}\n                  onChange={e => setFormData({ ...formData, ativo: e.target.checked })}\n                  className=\"rounded border-gray-300 text-green-600 focus:ring-green-500\"\n                />\n                <span className=\"text-sm text-gray-700\">Ativo</span>\n              </div>\n            </div>\n            <div className=\"flex gap-3\">\n              <button\n                type=\"submit\"\n                className=\"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\n              >\n                <Save className=\"w-5 h-5\" />\n                {editingVideo ? 'Atualizar' : 'Criar'}\n              </button>\n              <button\n                type=\"button\"\n                onClick={resetForm}\n                className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors\"\n              >\n                Cancelar\n              </button>\n            </div>\n          </form>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default VideoManager; ","import { supabase } from '../supabaseClient';\n\n// Buscar todos os vídeos de uma escola\nexport async function getVideosEscola(escolaId) {\n  const { data, error } = await supabase\n    .from('titulos_videos')\n    .select('*')\n    .eq('escola_id', escolaId)\n    .eq('ativo', true)\n    .order('created_at', { ascending: false });\n  if (error) throw error;\n  return data;\n}\n\n// Criar novo vídeo\nexport async function createVideoEscola(video) {\n  const { data, error } = await supabase\n    .from('titulos_videos')\n    .insert([video])\n    .select();\n  if (error) throw error;\n  return data?.[0];\n}\n\n// Atualizar vídeo existente\nexport async function updateVideoEscola(id, updates) {\n  const { data, error } = await supabase\n    .from('titulos_videos')\n    .update(updates)\n    .eq('id', id)\n    .select();\n  if (error) throw error;\n  return data?.[0];\n}\n\n// Remover vídeo\nexport async function deleteVideoEscola(id) {\n  const { error } = await supabase\n    .from('titulos_videos')\n    .delete()\n    .eq('id', id);\n  if (error) throw error;\n  return true;\n} ","import React from 'react';\nimport VideoManager from '../VideoManager';\n\nconst VideoTab = ({ editingLocation }) => {\n  // Extrair o ID da escola do editingLocation\n  const escolaId = editingLocation?.id || editingLocation?.escola_id;\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Informações sobre Vídeos */}\n      <div className=\"bg-gray-800 border border-gray-700 rounded-lg p-4\">\n        <h3 className=\"text-lg font-semibold text-gray-100 mb-4 border-b border-gray-600 pb-2\">\n          Gerenciamento de Vídeos\n        </h3>\n        <p className=\"text-gray-300 text-sm mb-4\">\n          Aqui você pode adicionar, editar e gerenciar vídeos relacionados à escola. \n          Os vídeos podem ser do YouTube, Vimeo ou outras plataformas.\n        </p>\n      </div>\n\n      {/* VideoManager Component */}\n      {escolaId ? (\n        <div className=\"bg-white rounded-lg shadow-sm\">\n          <VideoManager escolaId={escolaId} />\n        </div>\n      ) : (\n        <div className=\"bg-gray-800 border border-gray-700 rounded-lg p-6 text-center\">\n          <p className=\"text-gray-300\">\n            Selecione uma escola para gerenciar os vídeos.\n          </p>\n        </div>\n      )}\n\n      {/* Instruções de Uso */}\n      <div className=\"bg-gray-800 border border-gray-700 rounded-lg p-4\">\n        <h3 className=\"text-lg font-semibold text-gray-100 mb-4 border-b border-gray-600 pb-2\">\n          Como Adicionar Vídeos\n        </h3>\n        \n        <div className=\"space-y-3 text-sm text-gray-300\">\n          <div>\n            <strong className=\"text-amber-400\">YouTube:</strong>\n            <p>Use o formato: https://www.youtube.com/embed/VIDEO_ID</p>\n            <p className=\"text-xs text-gray-400\">Exemplo: https://www.youtube.com/embed/dQw4w9WgXcQ</p>\n          </div>\n          \n          <div>\n            <strong className=\"text-amber-400\">Vimeo:</strong>\n            <p>Use o formato: https://player.vimeo.com/video/VIDEO_ID</p>\n            <p className=\"text-xs text-gray-400\">Exemplo: https://player.vimeo.com/video/123456789</p>\n          </div>\n          \n          <div>\n            <strong className=\"text-amber-400\">Outras plataformas:</strong>\n            <p>Use o URL de embed fornecido pela plataforma</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default VideoTab; ","import React, { useRef, useCallback } from 'react';\nimport ReactQuill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\nimport './QuillEditor.css';\nimport { uploadImage } from '../../services/uploadService';\n\nconst QuillEditor = ({ value, onChange, placeholder, label, style = {} }) => {\n  const quillRef = useRef(null);\n  const [quillInstance, setQuillInstance] = React.useState(null);\n\n  // Handler customizado para upload de imagens\n  const imageHandler = useCallback(async () => {\n    const input = document.createElement('input');\n    input.setAttribute('type', 'file');\n    input.setAttribute('accept', 'image/*');\n    input.click();\n\n    input.onchange = async () => {\n      const file = input.files[0];\n      if (file && quillInstance) {\n        try {\n          // Mostrar loading\n          const range = quillInstance.getSelection();\n          \n          // Inserir placeholder de loading\n          quillInstance.insertEmbed(range.index, 'image', 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7');\n          \n          // Fazer upload da imagem\n          const imageUrl = await uploadImage(file);\n          \n          // Substituir placeholder pela imagem real\n          quillInstance.deleteText(range.index, 1);\n          quillInstance.insertEmbed(range.index, 'image', imageUrl);\n          \n          // Mover cursor para depois da imagem\n          quillInstance.setSelection(range.index + 1);\n        } catch (error) {\n          console.error('Erro ao fazer upload da imagem:', error);\n          alert('Erro ao fazer upload da imagem. Tente novamente.');\n        }\n      }\n    };\n  }, [quillInstance]);\n\n  // Configuração dos módulos do Quill\n  const modules = React.useMemo(() => ({\n    toolbar: {\n      container: [\n        [{ 'header': [1, 2, 3, false] }],\n        ['bold', 'italic', 'underline', 'strike'],\n        [{ 'color': [] }, { 'background': [] }],\n        [{ 'list': 'ordered'}, { 'list': 'bullet' }],\n        [{ 'align': [] }],\n        ['link'],\n        ['image'],\n        ['clean']\n      ],\n      handlers: {\n        image: imageHandler\n      }\n    },\n  }), [imageHandler]);\n\n  // Configuração dos formatos permitidos\n  const formats = [\n    'header',\n    'bold', 'italic', 'underline', 'strike',\n    'color', 'background',\n    'list', 'bullet',\n    'align',\n    'link', 'image'\n  ];\n\n  // Callback quando o editor é montado\n  const handleEditorChange = useCallback((content, delta, source, editor) => {\n    if (onChange) {\n      onChange(content, delta, source, editor);\n    }\n  }, [onChange]);\n\n  // Callback quando o editor é montado\n  const handleEditorReady = useCallback((quill) => {\n    setQuillInstance(quill);\n  }, []);\n\n  return (\n    <div className=\"rich-text-editor\">\n      {label && (\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          {label}\n        </label>\n      )}\n      \n      <div className=\"bg-gray-800 border border-gray-700 rounded-lg\">\n        <ReactQuill\n          ref={quillRef}\n          theme=\"snow\"\n          value={value || ''}\n          onChange={handleEditorChange}\n          onEditorReady={handleEditorReady}\n          modules={modules}\n          formats={formats}\n          placeholder={placeholder}\n          style={{\n            height: '300px',\n            backgroundColor: '#1f2937', // bg-gray-800\n            color: '#f3f4f6', // text-gray-100\n            ...style\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default QuillEditor;\n","import React from 'react';\nimport QuillEditor from '../../shared/QuillEditor';\n\nconst RichTextEditor = ({ value, onChange, placeholder, label }) => {\n  return (\n    <QuillEditor\n      value={value}\n      onChange={onChange}\n      placeholder={placeholder}\n      label={label}\n    />\n  );\n};\n\nexport default RichTextEditor; ","import React from 'react';\nimport RichTextEditor from './RichTextEditor';\n\nconst HistoriasTab = ({ editingLocation, setEditingLocation }) => {\n  return (\n    <div className=\"space-y-6\">\n      {/* História da Escola */}\n      <RichTextEditor\n        label=\"História da Escola\"\n        value={editingLocation['historia_da_escola'] || ''}\n        onChange={(value) => setEditingLocation({ ...editingLocation, 'historia_da_escola': value })}\n        placeholder=\"Digite a história da escola...\"\n      />\n    </div>\n  );\n};\n\nexport default HistoriasTab; ","import React, { useState, useEffect } from 'react';\nimport { getHistoriasProfessor, createHistoriaProfessor, updateHistoriaProfessor, deleteHistoriaProfessor } from '../../../services/historiaProfessorService';\nimport RichTextEditor from './RichTextEditor';\n\nconst HistoriaProfessoresTab = ({ editingLocation, setEditingLocation }) => {\n  const [historias, setHistorias] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [editingHistoria, setEditingHistoria] = useState(null);\n  const [isCreating, setIsCreating] = useState(false);\n\n  // Carregar histórias existentes\n  useEffect(() => {\n    if (editingLocation?.id) {\n      loadHistorias();\n    }\n  }, [editingLocation?.id]);\n\n  const loadHistorias = async () => {\n    if (!editingLocation?.id) return;\n    \n    setLoading(true);\n    try {\n      const data = await getHistoriasProfessor(editingLocation.id);\n      setHistorias(data || []);\n    } catch (error) {\n      console.error('Erro ao carregar histórias:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSaveHistoria = async (historiaData) => {\n    if (!editingLocation?.id) return;\n\n    try {\n      if (editingHistoria?.id) {\n        // Atualizar história existente\n        await updateHistoriaProfessor(editingHistoria.id, historiaData);\n      } else {\n        // Criar nova história\n        await createHistoriaProfessor({\n          ...historiaData,\n          escola_id: editingLocation.id\n        });\n      }\n      \n      // Recarregar histórias\n      await loadHistorias();\n      \n      // Limpar estado de edição\n      setEditingHistoria(null);\n      setIsCreating(false);\n    } catch (error) {\n      console.error('Erro ao salvar história:', error);\n      alert('Erro ao salvar história: ' + error.message);\n    }\n  };\n\n  const handleDeleteHistoria = async (historiaId) => {\n    if (!window.confirm('Tem certeza que deseja excluir esta história?')) return;\n\n    try {\n      await deleteHistoriaProfessor(historiaId);\n      await loadHistorias();\n    } catch (error) {\n      console.error('Erro ao deletar história:', error);\n      alert('Erro ao deletar história: ' + error.message);\n    }\n  };\n\n  const handleEditHistoria = (historia) => {\n    console.log('handleEditHistoria chamado com:', historia);\n    console.log('Estado atual editingHistoria:', editingHistoria);\n    console.log('Estado atual isCreating:', isCreating);\n    \n    setEditingHistoria(historia);\n    setIsCreating(false);\n    \n    console.log('Após setState - editingHistoria será:', historia);\n    console.log('Após setState - isCreating será: false');\n  };\n\n  const handleNewHistoria = () => {\n    setEditingHistoria({\n      nome_professor: '',\n      historia: ''\n    });\n    setIsCreating(true);\n  };\n\n  const handleCancelEdit = () => {\n    setEditingHistoria(null);\n    setIsCreating(false);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-8\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600\"></div>\n        <span className=\"ml-2 text-gray-600\">Carregando histórias...</span>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Cabeçalho */}\n      <div className=\"flex items-center justify-between\">\n        <h3 className=\"text-lg font-semibold text-gray-200\">Depoimentos dos Professores</h3>\n        <button\n          onClick={handleNewHistoria}\n          className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\n        >\n          + Nova História\n        </button>\n      </div>\n\n      {/* Formulário de edição/criação */}\n      {editingHistoria && (\n        <div className=\"bg-gray-800 border border-gray-700 rounded-lg p-6\">\n          <h4 className=\"text-md font-medium text-gray-200 mb-4\">\n            {isCreating ? 'Nova História do Professor' : 'Editar História do Professor'}\n          </h4>\n          \n          <div className=\"space-y-4\">\n            {/* Nome do Professor */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-200 mb-2\">\n                Nome do Professor\n              </label>\n              <input\n                type=\"text\"\n                value={editingHistoria.nome_professor || ''}\n                onChange={(e) => setEditingHistoria({\n                  ...editingHistoria,\n                  nome_professor: e.target.value\n                })}\n                className=\"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-200 focus:outline-none focus:ring-2 focus:ring-green-500\"\n                placeholder=\"Nome do professor (opcional)\"\n              />\n            </div>\n\n            {/* História/Depoimento */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-200 mb-2\">\n                Depoimento/História\n              </label>\n              <RichTextEditor\n                value={editingHistoria.historia || ''}\n                onChange={(value) => setEditingHistoria({\n                  ...editingHistoria,\n                  historia: value\n                })}\n                placeholder=\"Digite o depoimento ou história do professor...\"\n              />\n            </div>\n\n            {/* Botões de ação */}\n            <div className=\"flex gap-3 pt-4\">\n              <button\n                onClick={() => handleSaveHistoria(editingHistoria)}\n                className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\n              >\n                {isCreating ? 'Criar' : 'Salvar'}\n              </button>\n              <button\n                onClick={handleCancelEdit}\n                className=\"px-4 py-2 bg-gray-600 text-gray-200 rounded-lg hover:bg-gray-700 transition-colors\"\n              >\n                Cancelar\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Lista de histórias existentes */}\n      {historias.length > 0 && (\n        <div className=\"space-y-4\">\n          <h4 className=\"text-md font-medium text-gray-200\">Histórias Existentes</h4>\n          {historias.map((historia) => (\n            <div key={historia.id} className=\"bg-gray-800 border border-gray-700 rounded-lg p-4\">\n              <div className=\"flex items-start justify-between\">\n                <div className=\"flex-1\">\n                  {historia.nome_professor && (\n                    <h5 className=\"font-medium text-green-400 mb-2\">\n                      {historia.nome_professor}\n                    </h5>\n                  )}\n                  <div \n                    className=\"text-gray-300 prose prose-invert max-w-none\"\n                    dangerouslySetInnerHTML={{ __html: historia.historia }}\n                  />\n                </div>\n                <div className=\"flex gap-2 ml-4\">\n                  <button\n                    onClick={() => handleEditHistoria(historia)}\n                    className=\"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 transition-colors\"\n                  >\n                    Editar\n                  </button>\n                  <button\n                    onClick={() => handleDeleteHistoria(historia.id)}\n                    className=\"px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700 transition-colors\"\n                  >\n                    Excluir\n                  </button>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* Mensagem quando não há histórias */}\n      {historias.length === 0 && !editingHistoria && (\n        <div className=\"text-center py-8 text-gray-500\">\n          <p>Nenhuma história de professor cadastrada ainda.</p>\n          <p className=\"text-sm mt-2\">Clique em \"Nova História\" para começar.</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default HistoriaProfessoresTab; ","import React, { useEffect, useRef } from 'react';\nimport Map from 'ol/Map';\nimport View from 'ol/View';\nimport TileLayer from 'ol/layer/Tile';\nimport VectorLayer from 'ol/layer/Vector';\nimport VectorSource from 'ol/source/Vector';\nimport XYZ from 'ol/source/XYZ';\nimport { fromLonLat, toLonLat } from 'ol/proj';\nimport { Point } from 'ol/geom';\nimport { Feature } from 'ol';\nimport { Style, Fill, Stroke, Icon } from 'ol/style';\nimport 'ol/ol.css';\n\n// Caminho para o marcador SVG\nconst MARKER_SVG_PATH = `${process.env.PUBLIC_URL || ''}/map-marker.svg`;\n\nconst CoordenadasTab = ({ editingLocation, setEditingLocation }) => {\n  const mapRef = useRef(null);\n  const mapInstanceRef = useRef(null);\n  const markerRef = useRef(null);\n\n  // Função para atualizar o mapa quando as coordenadas mudam\n  const updateMap = (lat, lng) => {\n    if (!mapInstanceRef.current) return;\n\n    const view = mapInstanceRef.current.getView();\n    \n    if (lat && lng && !isNaN(lat) && !isNaN(lng)) {\n      const coordinates = fromLonLat([parseFloat(lng), parseFloat(lat)]);\n      \n      // Atualizar o centro do mapa\n      view.setCenter(coordinates);\n      view.setZoom(15);\n\n      // Atualizar ou criar o marcador\n      const vectorSource = mapInstanceRef.current.getLayers().getArray()\n        .find(layer => layer instanceof VectorLayer)?.getSource();\n\n      if (vectorSource) {\n        // Remover marcador anterior\n        if (markerRef.current) {\n          vectorSource.removeFeature(markerRef.current);\n        }\n\n        // Criar novo marcador\n        const marker = new Feature({\n          geometry: new Point(coordinates)\n        });\n\n        marker.setStyle(new Style({\n          image: new Icon({\n            src: MARKER_SVG_PATH,\n            scale: 0.6,\n            anchor: [0.5, 0.5],\n            anchorXUnits: 'fraction',\n            anchorYUnits: 'fraction',\n            color: '#fbbf24'\n          })\n        }));\n\n        vectorSource.addFeature(marker);\n        markerRef.current = marker;\n      }\n    }\n  };\n\n  // Função para atualizar coordenadas quando o mapa é clicado\n  const handleMapClick = (event) => {\n    const coordinates = toLonLat(event.coordinate);\n    const [lng, lat] = coordinates;\n    \n    setEditingLocation({\n      ...editingLocation,\n      'latitude': lat.toFixed(6),\n      'longitude': lng.toFixed(6)\n    });\n  };\n\n  // Inicializar mapa\n  useEffect(() => {\n    if (!mapRef.current) return;\n\n    // Criar mapa\n    const map = new Map({\n      target: mapRef.current,\n      layers: [\n        new TileLayer({\n          source: new XYZ({\n            url: 'https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png'\n          })\n        }),\n        new VectorLayer({\n          source: new VectorSource()\n        })\n      ],\n      view: new View({\n        center: fromLonLat([-46.6388, -23.5489]), // São Paulo\n        zoom: 8\n      })\n    });\n\n    mapInstanceRef.current = map;\n\n    // Adicionar evento de clique\n    map.on('click', handleMapClick);\n\n    // Atualizar mapa com coordenadas iniciais\n    const lat = editingLocation['Latitude'];\n    const lng = editingLocation['Longitude'];\n    if (lat && lng) {\n      updateMap(lat, lng);\n    }\n\n    return () => {\n      if (mapInstanceRef.current) {\n        mapInstanceRef.current.setTarget(undefined);\n      }\n    };\n  }, []);\n\n  // Atualizar mapa quando coordenadas mudam\n  useEffect(() => {\n    const lat = editingLocation['Latitude'];\n    const lng = editingLocation['Longitude'];\n    updateMap(lat, lng);\n  }, [editingLocation['Latitude'], editingLocation['Longitude']]);\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Campos de Coordenadas */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        {/* Latitude */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n            Latitude\n          </label>\n          <input\n            type=\"number\"\n            step=\"any\"\n            className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n            value={editingLocation['Latitude'] || ''}\n            onChange={e => setEditingLocation({ ...editingLocation, 'Latitude': e.target.value })}\n            placeholder=\"Ex: -23.5489\"\n          />\n          <p className=\"text-xs text-gray-400 mt-1\">\n            Valor entre -90 e 90 (ex: -23.5489 para São Paulo)\n          </p>\n        </div>\n\n        {/* Longitude */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n            Longitude\n          </label>\n          <input\n            type=\"number\"\n            step=\"any\"\n            className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 text-base\"\n            value={editingLocation['Longitude'] || ''}\n            onChange={e => setEditingLocation({ ...editingLocation, 'Longitude': e.target.value })}\n            placeholder=\"Ex: -46.6388\"\n          />\n          <p className=\"text-xs text-gray-400 mt-1\">\n            Valor entre -180 e 180 (ex: -46.6388 para São Paulo)\n          </p>\n        </div>\n      </div>\n\n      {/* Mapa */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n          Mapa - Clique para definir a localização\n        </label>\n        <div \n          ref={mapRef}\n          className=\"w-full h-64 border border-gray-700 rounded-lg bg-gray-800\"\n          style={{ minHeight: '256px' }}\n        />\n        <p className=\"text-xs text-gray-400 mt-1\">\n          Clique no mapa para definir as coordenadas automaticamente\n        </p>\n      </div>\n\n      {/* Informações sobre Coordenadas */}\n      <div className=\"bg-gray-800 border border-gray-700 rounded-lg p-4\">\n        <h3 className=\"text-lg font-semibold text-gray-100 mb-4 border-b border-gray-600 pb-2\">\n          Como Usar as Coordenadas\n        </h3>\n        \n        <div className=\"space-y-3 text-sm text-gray-300\">\n          <div>\n            <strong className=\"text-amber-400\">Método 1 - Digite manualmente:</strong>\n            <p>Digite as coordenadas nos campos acima. Use ponto decimal (ex: -23.5489).</p>\n          </div>\n          \n          <div>\n            <strong className=\"text-amber-400\">Método 2 - Clique no mapa:</strong>\n            <p>Clique no mapa para definir automaticamente as coordenadas da localização.</p>\n          </div>\n          \n          <div>\n            <strong className=\"text-amber-400\">Formato das coordenadas:</strong>\n            <p>Latitude: -90 a +90 | Longitude: -180 a +180</p>\n          </div>\n          \n          <div>\n            <strong className=\"text-amber-400\">Exemplos para São Paulo:</strong>\n            <p>Latitude: -23.5489 | Longitude: -46.6388</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CoordenadasTab; ","import React, { useState, useEffect } from 'react';\nimport { Download, Eye, RefreshCw, Database, FileText, Users, Image, Video, FileImage, Archive, Cloud, HardDrive, Globe, FileDown } from 'lucide-react';\nimport { supabase } from '../../../supabaseClient';\n\nconst TabelasIntegraisTab = () => {\n  const [tabelas, setTabelas] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedTabela, setSelectedTabela] = useState(null);\n  const [dadosTabela, setDadosTabela] = useState([]);\n  const [loadingDados, setLoadingDados] = useState(false);\n  const [backupStatus, setBackupStatus] = useState({});\n  const [backupProgress, setBackupProgress] = useState(0);\n\n  // Lista das tabelas principais do sistema\n  const TABELAS_SISTEMA = [\n    {\n      id: 'escolas_completa',\n      nome: 'Escolas Completas',\n      descricao: 'Dados principais de todas as escolas indígenas',\n      icone: Database,\n      cor: 'bg-blue-500'\n    },\n    {\n      id: 'historias_professor',\n      nome: 'Histórias dos Professores',\n      descricao: 'Depoimentos e histórias dos professores indígenas',\n      icone: Users,\n      cor: 'bg-green-500'\n    },\n    {\n      id: 'documentos_escola',\n      nome: 'Documentos das Escolas',\n      descricao: 'PDFs e documentos das escolas',\n      icone: FileText,\n      cor: 'bg-purple-500'\n    },\n    {\n      id: 'titulos_videos',\n      nome: 'Vídeos das Escolas',\n      descricao: 'Links e títulos dos vídeos das escolas',\n      icone: Video,\n      cor: 'bg-red-500'\n    },\n    {\n      id: 'legendas_fotos',\n      nome: 'Legendas das Fotos',\n      descricao: 'Legendas e descrições das imagens',\n      icone: Image,\n      cor: 'bg-yellow-500'\n    }\n  ];\n\n  // Buckets do Supabase para backup\n  const BUCKETS_BACKUP = [\n    {\n      id: 'imagens-das-escolas',\n      nome: 'Imagens das Escolas',\n      descricao: 'Fotos das escolas indígenas',\n      icone: Image,\n      cor: 'bg-indigo-500'\n    },\n    {\n      id: 'imagens-professores',\n      nome: 'Imagens dos Professores',\n      descricao: 'Fotos dos professores indígenas',\n      icone: Users,\n      cor: 'bg-teal-500'\n    },\n    {\n      id: 'pdfs',\n      nome: 'Documentos PDF',\n      descricao: 'Documentos das escolas em PDF',\n      icone: FileText,\n      cor: 'bg-orange-500'\n    }\n  ];\n\n  useEffect(() => {\n    setTabelas(TABELAS_SISTEMA);\n    setLoading(false);\n  }, []);\n\n  // Carregar dados de uma tabela específica\n  const carregarDadosTabela = async (tabelaId) => {\n    try {\n      setLoadingDados(true);\n      setError(null);\n      \n      const { data, error } = await supabase\n        .from(tabelaId)\n        .select('*')\n        .order('id', { ascending: true });\n\n      if (error) throw error;\n      \n      setDadosTabela(data || []);\n      setSelectedTabela(tabelaId);\n    } catch (err) {\n      console.error(`Erro ao carregar dados da tabela ${tabelaId}:`, err);\n      setError(`Erro ao carregar dados: ${err.message}`);\n    } finally {\n      setLoadingDados(false);\n    }\n  };\n\n  // Função para baixar arquivo individual\n  const downloadFile = async (url, filename) => {\n    try {\n      const response = await fetch(url);\n      const blob = await response.blob();\n      const downloadUrl = window.URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = downloadUrl;\n      link.download = filename;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      window.URL.revokeObjectURL(downloadUrl);\n    } catch (error) {\n      console.error(`Erro ao baixar ${filename}:`, error);\n    }\n  };\n\n  // Função para criar e baixar ZIP\n  const createAndDownloadZip = async (files, zipName) => {\n    try {\n      // Verificar se JSZip está disponível\n      if (typeof JSZip === 'undefined') {\n        // Se JSZip não estiver disponível, baixar arquivos individualmente\n        alert('JSZip não disponível. Baixando arquivos individualmente...');\n        for (const file of files) {\n          await downloadFile(file.url, file.name);\n          await new Promise(resolve => setTimeout(resolve, 100)); // Delay para evitar sobrecarga\n        }\n        return;\n      }\n\n      const JSZip = (await import('jszip')).default;\n      const zip = new JSZip();\n\n      // Adicionar arquivos ao ZIP\n      for (const file of files) {\n        try {\n          const response = await fetch(file.url);\n          const blob = await response.blob();\n          zip.file(file.name, blob);\n        } catch (error) {\n          console.error(`Erro ao adicionar ${file.name} ao ZIP:`, error);\n        }\n      }\n\n      // Gerar e baixar ZIP\n      const zipBlob = await zip.generateAsync({ type: 'blob' });\n      const downloadUrl = window.URL.createObjectURL(zipBlob);\n      const link = document.createElement('a');\n      link.href = downloadUrl;\n      link.download = zipName;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      window.URL.revokeObjectURL(downloadUrl);\n    } catch (error) {\n      console.error('Erro ao criar ZIP:', error);\n      // Fallback: baixar arquivos individualmente\n      alert('Erro ao criar ZIP. Baixando arquivos individualmente...');\n      for (const file of files) {\n        await downloadFile(file.url, file.name);\n        await new Promise(resolve => setTimeout(resolve, 100));\n      }\n    }\n  };\n\n  // Backup completo do site com download das imagens\n  const backupCompletoSite = async () => {\n    try {\n      setBackupStatus({ status: 'iniciando', message: 'Iniciando backup completo...' });\n      setBackupProgress(0);\n\n      // 1. Backup das tabelas (25% do progresso)\n      setBackupStatus({ status: 'tabelas', message: 'Fazendo backup das tabelas...' });\n      setBackupProgress(10);\n      \n      const backupTabelas = {};\n      for (const tabela of TABELAS_SISTEMA) {\n        try {\n          const { data, error } = await supabase\n            .from(tabela.id)\n            .select('*');\n          \n          if (error) throw error;\n          backupTabelas[tabela.id] = data || [];\n        } catch (err) {\n          console.error(`Erro ao fazer backup da tabela ${tabela.id}:`, err);\n        }\n      }\n      setBackupProgress(25);\n\n      // 2. Backup dos buckets com URLs para download (50% do progresso)\n      setBackupStatus({ status: 'buckets', message: 'Preparando download das imagens...' });\n      setBackupProgress(30);\n\n      const backupArquivos = {};\n      const todosArquivos = [];\n      \n      for (const bucket of BUCKETS_BACKUP) {\n        try {\n          const { data, error } = await supabase.storage\n            .from(bucket.id)\n            .list('', { limit: 1000 });\n          \n          if (error) throw error;\n          \n          const arquivosComUrls = [];\n          for (const arquivo of data) {\n            try {\n              const { data: urlData } = await supabase.storage\n                .from(bucket.id)\n                .createSignedUrl(arquivo.name, 3600); // URL válida por 1 hora\n              \n              if (urlData?.signedUrl) {\n                const arquivoCompleto = {\n                  ...arquivo,\n                  url: urlData.signedUrl,\n                  bucket: bucket.id,\n                  bucketNome: bucket.nome\n                };\n                arquivosComUrls.push(arquivoCompleto);\n                todosArquivos.push(arquivoCompleto);\n              }\n            } catch (err) {\n              console.error(`Erro ao gerar URL para ${arquivo.name}:`, err);\n            }\n          }\n          \n          backupArquivos[bucket.id] = arquivosComUrls;\n        } catch (err) {\n          console.error(`Erro ao fazer backup do bucket ${bucket.id}:`, err);\n        }\n      }\n      setBackupProgress(75);\n\n      // 3. Criar arquivo de backup completo (25% do progresso)\n      setBackupStatus({ status: 'finalizando', message: 'Criando arquivo de backup...' });\n      setBackupProgress(80);\n\n      const backupCompleto = {\n        metadata: {\n          dataBackup: new Date().toISOString(),\n          versao: '1.0',\n          descricao: 'Backup completo do sistema OPIN - Observatório dos Professores Indígenas',\n          tabelas: TABELAS_SISTEMA.map(t => ({ id: t.id, nome: t.nome })),\n          buckets: BUCKETS_BACKUP.map(b => ({ id: b.id, nome: b.nome })),\n          totalRegistros: Object.values(backupTabelas).reduce((acc, tabela) => acc + (tabela?.length || 0), 0),\n          totalArquivos: Object.values(backupArquivos).reduce((acc, bucket) => acc + (bucket?.length || 0), 0)\n        },\n        dados: backupTabelas,\n        arquivos: backupArquivos\n      };\n\n      // 4. Download do backup completo\n      setBackupStatus({ status: 'download', message: 'Preparando download...' });\n      setBackupProgress(90);\n\n      const jsonContent = JSON.stringify(backupCompleto, null, 2);\n      const blob = new Blob([jsonContent], { type: 'application/json;charset=utf-8;' });\n      const link = document.createElement('a');\n      const url = URL.createObjectURL(blob);\n      link.setAttribute('href', url);\n      link.setAttribute('download', `backup_completo_opin_${new Date().toISOString().split('T')[0]}.json`);\n      link.style.visibility = 'hidden';\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n\n      // 5. Download das imagens em ZIP\n      if (todosArquivos.length > 0) {\n        setBackupStatus({ status: 'imagens', message: 'Baixando imagens...' });\n        setBackupProgress(95);\n        \n        await createAndDownloadZip(\n          todosArquivos, \n          `imagens_opin_${new Date().toISOString().split('T')[0]}.zip`\n        );\n      }\n\n      setBackupProgress(100);\n      setBackupStatus({ \n        status: 'concluido', \n        message: 'Backup completo realizado com sucesso!',\n                  detalhes: {\n            tabelas: Object.keys(backupTabelas).length,\n            registros: Object.values(backupTabelas).reduce((acc, tabela) => acc + (tabela?.length || 0), 0),\n            arquivos: Object.values(backupArquivos).reduce((acc, bucket) => acc + (bucket?.length || 0), 0)\n          }\n      });\n\n      // Limpar status após 5 segundos\n      setTimeout(() => {\n        setBackupStatus({});\n        setBackupProgress(0);\n      }, 5000);\n\n    } catch (err) {\n      console.error('Erro no backup completo:', err);\n      setBackupStatus({ \n        status: 'erro', \n        message: `Erro no backup: ${err.message}` \n      });\n      setBackupProgress(0);\n    }\n  };\n\n  // Backup apenas das tabelas\n  const backupApenasTabelas = async () => {\n    try {\n      setBackupStatus({ status: 'tabelas', message: 'Fazendo backup das tabelas...' });\n      setBackupProgress(0);\n\n      const backupTabelasData = {};\n      for (let i = 0; i < TABELAS_SISTEMA.length; i++) {\n        const tabela = TABELAS_SISTEMA[i];\n        try {\n          const { data, error } = await supabase\n            .from(tabela.id)\n            .select('*');\n          \n          if (error) throw error;\n          backupTabelasData[tabela.id] = data || [];\n          \n          setBackupProgress((i + 1) / TABELAS_SISTEMA.length * 100);\n        } catch (err) {\n          console.error(`Erro ao fazer backup da tabela ${tabela.id}:`, err);\n        }\n      }\n\n      const backupData = {\n        metadata: {\n          dataBackup: new Date().toISOString(),\n          tipo: 'backup_tabelas',\n          tabelas: Object.keys(backupTabelasData),\n          totalRegistros: Object.values(backupTabelasData).reduce((acc, tabela) => acc + (tabela?.length || 0), 0)\n        },\n        dados: backupTabelasData\n      };\n\n      const jsonContent = JSON.stringify(backupData, null, 2);\n      const blob = new Blob([jsonContent], { type: 'application/json;charset=utf-8;' });\n      const link = document.createElement('a');\n      const url = URL.createObjectURL(blob);\n      link.setAttribute('href', url);\n      link.setAttribute('download', `backup_tabelas_opin_${new Date().toISOString().split('T')[0]}.json`);\n      link.style.visibility = 'hidden';\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n\n      setBackupStatus({ \n        status: 'concluido', \n        message: 'Backup das tabelas realizado com sucesso!' \n      });\n\n      setTimeout(() => {\n        setBackupStatus({});\n        setBackupProgress(0);\n      }, 3000);\n\n    } catch (err) {\n      console.error('Erro no backup das tabelas:', err);\n      setBackupStatus({ \n        status: 'erro', \n        message: `Erro no backup: ${err.message}` \n      });\n      setBackupProgress(0);\n    }\n  };\n\n  // Backup apenas das imagens\n  const backupImagens = async () => {\n    try {\n      setBackupStatus({ status: 'imagens', message: 'Preparando backup das imagens...' });\n      setBackupProgress(0);\n\n      const todosArquivos = [];\n      \n      for (let i = 0; i < BUCKETS_BACKUP.length; i++) {\n        const bucket = BUCKETS_BACKUP[i];\n        try {\n          setBackupStatus({ \n            status: 'imagens', \n            message: `Processando bucket: ${bucket.nome}...` \n          });\n          \n          const { data, error } = await supabase.storage\n            .from(bucket.id)\n            .list('', { limit: 1000 });\n          \n          if (error) throw error;\n          \n          for (const arquivo of data) {\n            try {\n              const { data: urlData } = await supabase.storage\n                .from(bucket.id)\n                .createSignedUrl(arquivo.name, 3600);\n              \n              if (urlData?.signedUrl) {\n                todosArquivos.push({\n                  ...arquivo,\n                  url: urlData.signedUrl,\n                  bucket: bucket.id,\n                  bucketNome: bucket.nome\n                });\n              }\n            } catch (err) {\n              console.error(`Erro ao gerar URL para ${arquivo.name}:`, err);\n            }\n          }\n          \n          setBackupProgress((i + 1) / BUCKETS_BACKUP.length * 100);\n        } catch (err) {\n          console.error(`Erro ao fazer backup do bucket ${bucket.id}:`, err);\n        }\n      }\n\n      if (todosArquivos.length > 0) {\n        setBackupStatus({ \n          status: 'download', \n          message: 'Criando arquivo ZIP com as imagens...' \n        });\n        \n        await createAndDownloadZip(\n          todosArquivos, \n          `imagens_opin_${new Date().toISOString().split('T')[0]}.zip`\n        );\n\n        setBackupStatus({ \n          status: 'concluido', \n          message: `Backup das imagens realizado com sucesso! ${todosArquivos.length} arquivos baixados.` \n        });\n      } else {\n        setBackupStatus({ \n          status: 'concluido', \n          message: 'Nenhuma imagem encontrada para backup.' \n        });\n      }\n\n      setTimeout(() => {\n        setBackupStatus({});\n        setBackupProgress(0);\n      }, 3000);\n\n    } catch (err) {\n      console.error('Erro no backup das imagens:', err);\n      setBackupStatus({ \n        status: 'erro', \n        message: `Erro no backup: ${err.message}` \n      });\n      setBackupProgress(0);\n    }\n  };\n\n  // Download dos dados em formato CSV\n  const downloadCSV = (tabelaId, dados) => {\n    if (!dados || dados.length === 0) {\n      alert('Nenhum dado para baixar');\n      return;\n    }\n\n    // Obter cabeçalhos das colunas\n    const headers = Object.keys(dados[0]);\n    \n    // Criar conteúdo CSV\n    const csvContent = [\n      headers.join(','),\n      ...dados.map(row => \n        headers.map(header => {\n          const value = row[header];\n          // Escapar vírgulas e quebras de linha\n          if (typeof value === 'string' && (value.includes(',') || value.includes('\\n') || value.includes('\"'))) {\n            return `\"${value.replace(/\"/g, '\"\"')}\"`;\n          }\n          return value || '';\n        }).join(',')\n      )\n    ].join('\\n');\n\n    // Criar blob e download\n    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n    const link = document.createElement('a');\n    const url = URL.createObjectURL(blob);\n    link.setAttribute('href', url);\n    link.setAttribute('download', `${tabelaId}_${new Date().toISOString().split('T')[0]}.csv`);\n    link.style.visibility = 'hidden';\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n\n  // Download dos dados em formato JSON\n  const downloadJSON = (tabelaId, dados) => {\n    if (!dados || dados.length === 0) {\n      alert('Nenhum dado para baixar');\n      return;\n    }\n\n    const jsonContent = JSON.stringify(dados, null, 2);\n    const blob = new Blob([jsonContent], { type: 'application/json;charset=utf-8;' });\n    const link = document.createElement('a');\n    const url = URL.createObjectURL(blob);\n    link.setAttribute('href', url);\n    link.setAttribute('download', `${tabelaId}_${new Date().toISOString().split('T')[0]}.json`);\n    link.style.visibility = 'hidden';\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600\"></div>\n        <span className=\"ml-2 text-gray-400\">Carregando tabelas...</span>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Cabeçalho */}\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\n          Tabelas Integrais e Backup do Sistema\n        </h3>\n        <p className=\"text-sm text-gray-600\">\n          Visualize, baixe e faça backup completo de todas as tabelas e arquivos do sistema\n        </p>\n      </div>\n\n      {/* Seção de Backup */}\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n        <h4 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\n          <Archive className=\"w-5 h-5 mr-2 text-blue-600\" />\n          Backup Completo do Sistema\n        </h4>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n          <div className=\"p-4 bg-blue-50 rounded-lg border border-blue-200\">\n            <h5 className=\"font-medium text-blue-900 mb-2\">Backup Completo</h5>\n            <p className=\"text-sm text-blue-700 mb-3\">\n              Inclui todas as tabelas, imagens dos buckets e metadados do sistema\n            </p>\n            <button\n              onClick={backupCompletoSite}\n              disabled={backupStatus.status === 'iniciando' || backupStatus.status === 'tabelas' || backupStatus.status === 'buckets' || backupStatus.status === 'finalizando' || backupStatus.status === 'download' || backupStatus.status === 'imagens'}\n              className=\"w-full px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n            >\n              <Archive className=\"w-4 h-4 inline mr-2\" />\n              Backup Completo\n            </button>\n          </div>\n\n          <div className=\"p-4 bg-green-50 rounded-lg border border-green-200\">\n            <h5 className=\"font-medium text-green-900 mb-2\">Backup das Tabelas</h5>\n            <p className=\"text-sm text-green-700 mb-3\">\n              Apenas os dados das tabelas em formato JSON\n            </p>\n                          <button\n                onClick={backupApenasTabelas}\n                disabled={backupStatus.status === 'tabelas'}\n                className=\"w-full px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n              >\n                <Database className=\"w-4 h-4 inline mr-2\" />\n                Backup Tabelas\n              </button>\n          </div>\n\n          <div className=\"p-4 bg-purple-50 rounded-lg border border-purple-200\">\n            <h5 className=\"font-medium text-purple-900 mb-2\">Backup das Imagens</h5>\n            <p className=\"text-sm text-purple-700 mb-3\">\n              Apenas as imagens dos buckets em arquivo ZIP\n            </p>\n            <button\n              onClick={backupImagens}\n              disabled={backupStatus.status === 'imagens' || backupStatus.status === 'download'}\n              className=\"w-full px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n            >\n              <FileDown className=\"w-4 h-4 inline mr-2\" />\n              Backup Imagens\n            </button>\n          </div>\n        </div>\n\n        {/* Status do Backup */}\n        {backupStatus.status && (\n          <div className={`p-4 rounded-lg border ${\n            backupStatus.status === 'concluido' ? 'bg-green-50 border-green-200 text-green-800' :\n            backupStatus.status === 'erro' ? 'bg-red-50 border-red-200 text-red-800' :\n            'bg-blue-50 border-blue-200 text-blue-800'\n          }`}>\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"font-medium\">{backupStatus.message}</p>\n                {backupStatus.detalhes && (\n                  <p className=\"text-sm mt-1\">\n                    Tabelas: {backupStatus.detalhes.tabelas} | \n                    Registros: {backupStatus.detalhes.registros} | \n                    Arquivos: {backupStatus.detalhes.arquivos}\n                  </p>\n                )}\n              </div>\n              {backupProgress > 0 && backupProgress < 100 && (\n                <div className=\"flex items-center\">\n                  <div className=\"w-32 bg-gray-200 rounded-full h-2 mr-2\">\n                    <div \n                      className=\"bg-blue-600 h-2 rounded-full transition-all duration-300\" \n                      style={{ width: `${backupProgress}%` }}\n                    ></div>\n                  </div>\n                  <span className=\"text-sm font-medium\">{Math.round(backupProgress)}%</span>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Lista de Tabelas */}\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n        <h4 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\n          <Database className=\"w-5 h-5 mr-2 text-gray-600\" />\n          Tabelas do Sistema\n        </h4>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n          {tabelas.map((tabela) => {\n            const Icone = tabela.icone;\n            const isSelected = selectedTabela === tabela.id;\n            \n            return (\n              <div\n                key={tabela.id}\n                className={`bg-white rounded-lg shadow-sm border-2 cursor-pointer transition-all duration-200 hover:shadow-md ${\n                  isSelected \n                    ? 'border-green-500 bg-green-50' \n                    : 'border-gray-200 hover:border-gray-300'\n                }`}\n                onClick={() => carregarDadosTabela(tabela.id)}\n              >\n                <div className=\"p-4\">\n                  <div className=\"flex items-center mb-3\">\n                    <div className={`${tabela.cor} p-2 rounded-lg mr-3`}>\n                      <Icone className=\"w-5 h-5 text-white\" />\n                    </div>\n                    <h4 className=\"font-medium text-gray-900\">{tabela.nome}</h4>\n                  </div>\n                  <p className=\"text-sm text-gray-600 mb-3\">{tabela.descricao}</p>\n                  \n                  <div className=\"flex space-x-2\">\n                    <button\n                      className=\"flex items-center px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors\"\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        carregarDadosTabela(tabela.id);\n                      }}\n                    >\n                      <Eye className=\"w-3 h-3 mr-1\" />\n                      Visualizar\n                    </button>\n                  </div>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n\n      {/* Lista de Buckets */}\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n        <h4 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\n          <Cloud className=\"w-5 h-5 mr-2 text-gray-600\" />\n          Buckets de Arquivos\n        </h4>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n          {BUCKETS_BACKUP.map((bucket) => {\n            const Icone = bucket.icone;\n            \n            return (\n              <div\n                key={bucket.id}\n                className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-4 hover:shadow-md transition-shadow\"\n              >\n                <div className=\"flex items-center mb-3\">\n                  <div className={`${bucket.cor} p-2 rounded-lg mr-3`}>\n                    <Icone className=\"w-5 h-5 text-white\" />\n                  </div>\n                  <h4 className=\"font-medium text-gray-900\">{bucket.nome}</h4>\n                </div>\n                <p className=\"text-sm text-gray-600 mb-3\">{bucket.descricao}</p>\n                <p className=\"text-xs text-gray-500\">\n                  Incluído no backup completo do sistema\n                </p>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n\n      {/* Visualização dos Dados */}\n      {selectedTabela && (\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <div>\n              <h4 className=\"text-lg font-semibold text-gray-900\">\n                Dados da Tabela: {tabelas.find(t => t.id === selectedTabela)?.nome}\n              </h4>\n              <p className=\"text-sm text-gray-600\">\n                {dadosTabela.length} registros encontrados\n              </p>\n            </div>\n            \n            <div className=\"flex space-x-2\">\n              <button\n                onClick={() => carregarDadosTabela(selectedTabela)}\n                disabled={loadingDados}\n                className=\"flex items-center px-3 py-2 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors disabled:opacity-50\"\n              >\n                <RefreshCw className={`w-4 h-4 mr-1 ${loadingDados ? 'animate-spin' : ''}`} />\n                Atualizar\n              </button>\n              \n              <button\n                onClick={() => downloadCSV(selectedTabela, dadosTabela)}\n                disabled={loadingDados || dadosTabela.length === 0}\n                className=\"flex items-center px-3 py-2 text-sm bg-green-100 text-green-700 rounded hover:bg-green-200 transition-colors disabled:opacity-50\"\n              >\n                <Download className=\"w-4 h-4 mr-1\" />\n                CSV\n              </button>\n              \n              <button\n                onClick={() => downloadJSON(selectedTabela, dadosTabela)}\n                disabled={loadingDados || dadosTabela.length === 0}\n                className=\"flex items-center px-3 py-2 text-sm bg-purple-100 text-purple-700 rounded hover:bg-purple-200 transition-colors disabled:opacity-50\"\n              >\n                <Download className=\"w-4 h-4 mr-1\" />\n                JSON\n              </button>\n            </div>\n          </div>\n\n          {error && (\n            <div className=\"mb-4 p-3 bg-red-100 border border-red-300 text-red-700 rounded\">\n              {error}\n            </div>\n          )}\n\n          {loadingDados ? (\n            <div className=\"flex items-center justify-center h-32\">\n              <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-green-600\"></div>\n              <span className=\"ml-2 text-gray-600\">Carregando dados...</span>\n            </div>\n          ) : (\n            <div className=\"overflow-x-auto\">\n              {dadosTabela.length > 0 ? (\n                <table className=\"min-w-full divide-y divide-gray-200\">\n                  <thead className=\"bg-gray-50\">\n                    <tr>\n                      {Object.keys(dadosTabela[0]).map((header) => (\n                        <th\n                          key={header}\n                          className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                        >\n                          {header}\n                        </th>\n                      ))}\n                    </tr>\n                  </thead>\n                  <tbody className=\"bg-white divide-y divide-gray-200\">\n                    {dadosTabela.slice(0, 100).map((row, index) => (\n                      <tr key={index} className=\"hover:bg-gray-50\">\n                        {Object.values(row).map((value, cellIndex) => (\n                          <td\n                            key={cellIndex}\n                            className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 max-w-xs truncate\"\n                            title={typeof value === 'string' && value.length > 50 ? value : ''}\n                          >\n                            {typeof value === 'string' && value.length > 50 \n                              ? `${value.substring(0, 50)}...` \n                              : value || '-'}\n                          </td>\n                        ))}\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              ) : (\n                <div className=\"text-center py-8 text-gray-500\">\n                  Nenhum dado encontrado nesta tabela\n                </div>\n              )}\n              \n              {dadosTabela.length > 100 && (\n                <div className=\"mt-4 text-center text-sm text-gray-600\">\n                  Mostrando os primeiros 100 registros de {dadosTabela.length} total.\n                  Use os botões de download para acessar todos os dados.\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default TabelasIntegraisTab;\n","import React, { useState, useEffect } from 'react';\nimport { useRefresh } from '../../contexts/RefreshContext';\nimport { useEscolas } from './hooks/useEscolas';\nimport { useModalidades } from './hooks/useModalidades';\nimport { ADMIN_TABS, UI_CONFIG, FORM_CONFIG } from './constants/adminConstants';\nimport AdminSidebar from './AdminSidebar';\nimport AdminToolbar from './AdminToolbar';\nimport ModalidadesTab from './tabs/ModalidadesTab';\nimport DadosBasicosTab from './tabs/DadosBasicosTab';\nimport PovosLinguasTab from './tabs/PovosLinguasTab';\nimport InfraestruturaTab from './tabs/InfraestruturaTab';\nimport GestaoProfessoresTab from './tabs/GestaoProfessoresTab';\nimport MaterialPedagogicoTab from './tabs/MaterialPedagogicoTab';\nimport ProjetosParceriasTab from './tabs/ProjetosParceriasTab';\nimport RedesSociaisTab from './tabs/RedesSociaisTab';\nimport VideoTab from './tabs/VideoTab';\nimport HistoriasTab from './tabs/HistoriasTab';\nimport HistoriaProfessoresTab from './tabs/HistoriaProfessoresTab';\nimport CoordenadasTab from './tabs/CoordenadasTab';\nimport TabelasIntegraisTab from './tabs/TabelasIntegraisTab';\n\n// Imports condicionais para evitar problemas de hot reload\nlet ImagensEscolaTab = null;\nlet ImagensProfessoresTab = null;\nlet DocumentosTab = null;\n\ntry {\n  ImagensEscolaTab = require('./tabs/ImagensEscolaTab').default;\n} catch (e) {\n  console.warn('ImagensEscolaTab não encontrado:', e);\n}\n\ntry {\n  ImagensProfessoresTab = require('./tabs/ImagensProfessoresTab').default;\n} catch (e) {\n  console.warn('ImagensProfessoresTab não encontrado:', e);\n}\n\ntry {\n  DocumentosTab = require('./tabs/DocumentosTab').default;\n} catch (e) {\n  console.warn('DocumentosTab não encontrado:', e);\n}\n\nconst AdminPanel = () => {\n  const { triggerRefresh } = useRefresh();\n  \n  // Estados principais\n  const [editingLocation, setEditingLocation] = useState(null);\n  const [isSaving, setIsSaving] = useState(false);\n  const [saveError, setSaveError] = useState(null);\n  const [saveSuccess, setSaveSuccess] = useState(false);\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n\n  // Detectar se é mobile\n  const isMobile = typeof window !== 'undefined' && window.innerWidth <= UI_CONFIG.MOBILE_BREAKPOINT;\n\n  // Hooks customizados\n  const { \n    escolas, \n    loading: escolasLoading, \n    error: escolasError,\n    searchTerm, \n    setSearchTerm, \n    selectedType, \n    setSelectedType,\n    filteredEscolas,\n    saveEscola\n  } = useEscolas();\n\n  const {\n    loadExistingModalidades,\n    clearModalidades\n  } = useModalidades();\n\n  // Função para abrir edição de escola\n  const openEditModal = (escola) => {\n    // Carregar modalidades existentes\n    loadExistingModalidades(escola['Modalidade de Ensino/turnos de funcionamento']);\n    \n    // Garantir que apenas os campos originais do banco sejam usados\n    const escolaOriginal = {\n      id: escola.id,\n      Escola: escola.Escola,\n      'Município': escola['Município'],\n      'Endereço': escola['Endereço'],\n      'Terra Indigena (TI)': escola['Terra Indigena (TI)'],\n      'Parcerias com o município': escola['Parcerias com o município'],\n      'Diretoria de Ensino': escola['Diretoria de Ensino'],\n      'Ano de criação da escola': escola['Ano de criação da escola'],\n      'Povos indigenas': escola['Povos indigenas'],\n      'Linguas faladas': escola['Linguas faladas'],\n      'Modalidade de Ensino/turnos de funcionamento': escola['Modalidade de Ensino/turnos de funcionamento'],\n      'Numero de alunos': escola['Numero de alunos'],\n      'turnos_funcionamento': escola['turnos_funcionamento'] || '',\n      'Espaço escolar e estrutura': escola['Espaço escolar e estrutura'],\n      'Acesso à água': escola['Acesso à água'],\n      'Tem coleta de lixo?': escola['Tem coleta de lixo?'],\n      'Acesso à internet': escola['Acesso à internet'],\n      'Equipamentos Tecnológicos (Computadores, tablets e impressoras)': escola['Equipamentos Tecnológicos (Computadores, tablets e impressoras)'],\n      'Modo de acesso à escola': escola['Modo de acesso à escola'],\n      'Gestão/Nome': escola['Gestão/Nome'],\n      'Outros funcionários': escola['Outros funcionários'],\n      'Quantidade de professores indígenas': escola['Quantidade de professores indígenas'],\n      'Quantidade de professores não indígenas': escola['Quantidade de professores não indígenas'],\n      'Professores falam a língua indígena?': escola['Professores falam a língua indígena?'],\n      'Formação dos professores': escola['Formação dos professores'],\n      'Formação continuada oferecida': escola['Formação continuada oferecida'],\n      'A escola possui PPP próprio?': escola['A escola possui PPP próprio?'],\n      'PPP elaborado com a comunidade?': escola['PPP elaborado com a comunidade?'],\n      'Projetos em andamento': escola['Projetos em andamento'],\n      'Parcerias com universidades?': escola['Parcerias com universidades?'],\n      'Ações com ONGs ou coletivos?': escola['Ações com ONGs ou coletivos?'],\n      'Desejos da comunidade para a escola': escola['Desejos da comunidade para a escola'],\n      'Escola utiliza redes sociais?': escola['Escola utiliza redes sociais?'],\n      'Links das redes sociais': escola['Links das redes sociais'],\n      'historia_da_escola': escola['historia_da_escola'],\n      'Latitude': escola['Latitude'],\n      'Longitude': escola['Longitude'],\n      'links': escola['links'],\n      'link_para_videos': escola['link_para_videos'],\n      'logradouro': escola['logradouro'],\n      'numero': escola['numero'],\n      'complemento': escola['complemento'],\n      'bairro': escola['bairro'],\n      'cep': escola['cep'],\n      'estado': escola['estado'],\n      'nome_professor': escola['nome_professor'],\n      'professores_indigenas': escola['professores_indigenas'],\n      'professores_nao_indigenas': escola['professores_nao_indigenas'],\n      'professores_falam_lingua_indigena': escola['professores_falam_lingua_indigena'],\n      'formacao_professores': escola['formacao_professores'],\n      'visitas_supervisores_formacao': escola['visitas_supervisores_formacao'],\n      'outros_funcionarios': escola['outros_funcionarios'],\n      'gestao': escola['gestao'],\n      'merenda_diferenciada': escola['merenda_diferenciada'],\n      cozinha: escola.cozinha,\n      merenda_escolar: escola.merenda_escolar,\n      diferenciada: escola.diferenciada,\n      activeTab: FORM_CONFIG.DEFAULT_ACTIVE_TAB\n    };\n    \n    setEditingLocation(escolaOriginal);\n  };\n\n  // Função para criar nova escola vazia\n  const criarNovaEscolaVazia = () => {\n    // Limpar modalidades\n    clearModalidades();\n    \n    return {\n      Escola: '',\n      'Município': '',\n      'Endereço': '',\n      'Terra Indigena (TI)': '',\n      'Parcerias com o município': '',\n      'Diretoria de Ensino': '',\n      'Ano de criação da escola': '',\n      'Povos indigenas': '',\n      'Linguas faladas': '',\n      'Modalidade de Ensino/turnos de funcionamento': '',\n      'Numero de alunos': '',\n      'turnos_funcionamento': '',\n      'Espaço escolar e estrutura': '',\n      'Acesso à água': '',\n      'Tem coleta de lixo?': '',\n      'Acesso à internet': '',\n      'Equipamentos Tecnológicos (Computadores, tablets e impressoras)': '',\n      'Modo de acesso à escola': '',\n      'Gestão/Nome': '',\n      'Outros funcionários': '',\n      'Quantidade de professores indígenas': '',\n      'Quantidade de professores não indígenas': '',\n      'Professores falam a língua indígena?': '',\n      'Formação dos professores': '',\n      'Formação continuada oferecida': '',\n      'A escola possui PPP próprio?': '',\n      'PPP elaborado com a comunidade?': '',\n      'Projetos em andamento': '',\n      'Parcerias com universidades?': '',\n      'Ações com ONGs ou coletivos?': '',\n      'Desejos da comunidade para a escola': '',\n      'Escola utiliza redes sociais?': '',\n      'Links das redes sociais': '',\n      'historia_da_escola': '',\n      'Latitude': '',\n      'Longitude': '',\n      'links': '',\n      'link_para_videos': '',\n      'logradouro': '',\n      'numero': '',\n      'complemento': '',\n      'bairro': '',\n      'cep': '',\n      'estado': 'SP',\n      'nome_professor': '',\n      'professores_indigenas': '',\n      'professores_nao_indigenas': '',\n      'professores_falam_lingua_indigena': '',\n      'formacao_professores': '',\n      'visitas_supervisores_formacao': '',\n      'outros_funcionarios': '',\n      'gestao': '',\n      'merenda_diferenciada': '',\n      cozinha: '',\n      merenda_escolar: '',\n      diferenciada: '',\n      activeTab: FORM_CONFIG.DEFAULT_ACTIVE_TAB\n    };\n  };\n\n  // Função para criar nova escola\n  const handleNovaEscola = () => {\n    setEditingLocation(criarNovaEscolaVazia());\n  };\n\n  // Função para salvar escola\n  const handleSaveEscola = async () => {\n    if (!editingLocation) return;\n\n    setIsSaving(true);\n    setSaveError(null);\n    setSaveSuccess(false);\n\n    try {\n      const result = await saveEscola(editingLocation);\n      \n      if (result.success) {\n        setSaveSuccess(true);\n        // Atualizar o editingLocation com os dados salvos\n        setEditingLocation(result.data);\n        \n        // Limpar mensagem de sucesso após 3 segundos\n        setTimeout(() => {\n          setSaveSuccess(false);\n        }, 3000);\n      } else {\n        setSaveError(result.error);\n      }\n    } catch (error) {\n      setSaveError(error.message);\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  // Renderizar aba ativa\n  const renderActiveTab = () => {\n    const activeTab = editingLocation?.activeTab || FORM_CONFIG.DEFAULT_ACTIVE_TAB;\n\n    switch (activeTab) {\n      case 'dados-basicos':\n        return (\n          <DadosBasicosTab \n            editingLocation={editingLocation}\n            setEditingLocation={setEditingLocation}\n          />\n        );\n      \n      case 'povos-linguas':\n        return (\n          <PovosLinguasTab \n            editingLocation={editingLocation}\n            setEditingLocation={setEditingLocation}\n          />\n        );\n      \n      case 'modalidades':\n        return (\n          <ModalidadesTab \n            editingLocation={editingLocation}\n            setEditingLocation={setEditingLocation}\n          />\n        );\n      \n      case 'infraestrutura':\n        return (\n          <InfraestruturaTab \n            editingLocation={editingLocation}\n            setEditingLocation={setEditingLocation}\n          />\n        );\n      \n      case 'gestao-professores':\n        return (\n          <GestaoProfessoresTab \n            editingLocation={editingLocation}\n            setEditingLocation={setEditingLocation}\n          />\n        );\n      \n      case 'material-pedagogico':\n        return (\n          <MaterialPedagogicoTab \n            editingLocation={editingLocation}\n            setEditingLocation={setEditingLocation}\n          />\n        );\n      \n      case 'projetos-parcerias':\n        return (\n          <ProjetosParceriasTab \n            editingLocation={editingLocation}\n            setEditingLocation={setEditingLocation}\n          />\n        );\n      \n      case 'redes-sociais':\n        return (\n          <RedesSociaisTab \n            editingLocation={editingLocation}\n            setEditingLocation={setEditingLocation}\n          />\n        );\n      \n      case 'video':\n        return (\n          <VideoTab \n            editingLocation={editingLocation}\n          />\n        );\n      \n      case 'historias':\n        return (\n          <HistoriasTab \n            editingLocation={editingLocation}\n            setEditingLocation={setEditingLocation}\n          />\n        );\n      \n      case 'historia-professores':\n        return (\n          <HistoriaProfessoresTab \n            editingLocation={editingLocation}\n            setEditingLocation={setEditingLocation}\n          />\n        );\n      \n      case 'coordenadas':\n        return (\n          <CoordenadasTab \n            editingLocation={editingLocation}\n            setEditingLocation={setEditingLocation}\n          />\n        );\n      \n      case 'tabelas-integrais':\n        return <TabelasIntegraisTab />;\n      \n      case 'imagens-escola':\n        if (!ImagensEscolaTab) {\n          return <div className=\"text-center py-8 text-gray-500\">Componente em carregamento...</div>;\n        }\n        return <ImagensEscolaTab editingLocation={editingLocation} />;\n      \n      case 'imagens-professores':\n        if (!ImagensProfessoresTab) {\n          return <div className=\"text-center py-8 text-gray-500\">Componente em carregamento...</div>;\n        }\n        return <ImagensProfessoresTab editingLocation={editingLocation} />;\n      \n      case 'documentos':\n        if (!DocumentosTab) {\n          return <div className=\"text-center py-8 text-gray-500\">Componente em carregamento...</div>;\n        }\n        return <DocumentosTab editingLocation={editingLocation} />;\n      \n      // TODO: Implementar outras abas\n      default:\n        return (\n          <div className=\"text-gray-400 text-center py-8\">\n            Aba \"{activeTab}\" em desenvolvimento...\n          </div>\n        );\n    }\n  };\n\n  return (\n    <div className=\"flex min-h-screen bg-gray-950\">\n      {/* Sidebar */}\n      <AdminSidebar\n        isMobile={isMobile}\n        sidebarOpen={sidebarOpen}\n        setSidebarOpen={setSidebarOpen}\n        editingLocation={editingLocation}\n        onEscolaSelect={openEditModal}\n      />\n\n      {/* Conteúdo principal */}\n      <main className=\"flex-1 p-6 overflow-y-auto h-screen bg-gray-950\">\n        <h1 className=\"text-2xl font-bold text-gray-100 mb-6\">Painel de Administração</h1>\n        \n        {/* Toolbar */}\n        <AdminToolbar\n          searchTerm={searchTerm}\n          setSearchTerm={setSearchTerm}\n          selectedType={selectedType}\n          setSelectedType={setSelectedType}\n          onNovaEscola={handleNovaEscola}\n        />\n\n        {/* Loading state */}\n        {escolasLoading && (\n          <div className=\"text-center py-8\">\n            <div className=\"text-gray-400\">Carregando escolas...</div>\n          </div>\n        )}\n\n        {/* Error state */}\n        {escolasError && (\n          <div className=\"bg-red-900 border border-red-700 text-red-200 px-4 py-3 rounded mb-4\">\n            Erro ao carregar escolas: {escolasError}\n          </div>\n        )}\n\n        {/* Painel de Edição */}\n        {editingLocation && typeof editingLocation === 'object' && (editingLocation.Escola !== undefined) && (\n          <div className=\"bg-gray-900 rounded-lg shadow-lg p-6 max-h-[calc(100vh-200px)] overflow-hidden flex flex-col border border-gray-800\">\n            <div className=\"flex justify-between items-center mb-4 flex-shrink-0\">\n              <h2 className=\"text-lg font-semibold text-gray-100\">\n                {editingLocation.id ? 'Editar Escola' : 'Nova Escola'}\n              </h2>\n              <div className=\"flex items-center gap-3\">\n                {/* Botão Salvar */}\n                <button\n                  onClick={handleSaveEscola}\n                  disabled={isSaving}\n                  className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-400 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  {isSaving ? 'Salvando...' : 'Salvar'}\n                </button>\n                \n                {/* Botão Fechar */}\n                <button\n                  onClick={() => setEditingLocation(null)}\n                  className=\"text-gray-400 hover:text-gray-200\"\n                >\n                  Fechar\n                </button>\n              </div>\n            </div>\n\n            {/* Mensagens de feedback */}\n            {saveSuccess && (\n              <div className=\"mb-4 p-3 bg-green-900 border border-green-700 text-green-200 rounded-lg\">\n                ✅ Escola salva com sucesso!\n              </div>\n            )}\n            \n            {saveError && (\n              <div className=\"mb-4 p-3 bg-red-900 border border-red-700 text-red-200 rounded-lg\">\n                ❌ Erro ao salvar: {saveError}\n              </div>\n            )}\n\n            {/* Navegação por abas */}\n            <div className=\"border-b border-gray-800 mb-6 flex-shrink-0 bg-gray-800 rounded-t-lg\">\n              <nav className=\"-mb-px flex space-x-8 overflow-x-auto\">\n                {ADMIN_TABS.map((tab) => (\n                  <button\n                    key={tab.id}\n                    type=\"button\"\n                    onClick={() => setEditingLocation({ ...editingLocation, activeTab: tab.id })}\n                    className={`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm transition-colors ${\n                      (editingLocation.activeTab || FORM_CONFIG.DEFAULT_ACTIVE_TAB) === tab.id\n                        ? 'border-green-400 text-green-300 bg-gray-900'\n                        : 'border-transparent text-gray-400 hover:text-green-200 hover:bg-gray-700'\n                    }`}\n                  >\n                    {tab.label}\n                  </button>\n                ))}\n              </nav>\n            </div>\n\n            {/* Conteúdo da aba ativa */}\n            <div className=\"flex-1 overflow-y-auto\">\n              {renderActiveTab()}\n            </div>\n          </div>\n        )}\n\n        {/* Mensagem quando nenhuma escola está selecionada */}\n        {!editingLocation && !escolasLoading && (\n          <div className=\"text-center py-12\">\n            <div className=\"text-gray-400 text-lg mb-4\">\n              Selecione uma escola para editar ou crie uma nova\n            </div>\n            <button\n              onClick={handleNovaEscola}\n              className=\"px-6 py-3 bg-green-700 text-white rounded-lg hover:bg-green-800 focus:outline-none focus:ring-2 focus:ring-green-400 transition-colors\"\n            >\n              + Criar Nova Escola\n            </button>\n          </div>\n        )}\n      </main>\n    </div>\n  );\n};\n\nexport default AdminPanel; ","import React from 'react';\nimport AdminPanel from './AdminPanel/index';\n\nconst AdminPanelWrapper = () => {\n  return <AdminPanel />;\n};\n\nexport default AdminPanelWrapper; ","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Upload, File, X, AlertCircle } from 'lucide-react';\nimport { uploadPDF } from '../../../services/uploadService';\nimport { FILE_RESTRICTIONS } from '../../../config/storage';\n\nconst PDFUploadSection = ({ onUploadComplete, onRemove, existingUrls = [] }) => {\n  const [isUploading, setIsUploading] = useState(false);\n  const [error, setError] = useState(null);\n  const [selectedFiles, setSelectedFiles] = useState([]);\n  const [previewUrls, setPreviewUrls] = useState(existingUrls);\n\n  const handleFileSelect = async (event) => {\n    const files = Array.from(event.target.files);\n    if (files.length === 0) return;\n\n    // Validate each file\n    const validFiles = files.filter(file => {\n      const isValidType = FILE_RESTRICTIONS.PDF.ALLOWED_TYPES.includes(file.type);\n      const isValidSize = file.size <= FILE_RESTRICTIONS.PDF.MAX_SIZE;\n      return isValidType && isValidSize;\n    });\n\n    if (validFiles.length !== files.length) {\n      setError('Alguns arquivos foram ignorados. Use apenas PDFs até 10MB.');\n    }\n\n    setSelectedFiles(prev => [...prev, ...validFiles]);\n  };\n\n  const handleUpload = async () => {\n    if (selectedFiles.length === 0) return;\n\n    setIsUploading(true);\n    setError(null);\n    const uploadedUrls = [];\n\n    try {\n      for (const file of selectedFiles) {\n        const url = await uploadPDF(file);\n        uploadedUrls.push(url);\n      }\n\n      const allUrls = [...previewUrls, ...uploadedUrls];\n      setPreviewUrls(allUrls);\n      onUploadComplete(allUrls);\n      setSelectedFiles([]);\n    } catch (err) {\n      setError('Erro ao fazer upload dos arquivos. Tente novamente.');\n      console.error('Erro no upload:', err);\n    } finally {\n      setIsUploading(false);\n    }\n  };\n\n  const handleRemove = (index) => {\n    const newUrls = previewUrls.filter((_, i) => i !== index);\n    setPreviewUrls(newUrls);\n    onRemove(newUrls);\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex items-center justify-between\">\n        <label className=\"block font-medium text-gray-800\">\n          Documentos PDF\n          <span className=\"text-sm text-gray-500 ml-2\">\n            (Máx. {FILE_RESTRICTIONS.PDF.MAX_SIZE / (1024 * 1024)}MB cada arquivo)\n          </span>\n        </label>\n        {error && (\n          <div className=\"flex items-center text-red-500 text-sm\">\n            <AlertCircle size={16} className=\"mr-1\" />\n            {error}\n          </div>\n        )}\n      </div>\n\n      {/* File Input */}\n      <div className=\"grid grid-cols-1 gap-4\">\n        <label className=\"cursor-pointer\">\n          <input\n            type=\"file\"\n            accept=\".pdf\"\n            multiple\n            onChange={handleFileSelect}\n            className=\"hidden\"\n            disabled={isUploading}\n          />\n          <div className={`flex items-center justify-center gap-2 border-2 border-dashed rounded-lg p-4 \n            ${isUploading ? 'border-gray-300 bg-gray-50' : 'border-blue-300 hover:border-blue-400 bg-blue-50'}`}>\n            <Upload size={20} className={isUploading ? 'text-gray-400' : 'text-blue-500'} />\n            <span className={isUploading ? 'text-gray-500' : 'text-blue-600'}>\n              {isUploading ? 'Fazendo upload...' : 'Selecionar PDFs'}\n            </span>\n          </div>\n        </label>\n\n        {/* Selected Files Preview */}\n        {selectedFiles.length > 0 && (\n          <div className=\"space-y-2\">\n            <h4 className=\"font-medium text-sm text-gray-700\">Arquivos selecionados:</h4>\n            <div className=\"grid grid-cols-1 gap-2\">\n              {selectedFiles.map((file, index) => (\n                <div key={index} className=\"flex items-center justify-between bg-gray-50 p-2 rounded\">\n                  <div className=\"flex items-center gap-2\">\n                    <File size={16} className=\"text-gray-500\" />\n                    <span className=\"text-sm text-gray-700\">{file.name}</span>\n                  </div>\n                  <button\n                    type=\"button\"\n                    onClick={() => setSelectedFiles(prev => prev.filter((_, i) => i !== index))}\n                    className=\"text-gray-500 hover:text-red-500\"\n                  >\n                    <X size={16} />\n                  </button>\n                </div>\n              ))}\n            </div>\n            <button\n              type=\"button\"\n              onClick={handleUpload}\n              disabled={isUploading}\n              className={`w-full py-2 px-4 rounded-lg text-white font-medium\n                ${isUploading ? 'bg-gray-400' : 'bg-blue-500 hover:bg-blue-600'}`}\n            >\n              {isUploading ? 'Enviando...' : 'Fazer Upload'}\n            </button>\n          </div>\n        )}\n\n        {/* Uploaded Files Preview */}\n        {previewUrls.length > 0 && (\n          <div className=\"space-y-2\">\n            <h4 className=\"font-medium text-sm text-gray-700\">Documentos enviados:</h4>\n            <div className=\"grid grid-cols-1 gap-2\">\n              {previewUrls.map((url, index) => (\n                <div key={index} className=\"flex items-center justify-between bg-gray-50 p-2 rounded\">\n                  <div className=\"flex items-center gap-2\">\n                    <File size={16} className=\"text-gray-500\" />\n                    <a\n                      href={url}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      className=\"text-sm text-blue-600 hover:underline\"\n                    >\n                      Documento {index + 1}\n                    </a>\n                  </div>\n                  <button\n                    type=\"button\"\n                    onClick={() => handleRemove(index)}\n                    className=\"text-gray-500 hover:text-red-500\"\n                  >\n                    <X size={16} />\n                  </button>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nPDFUploadSection.propTypes = {\n  onUploadComplete: PropTypes.func.isRequired,\n  onRemove: PropTypes.func.isRequired,\n  existingUrls: PropTypes.arrayOf(PropTypes.string),\n};\n\nexport default PDFUploadSection; ","import React, { useState } from 'react';\nimport PDFUploadSection from '../../AddLocationPanel/components/PDFUploadSection';\n\nconst DocumentosTab = ({ editingLocation }) => {\n  const escolaId = editingLocation?.id;\n  const [documentos, setDocumentos] = useState(editingLocation?.documentos || []);\n\n  if (!escolaId) {\n    return (\n      <div className=\"flex items-center justify-center h-64 text-gray-500\">\n        <p>Selecione uma escola para gerenciar seus documentos</p>\n      </div>\n    );\n  }\n\n  const handleUploadComplete = (urls) => {\n    setDocumentos(urls);\n    // Aqui você pode salvar os documentos no banco de dados se necessário\n    console.log('Documentos atualizados:', urls);\n  };\n\n  const handleRemove = (urls) => {\n    setDocumentos(urls);\n    // Aqui você pode atualizar o banco de dados se necessário\n    console.log('Documentos após remoção:', urls);\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">\n          Documentos da Escola\n        </h3>\n        <p className=\"text-sm text-gray-600 mb-6\">\n          Faça upload de documentos da escola em formato PDF. Não há limite no número de documentos.\n        </p>\n        \n        <PDFUploadSection \n          onUploadComplete={handleUploadComplete}\n          onRemove={handleRemove}\n          existingUrls={documentos}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default DocumentosTab; ","import React, { useState, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { Upload, X, Image as ImageIcon, Trash2, Edit3, Check, AlertCircle, Save } from 'lucide-react';\nimport { \n  uploadEscolaImage, \n  getEscolaImages, \n  deleteImage, \n  updateImageDescription\n} from '../../services/escolaImageService';\nimport { \n  getLegendaByImageUrl, \n  addLegendaFoto, \n  updateLegendaFoto,\n  testLegendasTable\n} from '../../services/legendasService';\n\nconst ImageUploadSection = ({ escolaId, onImagesUpdate }) => {\n  const [selectedFiles, setSelectedFiles] = useState([]);\n  const [uploading, setUploading] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [existingImages, setExistingImages] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  const [editingImage, setEditingImage] = useState(null);\n  const [editingDescription, setEditingDescription] = useState('');\n\n  // Buscar imagens existentes\n  const fetchExistingImages = useCallback(async () => {\n    if (!escolaId) return;\n    \n    try {\n      setLoading(true);\n      const images = await getEscolaImages(escolaId, 'imagens-das-escolas');\n      setExistingImages(images);\n    } catch (err) {\n      console.error('Erro ao buscar imagens:', err);\n      setError('Erro ao carregar imagens existentes');\n    } finally {\n      setLoading(false);\n    }\n  }, [escolaId]);\n\n  useEffect(() => {\n    fetchExistingImages();\n  }, [fetchExistingImages]);\n\n  // Testar estrutura da tabela quando o componente for carregado\n  useEffect(() => {\n    if (escolaId) {\n      console.log('Testando estrutura da tabela legendas_fotos...');\n      testLegendasTable();\n    }\n  }, [escolaId]);\n\n  // Buscar legendas para as imagens existentes\n  useEffect(() => {\n    const fetchLegendas = async () => {\n      if (!existingImages.length) return;\n      console.log('Buscando legendas para', existingImages.length, 'imagens');\n      const legendasMap = {};\n      for (const img of existingImages) {\n        console.log('Buscando legenda para imagem:', img.url);\n        const legenda = await getLegendaByImageUrl(img.url, escolaId, 'escola');\n        console.log('Legenda encontrada:', legenda);\n        legendasMap[img.url] = legenda;\n      }\n      setExistingImages(prev => prev.map(img => ({\n        ...img,\n        legendaData: legendasMap[img.url] || {\n          legenda: '',\n          descricao_detalhada: '',\n          autor_foto: '',\n          data_foto: '',\n          categoria: 'geral',\n        }\n      })));\n    };\n    fetchLegendas();\n    // eslint-disable-next-line\n  }, [existingImages.length, escolaId]);\n\n  // Limpar mensagens após 5 segundos\n  useEffect(() => {\n    if (error || success) {\n      const timer = setTimeout(() => {\n        setError('');\n        setSuccess('');\n      }, 5000);\n      return () => clearTimeout(timer);\n    }\n  }, [error, success]);\n\n  // Handler para seleção de arquivos\n  const handleFileSelect = (event) => {\n    const files = Array.from(event.target.files);\n    if (files.length === 0) return;\n\n    // Validar arquivos\n    const validFiles = files.filter(file => {\n      const isValidType = ['image/jpeg', 'image/jpg', 'image/png', 'image/webp', 'image/gif'].includes(file.type);\n      const isValidSize = file.size <= 5 * 1024 * 1024; // 5MB\n      \n      if (!isValidType) {\n        setError(`Arquivo \"${file.name}\" não é uma imagem válida. Use apenas JPG, PNG, WEBP ou GIF.`);\n      }\n      if (!isValidSize) {\n        setError(`Arquivo \"${file.name}\" é muito grande. Tamanho máximo: 5MB.`);\n      }\n      \n      return isValidType && isValidSize;\n    });\n\n    if (validFiles.length > 0) {\n      setSelectedFiles(prev => [...prev, ...validFiles]);\n      setError('');\n    }\n  };\n\n  // Handler para drag & drop\n  const handleDrop = useCallback((event) => {\n    event.preventDefault();\n    const files = Array.from(event.dataTransfer.files);\n    \n    if (files.length === 0) return;\n\n    // Filtrar apenas imagens\n    const imageFiles = files.filter(file => file.type.startsWith('image/'));\n    if (imageFiles.length > 0) {\n      setSelectedFiles(prev => [...prev, ...imageFiles]);\n      setError('');\n    }\n  }, []);\n\n  const handleDragOver = useCallback((event) => {\n    event.preventDefault();\n  }, []);\n\n  // Remover arquivo selecionado\n  const removeSelectedFile = (index) => {\n    setSelectedFiles(prev => prev.filter((_, i) => i !== index));\n  };\n\n  // Upload das imagens selecionadas\n  const handleUpload = async () => {\n    if (selectedFiles.length === 0) return;\n\n    setUploading(true);\n    setUploadProgress(0);\n    setError('');\n\n    try {\n      const uploadedImages = [];\n      \n      for (let i = 0; i < selectedFiles.length; i++) {\n        const file = selectedFiles[i];\n        const progress = ((i + 1) / selectedFiles.length) * 100;\n        setUploadProgress(progress);\n\n        const uploadedImage = await uploadEscolaImage(file, escolaId);\n        uploadedImages.push(uploadedImage);\n      }\n\n      // Atualizar lista de imagens\n      setExistingImages(prev => [...prev, ...uploadedImages]);\n      setSelectedFiles([]);\n      setUploadProgress(0);\n      setSuccess(`${uploadedImages.length} imagem(ns) carregada(s) com sucesso!`);\n\n\n\n      // Notificar componente pai\n      if (onImagesUpdate) {\n        onImagesUpdate();\n      }\n\n    } catch (err) {\n      console.error('Erro no upload:', err);\n      setError(`Erro ao fazer upload: ${err.message}`);\n    } finally {\n      setUploading(false);\n      setUploadProgress(0);\n    }\n  };\n\n  // Deletar imagem existente\n  const handleDeleteImage = async (imageId, filePath) => {\n    if (!window.confirm('Tem certeza que deseja excluir esta imagem?')) return;\n\n    try {\n      await deleteImage(imageId, filePath, 'imagens-das-escolas');\n      \n      // Atualizar lista\n      setExistingImages(prev => prev.filter(img => img.id !== imageId));\n      \n\n\n      setSuccess('Imagem excluída com sucesso!');\n\n      // Notificar componente pai\n      if (onImagesUpdate) {\n        onImagesUpdate();\n      }\n\n    } catch (err) {\n      console.error('Erro ao deletar imagem:', err);\n      setError(`Erro ao excluir imagem: ${err.message}`);\n    }\n  };\n\n  // Atualizar descrição da imagem\n  const handleDescriptionChange = async (imageId, novaDescricao) => {\n    if (!novaDescricao.trim()) return;\n\n    try {\n      await updateImageDescription(imageId, novaDescricao);\n      \n      // Atualizar lista\n      setExistingImages(prev => prev.map(img => \n        img.id === imageId \n          ? { ...img, descricao: novaDescricao.trim() }\n          : img\n      ));\n\n      setSuccess('Legenda atualizada com sucesso!');\n\n      // Notificar componente pai\n      if (onImagesUpdate) {\n        onImagesUpdate();\n      }\n\n    } catch (err) {\n      console.error('Erro ao atualizar descrição:', err);\n      setError(`Erro ao atualizar legenda: ${err.message}`);\n    }\n  };\n\n  // Atualizar legenda inline\n  const handleLegendaFieldChange = (imageId, field, value) => {\n    setExistingImages(prev => prev.map(img =>\n      img.id === imageId\n        ? { ...img, legendaData: { ...img.legendaData, [field]: value } }\n        : img\n    ));\n  };\n\n  const handleLegendaSave = async (image) => {\n    console.log('=== DEBUG: Salvando legenda ===');\n    console.log('Imagem completa:', image);\n    \n    const imagem_url_relativa = image.url;\n    const legendaData = image.legendaData;\n    console.log('URL relativa:', imagem_url_relativa);\n    console.log('Dados da legenda:', legendaData);\n    console.log('Escola ID:', escolaId);\n    \n    try {\n      console.log('Buscando legenda existente...');\n      let legenda = await getLegendaByImageUrl(imagem_url_relativa, escolaId, 'escola');\n      console.log('Legenda existente encontrada:', legenda);\n      \n      if (legenda) {\n        console.log('Atualizando legenda existente...');\n        const updateData = {\n          ...legendaData,\n          updated_at: new Date().toISOString()\n        };\n        console.log('Dados para atualização:', updateData);\n        \n        const resultado = await updateLegendaFoto(legenda.id, updateData);\n        console.log('Legenda atualizada com sucesso:', resultado);\n      } else {\n        console.log('Criando nova legenda...');\n        const novaLegendaData = {\n          escola_id: escolaId,\n          imagem_url: imagem_url_relativa,\n          ...legendaData,\n          ativo: true,\n          created_at: new Date().toISOString(),\n          updated_at: new Date().toISOString(),\n          tipo_foto: 'escola'\n        };\n        console.log('Dados para nova legenda:', novaLegendaData);\n        \n        const novaLegenda = await addLegendaFoto(novaLegendaData);\n        console.log('Nova legenda criada:', novaLegenda);\n      }\n      \n      setSuccess('Legenda salva com sucesso!');\n      if (onImagesUpdate) {\n        console.log('Chamando onImagesUpdate...');\n        onImagesUpdate();\n      }\n    } catch (err) {\n      console.error('=== ERRO ao salvar legenda ===');\n      console.error('Erro completo:', err);\n      console.error('Mensagem de erro:', err.message);\n      console.error('Stack trace:', err.stack);\n      setError('Erro ao salvar legenda: ' + err.message);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"p-6 bg-gray-50 rounded-lg\">\n        <div className=\"flex items-center justify-center py-8\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n          <span className=\"ml-2 text-gray-600\">Carregando imagens...</span>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <ImageIcon className=\"w-5 h-5 text-blue-600\" />\n          <h3 className=\"text-lg font-semibold text-gray-900\">Imagens da Escola</h3>\n        </div>\n        <div className=\"text-sm text-gray-500\">\n          {existingImages.length} imagens\n        </div>\n      </div>\n\n      {/* Mensagens */}\n      {error && (\n        <div className=\"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg\">\n          <AlertCircle className=\"w-5 h-5 text-red-600\" />\n          <span className=\"text-red-700\">{error}</span>\n        </div>\n      )}\n\n      {success && (\n        <div className=\"flex items-center gap-2 p-3 bg-green-50 border border-green-200 rounded-lg\">\n          <Check className=\"w-5 h-5 text-green-600\" />\n          <span className=\"text-green-700\">{success}</span>\n        </div>\n      )}\n\n      {/* Área de Upload */}\n      <div className=\"space-y-4\">\n          {/* Drag & Drop */}\n          <div\n            className={`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${\n              uploading \n                ? 'border-gray-300 bg-gray-50' \n                : 'border-blue-300 bg-blue-50 hover:border-blue-400 hover:bg-blue-100'\n            }`}\n            onDrop={handleDrop}\n            onDragOver={handleDragOver}\n          >\n            <Upload className=\"w-8 h-8 text-blue-600 mx-auto mb-2\" />\n            <p className=\"text-gray-600 mb-2\">\n              Arraste imagens aqui ou clique para selecionar\n            </p>\n            <p className=\"text-sm text-gray-500 mb-4\">\n              JPG, PNG, WEBP, GIF • Máximo 5MB por arquivo\n            </p>\n            \n            <label className=\"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer transition-colors\">\n              <input\n                type=\"file\"\n                multiple\n                accept=\"image/jpeg,image/jpg,image/png,image/webp,image/gif\"\n                onChange={handleFileSelect}\n                className=\"hidden\"\n                disabled={uploading}\n              />\n              Selecionar Arquivos\n            </label>\n          </div>\n\n          {/* Progress Bar */}\n          {uploading && (\n            <div className=\"space-y-2\">\n              <div className=\"flex justify-between text-sm text-gray-600\">\n                <span>Fazendo upload...</span>\n                <span>{Math.round(uploadProgress)}%</span>\n              </div>\n              <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                <div \n                  className=\"bg-blue-600 h-2 rounded-full transition-all duration-300\"\n                  style={{ width: `${uploadProgress}%` }}\n                ></div>\n              </div>\n            </div>\n          )}\n\n          {/* Arquivos Selecionados */}\n          {selectedFiles.length > 0 && (\n            <div className=\"space-y-3\">\n              <h4 className=\"font-medium text-gray-900\">Arquivos selecionados ({selectedFiles.length})</h4>\n              <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3\">\n                {selectedFiles.map((file, index) => (\n                  <div key={index} className=\"relative group\">\n                    <img\n                      src={URL.createObjectURL(file)}\n                      alt={file.name}\n                      className=\"w-full h-24 object-cover rounded-lg border\"\n                    />\n                    <button\n                      onClick={() => removeSelectedFile(index)}\n                      className=\"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity\"\n                    >\n                      <X className=\"w-3 h-3\" />\n                    </button>\n                    <p className=\"text-xs text-gray-600 mt-1 truncate\">{file.name}</p>\n                  </div>\n                ))}\n              </div>\n              <button\n                onClick={handleUpload}\n                disabled={uploading}\n                className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                {uploading ? 'Fazendo Upload...' : 'Fazer Upload'}\n              </button>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Imagens Existentes */}\n      {existingImages.length > 0 && (\n        <div className=\"space-y-4\">\n          <h4 className=\"font-medium text-gray-900\">Imagens da Escola ({existingImages.length})</h4>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {existingImages.map((image) => (\n              <div key={image.id} className=\"bg-white border rounded-lg overflow-hidden shadow-sm\">\n                {/* Imagem */}\n                <div className=\"relative group\">\n                <img\n                  src={image.publicUrl}\n                  alt={image.descricao || 'Imagem da escola'}\n                    className=\"w-full h-48 object-cover\"\n                />\n                \n                {/* Overlay de ações */}\n                  <div className=\"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center\">\n                  <div className=\"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity\">\n                    <button\n                      onClick={() => handleDeleteImage(image.id, image.url)}\n                      className=\"p-2 bg-red-600 text-white rounded-full hover:bg-red-700\"\n                      title=\"Excluir imagem\"\n                    >\n                      <Trash2 className=\"w-5 h-5\" />\n                    </button>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Campos de legenda integrados com legendas_fotos */}\n                <div className=\"p-4 space-y-2\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Legenda\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    value={image.legendaData?.legenda || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'legenda', e.target.value)}\n                    placeholder=\"Digite a legenda da imagem...\"\n                  />\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Descrição Detalhada\n                  </label>\n                  <textarea\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    value={image.legendaData?.descricao_detalhada || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'descricao_detalhada', e.target.value)}\n                    placeholder=\"Descrição detalhada da imagem...\"\n                  />\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Autor da Foto\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    value={image.legendaData?.autor_foto || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'autor_foto', e.target.value)}\n                    placeholder=\"Nome do fotógrafo\"\n                  />\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Data da Foto\n                  </label>\n                  <input\n                    type=\"date\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    value={image.legendaData?.data_foto || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'data_foto', e.target.value)}\n                  />\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Categoria\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    value={image.legendaData?.categoria || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'categoria', e.target.value)}\n                    placeholder=\"Digite a categoria da imagem...\"\n                  />\n                  <div className=\"flex gap-2 pt-2\">\n                    <button\n                      onClick={() => handleLegendaSave(image)}\n                      className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n                      type=\"button\"\n                    >\n                      <Save className=\"w-5 h-5\" /> Salvar Legenda\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Mensagem quando não há imagens */}\n      {existingImages.length === 0 && !uploading && (\n        <div className=\"text-center py-8 text-gray-500\">\n          <ImageIcon className=\"w-12 h-12 mx-auto mb-2 text-gray-300\" />\n          <p>Nenhuma imagem adicionada ainda.</p>\n          <p className=\"text-sm\">Adicione imagens para mostrar a escola.</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nImageUploadSection.propTypes = {\n  escolaId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  onImagesUpdate: PropTypes.func\n};\n\nexport default ImageUploadSection; ","import React from 'react';\nimport ImageUploadSection from '../../EditEscolaPanel/ImageUploadSection';\n\nconst ImagensEscolaTab = ({ editingLocation }) => {\n  const escolaId = editingLocation?.id;\n\n  if (!escolaId) {\n    return (\n      <div className=\"flex items-center justify-center h-64 text-gray-500\">\n        <p>Selecione uma escola para gerenciar suas imagens</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">\n          Imagens da Escola\n        </h3>\n        <p className=\"text-sm text-gray-600 mb-6\">\n          Faça upload de imagens da escola. Não há limite no número de imagens.\n        </p>\n        \n        <ImageUploadSection \n          escolaId={escolaId}\n          onImagesUpdate={() => {\n            // Callback para atualizar dados se necessário\n            console.log('Imagens da escola atualizadas');\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default ImagensEscolaTab; ","import { supabase } from '../supabaseClient';\nimport { \n  STORAGE_BUCKETS, \n  FILE_PATHS, \n  validateFile, \n  generateUniqueFileName,\n  getFileType \n} from '../config/storage';\n\n/**\n * Uploads a file to the specified bucket\n * @param {File} file - The file to upload\n * @param {string} bucket - The bucket to upload to (defaults to 'pdfs')\n * @returns {Promise<string>} The public URL of the uploaded file\n */\nexport const uploadFile = async (file, bucket = STORAGE_BUCKETS.PDFS) => {\n  try {\n    const fileType = getFileType(file);\n    if (!fileType) {\n      throw new Error('Tipo de arquivo não suportado');\n    }\n\n    const validation = validateFile(file, fileType);\n    if (!validation.isValid) {\n      throw new Error(validation.error);\n    }\n\n    const fileName = generateUniqueFileName(file, `${fileType.toLowerCase()}_`);\n    const filePath = `${FILE_PATHS[fileType]}/${fileName}`;\n\n    const { error: uploadError } = await supabase.storage\n      .from(bucket)\n      .upload(filePath, file, {\n        cacheControl: '3600',\n        upsert: false\n      });\n\n    if (uploadError) {\n      throw uploadError;\n    }\n\n    const { data: { publicUrl } } = supabase.storage\n      .from(bucket)\n      .getPublicUrl(filePath);\n\n    return publicUrl;\n  } catch (error) {\n    console.error('Erro ao fazer upload:', error);\n    throw error;\n  }\n};\n\n/**\n * Uploads a PDF file to the pdfs bucket\n * @param {File} file - The PDF file to upload\n * @returns {Promise<string>} The public URL of the uploaded PDF\n */\nexport const uploadPDF = async (file) => {\n  return uploadFile(file, STORAGE_BUCKETS.PDFS);\n};\n\n/**\n * Uploads an image file to the media bucket\n * @param {File} file - The image file to upload\n * @returns {Promise<string>} The public URL of the uploaded image\n */\nexport const uploadImage = async (file) => {\n  return uploadFile(file, STORAGE_BUCKETS.MEDIA);\n};\n\n/**\n * Uploads an audio file to the media bucket\n * @param {File} file - The audio file to upload\n * @returns {Promise<string>} The public URL of the uploaded audio\n */\nexport const uploadAudio = async (file) => {\n  return uploadFile(file, STORAGE_BUCKETS.MEDIA);\n};\n\n/**\n * Deletes a file from the specified bucket\n * @param {string} filePath - The path of the file to delete\n * @param {string} bucket - The bucket containing the file\n * @returns {Promise<void>}\n */\nexport const deleteFile = async (filePath, bucket = STORAGE_BUCKETS.PDFS) => {\n  try {\n    const { error } = await supabase.storage\n      .from(bucket)\n      .remove([filePath]);\n\n    if (error) {\n      throw error;\n    }\n  } catch (error) {\n    console.error('Erro ao deletar arquivo:', error);\n    throw error;\n  }\n}; ","import { supabase } from '../supabaseClient';\n\nexport const addProfessorImageMeta = async (meta) => {\n  const { data, error } = await supabase\n    .from('imagens_professores')\n    .insert([meta])\n    .select()\n    .single();\n  if (error) throw error;\n  return data;\n};\n\nexport const updateProfessorImageMeta = async (id, updates) => {\n  const { data, error } = await supabase\n    .from('imagens_professores')\n    .update(updates)\n    .eq('id', id)\n    .select()\n    .single();\n  if (error) throw error;\n  return data;\n};\n\nexport const getProfessorImageMetaByUrl = async (imagem_url, escola_id) => {\n  const { data, error } = await supabase\n    .from('imagens_professores')\n    .select('*')\n    .eq('imagem_url', imagem_url)\n    .eq('escola_id', escola_id)\n    .eq('ativo', true)\n    .single();\n  if (error && error.code !== 'PGRST116') throw error;\n  return data || null;\n}; ","import React, { useState, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { Upload, X, User, Trash2, Edit3, Check, AlertCircle, Save } from 'lucide-react';\nimport { \n  uploadProfessorImage, \n  getEscolaImages, \n  deleteImage, \n  updateImageDescription\n} from '../../services/escolaImageService';\nimport { \n  getLegendaByImageUrl, \n  addLegendaFoto, \n  updateLegendaFoto,\n  testLegendasTable\n} from '../../services/legendasService';\nimport {\n  addProfessorImageMeta,\n  updateProfessorImageMeta,\n  getProfessorImageMetaByUrl\n} from '../../services/professorImageMetaService';\n\nconst ProfessorImageUploadSection = ({ escolaId, onImagesUpdate }) => {\n  const [selectedFiles, setSelectedFiles] = useState([]);\n  const [uploading, setUploading] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [existingImages, setExistingImages] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  const [editingImage, setEditingImage] = useState(null);\n  const [editingDescription, setEditingDescription] = useState('');\n  const [genero, setGenero] = useState('professor');\n  const [titulo, setTitulo] = useState('');\n\n  // Buscar imagens existentes dos professores\n  const fetchExistingImages = useCallback(async () => {\n    if (!escolaId) return;\n    \n    try {\n      setLoading(true);\n      const images = await getEscolaImages(escolaId, 'imagens-professores');\n      setExistingImages(images);\n      \n\n    } catch (err) {\n      console.error('Erro ao buscar imagens dos professores:', err);\n      setError('Erro ao carregar imagens dos professores');\n    } finally {\n      setLoading(false);\n    }\n  }, [escolaId]);\n\n  useEffect(() => {\n    fetchExistingImages();\n  }, [fetchExistingImages]);\n\n  // Testar estrutura da tabela quando o componente for carregado\n  useEffect(() => {\n    if (escolaId) {\n      console.log('Testando estrutura da tabela legendas_fotos (professores)...');\n      testLegendasTable();\n    }\n  }, [escolaId]);\n\n  // Buscar legendas para as imagens existentes\n  useEffect(() => {\n    const fetchLegendas = async () => {\n      if (!existingImages.length) return;\n      console.log('Buscando legendas para', existingImages.length, 'imagens de professores');\n      const legendasMap = {};\n      for (const img of existingImages) {\n        console.log('Buscando legenda para imagem de professor:', img.url);\n        const legenda = await getLegendaByImageUrl(img.url, escolaId, 'professor');\n        console.log('Legenda encontrada para professor:', legenda);\n        legendasMap[img.url] = legenda;\n      }\n      setExistingImages(prev => prev.map(img => ({\n        ...img,\n        legendaData: legendasMap[img.url] || {\n          legenda: '',\n          descricao_detalhada: '',\n          autor_foto: '',\n          data_foto: '',\n          categoria: 'geral',\n        }\n      })));\n    };\n    fetchLegendas();\n    // eslint-disable-next-line\n  }, [existingImages.length, escolaId]);\n\n  // Limpar mensagens após 5 segundos\n  useEffect(() => {\n    if (error || success) {\n      const timer = setTimeout(() => {\n        setError('');\n        setSuccess('');\n      }, 5000);\n      return () => clearTimeout(timer);\n    }\n  }, [error, success]);\n\n  // Handler para seleção de arquivos\n  const handleFileSelect = (event) => {\n    const files = Array.from(event.target.files);\n    if (files.length === 0) return;\n\n    // Validar arquivos\n    const validFiles = files.filter(file => {\n      const isValidType = ['image/jpeg', 'image/jpg', 'image/png', 'image/webp', 'image/gif'].includes(file.type);\n      const isValidSize = file.size <= 5 * 1024 * 1024; // 5MB\n      \n      if (!isValidType) {\n        setError(`Arquivo \"${file.name}\" não é uma imagem válida. Use apenas JPG, PNG, WEBP ou GIF.`);\n      }\n      if (!isValidSize) {\n        setError(`Arquivo \"${file.name}\" é muito grande. Tamanho máximo: 5MB.`);\n      }\n      \n      return isValidType && isValidSize;\n    });\n\n    if (validFiles.length > 0) {\n      setSelectedFiles(prev => [...prev, ...validFiles]);\n      setError('');\n    }\n  };\n\n  // Handler para drag & drop\n  const handleDrop = useCallback((event) => {\n    event.preventDefault();\n    const files = Array.from(event.dataTransfer.files);\n    \n    if (files.length === 0) return;\n\n    // Filtrar apenas imagens\n    const imageFiles = files.filter(file => file.type.startsWith('image/'));\n    if (imageFiles.length > 0) {\n      setSelectedFiles(prev => [...prev, ...imageFiles]);\n      setError('');\n    }\n  }, []);\n\n  const handleDragOver = useCallback((event) => {\n    event.preventDefault();\n  }, []);\n\n  // Remover arquivo selecionado\n  const removeSelectedFile = (index) => {\n    setSelectedFiles(prev => prev.filter((_, i) => i !== index));\n  };\n\n  // Upload das imagens selecionadas\n  const handleUpload = async () => {\n    if (selectedFiles.length === 0) return;\n\n    setUploading(true);\n    setUploadProgress(0);\n    setError('');\n\n    try {\n      const uploadedImages = [];\n      \n      for (let i = 0; i < selectedFiles.length; i++) {\n        const file = selectedFiles[i];\n        const progress = ((i + 1) / selectedFiles.length) * 100;\n        setUploadProgress(progress);\n\n        const uploadedImage = await uploadProfessorImage(file, escolaId, '', genero, titulo);\n        uploadedImages.push(uploadedImage);\n\n        // Criar registro em imagens_professores\n        await addProfessorImageMeta({\n          escola_id: escolaId,\n          imagem_url: uploadedImage.url,\n          nome_arquivo: file.name,\n          autor: '',\n          ativo: true\n        });\n      }\n\n      // Atualizar lista de imagens\n      setExistingImages(prev => [...prev, ...uploadedImages]);\n      setSelectedFiles([]);\n      setUploadProgress(0);\n      setSuccess(`${uploadedImages.length} imagem(ns) do(s) professor(es) carregada(s) com sucesso!`);\n\n\n\n      // Notificar componente pai\n      if (onImagesUpdate) {\n        onImagesUpdate();\n      }\n\n    } catch (err) {\n      console.error('Erro no upload:', err);\n      setError(`Erro ao fazer upload: ${err.message}`);\n    } finally {\n      setUploading(false);\n      setUploadProgress(0);\n    }\n  };\n\n  // Deletar imagem existente\n  const handleDeleteImage = async (imageId, filePath) => {\n    if (!window.confirm('Tem certeza que deseja excluir esta imagem do professor?')) return;\n\n    try {\n      await deleteImage(imageId, filePath, 'imagens-professores');\n      \n      // Atualizar lista\n      setExistingImages(prev => prev.filter(img => img.id !== imageId));\n      \n\n\n      setSuccess('Imagem do professor excluída com sucesso!');\n\n      // Notificar componente pai\n      if (onImagesUpdate) {\n        onImagesUpdate();\n      }\n\n    } catch (err) {\n      console.error('Erro ao deletar imagem:', err);\n      setError(`Erro ao excluir imagem: ${err.message}`);\n    }\n  };\n\n  // Atualizar descrição da imagem\n  const handleDescriptionChange = async (imageId, novaDescricao) => {\n    if (!novaDescricao.trim()) return;\n\n    try {\n      await updateImageDescription(imageId, novaDescricao);\n      \n      // Atualizar lista\n      setExistingImages(prev => prev.map(img => \n        img.id === imageId \n          ? { ...img, descricao: novaDescricao.trim() }\n          : img\n      ));\n\n      setSuccess('Legenda atualizada com sucesso!');\n\n      // Notificar componente pai\n      if (onImagesUpdate) {\n        onImagesUpdate();\n      }\n\n    } catch (err) {\n      console.error('Erro ao atualizar descrição:', err);\n      setError(`Erro ao atualizar legenda: ${err.message}`);\n    }\n  };\n\n  // Atualizar legenda inline\n  const handleLegendaFieldChange = (imageId, field, value) => {\n    setExistingImages(prev => prev.map(img =>\n      img.id === imageId\n        ? { ...img, legendaData: { ...img.legendaData, [field]: value } }\n        : img\n    ));\n  };\n\n  const handleLegendaSave = async (image) => {\n    console.log('=== DEBUG: Salvando legenda de professor ===');\n    console.log('Imagem completa:', image);\n    \n    const imagem_url_relativa = image.url;\n    const legendaData = image.legendaData;\n    console.log('URL relativa:', imagem_url_relativa);\n    console.log('Dados da legenda:', legendaData);\n    console.log('Escola ID:', escolaId);\n    \n    try {\n      console.log('Buscando legenda existente...');\n      let legenda = await getLegendaByImageUrl(imagem_url_relativa, escolaId, 'professor');\n      console.log('Legenda existente encontrada:', legenda);\n      \n      if (legenda) {\n        console.log('Atualizando legenda existente...');\n        const updateData = {\n          ...legendaData,\n          updated_at: new Date().toISOString()\n        };\n        console.log('Dados para atualização:', updateData);\n        \n        const resultado = await updateLegendaFoto(legenda.id, updateData);\n        console.log('Legenda de professor atualizada com sucesso:', resultado);\n      } else {\n        console.log('Criando nova legenda...');\n        const novaLegendaData = {\n          escola_id: escolaId,\n          imagem_url: imagem_url_relativa,\n          ...legendaData,\n          ativo: true,\n          created_at: new Date().toISOString(),\n          updated_at: new Date().toISOString(),\n          tipo_foto: 'professor'\n        };\n        console.log('Dados para nova legenda:', novaLegendaData);\n        \n        const novaLegenda = await addLegendaFoto(novaLegendaData);\n        console.log('Nova legenda de professor criada:', novaLegenda);\n      }\n      \n      // Atualizar imagens_professores\n      console.log('Atualizando metadados da imagem...');\n      let meta = await getProfessorImageMetaByUrl(image.publicUrl, escolaId);\n      if (meta) {\n        console.log('Metadados encontrados:', meta);\n        await updateProfessorImageMeta(meta.id, {\n          autor: legendaData.autor_foto,\n          updated_at: new Date().toISOString()\n        });\n        console.log('Metadados atualizados com sucesso');\n      } else {\n        console.log('Nenhum metadado encontrado para atualizar');\n      }\n      \n      setSuccess('Legenda salva com sucesso!');\n      if (onImagesUpdate) {\n        console.log('Chamando onImagesUpdate...');\n        onImagesUpdate();\n      }\n    } catch (err) {\n      console.error('=== ERRO ao salvar legenda de professor ===');\n      console.error('Erro completo:', err);\n      console.error('Mensagem de erro:', err.message);\n      console.error('Stack trace:', err.stack);\n      setError('Erro ao salvar legenda: ' + err.message);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"p-6 bg-gray-50 rounded-lg\">\n        <div className=\"flex items-center justify-center py-8\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600\"></div>\n          <span className=\"ml-2 text-gray-600\">Carregando imagens dos professores...</span>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <User className=\"w-5 h-5 text-green-600\" />\n          <h3 className=\"text-lg font-semibold text-gray-900\">Imagens dos Professores</h3>\n        </div>\n        <div className=\"text-sm text-gray-500\">\n          {existingImages.length} imagens\n        </div>\n      </div>\n\n      {/* Mensagens */}\n      {error && (\n        <div className=\"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg\">\n          <AlertCircle className=\"w-5 h-5 text-red-600\" />\n          <span className=\"text-red-700\">{error}</span>\n        </div>\n      )}\n\n      {success && (\n        <div className=\"flex items-center gap-2 p-3 bg-green-50 border border-green-200 rounded-lg\">\n          <Check className=\"w-5 h-5 text-green-600\" />\n          <span className=\"text-green-700\">{success}</span>\n        </div>\n      )}\n\n      {/* Área de Upload */}\n      <div className=\"space-y-4\">\n          {/* Drag & Drop */}\n          <div\n            className={`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${\n              uploading \n                ? 'border-gray-300 bg-gray-50' \n                : 'border-green-300 bg-green-50 hover:border-green-400 hover:bg-green-100'\n            }`}\n            onDrop={handleDrop}\n            onDragOver={handleDragOver}\n          >\n            <Upload className=\"w-8 h-8 text-green-600 mx-auto mb-2\" />\n            <p className=\"text-gray-600 mb-2\">\n              Arraste imagens dos professores aqui ou clique para selecionar\n            </p>\n            <p className=\"text-sm text-gray-500 mb-4\">\n              JPG, PNG, WEBP, GIF • Máximo 5MB por arquivo • Máximo 5 imagens\n            </p>\n            \n            <label className=\"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer transition-colors\">\n              <input\n                type=\"file\"\n                multiple\n                accept=\"image/jpeg,image/jpg,image/png,image/webp,image/gif\"\n                onChange={handleFileSelect}\n                className=\"hidden\"\n                disabled={uploading}\n              />\n              Selecionar Arquivos\n            </label>\n          </div>\n\n          {/* Progress Bar */}\n          {uploading && (\n            <div className=\"space-y-2\">\n              <div className=\"flex justify-between text-sm text-gray-600\">\n                <span>Fazendo upload das imagens dos professores...</span>\n                <span>{Math.round(uploadProgress)}%</span>\n              </div>\n              <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                <div \n                  className=\"bg-green-600 h-2 rounded-full transition-all duration-300\"\n                  style={{ width: `${uploadProgress}%` }}\n                ></div>\n              </div>\n            </div>\n          )}\n\n          {/* Arquivos Selecionados */}\n          {selectedFiles.length > 0 && (\n            <div className=\"space-y-3\">\n              <h4 className=\"font-medium text-gray-900\">Arquivos selecionados ({selectedFiles.length})</h4>\n              <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3\">\n                {selectedFiles.map((file, index) => (\n                  <div key={index} className=\"relative group\">\n                    <img\n                      src={URL.createObjectURL(file)}\n                      alt={file.name}\n                      className=\"w-full h-24 object-cover rounded-lg border\"\n                    />\n                    <button\n                      onClick={() => removeSelectedFile(index)}\n                      className=\"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity\"\n                    >\n                      <X className=\"w-3 h-3\" />\n                    </button>\n                    <p className=\"text-xs text-gray-600 mt-1 truncate\">{file.name}</p>\n                  </div>\n                ))}\n              </div>\n              <button\n                onClick={handleUpload}\n                disabled={uploading}\n                className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                {uploading ? 'Fazendo Upload...' : 'Fazer Upload'}\n              </button>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Imagens Existentes */}\n      {existingImages.length > 0 && (\n        <div className=\"space-y-4\">\n          <h4 className=\"font-medium text-gray-900\">Imagens dos Professores ({existingImages.length})</h4>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {existingImages.map((image) => (\n              <div key={image.id} className=\"bg-white border rounded-lg overflow-hidden shadow-sm\">\n                {/* Imagem */}\n                <div className=\"relative group\">\n                <img\n                  src={image.publicUrl}\n                  alt={image.descricao || 'Imagem do professor'}\n                    className=\"w-full h-48 object-cover\"\n                />\n                \n                {/* Overlay de ações */}\n                  <div className=\"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center\">\n                  <div className=\"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity\">\n                    <button\n                      onClick={() => handleDeleteImage(image.id, image.url)}\n                      className=\"p-2 bg-red-600 text-white rounded-full hover:bg-red-700\"\n                      title=\"Excluir imagem\"\n                    >\n                      <Trash2 className=\"w-5 h-5\" />\n                    </button>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Campos de legenda integrados com legendas_fotos */}\n                <div className=\"p-4 space-y-2\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Legenda\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                    value={image.legendaData?.legenda || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'legenda', e.target.value)}\n                    placeholder=\"Digite a legenda da imagem...\"\n                  />\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Descrição Detalhada\n                  </label>\n                  <textarea\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                    value={image.legendaData?.descricao_detalhada || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'descricao_detalhada', e.target.value)}\n                    placeholder=\"Descrição detalhada da imagem...\"\n                  />\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Autor da Foto\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                    value={image.legendaData?.autor_foto || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'autor_foto', e.target.value)}\n                    placeholder=\"Nome do fotógrafo\"\n                  />\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Data da Foto\n                  </label>\n                  <input\n                    type=\"date\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                    value={image.legendaData?.data_foto || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'data_foto', e.target.value)}\n                  />\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Categoria\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                    value={image.legendaData?.categoria || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'categoria', e.target.value)}\n                    placeholder=\"Digite a categoria da imagem...\"\n                  />\n                  <div className=\"flex gap-2 pt-2\">\n                    <button\n                      onClick={() => handleLegendaSave(image)}\n                      className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\n                      type=\"button\"\n                    >\n                      <Save className=\"w-5 h-5\" /> Salvar Legenda\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Mensagem quando não há imagens */}\n      {existingImages.length === 0 && !uploading && (\n        <div className=\"text-center py-8 text-gray-500\">\n          <User className=\"w-12 h-12 mx-auto mb-2 text-gray-300\" />\n          <p>Nenhuma imagem dos professores adicionada ainda.</p>\n          <p className=\"text-sm\">Adicione imagens para mostrar os professores da escola.</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nProfessorImageUploadSection.propTypes = {\n  escolaId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  onImagesUpdate: PropTypes.func\n};\n\nexport default ProfessorImageUploadSection; ","import React from 'react';\nimport ProfessorImageUploadSection from '../../EditEscolaPanel/ProfessorImageUploadSection';\n\nconst ImagensProfessoresTab = ({ editingLocation }) => {\n  const escolaId = editingLocation?.id;\n\n  if (!escolaId) {\n    return (\n      <div className=\"flex items-center justify-center h-64 text-gray-500\">\n        <p>Selecione uma escola para gerenciar as imagens dos professores</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">\n          Imagens dos Professores\n        </h3>\n        <p className=\"text-sm text-gray-600 mb-6\">\n          Faça upload de imagens dos professores da escola. Não há limite no número de imagens.\n        </p>\n        \n        <ProfessorImageUploadSection \n          escolaId={escolaId}\n          onImagesUpdate={() => {\n            // Callback para atualizar dados se necessário\n            console.log('Imagens dos professores atualizadas');\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default ImagensProfessoresTab; ","// Storage configuration constants\n\nexport const STORAGE_BUCKETS = {\n  PDFS: 'pdfs',\n  MEDIA: 'media', // Keeping for backward compatibility\n};\n\nexport const FILE_RESTRICTIONS = {\n  PDF: {\n    MAX_SIZE: 10 * 1024 * 1024, // 10MB\n    ALLOWED_TYPES: ['application/pdf'],\n    MAX_FILES: Infinity, // Sem limite\n  },\n  IMAGE: {\n    MAX_SIZE: 5 * 1024 * 1024, // 5MB\n    ALLOWED_TYPES: ['image/jpeg', 'image/png', 'image/jpg'],\n    MAX_FILES: 10,\n  },\n  AUDIO: {\n    MAX_SIZE: 20 * 1024 * 1024, // 20MB\n    ALLOWED_TYPES: ['audio/wav', 'audio/mpeg', 'audio/mp3'],\n    MAX_FILES: 1,\n  },\n};\n\nexport const FILE_PATHS = {\n  PDF: 'documents',\n  IMAGE: 'images',\n  AUDIO: 'audio',\n};\n\nexport const getFileType = (file) => {\n  if (FILE_RESTRICTIONS.PDF.ALLOWED_TYPES.includes(file.type)) return 'PDF';\n  if (FILE_RESTRICTIONS.IMAGE.ALLOWED_TYPES.includes(file.type)) return 'IMAGE';\n  if (FILE_RESTRICTIONS.AUDIO.ALLOWED_TYPES.includes(file.type)) return 'AUDIO';\n  return null;\n};\n\nexport const validateFile = (file, type) => {\n  const restrictions = FILE_RESTRICTIONS[type];\n  if (!restrictions) return { isValid: false, error: 'Tipo de arquivo não suportado' };\n\n  if (!restrictions.ALLOWED_TYPES.includes(file.type)) {\n    return { isValid: false, error: `Tipo de arquivo não permitido. Use apenas ${type === 'PDF' ? 'PDF' : type === 'IMAGE' ? 'JPG/PNG' : 'WAV/MP3'}` };\n  }\n\n  if (file.size > restrictions.MAX_SIZE) {\n    return { isValid: false, error: `Arquivo muito grande. Tamanho máximo: ${restrictions.MAX_SIZE / (1024 * 1024)}MB` };\n  }\n\n  return { isValid: true };\n};\n\nexport const generateUniqueFileName = (file, prefix = '') => {\n  const timestamp = Date.now();\n  const random = Math.random().toString(36).substring(2, 8);\n  const extension = file.name.split('.').pop();\n  return `${prefix}${timestamp}_${random}.${extension}`;\n}; "],"names":["ESCOLA_IMAGE_CONFIG","BUCKET_NAME","MAX_FILE_SIZE","ALLOWED_TYPES","MAX_IMAGES_PER_SCHOOL","Infinity","MIN_DIMENSIONS","width","height","PROFESSOR_IMAGE_CONFIG","validateImageFile","file","config","includes","type","isValid","error","concat","map","t","split","toUpperCase","join","size","extension","name","pop","toLowerCase","allowedExtensions","uploadEscolaImage","async","escolaId","descricao","arguments","length","undefined","validation","Error","fileName","generateUniqueFileName","timestamp","Date","now","random","Math","toString","substring","filePath","uploadError","supabase","storage","from","upload","cacheControl","upsert","message","data","publicUrl","getPublicUrl","id","url","trim","created_at","toISOString","console","uploadProfessorImage","genero","generateUniqueFileNameWithGenero","getEscolaImages","bucketName","files","list","index","deleteImage","imageId","storageError","remove","updateImageDescription","useEscolas","escolas","setEscolas","useState","loading","setLoading","setError","searchTerm","setSearchTerm","selectedType","setSelectedType","fetchEscolas","useCallback","select","order","ascending","escolasMapeadas","escola","_objectSpread","logradouro","numero","complemento","bairro","cep","estado","err","filteredEscolas","filter","_escola$Escola","Escola","updateEscolaInList","updatedData","prev","addEscolaToList","novaEscola","removeEscolaFromList","getEscolaById","find","getEscolaByName","nome","_escola$Escola2","saveEscola","escolaData","update","eq","success","insert","useEffect","MODALIDADES_OPTIONS","MODALIDADES_CATEGORIAS","titulo","indices","useModalidades","selectedModalidades","setSelectedModalidades","outroModalidade","setOutroModalidade","handleModalidadeChange","modalidade","m","handleOutroModalidadeChange","value","hasOutro","some","startsWith","saveModalidades","loadExistingModalidades","modalidadesText","parts","part","modalidades","outro","forEach","replace","push","clearModalidades","getModalidadesPreview","hasSelectedModalidades","ADMIN_TABS","label","UI_CONFIG","FORM_CONFIG","_ref","isMobile","sidebarOpen","setSidebarOpen","editingLocation","onEscolaSelect","_jsxs","_Fragment","children","_jsx","className","onClick","Menu","style","transform","top","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","placeholder","onChange","e","target","onNovaEscola","setEditingLocation","categoria","checked","turnos_funcionamento","handleSaveModalidades","cozinha","merenda_escolar","diferenciada","merenda_diferenciada","videos","setVideos","setSuccess","showForm","setShowForm","editingVideo","setEditingVideo","formData","setFormData","video_url","plataforma","ativo","carregarVideos","getVideosEscola","resetForm","handleDelete","window","confirm","delete","deleteVideoEscola","Plus","video","src","title","allowFullScreen","handleEdit","Edit3","Trash2","onSubmit","preventDefault","payload","escola_id","Number","Boolean","updates","updateVideoEscola","createVideoEscola","required","rows","Save","VideoManager","quillRef","useRef","quillInstance","setQuillInstance","React","imageHandler","input","document","createElement","setAttribute","click","onchange","range","getSelection","insertEmbed","imageUrl","uploadImage","deleteText","setSelection","alert","modules","toolbar","container","handlers","image","handleEditorChange","content","delta","source","editor","handleEditorReady","quill","ReactQuill","ref","theme","onEditorReady","formats","backgroundColor","color","QuillEditor","RichTextEditor","historias","setHistorias","editingHistoria","setEditingHistoria","isCreating","setIsCreating","loadHistorias","getHistoriasProfessor","handleNewHistoria","nome_professor","historia","updateHistoriaProfessor","historiaData","createHistoriaProfessor","handleSaveHistoria","handleCancelEdit","dangerouslySetInnerHTML","__html","log","handleEditHistoria","deleteHistoriaProfessor","historiaId","handleDeleteHistoria","MARKER_SVG_PATH","process","mapRef","mapInstanceRef","markerRef","updateMap","lat","lng","current","view","getView","isNaN","_mapInstanceRef$curre","coordinates","fromLonLat","parseFloat","setCenter","setZoom","vectorSource","getLayers","getArray","layer","VectorLayer","getSource","removeFeature","marker","Feature","geometry","Point","setStyle","Style","Icon","scale","anchor","anchorXUnits","anchorYUnits","addFeature","handleMapClick","event","toLonLat","coordinate","toFixed","Map","layers","TileLayer","XYZ","VectorSource","View","center","zoom","on","setTarget","step","minHeight","TabelasIntegraisTab","_tabelas$find","tabelas","setTabelas","selectedTabela","setSelectedTabela","dadosTabela","setDadosTabela","loadingDados","setLoadingDados","backupStatus","setBackupStatus","backupProgress","setBackupProgress","TABELAS_SISTEMA","icone","Database","cor","Users","FileText","Video","Image","BUCKETS_BACKUP","carregarDadosTabela","tabelaId","downloadFile","filename","response","fetch","blob","downloadUrl","URL","createObjectURL","link","href","download","body","appendChild","removeChild","revokeObjectURL","createAndDownloadZip","zipName","JSZip","Promise","resolve","setTimeout","default","zip","zipBlob","generateAsync","Archive","status","backupTabelas","tabela","backupArquivos","todosArquivos","bucket","limit","arquivosComUrls","arquivo","urlData","createSignedUrl","signedUrl","arquivoCompleto","bucketNome","backupCompleto","metadata","dataBackup","versao","buckets","b","totalRegistros","Object","values","reduce","acc","totalArquivos","dados","arquivos","jsonContent","JSON","stringify","Blob","visibility","detalhes","keys","registros","disabled","backupTabelasData","i","backupData","tipo","FileDown","round","Icone","isSelected","stopPropagation","Eye","Cloud","RefreshCw","downloadCSV","headers","csvContent","row","header","Download","downloadJSON","slice","cellIndex","ImagensEscolaTab","ImagensProfessoresTab","DocumentosTab","require","warn","AdminPanel","triggerRefresh","useRefresh","isSaving","setIsSaving","saveError","setSaveError","saveSuccess","setSaveSuccess","innerWidth","escolasLoading","escolasError","handleNovaEscola","activeTab","AdminSidebar","escolaOriginal","AdminToolbar","result","tab","renderActiveTab","DadosBasicosTab","PovosLinguasTab","ModalidadesTab","InfraestruturaTab","GestaoProfessoresTab","MaterialPedagogicoTab","ProjetosParceriasTab","RedesSociaisTab","VideoTab","HistoriasTab","HistoriaProfessoresTab","CoordenadasTab","AdminPanelWrapper","onUploadComplete","onRemove","existingUrls","isUploading","setIsUploading","selectedFiles","setSelectedFiles","previewUrls","setPreviewUrls","FILE_RESTRICTIONS","PDF","MAX_SIZE","AlertCircle","accept","multiple","Array","validFiles","isValidType","isValidSize","Upload","File","_","X","uploadedUrls","uploadPDF","allUrls","rel","newUrls","handleRemove","documentos","setDocumentos","PDFUploadSection","urls","onImagesUpdate","uploading","setUploading","uploadProgress","setUploadProgress","existingImages","setExistingImages","editingImage","setEditingImage","editingDescription","setEditingDescription","fetchExistingImages","images","testLegendasTable","legendasMap","img","legenda","getLegendaByImageUrl","legendaData","descricao_detalhada","autor_foto","data_foto","fetchLegendas","timer","clearTimeout","handleDrop","dataTransfer","imageFiles","handleDragOver","handleLegendaFieldChange","field","ImageIcon","Check","onDrop","onDragOver","alt","removeSelectedFile","uploadedImages","progress","uploadedImage","_image$legendaData","_image$legendaData2","_image$legendaData3","_image$legendaData4","_image$legendaData5","handleDeleteImage","imagem_url_relativa","updateData","updated_at","resultado","updateLegendaFoto","novaLegendaData","imagem_url","tipo_foto","novaLegenda","addLegendaFoto","stack","handleLegendaSave","ImageUploadSection","uploadFile","STORAGE_BUCKETS","PDFS","fileType","getFileType","validateFile","FILE_PATHS","MEDIA","addProfessorImageMeta","meta","single","setGenero","setTitulo","code","getProfessorImageMetaByUrl","updateProfessorImageMeta","autor","User","nome_arquivo","ProfessorImageUploadSection","MAX_FILES","IMAGE","AUDIO","restrictions","prefix"],"sourceRoot":""}