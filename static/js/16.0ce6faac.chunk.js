(self.webpackChunkopin_observatorio_professores_indigenas=self.webpackChunkopin_observatorio_professores_indigenas||[]).push([[16],{16:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>n});var s=t(5043),o=t(237),d=t(579);const n=()=>{const[e,a]=(0,s.useState)([]),[t,n]=(0,s.useState)(!1),r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";const s=(new Date).toLocaleTimeString();a((a=>[...a,{timestamp:s,message:e,type:t}]))};return(0,d.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow-lg max-w-4xl mx-auto",children:[(0,d.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Teste de Funcionalidade de Legendas"}),(0,d.jsxs)("div",{className:"mb-6",children:[(0,d.jsx)("button",{onClick:async()=>{n(!0),a([]);try{r("=== INICIANDO TESTES DE LEGENDAS ===","header"),r("Teste 1: Verificando estrutura da tabela..."),await(0,o.testLegendasTable)(),r("\u2705 Teste da estrutura da tabela conclu\xeddo"),r("Teste 2: Criando legenda de teste...");const e={escola_id:1,imagem_url:"test/test-image.jpg",legenda:"Legenda de teste",descricao_detalhada:"Descri\xe7\xe3o detalhada de teste",autor_foto:"Teste Autor",data_foto:"2024-01-01",categoria:"teste",ativo:!0,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()},a=await(0,o.addLegendaFoto)(e);r("\u2705 Legenda criada com ID: ".concat(a.id)),r("Teste 3: Buscando legenda criada...");const t=await(0,o.getLegendaByImageUrl)("test/test-image.jpg",1);t?r("\u2705 Legenda encontrada: ".concat(t.legenda)):r("\u274c Legenda n\xe3o encontrada","error"),r("Teste 4: Atualizando legenda...");const s={legenda:"Legenda atualizada",updated_at:(new Date).toISOString()},d=await(0,o.updateLegendaFoto)(a.id,s);r("\u2705 Legenda atualizada: ".concat(d.legenda)),r("Teste 5: Verificando se a atualiza\xe7\xe3o foi salva...");const n=await(0,o.getLegendaByImageUrl)("test/test-image.jpg",1);n&&"Legenda atualizada"===n.legenda?r("\u2705 Atualiza\xe7\xe3o salva corretamente"):r("\u274c Atualiza\xe7\xe3o n\xe3o foi salva corretamente","error"),r("=== TESTES CONCLU\xcdDOS COM SUCESSO ===","success")}catch(e){r("\u274c ERRO NOS TESTES: ".concat(e.message),"error"),console.error("Erro nos testes:",e)}finally{n(!1)}},disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 mr-4",children:t?"Executando Testes...":"Executar Testes"}),(0,d.jsx)("button",{onClick:()=>{a([])},className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Limpar Logs"})]}),(0,d.jsxs)("div",{className:"bg-gray-100 rounded-lg p-4 max-h-96 overflow-y-auto",children:[(0,d.jsx)("h3",{className:"font-semibold mb-2",children:"Logs dos Testes:"}),0===e.length?(0,d.jsx)("p",{className:"text-gray-500",children:"Nenhum teste executado ainda."}):(0,d.jsx)("div",{className:"space-y-1",children:e.map(((e,a)=>(0,d.jsxs)("div",{className:"text-sm font-mono ".concat("error"===e.type?"text-red-600":"success"===e.type?"text-green-600":"header"===e.type?"text-blue-600 font-bold":"text-gray-800"),children:["[",e.timestamp,"] ",e.message]},a)))})]}),(0,d.jsxs)("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[(0,d.jsx)("h4",{className:"font-semibold text-yellow-800 mb-2",children:"Instru\xe7\xf5es:"}),(0,d.jsxs)("ol",{className:"text-sm text-yellow-700 space-y-1 list-decimal list-inside",children:[(0,d.jsx)("li",{children:'Clique em "Executar Testes" para verificar se a funcionalidade de legendas est\xe1 funcionando'}),(0,d.jsx)("li",{children:"Verifique os logs para identificar poss\xedveis problemas"}),(0,d.jsx)("li",{children:"Se houver erros, execute o script SQL no Supabase para corrigir a estrutura da tabela"}),(0,d.jsx)("li",{children:"Teste novamente ap\xf3s corrigir problemas no banco de dados"})]})]})]})}},237:()=>{}}]);
//# sourceMappingURL=16.0ce6faac.chunk.js.map