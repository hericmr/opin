{"version":3,"file":"static/js/214.1ad24e27.chunk.js","mappings":"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","sources":["utils/mapConfig.js","components/OpenLayersMap.js","hooks/useGeoJSONCache.js","components/MapSelector.js","components/detalhesInfo.js","components/MapaEscolasIndigenas.js","utils/mobileUtils.js"],"sourcesContent":["// Configurações centralizadas do mapa OpenLayers\n\nexport const MAP_CONFIG = {\n  // Configurações iniciais\n  center: [-48.4129, -22.3794], // longitude, latitude\n  zoom: 7.63,\n  maxZoom: 18,\n  minZoom: 4,\n  \n  // Configurações de clusterização\n  clusterDistance: 30,\n  \n  // Configurações de proximidade para pares próximos\n  proximityThreshold: 0.00005,\n  \n  // Configurações de zoom para clusters\n  disableClusteringAtZoom: 12,\n  \n  // Configurações de tooltip\n  tooltipOffset: 10,\n  \n  // Configurações de conectores\n  connectorStyle: {\n    color: '#A0522D',\n    width: 1.2,\n    lineDash: [3, 3]\n  }\n};\n\n// Configurações de cores dos marcadores\nexport const MARKER_COLORS = {\n  individual: '#3B82F6',\n  individualBorder: '#1E40AF',\n  cluster: {\n    small: '#60A5FA',\n    medium: '#3B82F6',\n    large: '#2563EB',\n    xlarge: '#1E40AF'\n  }\n};\n\n// Configurações de tamanhos dos clusters\nexport const CLUSTER_SIZES = {\n  small: { min: 2, max: 10, size: 50 },\n  medium: { min: 11, max: 20, size: 52 },\n  large: { min: 21, max: 50, size: 56 },\n  xlarge: { min: 51, max: 100, size: 64 },\n  xxlarge: { min: 101, size: 72 }\n};\n\n// Configurações de fontes para clusters\nexport const CLUSTER_FONTS = {\n  small: 'bold 14px Arial',\n  medium: 'bold 15px Arial',\n  large: 'bold 16px Arial',\n  xlarge: 'bold 18px Arial'\n};\n\n// Configurações das camadas GeoJSON\nexport const GEOJSON_CONFIG = {\n  terrasIndigenas: {\n    regularizada: {\n      fill: 'rgba(220, 20, 60, 0.3)',\n      stroke: '#B22222'\n    },\n    declarada: {\n      fill: 'rgba(139, 0, 0, 0.25)',\n      stroke: '#B22222'\n    }\n  },\n  estadoSP: {\n    fill: 'rgba(0, 0, 0, 0.3)',\n    stroke: '#000000'\n  }\n};\n\n// Configurações de projeção\nexport const PROJECTION_CONFIG = {\n  dataProjection: 'EPSG:4326',\n  featureProjection: 'EPSG:3857'\n}; ","import React, { useEffect, useRef, useState, useCallback } from 'react';\nimport Map from 'ol/Map';\nimport View from 'ol/View';\nimport TileLayer from 'ol/layer/Tile';\nimport VectorLayer from 'ol/layer/Vector';\nimport VectorSource from 'ol/source/Vector';\nimport ClusterSource from 'ol/source/Cluster';\nimport OSM from 'ol/source/OSM';\nimport XYZ from 'ol/source/XYZ';\nimport { fromLonLat, toLonLat } from 'ol/proj';\nimport { Point, LineString } from 'ol/geom';\nimport { Feature } from 'ol';\nimport { Style, Circle, Fill, Stroke, Text, Icon } from 'ol/style';\nimport { defaults as defaultControls } from 'ol/control';\nimport { defaults as defaultInteractions } from 'ol/interaction';\nimport { GeoJSON } from 'ol/format';\nimport { register } from 'ol/proj/proj4';\nimport proj4 from 'proj4';\nimport 'ol/ol.css';\nimport { MAP_CONFIG } from '../utils/mapConfig';\nimport { isMobile, MobileInteractionManager } from '../utils/mobileUtils';\n\n// Componentes GeoJSON\nimport OpenLayersTerrasIndigenas from './OpenLayersTerrasIndigenas';\nimport OpenLayersEstadoSP from './OpenLayersEstadoSP';\n\n// Registrar projeção SIRGAS 2000 (EPSG:4674) usada nos dados GeoJSON\nproj4.defs('EPSG:4674', '+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs');\nregister(proj4);\n\n// Constante para definir a proximidade entre marcadores (em graus) - mesma do Leaflet\nconst PROXIMITY_THRESHOLD = 0.00005;\n\n// Função para encontrar pares de marcadores próximos (adaptada do Leaflet)\nconst findNearbyPairs = (pontos) => {\n  const pairs = [];\n  const used = new Set();\n\n  for (let i = 0; i < pontos.length; i++) {\n    if (used.has(i)) continue;\n\n    for (let j = i + 1; j < pontos.length; j++) {\n      if (used.has(j)) continue;\n\n      const p1 = pontos[i];\n      const p2 = pontos[j];\n\n      const latDiff = Math.abs(parseFloat(p1.latitude) - parseFloat(p2.latitude));\n      const lngDiff = Math.abs(parseFloat(p1.longitude) - parseFloat(p2.longitude));\n\n      if (latDiff < PROXIMITY_THRESHOLD && lngDiff < PROXIMITY_THRESHOLD) {\n        pairs.push([i, j]);\n        used.add(i);\n        used.add(j);\n        break;\n      }\n    }\n  }\n\n  return pairs;\n};\n\n// Função para criar SVG base do marcador (gota invertida com bolinha branca)\nconst createMarkerSVG = (color, size = 24, options = {}) => {\n  const {\n    borderColor = null,\n    showShadow = true,\n    showGradient = true,\n    showGlow = false,\n    isNearbyPair = false\n  } = options;\n\n  const baseColor = color;\n  const borderColorFinal = borderColor || baseColor;\n  const center = size / 2;\n\n  // Calcular dimensões proporcionais baseadas no tamanho original de 24px\n  const scale = size / 24;\n  const circleRadius = 3 * scale;\n  const glowRadius = 2 * scale;\n\n  // Path da gota invertida (marcador) - usando o path original que funcionava bem\n  const markerPath = `M${center} ${2 * scale}C${center - 3.87 * scale} ${2 * scale} ${center - 7 * scale} ${5.13 * scale} ${center - 7 * scale} ${9 * scale}c0 ${5.25 * scale} ${7 * scale} ${13 * scale} ${7 * scale} ${13 * scale}s${7 * scale} -${7.75 * scale} ${7 * scale} -${13 * scale}c0 -${3.87 * scale} -${3.13 * scale} -${7 * scale} -${7 * scale} -${7 * scale}z`;\n\n  return `\n    <svg width=\"${size}\" height=\"${size}\" viewBox=\"0 0 ${size} ${size}\" xmlns=\"http://www.w3.org/2000/svg\">\n      <defs>\n        ${showShadow ? `\n        <filter id=\"shadow-${size}\" x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\">\n          <feDropShadow dx=\"0\" dy=\"${2 * scale}\" stdDeviation=\"${3 * scale}\" flood-color=\"rgba(0,0,0,0.3)\"/>\n        </filter>\n        ` : ''}\n        ${showGradient ? `\n        <linearGradient id=\"gradient-${size}\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\n          <stop offset=\"0%\" style=\"stop-color:${baseColor};stop-opacity:1\" />\n          <stop offset=\"100%\" style=\"stop-color:${borderColorFinal};stop-opacity:1\" />\n        </linearGradient>\n        ` : ''}\n        ${showGlow ? `\n        <filter id=\"glow-${size}\" x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\">\n          <feGaussianBlur stdDeviation=\"${1 * scale}\" result=\"coloredBlur\"/>\n          <feMerge> \n            <feMergeNode in=\"coloredBlur\"/>\n            <feMergeNode in=\"SourceGraphic\"/>\n          </feMerge>\n        </filter>\n        ` : ''}\n      </defs>\n      \n      <!-- Brilho sutil de fundo -->\n      ${showGlow ? `\n      <circle cx=\"${center - 2 * scale}\" cy=\"${center - 2 * scale}\" r=\"${glowRadius}\" fill=\"white\" opacity=\"0.2\"/>\n      ` : ''}\n      \n      <!-- Marcador principal (gota invertida) -->\n      <path d=\"${markerPath}\" \n            fill=\"${showGradient ? `url(#gradient-${size})` : baseColor}\" \n            ${showShadow ? `filter=\"url(#shadow-${size})\"` : ''}\n            ${showGlow ? `filter=\"url(#glow-${size})\"` : ''}/>\n      \n      <!-- Círculo interno branco (bolinha) -->\n      <circle cx=\"${center}\" cy=\"${9 * scale}\" r=\"${circleRadius}\" fill=\"white\" opacity=\"0.9\"/>\n      \n      <!-- Brilho sutil no círculo -->\n      <circle cx=\"${center - 2 * scale}\" cy=\"${7 * scale}\" r=\"${circleRadius * 0.6}\" fill=\"white\" opacity=\"0.4\"/>\n      \n      <!-- Indicador de par próximo (se aplicável) -->\n      ${isNearbyPair ? `\n      <circle cx=\"${size - 4 * scale}\" cy=\"${4 * scale}\" r=\"${3 * scale}\" fill=\"#FF6B6B\" opacity=\"0.8\"/>\n      <text x=\"${size - 4 * scale}\" y=\"${6 * scale}\" text-anchor=\"middle\" font-size=\"${8 * scale}\" fill=\"white\" font-weight=\"bold\">P</text>\n      ` : ''}\n    </svg>\n  `;\n};\n\nconst OpenLayersMap = ({ \n  dataPoints = [], \n  onPainelOpen,\n  center = [-48.4129, -22.3794], // Coordenadas especificadas: longitude, latitude\n  zoom = 7.63, // Zoom especificado\n  className = \"h-screen w-full\",\n  // Props para camadas GeoJSON\n  terrasIndigenasData = null,\n  estadoSPData = null,\n  showTerrasIndigenas = true,\n  showEstadoSP = true,\n  // Props para marcadores\n  showMarcadores = true,\n  showNomesEscolas = false,\n  showConectores = true\n}) => {\n  const mapContainer = useRef(null);\n  const map = useRef(null);\n  const vectorSource = useRef(null);\n  const clusterSource = useRef(null);\n  const vectorLayer = useRef(null);\n  const baseLayer = useRef(null);\n  const [mapInfo, setMapInfo] = useState({\n    lng: center[0],\n    lat: center[1],\n    zoom: zoom\n  });\n\n  // Referências para as camadas GeoJSON\n  const terrasIndigenasLayerRef = useRef(null);\n  const estadoSPLayerRef = useRef(null);\n  \n  // Referência para camada de conectores\n  const connectorsLayerRef = useRef(null);\n\n  // Mobile interaction manager\n  const mobileInteraction = useRef(new MobileInteractionManager());\n  const [tooltipElement, setTooltipElement] = useState(null);\n\n  // Criar camadas base\n  const createBaseLayers = useCallback(() => {\n    const satelliteLayer = new TileLayer({\n      source: new XYZ({\n        url: 'https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',\n        attributions: '© <a href=\"https://www.esri.com/\">Esri</a>',\n        maxZoom: 19,\n        wrapX: false,\n        tilePixelRatio: 1,\n        tileSize: 256\n      }),\n      preload: 1,\n      useInterimTilesOnError: false\n    });\n\n    return { satelliteLayer };\n  }, []);\n\n  // Função para criar estilo dos marcadores individuais\n  const createMarkerStyle = useCallback((feature) => {\n    const schoolData = feature.get('schoolData');\n    if (!schoolData) return null;\n\n    const baseColor = '#3B82F6'; // Azul para satélite, violeta para rua\n    const borderColor = '#1E40AF';\n\n    // Verificar se é parte de um par próximo\n    const isNearbyPair = feature.get('isNearbyPair');\n    const pairIndex = feature.get('pairIndex');\n\n    // Usar a função createMarkerSVG para criar o marcador\n    const svg = createMarkerSVG(baseColor, 32, {\n      borderColor: borderColor,\n      showShadow: true,\n      showGradient: true,\n      showGlow: false,\n      isNearbyPair: isNearbyPair\n    });\n\n    // Criar URL de dados para o SVG\n    const svgUrl = 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(svg);\n\n    // Criar estilo base com ícone\n    const style = new Style({\n      image: new Icon({\n        src: svgUrl,\n        scale: isNearbyPair ? 1.3 : 1.2, // Marcadores de pares próximos são ligeiramente maiores\n        anchor: [0.5, 1],\n        anchorXUnits: 'fraction',\n        anchorYUnits: 'fraction'\n      })\n    });\n\n    // Adicionar texto apenas se showNomesEscolas for true\n    if (showNomesEscolas) {\n      style.setText(new Text({\n        text: schoolData.titulo || 'Escola',\n        font: 'bold 11px Arial',\n        fill: new Fill({\n          color: '#FFFFFF'\n        }),\n        stroke: new Stroke({\n          color: '#000000',\n          width: 2\n        }),\n        offsetY: isNearbyPair ? -50 : -40, // Ajustar posição para marcadores maiores\n        textAlign: 'center',\n        textBaseline: 'middle'\n      }));\n    }\n\n    return style;\n  }, [showNomesEscolas]);\n\n  // Função para criar estilo dos clusters\n  const createClusterStyle = useCallback((feature) => {\n    const features = feature.get('features');\n    const size = features.length;\n\n    // Se for apenas um marcador, retorna estilo individual\n    if (size === 1) {\n      return createMarkerStyle(features[0]);\n    }\n\n    // Determinar cor e tamanho base baseado na quantidade de escolas\n    let baseColor = '#3B82F6';\n    let baseSize = 48; // Tamanho base para clusters\n    \n    if (size > 100) {\n      baseColor = '#1E40AF';\n      baseSize = 64;\n    } else if (size > 50) {\n      baseColor = '#2563EB';\n      baseSize = 56;\n    } else if (size > 20) {\n      baseColor = '#3B82F6';\n      baseSize = 52;\n    } else if (size > 10) {\n      baseColor = '#60A5FA';\n      baseSize = 50;\n    }\n\n    // Calcular escala proporcional (mínimo 1.2x, máximo 2.5x)\n    const scale = Math.min(1.2 + (size * 0.02), 2.5);\n    const finalSize = Math.round(baseSize * scale);\n\n    // Usar a função createMarkerSVG para criar o cluster\n    const svg = createMarkerSVG(baseColor, finalSize, {\n      borderColor: baseColor,\n      showShadow: true,\n      showGradient: true,\n      showGlow: size > 20, // Adicionar brilho para clusters grandes\n      isNearbyPair: false // Clusters não têm indicador de par próximo\n    });\n\n    // Criar URL de dados para o SVG\n    const svgUrl = 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(svg);\n\n    // Determinar tamanho da fonte baseado no tamanho do cluster\n    let fontSize = '14px';\n    let fontWeight = 'bold';\n    \n    if (size > 100) {\n      fontSize = '18px';\n    } else if (size > 50) {\n      fontSize = '16px';\n    } else if (size > 20) {\n      fontSize = '15px';\n    }\n\n    return new Style({\n      image: new Icon({\n        src: svgUrl,\n        scale: 1,\n        anchor: [0.5, 0.5],\n        anchorXUnits: 'fraction',\n        anchorYUnits: 'fraction'\n      }),\n      text: new Text({\n        text: size.toString(),\n        font: `${fontWeight} ${fontSize} Arial`,\n        fill: new Fill({\n          color: '#FFFFFF'\n        }),\n        stroke: new Stroke({\n          color: '#000000',\n          width: 2\n        }),\n        offsetY: finalSize * 0.6 // Posicionar texto abaixo do marcador\n      })\n    });\n  }, [createMarkerStyle]);\n\n  // Função para criar tooltip HTML\n  const createTooltipHTML = useCallback((schoolData) => {\n    return schoolData.titulo || 'Escola Indígena';\n  }, []);\n\n  // Função para mostrar tooltip temporário em mobile\n  const showMobileTooltip = useCallback((event, content) => {\n    if (!isMobile()) return;\n\n    // Remove tooltip anterior\n    if (tooltipElement) {\n      tooltipElement.remove();\n      setTooltipElement(null);\n    }\n\n    const element = document.createElement('div');\n    element.className = 'mobile-tooltip';\n    element.textContent = content;\n    element.style.position = 'absolute';\n    element.style.backgroundColor = 'rgba(0, 0, 0, 0.9)';\n    element.style.color = 'white';\n    element.style.padding = '8px 12px';\n    element.style.borderRadius = '6px';\n    element.style.fontSize = '14px';\n    element.style.fontFamily = 'Arial, sans-serif';\n    element.style.fontWeight = '500';\n    element.style.maxWidth = '250px';\n    element.style.whiteSpace = 'nowrap';\n    element.style.overflow = 'hidden';\n    element.style.textOverflow = 'ellipsis';\n    element.style.zIndex = '1000';\n    element.style.pointerEvents = 'none';\n    element.style.boxShadow = '0 2px 8px rgba(0, 0, 0, 0.3)';\n    element.style.border = '1px solid rgba(255, 255, 255, 0.2)';\n    \n    const coordinate = event.coordinate;\n    const pixel = map.current.getPixelFromCoordinate(coordinate);\n    element.style.left = (pixel[0] + 10) + 'px';\n    element.style.top = (pixel[1] - 10) + 'px';\n    \n    mapContainer.current.appendChild(element);\n    setTooltipElement(element);\n\n    // Auto-remove after 2 seconds\n    setTimeout(() => {\n      if (element.parentNode) {\n        element.remove();\n        setTooltipElement(null);\n      }\n    }, 2000);\n  }, [tooltipElement]);\n\n  // Inicializar mapa\n  useEffect(() => {\n    if (map.current) return;\n\n    // Criar fonte vetorial para marcadores\n    vectorSource.current = new VectorSource();\n    \n    // Criar fonte de cluster\n    clusterSource.current = new ClusterSource({\n      distance: showNomesEscolas ? 15 : 5, // Distância maior quando nomes estão ativados\n      source: vectorSource.current,\n      // Função customizada para determinar se deve fazer cluster\n      geometryFunction: (feature) => {\n        const geometry = feature.getGeometry();\n        if (geometry.getType() === 'Point') {\n          return geometry;\n        }\n        return null;\n      }\n    });\n    \n    // Criar camada vetorial para marcadores com clustering\n    vectorLayer.current = new VectorLayer({\n      source: clusterSource.current,\n      style: createClusterStyle,\n      zIndex: 15\n    });\n\n    // Criar camada para conectores entre marcadores próximos\n    connectorsLayerRef.current = new VectorLayer({\n      source: new VectorSource(),\n      style: new Style({\n        stroke: new Stroke({\n          color: '#A0522D',\n          width: 1.2,\n          lineDash: [3, 3]\n        })\n      }),\n      zIndex: 14\n    });\n\n    // Criar camadas base\n    const { satelliteLayer } = createBaseLayers();\n    baseLayer.current = satelliteLayer;\n\n    // Criar mapa com configurações padrão\n    map.current = new Map({\n      target: mapContainer.current,\n      layers: [\n        baseLayer.current,\n        connectorsLayerRef.current,\n        vectorLayer.current\n      ],\n      view: new View({\n        center: fromLonLat(center),\n        zoom: zoom,\n        maxZoom: 18,\n        minZoom: 4\n      }),\n      controls: defaultControls(),\n      interactions: defaultInteractions()\n    });\n\n    // Event listeners\n    map.current.on('moveend', () => {\n      const view = map.current.getView();\n      const center = toLonLat(view.getCenter());\n      const newView = {\n        lng: center[0].toFixed(4),\n        lat: center[1].toFixed(4),\n        zoom: view.getZoom().toFixed(2)\n      };\n      \n      setMapInfo(newView);\n    });\n\n    // Event listener para mudanças de zoom - atualizar clusterização\n    map.current.on('moveend', () => {\n      // Atualizar estilos dos clusters quando o zoom mudar\n      if (vectorLayer.current) {\n        vectorLayer.current.changed();\n      }\n    });\n\n    // Event listener para cliques nos marcadores e clusters\n    map.current.on('click', (event) => {\n      const feature = map.current.forEachFeatureAtPixel(event.pixel, (feature) => feature);\n      if (feature) {\n        // Verificar se é um cluster\n        if (feature.get('features')) {\n          const features = feature.get('features');\n          if (features.length === 1) {\n            // Cluster com apenas um marcador\n            const schoolData = features[0].get('schoolData');\n            if (schoolData) {\n              mobileInteraction.current.handleClick(\n                feature,\n                // First click - show name\n                () => showMobileTooltip(event, schoolData.titulo || 'Escola Indígena'),\n                // Second click - open panel\n                () => onPainelOpen?.(schoolData)\n              );\n            }\n          } else {\n            // Cluster com múltiplos marcadores, fazer zoom inteligente\n            console.log(`OpenLayersMap: Cluster clicado com ${features.length} escolas`);\n            \n            // Calcular a extensão específica do cluster clicado\n            const clusterExtent = feature.getGeometry().getExtent();\n            \n            // Obter o zoom atual\n            const currentZoom = map.current.getView().getZoom();\n            \n            // Calcular zoom ideal baseado na quantidade de escolas no cluster\n            let targetZoom = 12; // Zoom padrão para clusters\n            if (features.length > 20) {\n              targetZoom = 10; // Zoom menor para clusters muito grandes\n            } else if (features.length > 10) {\n              targetZoom = 11; // Zoom médio para clusters grandes\n            } else if (features.length > 5) {\n              targetZoom = 12; // Zoom padrão para clusters médios\n            } else {\n              targetZoom = 13; // Zoom maior para clusters pequenos\n            }\n            \n            // Garantir que o zoom não seja menor que o atual (evitar zoom out)\n            targetZoom = Math.max(targetZoom, currentZoom + 1);\n            \n            console.log(`OpenLayersMap: Fazendo zoom de ${currentZoom} para ${targetZoom}`);\n            \n            // Fazer zoom suave para a extensão do cluster\n            map.current.getView().fit(clusterExtent, {\n              duration: 800, // Animação mais suave\n              padding: [80, 80, 80, 80], // Padding maior para melhor visualização\n              maxZoom: targetZoom, // Limitar o zoom máximo\n              callback: () => {\n                console.log(`OpenLayersMap: Zoom concluído para cluster com ${features.length} escolas`);\n              }\n            });\n          }\n        } else {\n          // Marcador individual\n          const schoolData = feature.get('schoolData');\n          if (schoolData) {\n            mobileInteraction.current.handleClick(\n              feature,\n              // First click - show name\n              () => showMobileTooltip(event, schoolData.titulo || 'Escola Indígena'),\n              // Second click - open panel\n              () => onPainelOpen?.(schoolData)\n            );\n          }\n        }\n      }\n    });\n\n    // Event listener para hover nos marcadores (desktop only)\n    map.current.on('pointermove', (event) => {\n      if (isMobile()) return; // Skip hover on mobile\n\n      if (tooltipElement) {\n        tooltipElement.remove();\n        setTooltipElement(null);\n      }\n\n      const feature = map.current.forEachFeatureAtPixel(event.pixel, (feature) => feature);\n      \n      if (feature) {\n        // Verificar se é um cluster\n        if (feature.get('features')) {\n          const features = feature.get('features');\n          if (features.length === 1) {\n            // Cluster com apenas um marcador, mostrar tooltip\n            const schoolData = features[0].get('schoolData');\n            if (schoolData) {\n              const element = createTooltipElement(event, schoolData);\n              setTooltipElement(element);\n            }\n          } else {\n            // Cluster com múltiplos marcadores, mostrar tooltip do cluster\n            const element = createClusterTooltipElement(event, features.length);\n            setTooltipElement(element);\n          }\n        } else {\n          // Marcador individual\n          const schoolData = feature.get('schoolData');\n          if (schoolData) {\n            const element = createTooltipElement(event, schoolData);\n            setTooltipElement(element);\n          }\n        }\n      }\n    });\n\n    // Função para criar tooltip de marcador individual\n    const createTooltipElement = (event, schoolData) => {\n      const element = document.createElement('div');\n      element.className = 'ol-tooltip';\n      element.textContent = createTooltipHTML(schoolData);\n      element.style.position = 'absolute';\n      element.style.backgroundColor = 'rgba(0, 0, 0, 0.8)';\n      element.style.color = 'white';\n      element.style.padding = '6px 10px';\n      element.style.borderRadius = '4px';\n      element.style.fontSize = '13px';\n      element.style.fontFamily = 'Arial, sans-serif';\n      element.style.fontWeight = 'normal';\n      element.style.maxWidth = '200px';\n      element.style.whiteSpace = 'nowrap';\n      element.style.overflow = 'hidden';\n      element.style.textOverflow = 'ellipsis';\n      element.style.zIndex = '1000';\n      element.style.pointerEvents = 'none';\n      element.style.boxShadow = '0 1px 3px rgba(0, 0, 0, 0.2)';\n      \n      const coordinate = event.coordinate;\n      const pixel = map.current.getPixelFromCoordinate(coordinate);\n      element.style.left = (pixel[0] + 10) + 'px';\n      element.style.top = (pixel[1] - 10) + 'px';\n      \n      mapContainer.current.appendChild(element);\n      return element;\n    };\n\n    // Função para criar tooltip de cluster\n    const createClusterTooltipElement = (event, count) => {\n      const element = document.createElement('div');\n      element.className = 'ol-tooltip';\n      element.textContent = `${count} escolas indígenas`;\n      element.style.position = 'absolute';\n      element.style.backgroundColor = 'rgba(0, 0, 0, 0.8)';\n      element.style.color = 'white';\n      element.style.padding = '6px 10px';\n      element.style.borderRadius = '4px';\n      element.style.fontSize = '13px';\n      element.style.fontFamily = 'Arial, sans-serif';\n      element.style.fontWeight = 'normal';\n      element.style.maxWidth = '200px';\n      element.style.whiteSpace = 'nowrap';\n      element.style.overflow = 'hidden';\n      element.style.textOverflow = 'ellipsis';\n      element.style.zIndex = '1000';\n      element.style.pointerEvents = 'none';\n      element.style.boxShadow = '0 1px 3px rgba(0, 0, 0, 0.2)';\n      \n      const coordinate = event.coordinate;\n      const pixel = map.current.getPixelFromCoordinate(coordinate);\n      element.style.left = (pixel[0] + 10) + 'px';\n      element.style.top = (pixel[1] - 10) + 'px';\n      \n      mapContainer.current.appendChild(element);\n      return element;\n    };\n\n    // Cleanup\n    return () => {\n      if (map.current) {\n        map.current.setTarget(undefined);\n        map.current = null;\n      }\n      if (tooltipElement) {\n        tooltipElement.remove();\n        setTooltipElement(null);\n      }\n      mobileInteraction.current.reset();\n    };\n  }, [createBaseLayers, createClusterStyle, createTooltipHTML, showMobileTooltip, onPainelOpen]);\n\n  // Atualizar marcadores quando dataPoints mudar\n  useEffect(() => {\n    if (!vectorSource.current || !dataPoints || !showMarcadores) return;\n\n    // Limpar marcadores existentes\n    vectorSource.current.clear();\n    \n    // Limpar conectores existentes\n    if (connectorsLayerRef.current) {\n      connectorsLayerRef.current.getSource().clear();\n    }\n\n    // Filtrar pontos válidos\n    const pontosValidos = dataPoints.filter(point => {\n      if (!point.latitude || !point.longitude) return false;\n      const lat = parseFloat(point.latitude);\n      const lng = parseFloat(point.longitude);\n      return !isNaN(lat) && !isNaN(lng) && \n             lat >= -90 && lat <= 90 && \n             lng >= -180 && lng <= 180;\n    });\n\n    // Encontrar pares de marcadores próximos (lógica do Leaflet)\n    const nearbyPairs = findNearbyPairs(pontosValidos);\n    const usedIndices = new Set(nearbyPairs.flat());\n\n    console.log(`OpenLayersMap: Processando ${pontosValidos.length} marcadores válidos`);\n    console.log(`OpenLayersMap: Encontrados ${nearbyPairs.length} pares próximos`);\n\n    // Adicionar novos marcadores\n    pontosValidos.forEach((point, index) => {\n      if (point.latitude && point.longitude) {\n        const feature = new Feature({\n          geometry: new Point(fromLonLat([point.longitude, point.latitude]))\n        });\n        feature.set('schoolData', point);\n        \n        // Marcar se este marcador faz parte de um par próximo\n        const pairIndex = nearbyPairs.findIndex(pair => pair.includes(index));\n        if (pairIndex !== -1) {\n          feature.set('isNearbyPair', true);\n          feature.set('pairIndex', pairIndex);\n        }\n        \n        vectorSource.current.addFeature(feature);\n      }\n    });\n\n    // Criar conectores para pares próximos\n    if (showConectores) {\n      nearbyPairs.forEach((pair, pairIndex) => {\n        const [firstIndex, secondIndex] = pair;\n        const firstPoint = pontosValidos[firstIndex];\n        const secondPoint = pontosValidos[secondIndex];\n        \n        if (firstPoint && secondPoint) {\n          const connectorFeature = new Feature({\n            geometry: new LineString([\n              fromLonLat([firstPoint.longitude, firstPoint.latitude]),\n              fromLonLat([secondPoint.longitude, secondPoint.latitude])\n            ])\n          });\n          \n          connectorsLayerRef.current.getSource().addFeature(connectorFeature);\n        }\n      });\n    }\n\n    console.log(`OpenLayersMap: Adicionados ${pontosValidos.length} marcadores com clustering inteligente`);\n    console.log(`OpenLayersMap: Criados ${nearbyPairs.length} conectores`);\n  }, [dataPoints, showMarcadores, showConectores]);\n\n  // Atualizar estilo dos marcadores quando o tipo de mapa mudar\n  useEffect(() => {\n    if (vectorLayer.current) {\n      vectorLayer.current.setStyle(createClusterStyle);\n    }\n  }, [createClusterStyle]);\n\n  // Atualizar estilo dos marcadores quando showNomesEscolas mudar\n  useEffect(() => {\n    if (vectorLayer.current) {\n      console.log('OpenLayersMap: Atualizando estilo dos marcadores - showNomesEscolas:', showNomesEscolas);\n      vectorLayer.current.setStyle(createClusterStyle);\n      vectorLayer.current.changed(); // Força a atualização da renderização\n    }\n  }, [showNomesEscolas, createClusterStyle]);\n\n  // Recriar ClusterSource quando showNomesEscolas mudar\n  useEffect(() => {\n    if (!map.current || !vectorSource.current) return;\n\n    console.log('OpenLayersMap: Recriando ClusterSource - showNomesEscolas:', showNomesEscolas);\n    \n    // Remover camada antiga\n    if (vectorLayer.current) {\n      map.current.removeLayer(vectorLayer.current);\n    }\n\n    // Criar novo ClusterSource com distância apropriada\n    clusterSource.current = new ClusterSource({\n      distance: showNomesEscolas ? 15 : 10,\n      source: vectorSource.current,\n      geometryFunction: (feature) => {\n        const geometry = feature.getGeometry();\n        if (geometry.getType() === 'Point') {\n          return geometry;\n        }\n        return null;\n      }\n    });\n\n    // Criar nova camada\n    vectorLayer.current = new VectorLayer({\n      source: clusterSource.current,\n      style: createClusterStyle,\n      zIndex: 15\n    });\n\n    // Adicionar nova camada ao mapa\n    map.current.addLayer(vectorLayer.current);\n\n  }, [showNomesEscolas, createClusterStyle]);\n\n  // Controlar visibilidade da camada de conectores\n  useEffect(() => {\n    if (connectorsLayerRef.current) {\n      connectorsLayerRef.current.setVisible(showConectores && showMarcadores);\n    }\n  }, [showConectores, showMarcadores]);\n\n  // Gerenciar camadas GeoJSON\n  useEffect(() => {\n    if (!map.current) return;\n\n    console.log('OpenLayersMap: Gerenciando camadas GeoJSON:', {\n      showTerrasIndigenas,\n      showEstadoSP,\n      terrasIndigenasData: !!terrasIndigenasData,\n      estadoSPData: !!estadoSPData,\n      terrasFeatures: terrasIndigenasData?.features?.length || 0,\n      estadoFeatures: estadoSPData?.features?.length || 0,\n      mapLayers: map.current.getLayers().getLength()\n    });\n\n    // Remover camadas existentes primeiro\n    if (terrasIndigenasLayerRef.current) {\n      map.current.removeLayer(terrasIndigenasLayerRef.current);\n      terrasIndigenasLayerRef.current = null;\n    }\n    if (estadoSPLayerRef.current) {\n      map.current.removeLayer(estadoSPLayerRef.current);\n      estadoSPLayerRef.current = null;\n    }\n\n    // Adicionar camada Terras Indígenas\n    if (showTerrasIndigenas && terrasIndigenasData) {\n      console.log('OpenLayersMap: Adicionando camada Terras Indígenas');\n      console.log('OpenLayersMap: Dados Terras Indígenas:', {\n        type: terrasIndigenasData.type,\n        features: terrasIndigenasData.features?.length || 0,\n        crs: terrasIndigenasData.crs,\n        firstFeature: terrasIndigenasData.features?.[0] ? {\n          type: terrasIndigenasData.features[0].type,\n          properties: terrasIndigenasData.features[0].properties ? Object.keys(terrasIndigenasData.features[0].properties) : 'Sem propriedades',\n          geometry: terrasIndigenasData.features[0].geometry ? {\n            type: terrasIndigenasData.features[0].geometry.type,\n            coordinates: terrasIndigenasData.features[0].geometry.coordinates ? \n              `${terrasIndigenasData.features[0].geometry.coordinates.length} arrays` : 'Sem coordenadas'\n          } : 'Sem geometria'\n        } : 'Nenhum feature'\n      });\n\n      // Verificar se os dados têm a estrutura correta\n      if (!terrasIndigenasData.features || terrasIndigenasData.features.length === 0) {\n        console.error('OpenLayersMap: Dados Terras Indígenas não têm features válidas');\n        return;\n      }\n\n      // Teste: verificar se as coordenadas estão no formato correto\n      const firstFeature = terrasIndigenasData.features[0];\n      if (firstFeature.geometry && firstFeature.geometry.coordinates) {\n        const coords = firstFeature.geometry.coordinates[0][0]; // Primeira coordenada\n        console.log('OpenLayersMap: Primeira coordenada das Terras Indígenas:', coords);\n        console.log('OpenLayersMap: Tipo das coordenadas:', typeof coords[0], typeof coords[1]);\n      }\n\n      try {\n        const geoJSONFormat = new GeoJSON({\n          dataProjection: 'EPSG:4326',\n          featureProjection: 'EPSG:3857'\n        });\n        const features = geoJSONFormat.readFeatures(terrasIndigenasData);\n        console.log('OpenLayersMap: Features lidas do GeoJSON:', features.length);\n        \n        if (features.length > 0) {\n          const firstFeature = features[0];\n          const geometry = firstFeature.getGeometry();\n          console.log('OpenLayersMap: Primeira feature processada:', {\n            geometry: geometry ? geometry.getType() : 'Sem geometria',\n            extent: geometry ? geometry.getExtent() : 'Sem extent',\n            properties: firstFeature.getProperties()\n          });\n        }\n\n        const terrasIndigenasLayer = new VectorLayer({\n          source: new VectorSource({\n            features: features\n          }),\n          style: (feature) => {\n            const properties = feature.getProperties();\n            const isRegularizada = properties.fase_ti === 'Regularizada';\n            \n            return new Style({\n              fill: new Fill({\n                color: isRegularizada ? 'rgba(220, 20, 60, 0.3)' : 'rgba(139, 0, 0, 0.25)'\n              }),\n              stroke: new Stroke({\n                color: '#B22222',\n                width: 2,\n                lineDash: [3, 3]\n              })\n            });\n          },\n          zIndex: 10\n        });\n\n        // Adicionar interatividade\n        terrasIndigenasLayer.getSource().getFeatures().forEach(feature => {\n          const properties = feature.getProperties();\n          feature.set('terraIndigenaInfo', {\n            titulo: properties.terrai_nom,\n            tipo: 'terra_indigena',\n            etnia: properties.etnia_nome,\n            municipio: properties.municipio_,\n            uf: properties.uf_sigla,\n            superficie: properties.superficie,\n            fase: properties.fase_ti,\n            modalidade: properties.modalidade,\n            reestudo: properties.reestudo_t,\n            cr: properties.cr,\n            faixa_fron: properties.faixa_fron,\n            undadm_nom: properties.undadm_nom,\n            undadm_sig: properties.undadm_sig,\n            dominio_un: properties.dominio_un,\n            data_atual: properties.data_atual,\n            terrai_cod: properties.terrai_cod,\n            undadm_cod: properties.undadm_cod\n          });\n        });\n\n        map.current.addLayer(terrasIndigenasLayer);\n        terrasIndigenasLayerRef.current = terrasIndigenasLayer;\n        console.log('OpenLayersMap: Camada Terras Indígenas adicionada com sucesso. Total de camadas:', map.current.getLayers().getLength());\n      } catch (error) {\n        console.error('OpenLayersMap: Erro ao processar Terras Indígenas:', error);\n      }\n    }\n\n    // Adicionar camada Estado SP\n    if (showEstadoSP && estadoSPData) {\n      console.log('OpenLayersMap: Adicionando camada Estado SP');\n      console.log('OpenLayersMap: Dados Estado SP:', {\n        type: estadoSPData.type,\n        features: estadoSPData.features?.length || 0,\n        crs: estadoSPData.crs,\n        firstFeature: estadoSPData.features?.[0] ? {\n          type: estadoSPData.features[0].type,\n          properties: estadoSPData.features[0].properties ? Object.keys(estadoSPData.features[0].properties) : 'Sem propriedades',\n          geometry: estadoSPData.features[0].geometry ? {\n            type: estadoSPData.features[0].geometry.type,\n            coordinates: estadoSPData.features[0].geometry.coordinates ? \n              `${estadoSPData.features[0].geometry.coordinates.length} arrays` : 'Sem coordenadas'\n          } : 'Sem geometria'\n        } : 'Nenhum feature'\n      });\n\n      // Verificar se os dados têm a estrutura correta\n      if (!estadoSPData.features || estadoSPData.features.length === 0) {\n        console.error('OpenLayersMap: Dados Estado SP não têm features válidas');\n        return;\n      }\n\n      // Teste: verificar se as coordenadas estão no formato correto\n      const firstFeature = estadoSPData.features[0];\n      if (firstFeature.geometry && firstFeature.geometry.coordinates) {\n        const coords = firstFeature.geometry.coordinates[0][0]; // Primeira coordenada\n        console.log('OpenLayersMap: Primeira coordenada do Estado SP:', coords);\n        console.log('OpenLayersMap: Tipo das coordenadas Estado SP:', typeof coords[0], typeof coords[1]);\n      }\n\n      try {\n        const geoJSONFormat = new GeoJSON({\n          dataProjection: 'EPSG:4326',\n          featureProjection: 'EPSG:3857'\n        });\n        const features = geoJSONFormat.readFeatures(estadoSPData);\n        console.log('OpenLayersMap: Features Estado SP lidas do GeoJSON:', features.length);\n        \n        if (features.length > 0) {\n          const firstFeature = features[0];\n          const geometry = firstFeature.getGeometry();\n          console.log('OpenLayersMap: Primeira feature Estado SP processada:', {\n            geometry: geometry ? geometry.getType() : 'Sem geometria',\n            extent: geometry ? geometry.getExtent() : 'Sem extent',\n            properties: firstFeature.getProperties()\n          });\n        }\n\n        const estadoSPLayer = new VectorLayer({\n          source: new VectorSource({\n            features: features\n          }),\n          style: new Style({\n            fill: new Fill({\n              color: 'rgba(0, 0, 0, 0.3)'\n            }),\n            stroke: new Stroke({\n              color: '#000000',\n              width: 2\n            })\n          }),\n          zIndex: 5,\n          interactive: false\n        });\n\n        map.current.addLayer(estadoSPLayer);\n        estadoSPLayerRef.current = estadoSPLayer;\n        console.log('OpenLayersMap: Camada Estado SP adicionada com sucesso. Total de camadas:', map.current.getLayers().getLength());\n      } catch (error) {\n        console.error('OpenLayersMap: Erro ao processar Estado SP:', error);\n      }\n    }\n\n    console.log('OpenLayersMap: Finalização - Total de camadas no mapa:', map.current.getLayers().getLength());\n  }, [showTerrasIndigenas, showEstadoSP, terrasIndigenasData, estadoSPData]);\n\n  // Adicionar event listeners para camadas GeoJSON\n  useEffect(() => {\n    if (!map.current) return;\n\n    const handleClick = (event) => {\n      const feature = map.current.forEachFeatureAtPixel(event.pixel, (feature) => feature);\n      if (feature) {\n        const terraIndigenaInfo = feature.get('terraIndigenaInfo');\n        if (terraIndigenaInfo && onPainelOpen) {\n          onPainelOpen(terraIndigenaInfo);\n        }\n      }\n    };\n\n    map.current.on('click', handleClick);\n\n    return () => {\n      if (map.current) {\n        map.current.un('click', handleClick);\n      }\n    };\n  }, [onPainelOpen]);\n\n  return (\n    <div className={className} ref={mapContainer}>\n      {/* Informações do mapa */}\n      <div className=\"absolute bottom-4 left-4 z-10 bg-white bg-opacity-95 rounded-lg shadow-lg p-3\">\n        <div className=\"text-xs text-gray-600\">\n          Lat: {mapInfo.lat} | Lng: {mapInfo.lng}\n        </div>\n        <div className=\"text-xs text-gray-600\">\n          Zoom: {mapInfo.zoom}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default OpenLayersMap; ","import { useState, useEffect } from 'react';\n\n// Um objeto simples para armazenar os dados GeoJSON em memória.\nconst cache = {};\n\nexport const useGeoJSONCache = (key) => {\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (!key) return;\n\n    const fetchGeoJSON = async () => {\n      if (cache[key]) {\n         console.log(`useGeoJSONCache: Dados de ${key} encontrados no cache`);\n         setData(cache[key]);\n         return;\n      }\n      setLoading(true);\n      try {\n         const url = `${process.env.PUBLIC_URL}/${key}.geojson`;\n         console.log(`useGeoJSONCache: Carregando ${key} de:`, url);\n         const response = await fetch(url);\n         if (!response.ok) throw new Error(`Erro ao buscar GeoJSON (${response.status})`);\n         const geoJSON = await response.json();\n         console.log(`useGeoJSONCache: ${key} carregado com sucesso:`, {\n           type: geoJSON.type,\n           features: geoJSON.features?.length || 0,\n           crs: geoJSON.crs,\n           firstFeature: geoJSON.features?.[0] ? {\n             type: geoJSON.features[0].type,\n             properties: geoJSON.features[0].properties ? Object.keys(geoJSON.features[0].properties) : 'Sem propriedades',\n             geometry: geoJSON.features[0].geometry ? {\n               type: geoJSON.features[0].geometry.type,\n               coordinates: geoJSON.features[0].geometry.coordinates ? \n                 `${geoJSON.features[0].geometry.coordinates.length} arrays` : 'Sem coordenadas'\n             } : 'Sem geometria'\n           } : 'Nenhum feature'\n         });\n         cache[key] = geoJSON;\n         setData(geoJSON);\n      } catch (err) {\n         console.error(`useGeoJSONCache: Erro ao carregar ${key}:`, err);\n         setError(err);\n      } finally {\n         setLoading(false);\n      }\n    };\n\n    fetchGeoJSON();\n  }, [key]);\n\n  return { data, loading, error };\n}; ","import React, { useState, useEffect, useCallback } from 'react';\nimport OpenLayersMap from './OpenLayersMap';\nimport { useGeoJSONCache } from '../hooks/useGeoJSONCache';\nimport { MAP_CONFIG } from '../utils/mapConfig';\n\nconst MOBILE_CENTER = [-48.4222, -22.8337];\nconst MOBILE_ZOOM = 5.86;\n\nconst MapSelector = ({ \n  dataPoints, \n  onPainelOpen, \n  className = \"h-screen w-full\"\n}) => {\n  // Carregar dados GeoJSON\n  const { data: terrasIndigenasData, loading: terrasLoading, error: terrasError } = useGeoJSONCache('terras_indigenas');\n  const { data: estadoSPData, loading: estadoLoading, error: estadoError } = useGeoJSONCache('SP');\n\n  // Estados para controlar visibilidade das camadas\n  const [showTerrasIndigenas, setShowTerrasIndigenas] = useState(true);\n  const [showEstadoSP, setShowEstadoSP] = useState(true);\n\n  // Estado para controlar visibilidade dos marcadores\n  const [showMarcadores, setShowMarcadores] = useState(true);\n  \n  // Estado para controlar visibilidade dos conectores\n  const [showConectores, setShowConectores] = useState(true);\n\n  // Estados para responsividade\n  const [isMobile, setIsMobile] = useState(false);\n  const [isMinimized, setIsMinimized] = useState(false);\n\n  // Função para verificar se é mobile\n  const checkMobile = useCallback(() => {\n    setIsMobile(window.innerWidth <= 768);\n  }, []);\n\n  useEffect(() => {\n    // Verifica no carregamento inicial\n    checkMobile();\n    \n    // Adiciona listener de resize\n    window.addEventListener(\"resize\", checkMobile);\n    \n    return () => {\n      window.removeEventListener(\"resize\", checkMobile);\n    };\n  }, [checkMobile]);\n\n  // Handler para minimizar/expandir\n  const handleMinimize = useCallback(() => setIsMinimized(prev => !prev), []);\n\n  // Log de status das camadas\n  useEffect(() => {\n    console.log('MapSelector: Status das camadas GeoJSON:', {\n      terrasIndigenas: {\n        loading: terrasLoading,\n        error: terrasError,\n        hasData: !!terrasIndigenasData,\n        features: terrasIndigenasData?.features?.length || 0,\n        type: terrasIndigenasData?.type,\n        firstFeature: terrasIndigenasData?.features?.[0] ? {\n          type: terrasIndigenasData.features[0].type,\n          properties: terrasIndigenasData.features[0].properties ? Object.keys(terrasIndigenasData.features[0].properties) : 'Sem propriedades'\n        } : 'Nenhum feature'\n      },\n      estadoSP: {\n        loading: estadoLoading,\n        error: estadoError,\n        hasData: !!estadoSPData,\n        features: estadoSPData?.features?.length || 0,\n        type: estadoSPData?.type,\n        firstFeature: estadoSPData?.features?.[0] ? {\n          type: estadoSPData.features[0].type,\n          properties: estadoSPData.features[0].properties ? Object.keys(estadoSPData.features[0].properties) : 'Sem propriedades'\n        } : 'Nenhum feature'\n      }\n    });\n  }, [terrasIndigenasData, estadoSPData, terrasLoading, estadoLoading, terrasError, estadoError]);\n\n  // Componente para o cabeçalho do menu\n  const CabecalhoMenu = ({ onMinimize, isMobile, isMinimized }) => (\n    <div className=\"flex items-center justify-between px-3 py-2 border-b border-gray-100 bg-white\">\n      <h3 className=\"text-sm font-medium text-gray-800\">Camadas do Mapa</h3>\n      <div className=\"flex items-center gap-2\">\n        <button\n          onClick={onMinimize}\n          className=\"text-gray-500 hover:text-gray-700 transition-colors p-1\"\n          aria-label={isMinimized ? \"Expandir\" : \"Minimizar\"}\n          type=\"button\"\n        >\n          {isMinimized ? \"▾\" : \"▴\"}\n        </button>\n      </div>\n    </div>\n  );\n\n  // Componente para botão de camada\n  const BotaoCamada = ({ id, label, checked, onChange, disabled = false, loading = false, error = false, total, color, subItems = null }) => (\n    <button\n      type=\"button\"\n      onClick={onChange}\n      disabled={disabled}\n      className={`w-full flex items-center gap-2 px-3 py-2 rounded-md transition-colors ${\n        checked ? 'bg-gray-50' : 'hover:bg-gray-50'\n      } ${disabled ? 'opacity-50 cursor-not-allowed' : ''}`}\n    >\n      {subItems ? (\n        // Para Terras Indígenas com subcategorias\n        <div className=\"flex flex-col gap-1\">\n          {subItems.map((item, index) => (\n            <div key={index} className=\"flex items-center gap-1\">\n              <div \n                className=\"w-2 h-2 rounded-full\" \n                style={{ backgroundColor: item.color }}\n              />\n              <span className=\"text-xs text-gray-600\">{item.label}</span>\n            </div>\n          ))}\n        </div>\n      ) : (\n        // Para outras camadas\n        <div \n          className=\"w-2 h-2 rounded-full\" \n          style={{ backgroundColor: color }}\n        />\n      )}\n      \n      <span className=\"text-sm text-gray-800\">{label}</span>\n      \n      {total !== undefined && (\n        <span className=\"text-xs text-gray-500 ml-1\">({total})</span>\n      )}\n      \n      {loading && <span className=\"text-blue-500 ml-1\">(carregando...)</span>}\n      {error && <span className=\"text-red-500 ml-1\">(erro)</span>}\n      \n      {subItems ? (\n        // Indicador para Terras Indígenas\n        <div className=\"ml-auto w-2 h-2 rounded-full bg-gray-300\" />\n      ) : (\n        // Indicador para outras camadas\n        <div \n          className=\"ml-auto w-2 h-2 rounded-full\" \n          style={{ backgroundColor: color }}\n        />\n      )}\n    </button>\n  );\n\n  // Definir center/zoom iniciais conforme dispositivo\n  const mapCenter = isMobile ? MOBILE_CENTER : MAP_CONFIG.center;\n  const mapZoom = isMobile ? MOBILE_ZOOM : MAP_CONFIG.zoom;\n\n  return (\n    <div className={className} style={{ position: 'relative' }}>\n      {/* Controles de camadas responsivos */}\n      {isMobile ? (\n        // Menu mobile - fixo na parte inferior\n        <div className=\"fixed bottom-0 left-0 right-0 z-20\">\n          <div className=\"bg-white border-t border-gray-100 shadow-lg\">\n            <CabecalhoMenu\n              onMinimize={handleMinimize}\n              isMobile={true}\n              isMinimized={isMinimized}\n            />\n            {!isMinimized && (\n              <div className=\"p-2 flex flex-col gap-1 max-h-60 overflow-y-auto\">\n                <BotaoCamada\n                  id=\"estado-sp\"\n                  label=\"Estado de São Paulo\"\n                  checked={showEstadoSP}\n                  onChange={() => setShowEstadoSP(!showEstadoSP)}\n                  loading={estadoLoading}\n                  error={estadoError}\n                  color=\"#10B981\"\n                />\n                <BotaoCamada\n                  id=\"marcadores\"\n                  label=\"Escolas Indígenas\"\n                  checked={showMarcadores}\n                  onChange={() => setShowMarcadores(!showMarcadores)}\n                  total={dataPoints?.length}\n                  color=\"#3B82F6\"\n                />\n                <BotaoCamada\n                  id=\"terras-indigenas\"\n                  label=\"Terras Indígenas\"\n                  checked={showTerrasIndigenas}\n                  onChange={() => setShowTerrasIndigenas(!showTerrasIndigenas)}\n                  loading={terrasLoading}\n                  error={terrasError}\n                  subItems={[\n                    { label: \"Regularizadas\", color: \"#DC143C\" },\n                    { label: \"Declaradas\", color: \"#8B0000\" }\n                  ]}\n                />\n                <BotaoCamada\n                  id=\"conectores\"\n                  label=\"Mostrar Conectores\"\n                  checked={showConectores}\n                  onChange={() => setShowConectores(!showConectores)}\n                  disabled={!showMarcadores}\n                  color=\"#A0522D\"\n                />\n              </div>\n            )}\n          </div>\n        </div>\n      ) : (\n        // Menu desktop - fixo no topo direito\n        <div className=\"fixed top-24 right-4 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-20\">\n          <CabecalhoMenu\n            onMinimize={handleMinimize}\n            isMobile={false}\n            isMinimized={isMinimized}\n          />\n          {!isMinimized && (\n            <div className=\"p-2 flex flex-col gap-1 max-h-96 overflow-y-auto\">\n              <BotaoCamada\n                id=\"estado-sp\"\n                label=\"Estado de São Paulo\"\n                checked={showEstadoSP}\n                onChange={() => setShowEstadoSP(!showEstadoSP)}\n                loading={estadoLoading}\n                error={estadoError}\n                color=\"#10B981\"\n              />\n              <BotaoCamada\n                id=\"marcadores\"\n                label=\"Escolas Indígenas\"\n                checked={showMarcadores}\n                onChange={() => setShowMarcadores(!showMarcadores)}\n                total={dataPoints?.length}\n                color=\"#3B82F6\"\n              />\n              <BotaoCamada\n                id=\"terras-indigenas\"\n                label=\"Terras Indígenas\"\n                checked={showTerrasIndigenas}\n                onChange={() => setShowTerrasIndigenas(!showTerrasIndigenas)}\n                loading={terrasLoading}\n                error={terrasError}\n                subItems={[\n                  { label: \"Regularizadas\", color: \"#DC143C\" },\n                  { label: \"Declaradas\", color: \"#8B0000\" }\n                ]}\n              />\n              <BotaoCamada\n                id=\"conectores\"\n                label=\"Mostrar Conectores\"\n                checked={showConectores}\n                onChange={() => setShowConectores(!showConectores)}\n                disabled={!showMarcadores}\n                color=\"#A0522D\"\n              />\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Mapa OpenLayers unificado */}\n      <OpenLayersMap\n        dataPoints={showMarcadores ? dataPoints : []}\n        onPainelOpen={onPainelOpen}\n        className=\"h-full w-full\"\n        center={mapCenter}\n        zoom={mapZoom}\n        // Props para camadas GeoJSON\n        terrasIndigenasData={terrasIndigenasData}\n        estadoSPData={estadoSPData}\n        showTerrasIndigenas={showTerrasIndigenas}\n        showEstadoSP={showEstadoSP}\n        // Props para marcadores\n        showMarcadores={showMarcadores}\n        showConectores={showConectores}\n      />\n    </div>\n  );\n};\n\nexport default MapSelector; ","const detalhesIntro = {\n  titulo: \"Sobre o site\",\n  audioUrl: \"\",\n  descricao_detalhada: `Este é o OPIN (Observatório dos Professores Indígenas no Estado de São Paulo), que busca mapear as escolas indígenas no estado de São Paulo.\n`,\n  imagens: [\"\"]\n};\n\nexport default detalhesIntro;\n","/**\n * Componente MapaEscolasIndigenas - Exibe o mapa interativo com escolas indígenas e terras indígenas\n * \n * @param {Object} props - Propriedades do componente\n * @param {Array} props.dataPoints - Array de pontos de dados das escolas\n * @param {Function} props.onPainelOpen - Função para abrir o painel de informações\n * @returns {React.ReactElement} - Componente renderizado\n */\nimport React, { useState, useEffect, useMemo, useCallback } from \"react\";\nimport MapSelector from \"./MapSelector\";\nimport PainelInformacoes from \"./PainelInformacoes\";\nimport detalhesIntro from \"./detalhesInfo\";\nimport \"./MapaEscolasIndigenas.css\";\nimport { criarSlug } from '../utils/slug';\nimport { useRefresh } from '../contexts/RefreshContext';\n\nconst MapaEscolasIndigenas = ({ dataPoints, onPainelOpen }) => {\n  console.log(\"DataPoints recebidos no MapaEscolasIndigenas:\", dataPoints ? {\n    quantidade: dataPoints.length,\n    exemplo: dataPoints[0] ? {\n      titulo: dataPoints[0].titulo,\n      latitude: dataPoints[0].latitude,\n      longitude: dataPoints[0].longitude,\n      tipo: dataPoints[0].tipo\n    } : 'Nenhum ponto'\n  } : 'Nenhum dataPoint');\n\n  const { refreshKey } = useRefresh();\n\n  const urlParams = useMemo(() => new URLSearchParams(window.location.search), []);\n  const panel = urlParams.get('panel');\n  const initialPanel = useMemo(() => {\n    if (panel && panel !== '' && dataPoints && dataPoints.length > 0) {\n      const pointFound = dataPoints.find((item) => criarSlug(item.titulo) === panel);\n      return pointFound || detalhesIntro;\n    }\n    return detalhesIntro;\n  }, [panel, dataPoints]);\n\n  const [painelInfo, setPainelInfo] = useState(initialPanel);\n  \n  // Memoize escolasVisiveis para evitar recálculos desnecessários\n  const escolasVisiveis = useMemo(() => \n    dataPoints ? dataPoints.filter(point => point.pontuacao >= 0) : [],\n    [dataPoints]\n  );\n  \n  const totalEscolas = useMemo(() => escolasVisiveis.length, [escolasVisiveis]);\n\n  // Adicionar useEffect para monitorar mudanças no painelInfo\n  useEffect(() => {\n    console.group(\"MapaEscolasIndigenas - painelInfo state changed\");\n    console.log(\"Novo valor de painelInfo:\", {\n      titulo: painelInfo?.titulo,\n      tipo: painelInfo?.tipo,\n      hasLink: !!painelInfo?.link_para_documentos,\n      linkValue: painelInfo?.link_para_documentos,\n      isInitialPanel: painelInfo === initialPanel,\n      isNull: painelInfo === null,\n      isUndefined: painelInfo === undefined\n    });\n    console.groupEnd();\n  }, [painelInfo, initialPanel]);\n\n  // Otimizar a função de abrir painel\n  const abrirPainel = useCallback((info) => {\n    if (!info) return;\n    setPainelInfo(info);\n  }, []);\n\n  // Função para forçar refresh do painel\n  const refreshPainel = useCallback(() => {\n    console.log('Forçando refresh do painel de informações');\n    // O refresh será disparado pelo contexto\n  }, []);\n\n  // Expor a função abrirPainel e refreshPainel para componentes externos\n  useEffect(() => {\n    console.log('MapaEscolasIndigenas: onPainelOpen disponível:', !!onPainelOpen);\n    console.log('MapaEscolasIndigenas: abrirPainel disponível:', !!abrirPainel);\n    if (onPainelOpen && typeof onPainelOpen === 'function') {\n      console.log('MapaEscolasIndigenas: Expondo função abrirPainel e refreshPainel');\n      onPainelOpen(abrirPainel, refreshPainel);\n    }\n  }, [abrirPainel, onPainelOpen, refreshPainel]);\n\n  // Otimizar a função de fechar painel\n  const fecharPainel = useCallback(() => {\n    setPainelInfo(null);\n  }, []);\n\n  return (\n    <div className=\"relative h-screen w-full overflow-hidden\">\n      {/* Novo mapa sem gaps */}\n      <MapSelector\n        dataPoints={escolasVisiveis}\n        onPainelOpen={abrirPainel}\n        className=\"h-full w-full\"\n      />\n\n      {/* Painel de informações */}\n      {painelInfo && (\n        <>\n          {console.log(\"MapaEscolasIndigenas - Renderizando PainelInformacoes com:\", {\n            painelInfo,\n            hasLink: painelInfo?.link_para_documentos,\n            linkValue: painelInfo?.link_para_documentos\n          })}\n          <PainelInformacoes \n            painelInfo={painelInfo} \n            closePainel={fecharPainel} \n            refreshKey={refreshKey}\n          />\n        </>\n      )}\n      \n      {/* Informações adicionais */}\n      <div className=\"absolute top-20 left-4 z-30 bg-white bg-opacity-95 rounded-lg shadow-lg p-3\">\n        <div className=\"text-sm font-semibold text-gray-800\">\n          Escolas Indígenas: {totalEscolas}\n        </div>\n        <div className=\"text-xs text-gray-600\">\n          Mapa otimizado sem gaps\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MapaEscolasIndigenas;","// Utility functions for mobile detection and interaction\n\nexport const isMobile = () => {\n  return window.innerWidth <= 768;\n};\n\nexport const isMobileLandscape = () => {\n  return isMobile() && window.innerWidth > window.innerHeight;\n};\n\n// Mobile interaction state management\nexport class MobileInteractionManager {\n  constructor() {\n    this.lastClickedFeature = null;\n    this.clickTimeout = null;\n    this.clickDelay = 300; // Time in ms to wait for second click\n  }\n\n  handleClick(feature, onFirstClick, onSecondClick) {\n    if (!isMobile()) {\n      // Desktop behavior - direct action\n      onSecondClick(feature);\n      return;\n    }\n\n    // Mobile behavior - two-click pattern\n    if (this.lastClickedFeature === feature) {\n      // Second click on same feature\n      this.clearTimeout();\n      this.lastClickedFeature = null;\n      onSecondClick(feature);\n    } else {\n      // First click or click on different feature\n      if (this.lastClickedFeature) {\n        // Clear previous first click\n        this.clearTimeout();\n      }\n      \n      this.lastClickedFeature = feature;\n      onFirstClick(feature);\n      \n      // Set timeout to clear first click\n      this.clickTimeout = setTimeout(() => {\n        this.lastClickedFeature = null;\n      }, this.clickDelay);\n    }\n  }\n\n  clearTimeout() {\n    if (this.clickTimeout) {\n      clearTimeout(this.clickTimeout);\n      this.clickTimeout = null;\n    }\n  }\n\n  reset() {\n    this.clearTimeout();\n    this.lastClickedFeature = null;\n  }\n} "],"names":["MAP_CONFIG","center","zoom","maxZoom","minZoom","clusterDistance","proximityThreshold","disableClusteringAtZoom","tooltipOffset","connectorStyle","color","width","lineDash","proj4","defs","register","PROXIMITY_THRESHOLD","createMarkerSVG","size","arguments","length","undefined","options","borderColor","showShadow","showGradient","showGlow","isNearbyPair","baseColor","borderColorFinal","scale","circleRadius","glowRadius","markerPath","concat","_ref","dataPoints","onPainelOpen","className","terrasIndigenasData","estadoSPData","showTerrasIndigenas","showEstadoSP","showMarcadores","showNomesEscolas","showConectores","mapContainer","useRef","map","vectorSource","clusterSource","vectorLayer","baseLayer","mapInfo","setMapInfo","useState","lng","lat","terrasIndigenasLayerRef","estadoSPLayerRef","connectorsLayerRef","mobileInteraction","MobileInteractionManager","tooltipElement","setTooltipElement","createBaseLayers","useCallback","satelliteLayer","TileLayer","source","XYZ","url","attributions","wrapX","tilePixelRatio","tileSize","preload","useInterimTilesOnError","createMarkerStyle","feature","schoolData","get","svg","svgUrl","encodeURIComponent","style","Style","image","Icon","src","anchor","anchorXUnits","anchorYUnits","setText","Text","text","titulo","font","fill","Fill","stroke","Stroke","offsetY","textAlign","textBaseline","createClusterStyle","features","baseSize","Math","min","finalSize","round","fontSize","toString","createTooltipHTML","showMobileTooltip","event","content","isMobile","remove","element","document","createElement","textContent","position","backgroundColor","padding","borderRadius","fontFamily","fontWeight","maxWidth","whiteSpace","overflow","textOverflow","zIndex","pointerEvents","boxShadow","border","coordinate","pixel","current","getPixelFromCoordinate","left","top","appendChild","setTimeout","parentNode","useEffect","VectorSource","ClusterSource","distance","geometryFunction","geometry","getGeometry","getType","VectorLayer","Map","target","layers","view","View","fromLonLat","controls","defaultControls","interactions","defaultInteractions","on","getView","toLonLat","getCenter","newView","toFixed","getZoom","changed","forEachFeatureAtPixel","handleClick","console","log","clusterExtent","getExtent","currentZoom","targetZoom","max","fit","duration","callback","createTooltipElement","createClusterTooltipElement","count","setTarget","reset","clear","getSource","pontosValidos","filter","point","latitude","longitude","parseFloat","isNaN","nearbyPairs","pontos","pairs","used","Set","i","has","j","p1","p2","latDiff","abs","lngDiff","push","add","findNearbyPairs","flat","forEach","index","Feature","Point","set","pairIndex","findIndex","pair","includes","addFeature","firstIndex","secondIndex","firstPoint","secondPoint","connectorFeature","LineString","setStyle","removeLayer","addLayer","setVisible","_terrasIndigenasData$","_estadoSPData$feature","terrasFeatures","estadoFeatures","mapLayers","getLayers","getLength","_terrasIndigenasData$2","_terrasIndigenasData$3","type","crs","firstFeature","properties","Object","keys","coordinates","error","coords","GeoJSON","dataProjection","featureProjection","readFeatures","extent","getProperties","terrasIndigenasLayer","isRegularizada","fase_ti","getFeatures","terrai_nom","tipo","etnia","etnia_nome","municipio","municipio_","uf","uf_sigla","superficie","fase","modalidade","reestudo","reestudo_t","cr","faixa_fron","undadm_nom","undadm_sig","dominio_un","data_atual","terrai_cod","undadm_cod","_estadoSPData$feature2","_estadoSPData$feature3","estadoSPLayer","interactive","terraIndigenaInfo","un","_jsx","ref","children","_jsxs","cache","useGeoJSONCache","key","data","setData","loading","setLoading","setError","async","_geoJSON$features","_geoJSON$features2","process","response","fetch","ok","Error","status","geoJSON","json","err","fetchGeoJSON","MOBILE_CENTER","terrasLoading","terrasError","estadoLoading","estadoError","setShowTerrasIndigenas","setShowEstadoSP","setShowMarcadores","setShowConectores","setIsMobile","isMinimized","setIsMinimized","checkMobile","window","innerWidth","addEventListener","removeEventListener","handleMinimize","prev","terrasIndigenas","hasData","estadoSP","CabecalhoMenu","_ref2","onMinimize","onClick","BotaoCamada","_ref3","id","label","checked","onChange","disabled","total","subItems","item","mapCenter","mapZoom","OpenLayersMap","audioUrl","descricao_detalhada","imagens","quantidade","exemplo","refreshKey","useRefresh","panel","useMemo","URLSearchParams","location","search","initialPanel","find","criarSlug","detalhesIntro","painelInfo","setPainelInfo","escolasVisiveis","pontuacao","totalEscolas","group","hasLink","link_para_documentos","linkValue","isInitialPanel","isNull","isUndefined","groupEnd","abrirPainel","info","refreshPainel","fecharPainel","MapSelector","_Fragment","PainelInformacoes","closePainel","constructor","this","lastClickedFeature","clickTimeout","clickDelay","onFirstClick","onSecondClick","clearTimeout"],"sourceRoot":""}