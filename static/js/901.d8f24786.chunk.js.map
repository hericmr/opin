{"version":3,"file":"static/js/901.d8f24786.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/check.ts","../node_modules/lucide-react/src/icons/trash-2.ts","../node_modules/lucide-react/src/icons/user.ts","../node_modules/lucide-react/src/icons/image.ts","../node_modules/lucide-react/src/icons/circle-alert.ts","../node_modules/lucide-react/src/icons/upload.ts","../node_modules/lucide-react/src/icons/save.ts","services/escolaImageService.js","components/EditEscolaPanel/ImageUploadSection.js","services/professorImageMetaService.js","components/EditEscolaPanel/ProfessorImageUploadSection.js","../node_modules/lucide-react/src/icons/plus.ts","../node_modules/lucide-react/src/icons/eye-off.ts","../node_modules/lucide-react/src/icons/arrow-up.ts","../node_modules/lucide-react/src/icons/arrow-down.ts","../node_modules/lucide-react/src/icons/pen-line.ts","components/AdminPanel/HistoriaProfessorManager.js","components/AdminPanel/VideoManager.js","services/videoService.js","components/AdminPanel.js"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'M20 6 9 17l-5-5', key: '1gmf2c' }]];\n\n/**\n * @component @name Check\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgNiA5IDE3bC01LTUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Check = createLucideIcon('Check', __iconNode);\n\nexport default Check;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M3 6h18', key: 'd0wm0j' }],\n  ['path', { d: 'M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6', key: '4alrt4' }],\n  ['path', { d: 'M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2', key: 'v07s0e' }],\n  ['line', { x1: '10', x2: '10', y1: '11', y2: '17', key: '1uufr5' }],\n  ['line', { x1: '14', x2: '14', y1: '11', y2: '17', key: 'xtxkd' }],\n];\n\n/**\n * @component @name Trash2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyA2aDE4IiAvPgogIDxwYXRoIGQ9Ik0xOSA2djE0YzAgMS0xIDItMiAySDdjLTEgMC0yLTEtMi0yVjYiIC8+CiAgPHBhdGggZD0iTTggNlY0YzAtMSAxLTIgMi0yaDRjMSAwIDIgMSAyIDJ2MiIgLz4KICA8bGluZSB4MT0iMTAiIHgyPSIxMCIgeTE9IjExIiB5Mj0iMTciIC8+CiAgPGxpbmUgeDE9IjE0IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjE3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/trash-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Trash2 = createLucideIcon('Trash2', __iconNode);\n\nexport default Trash2;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2', key: '975kel' }],\n  ['circle', { cx: '12', cy: '7', r: '4', key: '17ys0d' }],\n];\n\n/**\n * @component @name User\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTkgMjF2LTJhNCA0IDAgMCAwLTQtNEg5YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjciIHI9IjQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/user\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst User = createLucideIcon('User', __iconNode);\n\nexport default User;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { width: '18', height: '18', x: '3', y: '3', rx: '2', ry: '2', key: '1m3agn' }],\n  ['circle', { cx: '9', cy: '9', r: '2', key: 'af1f0g' }],\n  ['path', { d: 'm21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21', key: '1xmnt7' }],\n];\n\n/**\n * @component @name Image\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjMiIHJ4PSIyIiByeT0iMiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iOSIgcj0iMiIgLz4KICA8cGF0aCBkPSJtMjEgMTUtMy4wODYtMy4wODZhMiAyIDAgMCAwLTIuODI4IDBMNiAyMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/image\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Image = createLucideIcon('Image', __iconNode);\n\nexport default Image;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['line', { x1: '12', x2: '12', y1: '8', y2: '12', key: '1pkeuh' }],\n  ['line', { x1: '12', x2: '12.01', y1: '16', y2: '16', key: '4dfq90' }],\n];\n\n/**\n * @component @name CircleAlert\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8bGluZSB4MT0iMTIiIHgyPSIxMiIgeTE9IjgiIHkyPSIxMiIgLz4KICA8bGluZSB4MT0iMTIiIHgyPSIxMi4wMSIgeTE9IjE2IiB5Mj0iMTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/circle-alert\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleAlert = createLucideIcon('CircleAlert', __iconNode);\n\nexport default CircleAlert;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4', key: 'ih7n3h' }],\n  ['polyline', { points: '17 8 12 3 7 8', key: 't8dd8p' }],\n  ['line', { x1: '12', x2: '12', y1: '3', y2: '15', key: 'widbto' }],\n];\n\n/**\n * @component @name Upload\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTV2NGEyIDIgMCAwIDEtMiAySDVhMiAyIDAgMCAxLTItMnYtNCIgLz4KICA8cG9seWxpbmUgcG9pbnRzPSIxNyA4IDEyIDMgNyA4IiAvPgogIDxsaW5lIHgxPSIxMiIgeDI9IjEyIiB5MT0iMyIgeTI9IjE1IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/upload\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Upload = createLucideIcon('Upload', __iconNode);\n\nexport default Upload;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z',\n      key: '1c8476',\n    },\n  ],\n  ['path', { d: 'M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7', key: '1ydtos' }],\n  ['path', { d: 'M7 3v4a1 1 0 0 0 1 1h7', key: 't51u73' }],\n];\n\n/**\n * @component @name Save\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUuMiAzYTIgMiAwIDAgMSAxLjQuNmwzLjggMy44YTIgMiAwIDAgMSAuNiAxLjRWMTlhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJWNWEyIDIgMCAwIDEgMi0yeiIgLz4KICA8cGF0aCBkPSJNMTcgMjF2LTdhMSAxIDAgMCAwLTEtMUg4YTEgMSAwIDAgMC0xIDF2NyIgLz4KICA8cGF0aCBkPSJNNyAzdjRhMSAxIDAgMCAwIDEgMWg3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/save\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Save = createLucideIcon('Save', __iconNode);\n\nexport default Save;\n","import { supabase } from '../supabaseClient';\n\n// Configurações para imagens das escolas\nconst ESCOLA_IMAGE_CONFIG = {\n  BUCKET_NAME: 'imagens-das-escolas',\n  MAX_FILE_SIZE: 5 * 1024 * 1024, // 5MB\n  ALLOWED_TYPES: ['image/jpeg', 'image/jpg', 'image/png', 'image/webp', 'image/gif'],\n  MAX_IMAGES_PER_SCHOOL: 10,\n  MIN_DIMENSIONS: { width: 200, height: 200 }\n};\n\n// Configurações para imagens dos professores\nconst PROFESSOR_IMAGE_CONFIG = {\n  BUCKET_NAME: 'imagens-professores', // Usando bucket existente\n  MAX_FILE_SIZE: 5 * 1024 * 1024, // 5MB\n  ALLOWED_TYPES: ['image/jpeg', 'image/jpg', 'image/png', 'image/webp', 'image/gif'],\n  MAX_IMAGES_PER_SCHOOL: 5,\n  MIN_DIMENSIONS: { width: 200, height: 200 }\n};\n\n/**\n * Valida um arquivo de imagem\n * @param {File} file - Arquivo a ser validado\n * @param {Object} config - Configuração de validação\n * @returns {Object} Resultado da validação\n */\nconst validateImageFile = (file, config) => {\n  // Verificar tipo MIME\n  if (!config.ALLOWED_TYPES.includes(file.type)) {\n    return {\n      isValid: false,\n      error: `Tipo de arquivo não suportado. Use apenas: ${config.ALLOWED_TYPES.map(t => t.split('/')[1].toUpperCase()).join(', ')}`\n    };\n  }\n\n  // Verificar tamanho\n  if (file.size > config.MAX_FILE_SIZE) {\n    return {\n      isValid: false,\n      error: `Arquivo muito grande. Tamanho máximo: ${config.MAX_FILE_SIZE / (1024 * 1024)}MB`\n    };\n  }\n\n  // Verificar extensão\n  const extension = file.name.split('.').pop().toLowerCase();\n  const allowedExtensions = config.ALLOWED_TYPES.map(t => t.split('/')[1]);\n  if (!allowedExtensions.includes(extension)) {\n    return {\n      isValid: false,\n      error: `Extensão não permitida. Use apenas: ${allowedExtensions.join(', ')}`\n    };\n  }\n\n  return { isValid: true };\n};\n\n/**\n * Gera nome único para o arquivo (sem gênero, para imagens de escola)\n * @param {File} file - Arquivo\n * @param {number} escolaId - ID da escola\n * @returns {string} Nome único do arquivo\n */\nconst generateUniqueFileName = (file, escolaId) => {\n  const timestamp = Date.now();\n  const random = Math.random().toString(36).substring(2, 8);\n  const extension = file.name.split('.').pop().toLowerCase();\n  return `${escolaId}_${timestamp}_${random}.${extension}`;\n};\n\n/**\n * Gera nome único para o arquivo, incluindo o gênero\n * @param {File} file - Arquivo\n * @param {number} escolaId - ID da escola\n * @param {string} genero - 'professor' ou 'professora'\n * @returns {string} Nome único do arquivo\n */\nconst generateUniqueFileNameWithGenero = (file, escolaId, genero) => {\n  const timestamp = Date.now();\n  const random = Math.random().toString(36).substring(2, 8);\n  const extension = file.name.split('.').pop().toLowerCase();\n  return `${genero}_${escolaId}_${timestamp}_${random}.${extension}`;\n};\n\n/**\n * Upload de imagem da escola (versão simplificada sem tabela de metadados)\n * @param {File} file - Arquivo de imagem\n * @param {number} escolaId - ID da escola\n * @param {string} descricao - Descrição da imagem\n * @returns {Promise<Object>} Dados da imagem salva\n */\nexport const uploadEscolaImage = async (file, escolaId, descricao = '') => {\n  try {\n    // Validar arquivo\n    const validation = validateImageFile(file, ESCOLA_IMAGE_CONFIG);\n    if (!validation.isValid) {\n      throw new Error(validation.error);\n    }\n\n    // Gerar nome único\n    const fileName = generateUniqueFileName(file, escolaId);\n    const filePath = `${escolaId}/${fileName}`;\n\n    // Upload ao bucket\n    const { error: uploadError } = await supabase.storage\n      .from(ESCOLA_IMAGE_CONFIG.BUCKET_NAME)\n      .upload(filePath, file, {\n        cacheControl: '3600',\n        upsert: false\n      });\n\n    if (uploadError) {\n      throw new Error(`Erro no upload: ${uploadError.message}`);\n    }\n\n    // Obter URL pública\n    const { data: { publicUrl } } = supabase.storage\n      .from(ESCOLA_IMAGE_CONFIG.BUCKET_NAME)\n      .getPublicUrl(filePath);\n\n    return {\n      id: Date.now(), // ID temporário\n      url: filePath,\n      publicUrl,\n      descricao: descricao.trim() || `Imagem da escola ${escolaId}`,\n      created_at: new Date().toISOString()\n    };\n\n  } catch (error) {\n    console.error('Erro no upload da imagem da escola:', error);\n    throw error;\n  }\n};\n\n/**\n * Upload de imagem do professor (com gênero no nome do arquivo)\n * @param {File} file - Arquivo de imagem\n * @param {number} escolaId - ID da escola\n * @param {string} descricao - Descrição da imagem\n * @param {string} genero - 'professor' ou 'professora'\n * @returns {Promise<Object>} Dados da imagem salva\n */\nexport const uploadProfessorImage = async (file, escolaId, descricao = '', genero = 'professor') => {\n  try {\n    // Validar arquivo\n    const validation = validateImageFile(file, PROFESSOR_IMAGE_CONFIG);\n    if (!validation.isValid) {\n      throw new Error(validation.error);\n    }\n\n    // Gerar nome único com gênero\n    const fileName = generateUniqueFileNameWithGenero(file, escolaId, genero);\n    const filePath = `${escolaId}/${fileName}`;\n\n    // Upload ao bucket\n    const { error: uploadError } = await supabase.storage\n      .from(PROFESSOR_IMAGE_CONFIG.BUCKET_NAME)\n      .upload(filePath, file, {\n        cacheControl: '3600',\n        upsert: false\n      });\n\n    if (uploadError) {\n      console.error('Erro detalhado do upload:', uploadError);\n      throw new Error(`Erro no upload: ${uploadError.message}`);\n    }\n\n    // Obter URL pública\n    const { data: { publicUrl } } = supabase.storage\n      .from(PROFESSOR_IMAGE_CONFIG.BUCKET_NAME)\n      .getPublicUrl(filePath);\n\n    // Retornar objeto simulado (sem metadados na tabela)\n    return {\n      id: Date.now(), // ID temporário\n      url: filePath,\n      publicUrl,\n      descricao: descricao.trim() || `Imagem do ${genero} da escola ${escolaId}`,\n      genero,\n      created_at: new Date().toISOString()\n    };\n\n  } catch (error) {\n    console.error('Erro no upload da imagem do professor:', error);\n    throw error;\n  }\n};\n\n/**\n * Buscar imagens da escola (versão simplificada)\n * @param {number} escolaId - ID da escola\n * @param {string} bucketName - Nome do bucket\n * @returns {Promise<Array>} Lista de imagens\n */\nexport const getEscolaImages = async (escolaId, bucketName = ESCOLA_IMAGE_CONFIG.BUCKET_NAME) => {\n  try {\n    // Listar arquivos no bucket para a escola específica\n    const { data: files, error } = await supabase.storage\n      .from(bucketName)\n      .list(`${escolaId}/`);\n\n    if (error) {\n      throw error;\n    }\n\n    if (!files || files.length === 0) {\n      return [];\n    }\n\n    // Criar objetos de imagem com URLs públicas\n    const imagens = files.map((file, index) => {\n      const filePath = `${escolaId}/${file.name}`;\n      const { data: { publicUrl } } = supabase.storage\n        .from(bucketName)\n        .getPublicUrl(filePath);\n\n      return {\n        id: index + 1, // ID temporário\n        url: filePath,\n        publicUrl,\n        descricao: `Imagem ${index + 1}`,\n        created_at: file.created_at || new Date().toISOString()\n      };\n    });\n\n    return imagens;\n\n  } catch (error) {\n    console.error('Erro ao buscar imagens da escola:', error);\n    throw error;\n  }\n};\n\n/**\n * Deletar imagem (versão simplificada)\n * @param {number} imageId - ID da imagem\n * @param {string} filePath - Caminho do arquivo\n * @param {string} bucketName - Nome do bucket\n * @returns {Promise<void>}\n */\nexport const deleteImage = async (imageId, filePath, bucketName) => {\n  try {\n    // Deletar arquivo do storage\n    const { error: storageError } = await supabase.storage\n      .from(bucketName)\n      .remove([filePath]);\n\n    if (storageError) {\n      throw new Error(`Erro ao deletar arquivo: ${storageError.message}`);\n    }\n\n  } catch (error) {\n    console.error('Erro ao deletar imagem:', error);\n    throw error;\n  }\n};\n\n/**\n * Atualizar descrição da imagem (versão simplificada)\n * @param {number} imageId - ID da imagem\n * @param {string} descricao - Nova descrição\n * @returns {Promise<Object>} Imagem atualizada\n */\nexport const updateImageDescription = async (imageId, descricao) => {\n  try {\n    // Como não temos tabela de metadados, retornamos um objeto simulado\n    return {\n      id: imageId,\n      descricao: descricao.trim()\n    };\n\n  } catch (error) {\n    console.error('Erro ao atualizar descrição da imagem:', error);\n    throw error;\n  }\n};\n\n/**\n * Verificar limite de imagens (versão simplificada)\n * @param {number} escolaId - ID da escola\n * @param {string} bucketName - Nome do bucket\n * @returns {Promise<Object>} Informações sobre o limite\n */\nexport const checkImageLimit = async (escolaId, bucketName) => {\n  try {\n    const config = bucketName === PROFESSOR_IMAGE_CONFIG.BUCKET_NAME \n      ? PROFESSOR_IMAGE_CONFIG \n      : ESCOLA_IMAGE_CONFIG;\n\n    // Listar arquivos no bucket para a escola específica\n    const { data: files, error } = await supabase.storage\n      .from(bucketName)\n      .list(`${escolaId}/`);\n\n    if (error) {\n      throw error;\n    }\n\n    const currentCount = files ? files.length : 0;\n\n    return {\n      current: currentCount,\n      limit: config.MAX_IMAGES_PER_SCHOOL,\n      canUpload: currentCount < config.MAX_IMAGES_PER_SCHOOL\n    };\n\n  } catch (error) {\n    console.error('Erro ao verificar limite de imagens:', error);\n    throw error;\n  }\n}; ","import React, { useState, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { Upload, X, Image as ImageIcon, Trash2, Edit3, Check, AlertCircle, Save } from 'lucide-react';\nimport { \n  uploadEscolaImage, \n  getEscolaImages, \n  deleteImage, \n  updateImageDescription,\n  checkImageLimit \n} from '../../services/escolaImageService';\nimport { \n  getLegendaByImageUrl, \n  addLegendaFoto, \n  updateLegendaFoto,\n  testLegendasTable\n} from '../../services/legendasService';\n\nconst ImageUploadSection = ({ escolaId, onImagesUpdate }) => {\n  const [selectedFiles, setSelectedFiles] = useState([]);\n  const [uploading, setUploading] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [existingImages, setExistingImages] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [imageLimit, setImageLimit] = useState({ current: 0, limit: 10, canUpload: true });\n  const [editingImage, setEditingImage] = useState(null);\n  const [editingDescription, setEditingDescription] = useState('');\n\n  // Buscar imagens existentes\n  const fetchExistingImages = useCallback(async () => {\n    if (!escolaId) return;\n    \n    try {\n      setLoading(true);\n      const images = await getEscolaImages(escolaId, 'imagens-das-escolas');\n      setExistingImages(images);\n      \n      // Verificar limite\n      const limit = await checkImageLimit(escolaId, 'imagens-das-escolas');\n      setImageLimit(limit);\n    } catch (err) {\n      console.error('Erro ao buscar imagens:', err);\n      setError('Erro ao carregar imagens existentes');\n    } finally {\n      setLoading(false);\n    }\n  }, [escolaId]);\n\n  useEffect(() => {\n    fetchExistingImages();\n  }, [fetchExistingImages]);\n\n  // Testar estrutura da tabela quando o componente for carregado\n  useEffect(() => {\n    if (escolaId) {\n      console.log('Testando estrutura da tabela legendas_fotos...');\n      testLegendasTable();\n    }\n  }, [escolaId]);\n\n  // Buscar legendas para as imagens existentes\n  useEffect(() => {\n    const fetchLegendas = async () => {\n      if (!existingImages.length) return;\n      console.log('Buscando legendas para', existingImages.length, 'imagens');\n      const legendasMap = {};\n      for (const img of existingImages) {\n        console.log('Buscando legenda para imagem:', img.url);\n        const legenda = await getLegendaByImageUrl(img.url, escolaId, 'escola');\n        console.log('Legenda encontrada:', legenda);\n        legendasMap[img.url] = legenda;\n      }\n      setExistingImages(prev => prev.map(img => ({\n        ...img,\n        legendaData: legendasMap[img.url] || {\n          legenda: '',\n          descricao_detalhada: '',\n          autor_foto: '',\n          data_foto: '',\n          categoria: 'geral',\n        }\n      })));\n    };\n    fetchLegendas();\n    // eslint-disable-next-line\n  }, [existingImages.length, escolaId]);\n\n  // Limpar mensagens após 5 segundos\n  useEffect(() => {\n    if (error || success) {\n      const timer = setTimeout(() => {\n        setError('');\n        setSuccess('');\n      }, 5000);\n      return () => clearTimeout(timer);\n    }\n  }, [error, success]);\n\n  // Handler para seleção de arquivos\n  const handleFileSelect = (event) => {\n    const files = Array.from(event.target.files);\n    if (files.length === 0) return;\n\n    // Verificar se ainda pode fazer upload\n    if (!imageLimit.canUpload) {\n      setError(`Limite de ${imageLimit.limit} imagens atingido. Remova algumas imagens antes de adicionar novas.`);\n      return;\n    }\n\n    // Verificar se não excederá o limite\n    const totalImages = existingImages.length + selectedFiles.length + files.length;\n    if (totalImages > imageLimit.limit) {\n      setError(`Você pode adicionar no máximo ${imageLimit.limit - existingImages.length - selectedFiles.length} imagens.`);\n      return;\n    }\n\n    // Validar arquivos\n    const validFiles = files.filter(file => {\n      const isValidType = ['image/jpeg', 'image/jpg', 'image/png', 'image/webp', 'image/gif'].includes(file.type);\n      const isValidSize = file.size <= 5 * 1024 * 1024; // 5MB\n      \n      if (!isValidType) {\n        setError(`Arquivo \"${file.name}\" não é uma imagem válida. Use apenas JPG, PNG, WEBP ou GIF.`);\n      }\n      if (!isValidSize) {\n        setError(`Arquivo \"${file.name}\" é muito grande. Tamanho máximo: 5MB.`);\n      }\n      \n      return isValidType && isValidSize;\n    });\n\n    if (validFiles.length > 0) {\n      setSelectedFiles(prev => [...prev, ...validFiles]);\n      setError('');\n    }\n  };\n\n  // Handler para drag & drop\n  const handleDrop = useCallback((event) => {\n    event.preventDefault();\n    const files = Array.from(event.dataTransfer.files);\n    \n    if (files.length === 0) return;\n\n    // Verificar se ainda pode fazer upload\n    if (!imageLimit.canUpload) {\n      setError(`Limite de ${imageLimit.limit} imagens atingido. Remova algumas imagens antes de adicionar novas.`);\n      return;\n    }\n\n    // Verificar se não excederá o limite\n    const totalImages = existingImages.length + selectedFiles.length + files.length;\n    if (totalImages > imageLimit.limit) {\n      setError(`Você pode adicionar no máximo ${imageLimit.limit - existingImages.length - selectedFiles.length} imagens.`);\n      return;\n    }\n\n    // Filtrar apenas imagens\n    const imageFiles = files.filter(file => file.type.startsWith('image/'));\n    if (imageFiles.length > 0) {\n      setSelectedFiles(prev => [...prev, ...imageFiles]);\n      setError('');\n    }\n  }, [imageLimit, existingImages.length, selectedFiles.length]);\n\n  const handleDragOver = useCallback((event) => {\n    event.preventDefault();\n  }, []);\n\n  // Remover arquivo selecionado\n  const removeSelectedFile = (index) => {\n    setSelectedFiles(prev => prev.filter((_, i) => i !== index));\n  };\n\n  // Upload das imagens selecionadas\n  const handleUpload = async () => {\n    if (selectedFiles.length === 0) return;\n\n    setUploading(true);\n    setUploadProgress(0);\n    setError('');\n\n    try {\n      const uploadedImages = [];\n      \n      for (let i = 0; i < selectedFiles.length; i++) {\n        const file = selectedFiles[i];\n        const progress = ((i + 1) / selectedFiles.length) * 100;\n        setUploadProgress(progress);\n\n        const uploadedImage = await uploadEscolaImage(file, escolaId);\n        uploadedImages.push(uploadedImage);\n      }\n\n      // Atualizar lista de imagens\n      setExistingImages(prev => [...prev, ...uploadedImages]);\n      setSelectedFiles([]);\n      setUploadProgress(0);\n      setSuccess(`${uploadedImages.length} imagem(ns) carregada(s) com sucesso!`);\n\n      // Atualizar limite\n      const newLimit = await checkImageLimit(escolaId, 'imagens-das-escolas');\n      setImageLimit(newLimit);\n\n      // Notificar componente pai\n      if (onImagesUpdate) {\n        onImagesUpdate();\n      }\n\n    } catch (err) {\n      console.error('Erro no upload:', err);\n      setError(`Erro ao fazer upload: ${err.message}`);\n    } finally {\n      setUploading(false);\n      setUploadProgress(0);\n    }\n  };\n\n  // Deletar imagem existente\n  const handleDeleteImage = async (imageId, filePath) => {\n    if (!window.confirm('Tem certeza que deseja excluir esta imagem?')) return;\n\n    try {\n      await deleteImage(imageId, filePath, 'imagens-das-escolas');\n      \n      // Atualizar lista\n      setExistingImages(prev => prev.filter(img => img.id !== imageId));\n      \n      // Atualizar limite\n      const newLimit = await checkImageLimit(escolaId, 'imagens-das-escolas');\n      setImageLimit(newLimit);\n\n      setSuccess('Imagem excluída com sucesso!');\n\n      // Notificar componente pai\n      if (onImagesUpdate) {\n        onImagesUpdate();\n      }\n\n    } catch (err) {\n      console.error('Erro ao deletar imagem:', err);\n      setError(`Erro ao excluir imagem: ${err.message}`);\n    }\n  };\n\n  // Atualizar descrição da imagem\n  const handleDescriptionChange = async (imageId, novaDescricao) => {\n    if (!novaDescricao.trim()) return;\n\n    try {\n      await updateImageDescription(imageId, novaDescricao);\n      \n      // Atualizar lista\n      setExistingImages(prev => prev.map(img => \n        img.id === imageId \n          ? { ...img, descricao: novaDescricao.trim() }\n          : img\n      ));\n\n      setSuccess('Legenda atualizada com sucesso!');\n\n      // Notificar componente pai\n      if (onImagesUpdate) {\n        onImagesUpdate();\n      }\n\n    } catch (err) {\n      console.error('Erro ao atualizar descrição:', err);\n      setError(`Erro ao atualizar legenda: ${err.message}`);\n    }\n  };\n\n  // Atualizar legenda inline\n  const handleLegendaFieldChange = (imageId, field, value) => {\n    setExistingImages(prev => prev.map(img =>\n      img.id === imageId\n        ? { ...img, legendaData: { ...img.legendaData, [field]: value } }\n        : img\n    ));\n  };\n\n  const handleLegendaSave = async (image) => {\n    console.log('=== DEBUG: Salvando legenda ===');\n    console.log('Imagem completa:', image);\n    \n    const imagem_url_relativa = image.url;\n    const legendaData = image.legendaData;\n    console.log('URL relativa:', imagem_url_relativa);\n    console.log('Dados da legenda:', legendaData);\n    console.log('Escola ID:', escolaId);\n    \n    try {\n      console.log('Buscando legenda existente...');\n      let legenda = await getLegendaByImageUrl(imagem_url_relativa, escolaId, 'escola');\n      console.log('Legenda existente encontrada:', legenda);\n      \n      if (legenda) {\n        console.log('Atualizando legenda existente...');\n        const updateData = {\n          ...legendaData,\n          updated_at: new Date().toISOString()\n        };\n        console.log('Dados para atualização:', updateData);\n        \n        const resultado = await updateLegendaFoto(legenda.id, updateData);\n        console.log('Legenda atualizada com sucesso:', resultado);\n      } else {\n        console.log('Criando nova legenda...');\n        const novaLegendaData = {\n          escola_id: escolaId,\n          imagem_url: imagem_url_relativa,\n          ...legendaData,\n          ativo: true,\n          created_at: new Date().toISOString(),\n          updated_at: new Date().toISOString(),\n          tipo_foto: 'escola'\n        };\n        console.log('Dados para nova legenda:', novaLegendaData);\n        \n        const novaLegenda = await addLegendaFoto(novaLegendaData);\n        console.log('Nova legenda criada:', novaLegenda);\n      }\n      \n      setSuccess('Legenda salva com sucesso!');\n      if (onImagesUpdate) {\n        console.log('Chamando onImagesUpdate...');\n        onImagesUpdate();\n      }\n    } catch (err) {\n      console.error('=== ERRO ao salvar legenda ===');\n      console.error('Erro completo:', err);\n      console.error('Mensagem de erro:', err.message);\n      console.error('Stack trace:', err.stack);\n      setError('Erro ao salvar legenda: ' + err.message);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"p-6 bg-gray-50 rounded-lg\">\n        <div className=\"flex items-center justify-center py-8\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n          <span className=\"ml-2 text-gray-600\">Carregando imagens...</span>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <ImageIcon className=\"w-5 h-5 text-blue-600\" />\n          <h3 className=\"text-lg font-semibold text-gray-900\">Imagens da Escola</h3>\n        </div>\n        <div className=\"text-sm text-gray-500\">\n          {imageLimit.current}/{imageLimit.limit} imagens\n        </div>\n      </div>\n\n      {/* Mensagens */}\n      {error && (\n        <div className=\"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg\">\n          <AlertCircle className=\"w-5 h-5 text-red-600\" />\n          <span className=\"text-red-700\">{error}</span>\n        </div>\n      )}\n\n      {success && (\n        <div className=\"flex items-center gap-2 p-3 bg-green-50 border border-green-200 rounded-lg\">\n          <Check className=\"w-5 h-5 text-green-600\" />\n          <span className=\"text-green-700\">{success}</span>\n        </div>\n      )}\n\n      {/* Área de Upload */}\n      {imageLimit.canUpload && (\n        <div className=\"space-y-4\">\n          {/* Drag & Drop */}\n          <div\n            className={`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${\n              uploading \n                ? 'border-gray-300 bg-gray-50' \n                : 'border-blue-300 bg-blue-50 hover:border-blue-400 hover:bg-blue-100'\n            }`}\n            onDrop={handleDrop}\n            onDragOver={handleDragOver}\n          >\n            <Upload className=\"w-8 h-8 text-blue-600 mx-auto mb-2\" />\n            <p className=\"text-gray-600 mb-2\">\n              Arraste imagens aqui ou clique para selecionar\n            </p>\n            <p className=\"text-sm text-gray-500 mb-4\">\n              JPG, PNG, WEBP, GIF • Máximo 5MB por arquivo\n            </p>\n            \n            <label className=\"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer transition-colors\">\n              <input\n                type=\"file\"\n                multiple\n                accept=\"image/jpeg,image/jpg,image/png,image/webp,image/gif\"\n                onChange={handleFileSelect}\n                className=\"hidden\"\n                disabled={uploading}\n              />\n              Selecionar Arquivos\n            </label>\n          </div>\n\n          {/* Progress Bar */}\n          {uploading && (\n            <div className=\"space-y-2\">\n              <div className=\"flex justify-between text-sm text-gray-600\">\n                <span>Fazendo upload...</span>\n                <span>{Math.round(uploadProgress)}%</span>\n              </div>\n              <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                <div \n                  className=\"bg-blue-600 h-2 rounded-full transition-all duration-300\"\n                  style={{ width: `${uploadProgress}%` }}\n                ></div>\n              </div>\n            </div>\n          )}\n\n          {/* Arquivos Selecionados */}\n          {selectedFiles.length > 0 && (\n            <div className=\"space-y-3\">\n              <h4 className=\"font-medium text-gray-900\">Arquivos selecionados ({selectedFiles.length})</h4>\n              <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3\">\n                {selectedFiles.map((file, index) => (\n                  <div key={index} className=\"relative group\">\n                    <img\n                      src={URL.createObjectURL(file)}\n                      alt={file.name}\n                      className=\"w-full h-24 object-cover rounded-lg border\"\n                    />\n                    <button\n                      onClick={() => removeSelectedFile(index)}\n                      className=\"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity\"\n                    >\n                      <X className=\"w-3 h-3\" />\n                    </button>\n                    <p className=\"text-xs text-gray-600 mt-1 truncate\">{file.name}</p>\n                  </div>\n                ))}\n              </div>\n              <button\n                onClick={handleUpload}\n                disabled={uploading}\n                className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                {uploading ? 'Fazendo Upload...' : 'Fazer Upload'}\n              </button>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Imagens Existentes */}\n      {existingImages.length > 0 && (\n        <div className=\"space-y-4\">\n          <h4 className=\"font-medium text-gray-900\">Imagens da Escola ({existingImages.length})</h4>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {existingImages.map((image) => (\n              <div key={image.id} className=\"bg-white border rounded-lg overflow-hidden shadow-sm\">\n                {/* Imagem */}\n                <div className=\"relative group\">\n                <img\n                  src={image.publicUrl}\n                  alt={image.descricao || 'Imagem da escola'}\n                    className=\"w-full h-48 object-cover\"\n                />\n                \n                {/* Overlay de ações */}\n                  <div className=\"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center\">\n                  <div className=\"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity\">\n                    <button\n                      onClick={() => handleDeleteImage(image.id, image.url)}\n                      className=\"p-2 bg-red-600 text-white rounded-full hover:bg-red-700\"\n                      title=\"Excluir imagem\"\n                    >\n                      <Trash2 className=\"w-5 h-5\" />\n                    </button>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Campos de legenda integrados com legendas_fotos */}\n                <div className=\"p-4 space-y-2\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Legenda\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    value={image.legendaData?.legenda || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'legenda', e.target.value)}\n                    placeholder=\"Digite a legenda da imagem...\"\n                  />\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Descrição Detalhada\n                  </label>\n                  <textarea\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    value={image.legendaData?.descricao_detalhada || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'descricao_detalhada', e.target.value)}\n                    placeholder=\"Descrição detalhada da imagem...\"\n                  />\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Autor da Foto\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    value={image.legendaData?.autor_foto || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'autor_foto', e.target.value)}\n                    placeholder=\"Nome do fotógrafo\"\n                  />\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Data da Foto\n                  </label>\n                  <input\n                    type=\"date\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    value={image.legendaData?.data_foto || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'data_foto', e.target.value)}\n                  />\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Categoria\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    value={image.legendaData?.categoria || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'categoria', e.target.value)}\n                    placeholder=\"Digite a categoria da imagem...\"\n                  />\n                  <div className=\"flex gap-2 pt-2\">\n                    <button\n                      onClick={() => handleLegendaSave(image)}\n                      className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n                      type=\"button\"\n                    >\n                      <Save className=\"w-5 h-5\" /> Salvar Legenda\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Mensagem quando não há imagens */}\n      {existingImages.length === 0 && !uploading && (\n        <div className=\"text-center py-8 text-gray-500\">\n          <ImageIcon className=\"w-12 h-12 mx-auto mb-2 text-gray-300\" />\n          <p>Nenhuma imagem adicionada ainda.</p>\n          <p className=\"text-sm\">Adicione imagens para mostrar a escola.</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nImageUploadSection.propTypes = {\n  escolaId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  onImagesUpdate: PropTypes.func\n};\n\nexport default ImageUploadSection; ","import { supabase } from '../supabaseClient';\n\nexport const addProfessorImageMeta = async (meta) => {\n  const { data, error } = await supabase\n    .from('imagens_professores')\n    .insert([meta])\n    .select()\n    .single();\n  if (error) throw error;\n  return data;\n};\n\nexport const updateProfessorImageMeta = async (id, updates) => {\n  const { data, error } = await supabase\n    .from('imagens_professores')\n    .update(updates)\n    .eq('id', id)\n    .select()\n    .single();\n  if (error) throw error;\n  return data;\n};\n\nexport const getProfessorImageMetaByUrl = async (imagem_url, escola_id) => {\n  const { data, error } = await supabase\n    .from('imagens_professores')\n    .select('*')\n    .eq('imagem_url', imagem_url)\n    .eq('escola_id', escola_id)\n    .eq('ativo', true)\n    .single();\n  if (error && error.code !== 'PGRST116') throw error;\n  return data || null;\n}; ","import React, { useState, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { Upload, X, User, Trash2, Edit3, Check, AlertCircle, Save } from 'lucide-react';\nimport { \n  uploadProfessorImage, \n  getEscolaImages, \n  deleteImage, \n  updateImageDescription,\n  checkImageLimit \n} from '../../services/escolaImageService';\nimport { \n  getLegendaByImageUrl, \n  addLegendaFoto, \n  updateLegendaFoto,\n  testLegendasTable\n} from '../../services/legendasService';\nimport {\n  addProfessorImageMeta,\n  updateProfessorImageMeta,\n  getProfessorImageMetaByUrl\n} from '../../services/professorImageMetaService';\n\nconst ProfessorImageUploadSection = ({ escolaId, onImagesUpdate }) => {\n  const [selectedFiles, setSelectedFiles] = useState([]);\n  const [uploading, setUploading] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [existingImages, setExistingImages] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [imageLimit, setImageLimit] = useState({ current: 0, limit: 5, canUpload: true });\n  const [editingImage, setEditingImage] = useState(null);\n  const [editingDescription, setEditingDescription] = useState('');\n  const [genero, setGenero] = useState('professor');\n  const [titulo, setTitulo] = useState('');\n\n  // Buscar imagens existentes dos professores\n  const fetchExistingImages = useCallback(async () => {\n    if (!escolaId) return;\n    \n    try {\n      setLoading(true);\n      const images = await getEscolaImages(escolaId, 'imagens-professores');\n      setExistingImages(images);\n      \n      // Verificar limite\n      const limit = await checkImageLimit(escolaId, 'imagens-professores');\n      setImageLimit(limit);\n    } catch (err) {\n      console.error('Erro ao buscar imagens dos professores:', err);\n      setError('Erro ao carregar imagens dos professores');\n    } finally {\n      setLoading(false);\n    }\n  }, [escolaId]);\n\n  useEffect(() => {\n    fetchExistingImages();\n  }, [fetchExistingImages]);\n\n  // Testar estrutura da tabela quando o componente for carregado\n  useEffect(() => {\n    if (escolaId) {\n      console.log('Testando estrutura da tabela legendas_fotos (professores)...');\n      testLegendasTable();\n    }\n  }, [escolaId]);\n\n  // Buscar legendas para as imagens existentes\n  useEffect(() => {\n    const fetchLegendas = async () => {\n      if (!existingImages.length) return;\n      console.log('Buscando legendas para', existingImages.length, 'imagens de professores');\n      const legendasMap = {};\n      for (const img of existingImages) {\n        console.log('Buscando legenda para imagem de professor:', img.url);\n        const legenda = await getLegendaByImageUrl(img.url, escolaId, 'professor');\n        console.log('Legenda encontrada para professor:', legenda);\n        legendasMap[img.url] = legenda;\n      }\n      setExistingImages(prev => prev.map(img => ({\n        ...img,\n        legendaData: legendasMap[img.url] || {\n          legenda: '',\n          descricao_detalhada: '',\n          autor_foto: '',\n          data_foto: '',\n          categoria: 'geral',\n        }\n      })));\n    };\n    fetchLegendas();\n    // eslint-disable-next-line\n  }, [existingImages.length, escolaId]);\n\n  // Limpar mensagens após 5 segundos\n  useEffect(() => {\n    if (error || success) {\n      const timer = setTimeout(() => {\n        setError('');\n        setSuccess('');\n      }, 5000);\n      return () => clearTimeout(timer);\n    }\n  }, [error, success]);\n\n  // Handler para seleção de arquivos\n  const handleFileSelect = (event) => {\n    const files = Array.from(event.target.files);\n    if (files.length === 0) return;\n\n    // Verificar se ainda pode fazer upload\n    if (!imageLimit.canUpload) {\n      setError(`Limite de ${imageLimit.limit} imagens dos professores atingido. Remova algumas imagens antes de adicionar novas.`);\n      return;\n    }\n\n    // Verificar se não excederá o limite\n    const totalImages = existingImages.length + selectedFiles.length + files.length;\n    if (totalImages > imageLimit.limit) {\n      setError(`Você pode adicionar no máximo ${imageLimit.limit - existingImages.length - selectedFiles.length} imagens dos professores.`);\n      return;\n    }\n\n    // Validar arquivos\n    const validFiles = files.filter(file => {\n      const isValidType = ['image/jpeg', 'image/jpg', 'image/png', 'image/webp', 'image/gif'].includes(file.type);\n      const isValidSize = file.size <= 5 * 1024 * 1024; // 5MB\n      \n      if (!isValidType) {\n        setError(`Arquivo \"${file.name}\" não é uma imagem válida. Use apenas JPG, PNG, WEBP ou GIF.`);\n      }\n      if (!isValidSize) {\n        setError(`Arquivo \"${file.name}\" é muito grande. Tamanho máximo: 5MB.`);\n      }\n      \n      return isValidType && isValidSize;\n    });\n\n    if (validFiles.length > 0) {\n      setSelectedFiles(prev => [...prev, ...validFiles]);\n      setError('');\n    }\n  };\n\n  // Handler para drag & drop\n  const handleDrop = useCallback((event) => {\n    event.preventDefault();\n    const files = Array.from(event.dataTransfer.files);\n    \n    if (files.length === 0) return;\n\n    // Verificar se ainda pode fazer upload\n    if (!imageLimit.canUpload) {\n      setError(`Limite de ${imageLimit.limit} imagens dos professores atingido. Remova algumas imagens antes de adicionar novas.`);\n      return;\n    }\n\n    // Verificar se não excederá o limite\n    const totalImages = existingImages.length + selectedFiles.length + files.length;\n    if (totalImages > imageLimit.limit) {\n      setError(`Você pode adicionar no máximo ${imageLimit.limit - existingImages.length - selectedFiles.length} imagens dos professores.`);\n      return;\n    }\n\n    // Filtrar apenas imagens\n    const imageFiles = files.filter(file => file.type.startsWith('image/'));\n    if (imageFiles.length > 0) {\n      setSelectedFiles(prev => [...prev, ...imageFiles]);\n      setError('');\n    }\n  }, [imageLimit, existingImages.length, selectedFiles.length]);\n\n  const handleDragOver = useCallback((event) => {\n    event.preventDefault();\n  }, []);\n\n  // Remover arquivo selecionado\n  const removeSelectedFile = (index) => {\n    setSelectedFiles(prev => prev.filter((_, i) => i !== index));\n  };\n\n  // Upload das imagens selecionadas\n  const handleUpload = async () => {\n    if (selectedFiles.length === 0) return;\n\n    setUploading(true);\n    setUploadProgress(0);\n    setError('');\n\n    try {\n      const uploadedImages = [];\n      \n      for (let i = 0; i < selectedFiles.length; i++) {\n        const file = selectedFiles[i];\n        const progress = ((i + 1) / selectedFiles.length) * 100;\n        setUploadProgress(progress);\n\n        const uploadedImage = await uploadProfessorImage(file, escolaId, '', genero, titulo);\n        uploadedImages.push(uploadedImage);\n\n        // Criar registro em imagens_professores\n        await addProfessorImageMeta({\n          escola_id: escolaId,\n          imagem_url: uploadedImage.url,\n          nome_arquivo: file.name,\n          autor: '',\n          ativo: true\n        });\n      }\n\n      // Atualizar lista de imagens\n      setExistingImages(prev => [...prev, ...uploadedImages]);\n      setSelectedFiles([]);\n      setUploadProgress(0);\n      setSuccess(`${uploadedImages.length} imagem(ns) do(s) professor(es) carregada(s) com sucesso!`);\n\n      // Atualizar limite\n      const newLimit = await checkImageLimit(escolaId, 'imagens-professores');\n      setImageLimit(newLimit);\n\n      // Notificar componente pai\n      if (onImagesUpdate) {\n        onImagesUpdate();\n      }\n\n    } catch (err) {\n      console.error('Erro no upload:', err);\n      setError(`Erro ao fazer upload: ${err.message}`);\n    } finally {\n      setUploading(false);\n      setUploadProgress(0);\n    }\n  };\n\n  // Deletar imagem existente\n  const handleDeleteImage = async (imageId, filePath) => {\n    if (!window.confirm('Tem certeza que deseja excluir esta imagem do professor?')) return;\n\n    try {\n      await deleteImage(imageId, filePath, 'imagens-professores');\n      \n      // Atualizar lista\n      setExistingImages(prev => prev.filter(img => img.id !== imageId));\n      \n      // Atualizar limite\n      const newLimit = await checkImageLimit(escolaId, 'imagens-professores');\n      setImageLimit(newLimit);\n\n      setSuccess('Imagem do professor excluída com sucesso!');\n\n      // Notificar componente pai\n      if (onImagesUpdate) {\n        onImagesUpdate();\n      }\n\n    } catch (err) {\n      console.error('Erro ao deletar imagem:', err);\n      setError(`Erro ao excluir imagem: ${err.message}`);\n    }\n  };\n\n  // Atualizar descrição da imagem\n  const handleDescriptionChange = async (imageId, novaDescricao) => {\n    if (!novaDescricao.trim()) return;\n\n    try {\n      await updateImageDescription(imageId, novaDescricao);\n      \n      // Atualizar lista\n      setExistingImages(prev => prev.map(img => \n        img.id === imageId \n          ? { ...img, descricao: novaDescricao.trim() }\n          : img\n      ));\n\n      setSuccess('Legenda atualizada com sucesso!');\n\n      // Notificar componente pai\n      if (onImagesUpdate) {\n        onImagesUpdate();\n      }\n\n    } catch (err) {\n      console.error('Erro ao atualizar descrição:', err);\n      setError(`Erro ao atualizar legenda: ${err.message}`);\n    }\n  };\n\n  // Atualizar legenda inline\n  const handleLegendaFieldChange = (imageId, field, value) => {\n    setExistingImages(prev => prev.map(img =>\n      img.id === imageId\n        ? { ...img, legendaData: { ...img.legendaData, [field]: value } }\n        : img\n    ));\n  };\n\n  const handleLegendaSave = async (image) => {\n    console.log('=== DEBUG: Salvando legenda de professor ===');\n    console.log('Imagem completa:', image);\n    \n    const imagem_url_relativa = image.url;\n    const legendaData = image.legendaData;\n    console.log('URL relativa:', imagem_url_relativa);\n    console.log('Dados da legenda:', legendaData);\n    console.log('Escola ID:', escolaId);\n    \n    try {\n      console.log('Buscando legenda existente...');\n      let legenda = await getLegendaByImageUrl(imagem_url_relativa, escolaId, 'professor');\n      console.log('Legenda existente encontrada:', legenda);\n      \n      if (legenda) {\n        console.log('Atualizando legenda existente...');\n        const updateData = {\n          ...legendaData,\n          updated_at: new Date().toISOString()\n        };\n        console.log('Dados para atualização:', updateData);\n        \n        const resultado = await updateLegendaFoto(legenda.id, updateData);\n        console.log('Legenda de professor atualizada com sucesso:', resultado);\n      } else {\n        console.log('Criando nova legenda...');\n        const novaLegendaData = {\n          escola_id: escolaId,\n          imagem_url: imagem_url_relativa,\n          ...legendaData,\n          ativo: true,\n          created_at: new Date().toISOString(),\n          updated_at: new Date().toISOString(),\n          tipo_foto: 'professor'\n        };\n        console.log('Dados para nova legenda:', novaLegendaData);\n        \n        const novaLegenda = await addLegendaFoto(novaLegendaData);\n        console.log('Nova legenda de professor criada:', novaLegenda);\n      }\n      \n      // Atualizar imagens_professores\n      console.log('Atualizando metadados da imagem...');\n      let meta = await getProfessorImageMetaByUrl(image.publicUrl, escolaId);\n      if (meta) {\n        console.log('Metadados encontrados:', meta);\n        await updateProfessorImageMeta(meta.id, {\n          autor: legendaData.autor_foto,\n          updated_at: new Date().toISOString()\n        });\n        console.log('Metadados atualizados com sucesso');\n      } else {\n        console.log('Nenhum metadado encontrado para atualizar');\n      }\n      \n      setSuccess('Legenda salva com sucesso!');\n      if (onImagesUpdate) {\n        console.log('Chamando onImagesUpdate...');\n        onImagesUpdate();\n      }\n    } catch (err) {\n      console.error('=== ERRO ao salvar legenda de professor ===');\n      console.error('Erro completo:', err);\n      console.error('Mensagem de erro:', err.message);\n      console.error('Stack trace:', err.stack);\n      setError('Erro ao salvar legenda: ' + err.message);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"p-6 bg-gray-50 rounded-lg\">\n        <div className=\"flex items-center justify-center py-8\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600\"></div>\n          <span className=\"ml-2 text-gray-600\">Carregando imagens dos professores...</span>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <User className=\"w-5 h-5 text-green-600\" />\n          <h3 className=\"text-lg font-semibold text-gray-900\">Imagens dos Professores</h3>\n        </div>\n        <div className=\"text-sm text-gray-500\">\n          {imageLimit.current}/{imageLimit.limit} imagens\n        </div>\n      </div>\n\n      {/* Mensagens */}\n      {error && (\n        <div className=\"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg\">\n          <AlertCircle className=\"w-5 h-5 text-red-600\" />\n          <span className=\"text-red-700\">{error}</span>\n        </div>\n      )}\n\n      {success && (\n        <div className=\"flex items-center gap-2 p-3 bg-green-50 border border-green-200 rounded-lg\">\n          <Check className=\"w-5 h-5 text-green-600\" />\n          <span className=\"text-green-700\">{success}</span>\n        </div>\n      )}\n\n      {/* Área de Upload */}\n      {imageLimit.canUpload && (\n        <div className=\"space-y-4\">\n          {/* Drag & Drop */}\n          <div\n            className={`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${\n              uploading \n                ? 'border-gray-300 bg-gray-50' \n                : 'border-green-300 bg-green-50 hover:border-green-400 hover:bg-green-100'\n            }`}\n            onDrop={handleDrop}\n            onDragOver={handleDragOver}\n          >\n            <Upload className=\"w-8 h-8 text-green-600 mx-auto mb-2\" />\n            <p className=\"text-gray-600 mb-2\">\n              Arraste imagens dos professores aqui ou clique para selecionar\n            </p>\n            <p className=\"text-sm text-gray-500 mb-4\">\n              JPG, PNG, WEBP, GIF • Máximo 5MB por arquivo • Máximo 5 imagens\n            </p>\n            \n            <label className=\"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer transition-colors\">\n              <input\n                type=\"file\"\n                multiple\n                accept=\"image/jpeg,image/jpg,image/png,image/webp,image/gif\"\n                onChange={handleFileSelect}\n                className=\"hidden\"\n                disabled={uploading}\n              />\n              Selecionar Arquivos\n            </label>\n          </div>\n\n          {/* Progress Bar */}\n          {uploading && (\n            <div className=\"space-y-2\">\n              <div className=\"flex justify-between text-sm text-gray-600\">\n                <span>Fazendo upload das imagens dos professores...</span>\n                <span>{Math.round(uploadProgress)}%</span>\n              </div>\n              <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                <div \n                  className=\"bg-green-600 h-2 rounded-full transition-all duration-300\"\n                  style={{ width: `${uploadProgress}%` }}\n                ></div>\n              </div>\n            </div>\n          )}\n\n          {/* Arquivos Selecionados */}\n          {selectedFiles.length > 0 && (\n            <div className=\"space-y-3\">\n              <h4 className=\"font-medium text-gray-900\">Arquivos selecionados ({selectedFiles.length})</h4>\n              <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3\">\n                {selectedFiles.map((file, index) => (\n                  <div key={index} className=\"relative group\">\n                    <img\n                      src={URL.createObjectURL(file)}\n                      alt={file.name}\n                      className=\"w-full h-24 object-cover rounded-lg border\"\n                    />\n                    <button\n                      onClick={() => removeSelectedFile(index)}\n                      className=\"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity\"\n                    >\n                      <X className=\"w-3 h-3\" />\n                    </button>\n                    <p className=\"text-xs text-gray-600 mt-1 truncate\">{file.name}</p>\n                  </div>\n                ))}\n              </div>\n              <button\n                onClick={handleUpload}\n                disabled={uploading}\n                className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                {uploading ? 'Fazendo Upload...' : 'Fazer Upload'}\n              </button>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Imagens Existentes */}\n      {existingImages.length > 0 && (\n        <div className=\"space-y-4\">\n          <h4 className=\"font-medium text-gray-900\">Imagens dos Professores ({existingImages.length})</h4>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {existingImages.map((image) => (\n              <div key={image.id} className=\"bg-white border rounded-lg overflow-hidden shadow-sm\">\n                {/* Imagem */}\n                <div className=\"relative group\">\n                <img\n                  src={image.publicUrl}\n                  alt={image.descricao || 'Imagem do professor'}\n                    className=\"w-full h-48 object-cover\"\n                />\n                \n                {/* Overlay de ações */}\n                  <div className=\"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center\">\n                  <div className=\"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity\">\n                    <button\n                      onClick={() => handleDeleteImage(image.id, image.url)}\n                      className=\"p-2 bg-red-600 text-white rounded-full hover:bg-red-700\"\n                      title=\"Excluir imagem\"\n                    >\n                      <Trash2 className=\"w-5 h-5\" />\n                    </button>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Campos de legenda integrados com legendas_fotos */}\n                <div className=\"p-4 space-y-2\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Legenda\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                    value={image.legendaData?.legenda || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'legenda', e.target.value)}\n                    placeholder=\"Digite a legenda da imagem...\"\n                  />\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Descrição Detalhada\n                  </label>\n                  <textarea\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                    value={image.legendaData?.descricao_detalhada || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'descricao_detalhada', e.target.value)}\n                    placeholder=\"Descrição detalhada da imagem...\"\n                  />\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Autor da Foto\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                    value={image.legendaData?.autor_foto || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'autor_foto', e.target.value)}\n                    placeholder=\"Nome do fotógrafo\"\n                  />\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Data da Foto\n                  </label>\n                  <input\n                    type=\"date\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                    value={image.legendaData?.data_foto || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'data_foto', e.target.value)}\n                  />\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Categoria\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                    value={image.legendaData?.categoria || ''}\n                    onChange={e => handleLegendaFieldChange(image.id, 'categoria', e.target.value)}\n                    placeholder=\"Digite a categoria da imagem...\"\n                  />\n                  <div className=\"flex gap-2 pt-2\">\n                    <button\n                      onClick={() => handleLegendaSave(image)}\n                      className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\n                      type=\"button\"\n                    >\n                      <Save className=\"w-5 h-5\" /> Salvar Legenda\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Mensagem quando não há imagens */}\n      {existingImages.length === 0 && !uploading && (\n        <div className=\"text-center py-8 text-gray-500\">\n          <User className=\"w-12 h-12 mx-auto mb-2 text-gray-300\" />\n          <p>Nenhuma imagem dos professores adicionada ainda.</p>\n          <p className=\"text-sm\">Adicione imagens para mostrar os professores da escola.</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nProfessorImageUploadSection.propTypes = {\n  escolaId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  onImagesUpdate: PropTypes.func\n};\n\nexport default ProfessorImageUploadSection; ","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'M12 5v14', key: 's699le' }],\n];\n\n/**\n * @component @name Plus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJNMTIgNXYxNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Plus = createLucideIcon('Plus', __iconNode);\n\nexport default Plus;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49',\n      key: 'ct8e1f',\n    },\n  ],\n  ['path', { d: 'M14.084 14.158a3 3 0 0 1-4.242-4.242', key: '151rxh' }],\n  [\n    'path',\n    {\n      d: 'M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143',\n      key: '13bj9a',\n    },\n  ],\n  ['path', { d: 'm2 2 20 20', key: '1ooewy' }],\n];\n\n/**\n * @component @name EyeOff\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAuNzMzIDUuMDc2YTEwLjc0NCAxMC43NDQgMCAwIDEgMTEuMjA1IDYuNTc1IDEgMSAwIDAgMSAwIC42OTYgMTAuNzQ3IDEwLjc0NyAwIDAgMS0xLjQ0NCAyLjQ5IiAvPgogIDxwYXRoIGQ9Ik0xNC4wODQgMTQuMTU4YTMgMyAwIDAgMS00LjI0Mi00LjI0MiIgLz4KICA8cGF0aCBkPSJNMTcuNDc5IDE3LjQ5OWExMC43NSAxMC43NSAwIDAgMS0xNS40MTctNS4xNTEgMSAxIDAgMCAxIDAtLjY5NiAxMC43NSAxMC43NSAwIDAgMSA0LjQ0Ni01LjE0MyIgLz4KICA8cGF0aCBkPSJtMiAyIDIwIDIwIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/eye-off\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst EyeOff = createLucideIcon('EyeOff', __iconNode);\n\nexport default EyeOff;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm5 12 7-7 7 7', key: 'hav0vg' }],\n  ['path', { d: 'M12 19V5', key: 'x0mq9r' }],\n];\n\n/**\n * @component @name ArrowUp\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtNSAxMiA3LTcgNyA3IiAvPgogIDxwYXRoIGQ9Ik0xMiAxOVY1IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/arrow-up\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowUp = createLucideIcon('ArrowUp', __iconNode);\n\nexport default ArrowUp;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 5v14', key: 's699le' }],\n  ['path', { d: 'm19 12-7 7-7-7', key: '1idqje' }],\n];\n\n/**\n * @component @name ArrowDown\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgNXYxNCIgLz4KICA8cGF0aCBkPSJtMTkgMTItNyA3LTctNyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/arrow-down\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowDown = createLucideIcon('ArrowDown', __iconNode);\n\nexport default ArrowDown;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 20h9', key: 't2du7b' }],\n  [\n    'path',\n    {\n      d: 'M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z',\n      key: '1ykcvy',\n    },\n  ],\n];\n\n/**\n * @component @name PenLine\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgMjBoOSIgLz4KICA8cGF0aCBkPSJNMTYuMzc2IDMuNjIyYTEgMSAwIDAgMSAzLjAwMiAzLjAwMkw3LjM2OCAxOC42MzVhMiAyIDAgMCAxLS44NTUuNTA2bC0yLjg3Mi44MzhhLjUuNSAwIDAgMS0uNjItLjYybC44MzgtMi44NzJhMiAyIDAgMCAxIC41MDYtLjg1NHoiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/pen-line\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst PenLine = createLucideIcon('PenLine', __iconNode);\n\nexport default PenLine;\n","import React, { useState, useEffect } from 'react';\nimport { \n  BookOpen, \n  Plus, \n  Edit3, \n  Trash2, \n  Upload, \n  X, \n  Save, \n  ArrowUp, \n  ArrowDown,\n  Eye,\n  EyeOff\n} from 'lucide-react';\nimport { \n  getHistoriasProfessor, \n  createHistoriaProfessor, \n  updateHistoriaProfessor, \n  deleteHistoriaProfessor,\n  uploadHistoriaProfessorImage,\n  deleteHistoriaProfessorImage\n} from '../../services/historiaProfessorService';\n\nconst HistoriaProfessorManager = ({ escolaId, escolaNome }) => {\n  console.log('render historia manager', { escolaId, escolaNome });\n  const [historias, setHistorias] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [editingHistoria, setEditingHistoria] = useState(null);\n  const [uploadingImage, setUploadingImage] = useState(null);\n  const [success, setSuccess] = useState('');\n\n  // Form states\n  const [formData, setFormData] = useState({\n    nome_professor: '',\n    historia: '',\n    ordem: 1,\n    ativo: true\n  });\n\n  // Carregar histórias\n  const carregarHistorias = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const data = await getHistoriasProfessor(escolaId);\n      setHistorias(data);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (escolaId) {\n      carregarHistorias();\n    }\n  }, [escolaId]);\n\n  // Reset form\n  const resetForm = () => {\n    setFormData({\n      nome_professor: '',\n      historia: '',\n      ordem: 1,\n      ativo: true\n    });\n    setEditingHistoria(null);\n    setShowAddForm(false);\n  };\n\n  // Handle form submit\n  const handleSubmit = async (e) => {\n    console.log('🔍 SUBMIT CHAMADO - ID:', editingHistoria?.id);\n    console.log('📝 Evento recebido:', e);\n    console.log('📝 Evento type:', e.type);\n    console.log('📝 Evento target:', e.target);\n    \n    e.preventDefault();\n    console.log('✅ preventDefault executado');\n    \n    console.log('submit historia', editingHistoria);\n    if (!formData.nome_professor.trim()) {\n      setError('O nome do professor é obrigatório.');\n      return;\n    }\n    if (!formData.historia.trim()) {\n      setError('A história é obrigatória');\n      return;\n    }\n    // Conversão de tipos e preparação do payload\n    const payload = {\n      escola_id: Number(escolaId),\n      nome_professor: formData.nome_professor.trim(),\n      historia: formData.historia.trim(),\n      ordem: Number(formData.ordem) || 1,\n      ativo: Boolean(formData.ativo),\n    };\n    if (editingHistoria) {\n      console.log('Payload enviado para updateHistoriaProfessor:', payload);\n    }\n    console.log('Payload enviado para createHistoriaProfessor:', payload);\n    try {\n      setError('');\n      setSuccess('');\n      if (editingHistoria) {\n        await updateHistoriaProfessor(editingHistoria.id, payload);\n        setSuccess('História atualizada com sucesso!');\n      } else {\n        await createHistoriaProfessor(payload);\n        setSuccess('História criada com sucesso!');\n      }\n      resetForm();\n      carregarHistorias();\n    } catch (err) {\n      setError(err.message);\n      console.log('ERRO AO CRIAR/EDITAR HISTÓRIA:', err);\n    }\n  };\n\n  // Handle delete\n  const handleDelete = async (historiaId) => {\n    if (!window.confirm('Tem certeza que deseja excluir esta história?')) return;\n\n    try {\n      await deleteHistoriaProfessor(historiaId);\n      setSuccess('História excluída com sucesso!');\n      carregarHistorias();\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  // Handle image upload\n  const handleImageUpload = async (historiaId, file) => {\n    try {\n      setUploadingImage(historiaId);\n      setError('');\n      \n      await uploadHistoriaProfessorImage(file, escolaId, historiaId);\n      setSuccess('Imagem carregada com sucesso!');\n      carregarHistorias();\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setUploadingImage(null);\n    }\n  };\n\n  // Handle image delete\n  const handleImageDelete = async (historiaId) => {\n    if (!window.confirm('Tem certeza que deseja remover a imagem desta história?')) return;\n\n    try {\n      await deleteHistoriaProfessorImage(historiaId);\n      setSuccess('Imagem removida com sucesso!');\n      carregarHistorias();\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  // Handle edit\n  const handleEdit = (historia) => {\n    console.log('Entrou em handleEdit:', historia);\n    setEditingHistoria(historia);\n    setFormData({\n      nome_professor: historia.nome_professor || '',\n      historia: historia.historia,\n      ordem: historia.ordem,\n      ativo: historia.ativo\n    });\n    setShowAddForm(true);\n  };\n\n  // Handle reorder\n  const handleReorder = async (historiaId, direction) => {\n    const historiaIndex = historias.findIndex(h => h.id === historiaId);\n    if (historiaIndex === -1) return;\n\n    const newHistorias = [...historias];\n    const targetIndex = direction === 'up' ? historiaIndex - 1 : historiaIndex + 1;\n    \n    if (targetIndex < 0 || targetIndex >= newHistorias.length) return;\n\n    // Trocar posições\n    [newHistorias[historiaIndex], newHistorias[targetIndex]] = \n    [newHistorias[targetIndex], newHistorias[historiaIndex]];\n\n    // Atualizar ordens\n    const updates = newHistorias.map((historia, index) => ({\n      id: historia.id,\n      ordem: index + 1\n    }));\n\n    try {\n      // Atualizar todas as histórias com novas ordens\n      for (const update of updates) {\n        await updateHistoriaProfessor(update.id, { ordem: update.ordem });\n      }\n      \n      setSuccess('Ordem atualizada com sucesso!');\n      carregarHistorias();\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"p-6 bg-gray-50 rounded-lg\">\n        <div className=\"flex items-center justify-center py-8\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600\"></div>\n          <span className=\"ml-2 text-gray-600\">Carregando histórias do professor...</span>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-3\">\n          <BookOpen className=\"w-6 h-6 text-green-700\" />\n          <h3 className=\"text-lg font-semibold text-gray-900\">\n            Histórias do Professor - {escolaNome}\n          </h3>\n        </div>\n        <button\n          onClick={() => setShowAddForm(true)}\n          className=\"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\n        >\n          <Plus className=\"w-5 h-5\" />\n          Nova História\n        </button>\n      </div>\n\n      {/* Messages */}\n      {error && (\n        <div className=\"p-4 bg-red-50 border border-red-200 rounded-lg\">\n          <p className=\"text-red-600\">{error}</p>\n        </div>\n      )}\n      \n      {success && (\n        <div className=\"p-4 bg-green-50 border border-green-200 rounded-lg\">\n          <p className=\"text-green-600\">{success}</p>\n        </div>\n      )}\n\n      {/* Lista de Histórias */}\n      <div className=\"space-y-4\">\n        {historias.length === 0 ? (\n          <div className=\"text-center py-8 bg-gray-50 rounded-lg\">\n            <BookOpen className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\n            <p className=\"text-gray-500\">Nenhuma história do professor cadastrada.</p>\n            <button\n              onClick={() => setShowAddForm(true)}\n              className=\"mt-4 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\n            >\n              Criar primeira história\n            </button>\n          </div>\n        ) : (\n          historias.map((historia, index) => {\n            console.log('Renderizando história:', historia);\n            return (\n              <div\n                key={historia.id}\n                className={`p-6 bg-white rounded-lg border ${\n                  !historia.ativo ? 'opacity-60' : ''\n                }`}\n              >\n                <div className=\"flex items-start justify-between mb-4\">\n                  <div className=\"flex-1\">\n                    <div className=\"flex items-center gap-3 mb-2\">\n                      <span className=\"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full\">\n                        #{historia.ordem}\n                      </span>\n                      {historia.nome_professor && (\n                        <h4 className=\"font-medium text-gray-900\">{historia.nome_professor}</h4>\n                      )}\n                      {!historia.ativo && (\n                        <span className=\"flex items-center gap-1 text-orange-600 text-sm\">\n                          <EyeOff className=\"w-5 h-5\" />\n                          Inativa\n                        </span>\n                      )}\n                    </div>\n                    <p className=\"text-gray-700 line-clamp-3\">\n                      {historia.historia}\n                    </p>\n                  </div>\n                  <div className=\"flex items-center gap-2 ml-4\">\n                    {/* Reorder buttons */}\n                    <button\n                      onClick={() => handleReorder(historia.id, 'up')}\n                      disabled={index === 0}\n                      className=\"p-1 text-gray-400 hover:text-gray-600 disabled:opacity-30\"\n                      title=\"Mover para cima\"\n                    >\n                      <ArrowUp className=\"w-5 h-5\" />\n                    </button>\n                    <button\n                      onClick={() => handleReorder(historia.id, 'down')}\n                      disabled={index === historias.length - 1}\n                      className=\"p-1 text-gray-400 hover:text-gray-600 disabled:opacity-30\"\n                      title=\"Mover para baixo\"\n                    >\n                      <ArrowDown className=\"w-5 h-5\" />\n                    </button>\n                    {/* Action buttons */}\n                    <button\n                      onClick={() => { console.log('CLICOU NO BOTÃO EDITAR', historia); handleEdit(historia); }}\n                      className=\"p-2 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg\"\n                      title=\"Editar\"\n                    >\n                      <Edit3 className=\"w-5 h-5\" />\n                    </button>\n                    <button\n                      onClick={() => handleDelete(historia.id)}\n                      className=\"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg\"\n                      title=\"Excluir\"\n                    >\n                      <Trash2 className=\"w-5 h-5\" />\n                    </button>\n                  </div>\n                </div>\n              </div>\n            );\n          })\n        )}\n      </div>\n\n      {/* Add/Edit Form */}\n      {showAddForm && (\n        <div className=\"p-6 bg-gray-50 rounded-lg border\">\n          {editingHistoria\n            ? console.log('Abrindo formulário de edição:', editingHistoria)\n            : console.log('Abrindo formulário de criação')}\n          <div className=\"flex items-center justify-between mb-4\">\n            <h4 className=\"text-lg font-medium text-gray-900\">\n              {editingHistoria ? 'Editar História' : 'Nova História'}\n            </h4>\n            <button\n              onClick={resetForm}\n              className=\"text-gray-400 hover:text-gray-600\"\n            >\n              <X className=\"w-5 h-5\" />\n            </button>\n          </div>\n\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Nome do Professor *\n                </label>\n                <input\n                  type=\"text\"\n                  value={formData.nome_professor}\n                  onChange={(e) => setFormData({ ...formData, nome_professor: e.target.value })}\n                  className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                  placeholder=\"Nome do professor\"\n                  required\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Ordem\n                </label>\n                <input\n                  type=\"number\"\n                  min=\"1\"\n                  value={formData.ordem}\n                  onChange={(e) => setFormData({ ...formData, ordem: parseInt(e.target.value) || 1 })}\n                  className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                />\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                História *\n              </label>\n              <textarea\n                value={formData.historia}\n                onChange={(e) => setFormData({ ...formData, historia: e.target.value })}\n                rows={6}\n                className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                placeholder=\"Digite a história do professor...\"\n                required\n              />\n            </div>\n\n            <div className=\"flex items-center gap-4\">\n              <label className=\"flex items-center gap-2\">\n                <input\n                  type=\"checkbox\"\n                  checked={formData.ativo}\n                  onChange={(e) => setFormData({ ...formData, ativo: e.target.checked })}\n                  className=\"rounded border-gray-300 text-green-600 focus:ring-green-500\"\n                />\n                <span className=\"text-sm text-gray-700\">Ativa</span>\n              </label>\n            </div>\n\n            <div className=\"flex gap-3\">\n              <button\n                type=\"submit\"\n                className=\"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\n              >\n                <Save className=\"w-5 h-5\" />\n                {editingHistoria ? 'Atualizar' : 'Criar'}\n              </button>\n              <button\n                type=\"button\"\n                onClick={resetForm}\n                className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors\"\n              >\n                Cancelar\n              </button>\n            </div>\n          </form>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default HistoriaProfessorManager; ","import React, { useState, useEffect } from 'react';\nimport { getVideosEscola, createVideoEscola, updateVideoEscola, deleteVideoEscola } from '../../services/videoService';\nimport { Plus, Edit3, Trash2, Save } from 'lucide-react';\n\nconst VideoManager = ({ escolaId }) => {\n  const [videos, setVideos] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState('');\n  const [showForm, setShowForm] = useState(false);\n  const [editingVideo, setEditingVideo] = useState(null);\n  const [formData, setFormData] = useState({\n    titulo: '',\n    video_url: '',\n    descricao: '',\n    plataforma: 'youtube',\n    categoria: 'geral',\n    ativo: true\n  });\n\n  // Carregar vídeos\n  const carregarVideos = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const data = await getVideosEscola(escolaId);\n      setVideos(data);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (escolaId) carregarVideos();\n  }, [escolaId]);\n\n  // Reset form\n  const resetForm = () => {\n    setFormData({\n      titulo: '',\n      video_url: '',\n      descricao: '',\n      plataforma: 'youtube',\n      categoria: 'geral',\n      ativo: true\n    });\n    setEditingVideo(null);\n    setShowForm(false);\n  };\n\n  // Handle submit\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!formData.titulo.trim() || !formData.video_url.trim()) {\n      setError('Título e URL do vídeo são obrigatórios.');\n      return;\n    }\n    const payload = {\n      escola_id: Number(escolaId),\n      ...formData,\n      ativo: Boolean(formData.ativo)\n    };\n    try {\n      setError('');\n      setSuccess('');\n      if (editingVideo) {\n        await updateVideoEscola(editingVideo.id, payload);\n        setSuccess('Vídeo atualizado com sucesso!');\n      } else {\n        await createVideoEscola(payload);\n        setSuccess('Vídeo criado com sucesso!');\n      }\n      resetForm();\n      carregarVideos();\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  // Handle edit\n  const handleEdit = (video) => {\n    setEditingVideo(video);\n    setFormData({\n      titulo: video.titulo || '',\n      video_url: video.video_url || '',\n      descricao: video.descricao || '',\n      plataforma: video.plataforma || 'youtube',\n      categoria: video.categoria || 'geral',\n      ativo: video.ativo\n    });\n    setShowForm(true);\n  };\n\n  // Handle delete\n  const handleDelete = async (id) => {\n    if (!window.confirm('Tem certeza que deseja excluir este vídeo?')) return;\n    try {\n      await deleteVideoEscola(id);\n      setSuccess('Vídeo excluído com sucesso!');\n      carregarVideos();\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  if (loading) {\n    return <div className=\"p-6 text-center\">Carregando vídeos...</div>;\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <h3 className=\"text-lg font-semibold text-gray-900\">Vídeos da Escola</h3>\n        <button\n          onClick={() => setShowForm(true)}\n          className=\"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\n        >\n          <Plus className=\"w-5 h-5\" />\n          Novo Vídeo\n        </button>\n      </div>\n\n      {error && <div className=\"p-4 bg-red-50 border border-red-200 rounded-lg text-red-600\">{error}</div>}\n      {success && <div className=\"p-4 bg-green-50 border border-green-200 rounded-lg text-green-600\">{success}</div>}\n\n      {/* Lista de vídeos */}\n      <div className=\"space-y-4\">\n        {videos.length === 0 ? (\n          <div className=\"text-center py-8 bg-gray-50 rounded-lg\">\n            <p className=\"text-gray-500\">Nenhum vídeo cadastrado.</p>\n            <button\n              onClick={() => setShowForm(true)}\n              className=\"mt-4 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\n            >\n              Adicionar vídeo\n            </button>\n          </div>\n        ) : (\n          videos.map((video) => (\n            <div key={video.id} className={`p-6 bg-white rounded-lg border ${!video.ativo ? 'opacity-60' : ''}`}>\n              <div className=\"flex items-start justify-between mb-2\">\n                <div className=\"flex-1\">\n                  <div className=\"flex items-center gap-3 mb-2\">\n                    <h4 className=\"font-medium text-gray-900\">{video.titulo}</h4>\n                    {!video.ativo && (\n                      <span className=\"flex items-center gap-1 text-orange-600 text-sm\">\n                        Inativo\n                      </span>\n                    )}\n                  </div>\n                  <p className=\"text-gray-700 text-sm mb-2\">{video.descricao}</p>\n                  <div className=\"mb-2\">\n                    <iframe\n                      src={video.video_url}\n                      title={video.titulo}\n                      className=\"w-full aspect-video rounded-lg border\"\n                      allowFullScreen\n                    />\n                  </div>\n                  <div className=\"text-xs text-gray-500\">\n                    Plataforma: {video.plataforma} | Categoria: {video.categoria}\n                  </div>\n                </div>\n                <div className=\"flex flex-col gap-2 ml-4\">\n                  <button\n                    onClick={() => handleEdit(video)}\n                    className=\"p-2 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg\"\n                    title=\"Editar\"\n                  >\n                    <Edit3 className=\"w-5 h-5\" />\n                  </button>\n                  <button\n                    onClick={() => handleDelete(video.id)}\n                    className=\"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg\"\n                    title=\"Excluir\"\n                  >\n                    <Trash2 className=\"w-5 h-5\" />\n                  </button>\n                </div>\n              </div>\n            </div>\n          ))\n        )}\n      </div>\n\n      {/* Formulário de adicionar/editar vídeo */}\n      {showForm && (\n        <div className=\"p-6 bg-gray-50 rounded-lg border\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h4 className=\"text-lg font-medium text-gray-900\">\n              {editingVideo ? 'Editar Vídeo' : 'Novo Vídeo'}\n            </h4>\n            <button\n              onClick={resetForm}\n              className=\"text-gray-400 hover:text-gray-600\"\n            >\n              <span className=\"sr-only\">Fechar</span>\n              ×\n            </button>\n          </div>\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Título *</label>\n                <input\n                  type=\"text\"\n                  value={formData.titulo}\n                  onChange={e => setFormData({ ...formData, titulo: e.target.value })}\n                  className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                  placeholder=\"Título do vídeo\"\n                  required\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">URL do Vídeo *</label>\n                <input\n                  type=\"url\"\n                  value={formData.video_url}\n                  onChange={e => setFormData({ ...formData, video_url: e.target.value })}\n                  className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                  placeholder=\"https://www.youtube.com/embed/...\"\n                  required\n                />\n              </div>\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Descrição</label>\n              <textarea\n                value={formData.descricao}\n                onChange={e => setFormData({ ...formData, descricao: e.target.value })}\n                rows={3}\n                className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                placeholder=\"Descrição do vídeo (opcional)\"\n              />\n            </div>\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Plataforma</label>\n                <input\n                  type=\"text\"\n                  value={formData.plataforma}\n                  onChange={e => setFormData({ ...formData, plataforma: e.target.value })}\n                  className=\"w-full border rounded-lg px-3 py-2\"\n                  placeholder=\"youtube, vimeo...\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Categoria</label>\n                <input\n                  type=\"text\"\n                  value={formData.categoria}\n                  onChange={e => setFormData({ ...formData, categoria: e.target.value })}\n                  className=\"w-full border rounded-lg px-3 py-2\"\n                  placeholder=\"geral, institucional...\"\n                />\n              </div>\n              <div className=\"flex items-center gap-2 mt-6\">\n                <input\n                  type=\"checkbox\"\n                  checked={formData.ativo}\n                  onChange={e => setFormData({ ...formData, ativo: e.target.checked })}\n                  className=\"rounded border-gray-300 text-green-600 focus:ring-green-500\"\n                />\n                <span className=\"text-sm text-gray-700\">Ativo</span>\n              </div>\n            </div>\n            <div className=\"flex gap-3\">\n              <button\n                type=\"submit\"\n                className=\"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\n              >\n                <Save className=\"w-5 h-5\" />\n                {editingVideo ? 'Atualizar' : 'Criar'}\n              </button>\n              <button\n                type=\"button\"\n                onClick={resetForm}\n                className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors\"\n              >\n                Cancelar\n              </button>\n            </div>\n          </form>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default VideoManager; ","import { supabase } from '../supabaseClient';\n\n// Buscar todos os vídeos de uma escola\nexport async function getVideosEscola(escolaId) {\n  const { data, error } = await supabase\n    .from('titulos_videos')\n    .select('*')\n    .eq('escola_id', escolaId)\n    .eq('ativo', true)\n    .order('created_at', { ascending: false });\n  if (error) throw error;\n  return data;\n}\n\n// Criar novo vídeo\nexport async function createVideoEscola(video) {\n  const { data, error } = await supabase\n    .from('titulos_videos')\n    .insert([video])\n    .select();\n  if (error) throw error;\n  return data?.[0];\n}\n\n// Atualizar vídeo existente\nexport async function updateVideoEscola(id, updates) {\n  const { data, error } = await supabase\n    .from('titulos_videos')\n    .update(updates)\n    .eq('id', id)\n    .select();\n  if (error) throw error;\n  return data?.[0];\n}\n\n// Remover vídeo\nexport async function deleteVideoEscola(id) {\n  const { error } = await supabase\n    .from('titulos_videos')\n    .delete()\n    .eq('id', id);\n  if (error) throw error;\n  return true;\n} ","import React, { useState, useEffect } from 'react';\nimport { supabase } from '../supabaseClient';\nimport { ImageUploadSection, ProfessorImageUploadSection } from './EditEscolaPanel';\nimport VideoSection from './EditEscolaPanel/VideoSection';\nimport DocumentViewer from './PainelInformacoes/components/DocumentViewer';\nimport { useRefresh } from '../contexts/RefreshContext';\nimport { Menu } from 'lucide-react';\nimport HistoriaProfessorManager from './AdminPanel/HistoriaProfessorManager';\nimport VideoManager from './AdminPanel/VideoManager';\n\nconst AdminPanel = () => {\n  const { triggerRefresh } = useRefresh();\n  const [escolas, setEscolas] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedType, setSelectedType] = useState('todos');\n  const [editingLocation, setEditingLocation] = useState(null);\n  const [isSaving, setIsSaving] = useState(false);\n  const [saveError, setSaveError] = useState(null);\n  const [saveSuccess, setSaveSuccess] = useState(false);\n  const [documentos, setDocumentos] = useState([]);\n  const [loadingDocumentos, setLoadingDocumentos] = useState(false);\n  const [showAddDocument, setShowAddDocument] = useState(false);\n  const [editingDocument, setEditingDocument] = useState(null);\n  const [newDocument, setNewDocument] = useState({\n    titulo: '',\n    autoria: '',\n    tipo: '',\n    link_pdf: ''\n  });\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n  const [selectedModalidades, setSelectedModalidades] = useState([]);\n  const [outroModalidade, setOutroModalidade] = useState('');\n\n  // Detectar se é mobile\n  const isMobile = typeof window !== 'undefined' && window.innerWidth <= 768;\n\n  // Lista de modalidades de ensino organizadas por categoria\n  const modalidadesOptions = [\n    // 1. Educação Infantil\n    'Educação Infantil',\n    'Educação Infantil (Idade 0 a 6 anos)',\n    'Educação Infantil (Pré-escola I e II) – 1 sala multisseriada',\n    'Educação Infantil (Pré-escola I) – 1 sala regular',\n    'Educação Infantil + Ensino Fundamental – multisseriado',\n    'Educação Infantil + Ensino Fundamental – regular e multisseriado',\n    \n    // 2. Educação Infantil + Ensino Fundamental\n    'Educação Infantil + Ensino Fundamental',\n    'Educação Infantil + Ensino Fundamental (Anos Iniciais e Anos Finais)',\n    'Educação Infantil + Ensino Fundamental (Anos Iniciais multisseriado + Anos Finais multisseriado)',\n    'Educação Infantil + Ensino Fundamental (1º ao 9º ano) – Salas multisseriadas',\n    'Educação Infantil + Ensino Fundamental (Pré I + 1º ao 4º ano) – 1 sala multisseriada',\n    'Educação Infantil + Ensino Fundamental com EJA – Multisseriado',\n    \n    // 3. Ensino Fundamental - Anos Iniciais\n    'Ensino Fundamental Anos Iniciais (1º ao 3º)',\n    'Ensino Fundamental Anos Iniciais (1º ao 5º ano) – 1 sala multisseriada',\n    'Ensino Fundamental Anos Iniciais (4º e 5º ano) – 1 sala multisseriada',\n    'Ensino Fundamental Anos Iniciais – EJA (1º ao 5º ano) – multisseriado',\n    \n    // 3. Ensino Fundamental - Anos Finais\n    'Ensino Fundamental Anos Finais (6º ao 9º ano) – 1 sala multisseriada',\n    'Ensino Fundamental Anos Finais – EJA (6º ao 9º ano) – multisseriado',\n    \n    // 3. Ensino Fundamental - Ambos\n    'Ensino Fundamental (Anos Iniciais e Finais) – regular e multisseriado',\n    'Ensino Fundamental – Atendimento temporário em escola não indígena',\n    \n    // 4. Ensino Médio\n    'Ensino Médio (1º ao 3º ano) – regular',\n    'Ensino Médio (1º ao 3º ano) – multisseriado',\n    'Ensino Médio – EJA (1º ao 3º ano) – multisseriado',\n    'Ensino Médio – Não há atendimento'\n  ];\n\n  // Funções para gerenciar modalidades\n  const handleModalidadeChange = (modalidade) => {\n    setSelectedModalidades(prev => {\n      if (prev.includes(modalidade)) {\n        return prev.filter(m => m !== modalidade);\n      } else {\n        return [...prev, modalidade];\n      }\n    });\n  };\n\n  const handleOutroModalidadeChange = (value) => {\n    setOutroModalidade(value);\n    // Adicionar ou remover \"Outro\" das seleções\n    setSelectedModalidades(prev => {\n      const hasOutro = prev.some(m => m.startsWith('Outro:'));\n      if (value.trim()) {\n        if (hasOutro) {\n          return prev.map(m => m.startsWith('Outro:') ? `Outro: ${value}` : m);\n        } else {\n          return [...prev, `Outro: ${value}`];\n        }\n      } else {\n        return prev.filter(m => !m.startsWith('Outro:'));\n      }\n    });\n  };\n\n\n\n  // Função para salvar modalidades no editingLocation\n  const saveModalidades = () => {\n    const modalidadesText = selectedModalidades.join('; ');\n    \n    setEditingLocation(prev => ({\n      ...prev,\n      'Modalidade de Ensino/turnos de funcionamento': modalidadesText\n    }));\n  };\n\n  // Configuração das abas\n  const tabs = [\n    { id: 'dados-basicos', label: 'Dados Básicos' },\n    { id: 'povos-linguas', label: 'Povos' },\n    { id: 'modalidades', label: 'Modalidades' },\n    { id: 'infraestrutura', label: 'Infraestrutura' },\n    { id: 'gestao-professores', label: 'Gestores' },\n    { id: 'material-pedagogico', label: 'Material Pedagógico' },\n    { id: 'projetos-parcerias', label: 'Projetos e Parcerias' },\n    { id: 'redes-sociais', label: 'Redes Sociais' },\n    { id: 'video', label: 'Vídeo' },\n    { id: 'historias', label: 'Histórias' },\n    { id: 'historia-professores', label: 'História dos Professores' },\n    { id: 'coordenadas', label: 'Coordenadas' },\n    { id: 'imagens-escola', label: 'Imagens da Escola' },\n    { id: 'imagens-professores', label: 'Imagens dos Professores' },\n    { id: 'documentos', label: 'Documentos' }\n  ];\n\n  // Buscar todos os locais\n  useEffect(() => {\n    const fetchEscolas = async () => {\n      try {\n        const { data, error } = await supabase\n          .from('escolas_completa')\n          .select('*')\n          .order('Escola', { ascending: true });\n\n        if (error) throw error;\n        \n        // Mapear os dados para usar os nomes originais das colunas\n        const escolasMapeadas = data.map(escola => ({\n          ...escola,\n          // Garantir que os novos campos de endereço existam\n          logradouro: escola.logradouro || '',\n          numero: escola.numero || '',\n          complemento: escola.complemento || '',\n          bairro: escola.bairro || '',\n          cep: escola.cep || '',\n          estado: escola.estado || 'SP'\n        }));\n        \n        setEscolas(escolasMapeadas);\n      } catch (err) {\n        console.error('Erro ao buscar escolas:', err);\n      }\n    };\n\n    fetchEscolas();\n  }, []);\n\n  // Buscar documentos da escola selecionada\n  const fetchDocumentos = async (escolaId) => {\n    try {\n      setLoadingDocumentos(true);\n      const { data, error } = await supabase\n        .from('documentos_escola')\n        .select('*')\n        .eq('escola_id', escolaId)\n        .order('titulo', { ascending: true });\n\n      if (error) throw error;\n      setDocumentos(data || []);\n    } catch (err) {\n      console.error('Erro ao buscar documentos:', err);\n      setDocumentos([]);\n    } finally {\n      setLoadingDocumentos(false);\n    }\n  };\n\n  // Buscar documentos quando uma escola for selecionada para edição\n  useEffect(() => {\n    if (editingLocation?.id) {\n      fetchDocumentos(editingLocation.id);\n    }\n  }, [editingLocation?.id]);\n\n  // Funções para gerenciar documentos\n  const handleAddDocument = async (e) => {\n    e.preventDefault();\n    if (!editingLocation?.id) return;\n\n    try {\n      const { data, error } = await supabase\n        .from('documentos_escola')\n        .insert([{\n          ...newDocument,\n          escola_id: editingLocation.id\n        }])\n        .select();\n\n      if (error) throw error;\n\n      setDocumentos([...documentos, data[0]]);\n      setNewDocument({ titulo: '', autoria: '', tipo: '', link_pdf: '' });\n      setShowAddDocument(false);\n    } catch (err) {\n      console.error('Erro ao adicionar documento:', err);\n      alert('Erro ao adicionar documento. Tente novamente.');\n    }\n  };\n\n  const handleUpdateDocument = async (e) => {\n    e.preventDefault();\n    if (!editingDocument?.id) return;\n\n    try {\n      const { error } = await supabase\n        .from('documentos_escola')\n        .update(editingDocument)\n        .eq('id', editingDocument.id);\n\n      if (error) throw error;\n\n      setDocumentos(documentos.map(doc => \n        doc.id === editingDocument.id ? editingDocument : doc\n      ));\n      setEditingDocument(null);\n    } catch (err) {\n      console.error('Erro ao atualizar documento:', err);\n      alert('Erro ao atualizar documento. Tente novamente.');\n    }\n  };\n\n  const handleDeleteDocument = async (documentId) => {\n    if (!window.confirm('Tem certeza que deseja excluir este documento?')) return;\n\n    try {\n      const { error } = await supabase\n        .from('documentos_escola')\n        .delete()\n        .eq('id', documentId);\n\n      if (error) throw error;\n\n      setDocumentos(documentos.filter(doc => doc.id !== documentId));\n    } catch (err) {\n      console.error('Erro ao excluir documento:', err);\n      alert('Erro ao excluir documento. Tente novamente.');\n    }\n  };\n\n  // Função de validação\n  const validateForm = (data) => {\n    const errors = [];\n    if (!data.Escola || data.Escola.trim() === '') {\n      errors.push('Nome da escola é obrigatório');\n    }\n    return errors;\n  };\n\n  // Função para salvar com validação e feedback\n  const handleSave = async (e) => {\n    e.preventDefault();\n    \n    // Validar formulário\n    const validationErrors = validateForm(editingLocation);\n    if (validationErrors.length > 0) {\n      setSaveError(validationErrors.join(', '));\n      return;\n    }\n\n    setIsSaving(true);\n    setSaveError(null);\n    setSaveSuccess(false);\n\n    try {\n      // Antes de montar o updateData, remova qualquer campo 'municipio' (sem acento)\n      if ('municipio' in editingLocation) {\n        delete editingLocation['municipio'];\n      }\n\n      // Preparar dados para atualização - organizados por seções\n      const updateData = {\n        // Dados básicos\n        'Escola': editingLocation.Escola,\n        'Município': editingLocation.Município,\n        'Endereço': editingLocation.Endereço,\n        \n        // Novos campos de endereço detalhado\n        'logradouro': editingLocation.logradouro,\n        'numero': editingLocation.numero,\n        'complemento': editingLocation.complemento,\n        'bairro': editingLocation.bairro,\n        'cep': editingLocation.cep,\n        'estado': editingLocation.estado,\n        \n        'Terra Indigena (TI)': editingLocation['Terra Indigena (TI)'],\n        'Parcerias com o município': editingLocation['Parcerias com o município'],\n        'Diretoria de Ensino': editingLocation['Diretoria de Ensino'],\n        'Ano de criação da escola': editingLocation['Ano de criação da escola'],\n        \n        // Povos e Línguas\n        'Povos indigenas': editingLocation['Povos indigenas'],\n        'Linguas faladas': editingLocation['Linguas faladas'],\n        \n        // Modalidades\n        'Modalidade de Ensino/turnos de funcionamento': editingLocation['Modalidade de Ensino/turnos de funcionamento'],\n        'Numero de alunos': editingLocation['Numero de alunos'],\n        'turnos_funcionamento': editingLocation.turnos_funcionamento,\n        \n        // Infraestrutura\n        'Espaço escolar e estrutura': editingLocation['Espaço escolar e estrutura'],\n        'Acesso à água': editingLocation['Acesso à água'],\n        'Tem coleta de lixo?': editingLocation['Tem coleta de lixo?'],\n        'Acesso à internet': editingLocation['Acesso à internet'],\n        'Equipamentos Tecnológicos (Computadores, tablets e impressoras)': editingLocation['Equipamentos Tecnológicos (Computadores, tablets e impressoras)'],\n        'Modo de acesso à escola': editingLocation['Modo de acesso à escola'],\n        'Cozinha': editingLocation.cozinha,\n        'Merenda Escolar': editingLocation.merenda_escolar,\n        'Merenda Diferenciada': editingLocation.diferenciada,\n        'Merenda Diferenciada (Detalhes)': editingLocation.merenda_diferenciada,\n        \n        // Gestores\n        'Gestão/Nome': editingLocation['Gestão/Nome'],\n        'Outros funcionários': editingLocation['Outros funcionários'],\n        'Quantidade de professores indígenas': editingLocation['Quantidade de professores indígenas'],\n        'Quantidade de professores não indígenas': editingLocation['Quantidade de professores não indígenas'],\n        'Professores falam a língua indígena?': editingLocation['Professores falam a língua indígena?'],\n        'Formação dos professores': editingLocation['Formação dos professores'],\n        'Formação continuada oferecida': editingLocation['Formação continuada oferecida'],\n        \n        // Projeto Pedagógico\n        'A escola possui PPP próprio?': editingLocation['A escola possui PPP próprio?'],\n        'PPP elaborado com a comunidade?': editingLocation['PPP elaborado com a comunidade?'],\n        'Linguas faladas': editingLocation['Linguas faladas'],\n        \n        // Projetos e Parcerias\n        'Projetos em andamento': editingLocation['Projetos em andamento'],\n        'Parcerias com universidades?': editingLocation['Parcerias com universidades?'],\n        'Ações com ONGs ou coletivos?': editingLocation['Ações com ONGs ou coletivos?'],\n        'Desejos da comunidade para a escola': editingLocation['Desejos da comunidade para a escola'],\n        \n        // Redes Sociais e Links\n        'Escola utiliza redes sociais?': editingLocation['Escola utiliza redes sociais?'],\n        'Links das redes sociais': editingLocation['Links das redes sociais'],\n        'links': editingLocation['links'],\n        'link_para_videos': editingLocation['link_para_videos'],\n        \n        // Histórias\n        'historia_da_escola': editingLocation['historia_da_escola'],\n        \n        // Coordenadas\n        'latitude': editingLocation['latitude'],\n        'longitude': editingLocation['longitude']\n      };\n\n      // Debug: Log dos campos que estão sendo enviados para o Supabase\n      console.log('=== DEBUG: Campos sendo enviados para o Supabase ===');\n      console.log('updateData:', updateData);\n      console.log('Campos com \"municipio\" (sem acento):', Object.keys(updateData).filter(key => key.includes('municipio')));\n      console.log('Campos com \"Município\" (com acento):', Object.keys(updateData).filter(key => key.includes('Município')));\n      console.log('editingLocation completo:', editingLocation);\n      console.log('Todas as chaves do editingLocation:', Object.keys(editingLocation));\n      console.log('Chaves que contêm \"municipio\":', Object.keys(editingLocation).filter(key => key.includes('municipio')));\n      console.log('==================================================');\n\n      // Atualizar no Supabase\n      const { error } = await supabase\n        .from('escolas_completa')\n        .update(updateData)\n        .eq('id', editingLocation.id);\n\n      if (error) {\n        throw error;\n      }\n\n      // Atualizar lista local\n      setEscolas(escolas.map(escola => escola.id === editingLocation.id ? { ...escola, ...editingLocation } : escola));\n      \n      // Feedback de sucesso - manter o painel aberto\n      setSaveSuccess(true);\n      setTimeout(() => {\n        setSaveSuccess(false);\n      }, 3000);\n\n    } catch (error) {\n      console.error('Erro ao salvar:', error);\n      setSaveError(`Erro ao salvar: ${error.message}`);\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  // Função para carregar modalidades existentes\n  const loadExistingModalidades = (modalidadesText) => {\n    if (!modalidadesText) {\n      setSelectedModalidades([]);\n      setOutroModalidade('');\n      return;\n    }\n\n    const parts = modalidadesText.split(';').map(part => part.trim());\n    const modalidades = [];\n    let outro = '';\n\n    parts.forEach(part => {\n      if (part.startsWith('Outro:')) {\n        outro = part.replace('Outro:', '').trim();\n        modalidades.push(part);\n      } else if (modalidadesOptions.includes(part)) {\n        modalidades.push(part);\n      } else if (part) {\n        // Se não está na lista padrão, tratar como \"outro\"\n        outro = part;\n        modalidades.push(`Outro: ${part}`);\n      }\n    });\n\n    setSelectedModalidades(modalidades);\n    setOutroModalidade(outro);\n  };\n\n  // Abrir edição inline\n  const openEditModal = (escola) => {\n    // Carregar modalidades existentes\n    loadExistingModalidades(escola['Modalidade de Ensino/turnos de funcionamento']);\n    \n    // Garantir que apenas os campos originais do banco sejam usados\n    const escolaOriginal = {\n      id: escola.id,\n      Escola: escola.Escola,\n      'Município': escola['Município'],\n      'Endereço': escola['Endereço'],\n      'Terra Indigena (TI)': escola['Terra Indigena (TI)'],\n      'Parcerias com o município': escola['Parcerias com o município'],\n      'Diretoria de Ensino': escola['Diretoria de Ensino'],\n      'Ano de criação da escola': escola['Ano de criação da escola'],\n      'Povos indigenas': escola['Povos indigenas'],\n      'Linguas faladas': escola['Linguas faladas'],\n      'Modalidade de Ensino/turnos de funcionamento': escola['Modalidade de Ensino/turnos de funcionamento'],\n      'Numero de alunos': escola['Numero de alunos'],\n      'turnos_funcionamento': escola['turnos_funcionamento'] || '',\n      'Espaço escolar e estrutura': escola['Espaço escolar e estrutura'],\n      'Acesso à água': escola['Acesso à água'],\n      'Tem coleta de lixo?': escola['Tem coleta de lixo?'],\n      'Acesso à internet': escola['Acesso à internet'],\n      'Equipamentos Tecnológicos (Computadores, tablets e impressoras)': escola['Equipamentos Tecnológicos (Computadores, tablets e impressoras)'],\n      'Modo de acesso à escola': escola['Modo de acesso à escola'],\n      'Gestão/Nome': escola['Gestão/Nome'],\n      'Outros funcionários': escola['Outros funcionários'],\n      'Quantidade de professores indígenas': escola['Quantidade de professores indígenas'],\n      'Quantidade de professores não indígenas': escola['Quantidade de professores não indígenas'],\n      'Professores falam a língua indígena?': escola['Professores falam a língua indígena?'],\n      'Formação dos professores': escola['Formação dos professores'],\n      'Formação continuada oferecida': escola['Formação continuada oferecida'],\n      'A escola possui PPP próprio?': escola['A escola possui PPP próprio?'],\n      'PPP elaborado com a comunidade?': escola['PPP elaborado com a comunidade?'],\n      'Projetos em andamento': escola['Projetos em andamento'],\n      'Parcerias com universidades?': escola['Parcerias com universidades?'],\n      'Ações com ONGs ou coletivos?': escola['Ações com ONGs ou coletivos?'],\n      'Desejos da comunidade para a escola': escola['Desejos da comunidade para a escola'],\n      'Escola utiliza redes sociais?': escola['Escola utiliza redes sociais?'],\n      'Links das redes sociais': escola['Links das redes sociais'],\n      'historia_da_escola': escola['historia_da_escola'],\n      'latitude': escola['latitude'],\n      'longitude': escola['longitude'],\n      'links': escola['links'],\n      'link_para_videos': escola['link_para_videos'],\n      // Novos campos de endereço detalhado\n      'logradouro': escola['logradouro'] || '',\n      'numero': escola['numero'] || '',\n      'complemento': escola['complemento'] || '',\n      'bairro': escola['bairro'] || '',\n      'cep': escola['cep'] || '',\n      'estado': escola['estado'] || 'SP',\n      // Campo para controle da aba ativa\n      activeTab: 'dados-basicos'\n    };\n    \n    setEditingLocation(escolaOriginal);\n  };\n\n  // Remover showNewEscolaPanel e EditEscolaPanel modal\n  // Adicionar função para criar novo objeto de escola vazio\n  const criarNovaEscolaVazia = () => {\n    // Limpar modalidades\n    setSelectedModalidades([]);\n    setOutroModalidade('');\n    \n    return {\n    Escola: '',\n    'Município': '',\n    'Endereço': '',\n    'Terra Indigena (TI)': '',\n    'Parcerias com o município': '',\n    'Diretoria de Ensino': '',\n    'Ano de criação da escola': '',\n    'Povos indigenas': '',\n    'Linguas faladas': '',\n    'Modalidade de Ensino/turnos de funcionamento': '',\n    'Numero de alunos': '',\n    'turnos_funcionamento': '',\n    'Espaço escolar e estrutura': '',\n    'Acesso à água': '',\n    'Tem coleta de lixo?': '',\n    'Acesso à internet': '',\n    'Equipamentos Tecnológicos (Computadores, tablets e impressoras)': '',\n    'Modo de acesso à escola': '',\n    'Gestão/Nome': '',\n    'Outros funcionários': '',\n    'Quantidade de professores indígenas': '',\n    'Quantidade de professores não indígenas': '',\n    'Professores falam a língua indígena?': '',\n    'Formação dos professores': '',\n    'Formação continuada oferecida': '',\n    'A escola possui PPP próprio?': '',\n    'PPP elaborado com a comunidade?': '',\n    'Projetos em andamento': '',\n    'Parcerias com universidades?': '',\n    'Ações com ONGs ou coletivos?': '',\n    'Desejos da comunidade para a escola': '',\n    'Escola utiliza redes sociais?': '',\n    'Links das redes sociais': '',\n    'historia_da_escola': '',\n    'latitude': '',\n    'longitude': '',\n    'links': '',\n    'link_para_videos': '',\n    'logradouro': '',\n    'numero': '',\n    'complemento': '',\n    'bairro': '',\n    'cep': '',\n    'estado': 'SP',\n    'nome_professor': '',\n    'professores_indigenas': '',\n    'professores_nao_indigenas': '',\n    'professores_falam_lingua_indigena': '',\n    'formacao_professores': '',\n    'visitas_supervisores_formacao': '',\n    'outros_funcionarios': '',\n    'gestao': '',\n    'merenda_diferenciada': '',\n    cozinha: '',\n    merenda_escolar: '',\n    diferenciada: '',\n    activeTab: 'dados-basicos'\n    };\n  };\n\n  return (\n    <div className=\"flex min-h-screen bg-gray-950\">\n      {/* Botão de menu para mobile */}\n      {isMobile && !sidebarOpen && (\n        <button\n          className=\"fixed top-4 left-4 z-50 bg-gray-900 rounded-full shadow-lg p-2 border border-gray-800\"\n          onClick={() => setSidebarOpen(true)}\n          aria-label=\"Abrir menu lateral\"\n        >\n          <Menu className=\"w-6 h-6 text-gray-200\" />\n        </button>\n      )}\n      {/* Menu lateral */}\n      {(!isMobile || sidebarOpen) && (\n        <aside\n          className={`bg-gray-900 border-r border-gray-700 rounded-r-2xl shadow-lg p-4 overflow-y-auto h-screen sticky top-0 z-40 transition-transform duration-300 ${\n            isMobile ? 'fixed left-0 top-0 w-64 max-w-[80vw] shadow-2xl' : 'w-64'\n          }`}\n          style={{\n            transform: isMobile && !sidebarOpen ? 'translateX(-100%)' : 'translateX(0)',\n            top: isMobile ? 0 : 72,\n          }}\n        >\n          {/* Botão de fechar para mobile */}\n          {isMobile && (\n            <button\n              className=\"absolute top-4 right-4 text-gray-400 hover:text-gray-200 focus:outline-none focus:ring-2 focus:ring-green-400\"\n              onClick={() => setSidebarOpen(false)}\n              aria-label=\"Fechar menu lateral\"\n            >\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          )}\n          <h2 className=\"text-xl font-bold tracking-wide text-green-400 uppercase mb-6 sticky top-0 bg-gray-900 pb-2\">Escolas</h2>\n        {/* Busca no menu lateral */}\n          <div className=\"mb-4 sticky top-24 mt-8 bg-gray-900 pb-2\">\n          <input\n            type=\"text\"\n            placeholder=\"Buscar escola...\"\n              className=\"w-full px-3 py-2 border border-gray-700 rounded text-sm bg-gray-800 text-gray-100 placeholder-gray-400 focus:ring-2 focus:ring-amber-400 focus:border-amber-400\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n          />\n        </div>\n        <ul className=\"space-y-1\">\n          {escolas\n            .filter(escola => \n              escola.Escola?.toLowerCase().includes(searchTerm.toLowerCase())\n            )\n            .map(escola => (\n            <li key={escola.id}>\n              <button\n                  className={`block w-full text-left px-2 py-1 rounded hover:bg-green-800 text-sm text-gray-200 ${editingLocation?.id === escola.id ? 'bg-green-700 font-bold text-white' : ''}`}\n                  onClick={() => {\n                    openEditModal(escola);\n                    if (isMobile) setSidebarOpen(false);\n                  }}\n              >\n                {escola.Escola}\n              </button>\n            </li>\n          ))}\n        </ul>\n      </aside>\n      )}\n      {/* Conteúdo principal */}\n      <main className=\"flex-1 p-6 overflow-y-auto h-screen bg-gray-950\">\n        <h1 className=\"text-2xl font-bold text-gray-100 mb-6\">Painel de Administração</h1>\n        {/* Barra de ferramentas */}\n        <div className=\"bg-gray-900 p-4 rounded-lg shadow mb-6 border border-gray-800\">\n          <div className=\"flex flex-col sm:flex-row gap-4\">\n            {/* Campo de busca */}\n            <div className=\"relative flex-1\">\n              <input\n                type=\"text\"\n                placeholder=\"Buscar por título ou descrição...\"\n                className=\"w-full pl-10 pr-4 py-2 border border-gray-700 rounded-lg bg-gray-800 text-gray-100 placeholder-gray-400 focus:ring-2 focus:ring-amber-400 focus:border-amber-400\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n              />\n            </div>\n            {/* Filtro por tipo */}\n            <div className=\"relative\">\n              <select\n                className=\"pl-10 pr-4 py-2 border border-gray-700 rounded-lg bg-gray-800 text-gray-100 focus:ring-2 focus:ring-amber-400 focus:border-amber-400\"\n                value={selectedType}\n                onChange={(e) => setSelectedType(e.target.value)}\n              >\n                <option value=\"todos\">Todos</option>\n              </select>\n            </div>\n            {/* Botão Nova Escola */}\n            <button\n              onClick={() => setEditingLocation(criarNovaEscolaVazia())}\n              className=\"px-4 py-2 bg-green-700 text-white rounded-lg hover:bg-green-800 focus:outline-none focus:ring-2 focus:ring-green-400 transition-colors\"\n            >\n              + Nova Escola\n            </button>\n          </div>\n        </div>\n        {/* Painel de Edição */}\n        {editingLocation && typeof editingLocation === 'object' && (editingLocation.Escola !== undefined) && (\n          <div className=\"bg-gray-900 rounded-lg shadow-lg p-6 max-h-[calc(100vh-200px)] overflow-hidden flex flex-col border border-gray-800\">\n            <div className=\"flex justify-between items-center mb-4 flex-shrink-0\">\n              <h2 className=\"text-lg font-semibold text-gray-100\">{editingLocation.id ? 'Editar Escola' : 'Nova Escola'}</h2>\n              <button\n                onClick={() => setEditingLocation(null)}\n                className=\"text-gray-400 hover:text-gray-200\"\n              >\n                Fechar\n              </button>\n            </div>\n            {/* Navegação por abas */}\n            <div className=\"border-b border-gray-800 mb-6 flex-shrink-0 bg-gray-800 rounded-t-lg\">\n              <nav className=\"-mb-px flex space-x-8 overflow-x-auto\">\n                {tabs.map((tab) => (\n                  <button\n                    key={tab.id}\n                    type=\"button\"\n                    onClick={() => setEditingLocation({ ...editingLocation, activeTab: tab.id })}\n                    className={`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm transition-colors ${\n                      (editingLocation.activeTab || 'dados-basicos') === tab.id\n                        ? 'border-green-400 text-green-300 bg-gray-900'\n                        : 'border-transparent text-gray-400 hover:text-green-200 hover:bg-gray-700'\n                    }`}\n                  >\n                    {tab.label}\n                  </button>\n                ))}\n              </nav>\n            </div>\n            <form onSubmit={handleSave} className=\"flex-1 flex flex-col overflow-hidden\">\n              {/* Conteúdo das abas */}\n              <div className=\"flex-1 overflow-y-auto\">\n                {/* Aba: Dados Básicos */}\n                {(editingLocation.activeTab || 'dados-basicos') === 'dados-basicos' && (\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Nome da Escola *</label>\n                      <input\n                        type=\"text\"\n                        className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                        value={editingLocation.Escola || ''}\n                        onChange={e => setEditingLocation({ ...editingLocation, Escola: e.target.value })}\n                        required\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Município</label>\n                      <input\n                        type=\"text\"\n                        className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                        value={editingLocation.Município || ''}\n                        onChange={e => setEditingLocation({ ...editingLocation, Município: e.target.value })}\n                      />\n                    </div>\n                    \n                    {/* Novos campos de endereço detalhado */}\n                    <div className=\"md:col-span-2\">\n                      <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Endereço Detalhado</label>\n                      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-2\">\n                        <input\n                          type=\"text\"\n                          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-sm\"\n                          value={editingLocation.logradouro || ''}\n                          onChange={e => setEditingLocation({ ...editingLocation, logradouro: e.target.value })}\n                          placeholder=\"Logradouro (Rua, Avenida, etc.)\"\n                        />\n                        <input\n                          type=\"text\"\n                          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-sm\"\n                          value={editingLocation.numero || ''}\n                          onChange={e => setEditingLocation({ ...editingLocation, numero: e.target.value })}\n                          placeholder=\"Número\"\n                        />\n                        <input\n                          type=\"text\"\n                          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-sm\"\n                          value={editingLocation.complemento || ''}\n                          onChange={e => setEditingLocation({ ...editingLocation, complemento: e.target.value })}\n                          placeholder=\"Complemento\"\n                        />\n                      </div>\n                      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-2 mt-2\">\n                        <input\n                          type=\"text\"\n                          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-sm\"\n                          value={editingLocation.bairro || ''}\n                          onChange={e => setEditingLocation({ ...editingLocation, bairro: e.target.value })}\n                          placeholder=\"Bairro\"\n                        />\n                        <input\n                          type=\"text\"\n                          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-sm\"\n                          value={editingLocation.cep || ''}\n                          onChange={e => setEditingLocation({ ...editingLocation, cep: e.target.value })}\n                          placeholder=\"CEP\"\n                        />\n                        <input\n                          type=\"text\"\n                          className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-sm\"\n                          value={editingLocation.estado || 'SP'}\n                          onChange={e => setEditingLocation({ ...editingLocation, estado: e.target.value })}\n                          placeholder=\"Estado\"\n                        />\n                      </div>\n                    </div>\n                    \n                    {/* Campo de endereço completo */}\n                    <div className=\"md:col-span-2\">\n                      <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Endereço Completo</label>\n                      <input\n                        type=\"text\"\n                        className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                        value={editingLocation.Endereço || ''}\n                        onChange={e => setEditingLocation({ ...editingLocation, Endereço: e.target.value })}\n                        placeholder=\"Digite o endereço completo da escola...\"\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Terra Indígena (TI)</label>\n                      <input\n                        type=\"text\"\n                        className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                        value={editingLocation['Terra Indigena (TI)'] || ''}\n                        onChange={e => setEditingLocation({ ...editingLocation, 'Terra Indigena (TI)': e.target.value })}\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Diretoria de Ensino</label>\n                      <input\n                        type=\"text\"\n                        className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                        value={editingLocation['Diretoria de Ensino'] || ''}\n                        onChange={e => setEditingLocation({ ...editingLocation, 'Diretoria de Ensino': e.target.value })}\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Ano de Criação</label>\n                      <input\n                        type=\"text\"\n                        className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                        value={editingLocation['Ano de criação da escola'] || ''}\n                        onChange={e => setEditingLocation({ ...editingLocation, 'Ano de criação da escola': e.target.value })}\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Parcerias com o Município</label>\n                      <input\n                        type=\"text\"\n                        className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                        value={editingLocation['Parcerias com o município'] || ''}\n                        onChange={e => setEditingLocation({ ...editingLocation, 'Parcerias com o município': e.target.value })}\n                        placeholder=\"Descreva as parcerias com o município...\"\n                      />\n                    </div>\n                  </div>\n                )}\n\n                {/* Aba: Povos */}\n                {editingLocation.activeTab === 'povos-linguas' && (\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Povos</label>\n                      <input\n                        type=\"text\"\n                        className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                        value={editingLocation['Povos indigenas'] || ''}\n                        onChange={e => setEditingLocation({ ...editingLocation, 'Povos indigenas': e.target.value })}\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Línguas Faladas</label>\n                      <input\n                        type=\"text\"\n                        className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                        value={editingLocation['Linguas faladas'] || ''}\n                        onChange={e => setEditingLocation({ ...editingLocation, 'Linguas faladas': e.target.value })}\n                      />\n                    </div>\n                  </div>\n                )}\n\n                {/* Aba: Modalidades */}\n                {editingLocation.activeTab === 'modalidades' && (\n                  <div className=\"space-y-6\">\n                    {/* Modalidades de Ensino e Turnos */}\n                    <div className=\"md:col-span-2\">\n                      <label className=\"block text-sm font-medium text-gray-200 mb-4 text-base\">\n                        Modalidades de Ensino\n                      </label>\n                      <div className=\"bg-gray-800 border border-gray-700 rounded-lg p-4 max-h-96 overflow-y-auto\">\n                        <div className=\"space-y-4\">\n                          {/* 1. Educação Infantil */}\n                    <div>\n                            <h4 className=\"text-sm font-semibold text-green-400 mb-2 border-b border-gray-600 pb-1\">\n                              1. Educação Infantil\n                            </h4>\n                            <div className=\"space-y-2 ml-2\">\n                              {modalidadesOptions.slice(0, 6).map((modalidade, index) => (\n                                <label key={index} className=\"flex items-start space-x-3 cursor-pointer hover:bg-gray-700 p-2 rounded transition-colors\">\n                                  <input\n                                    type=\"checkbox\"\n                                    className=\"mt-1 h-4 w-4 text-green-600 bg-gray-700 border-gray-600 rounded focus:ring-green-500 focus:ring-2\"\n                                    checked={selectedModalidades.includes(modalidade)}\n                                    onChange={() => handleModalidadeChange(modalidade)}\n                                  />\n                                  <span className=\"text-sm text-gray-200 leading-relaxed\">{modalidade}</span>\n                                </label>\n                              ))}\n                            </div>\n                          </div>\n\n                          {/* 2. Educação Infantil + Ensino Fundamental */}\n                          <div>\n                            <h4 className=\"text-sm font-semibold text-green-400 mb-2 border-b border-gray-600 pb-1\">\n                              2. Educação Infantil + Ensino Fundamental\n                            </h4>\n                            <div className=\"space-y-2 ml-2\">\n                              {modalidadesOptions.slice(6, 13).map((modalidade, index) => (\n                                <label key={index + 6} className=\"flex items-start space-x-3 cursor-pointer hover:bg-gray-700 p-2 rounded transition-colors\">\n                                  <input\n                                    type=\"checkbox\"\n                                    className=\"mt-1 h-4 w-4 text-green-600 bg-gray-700 border-gray-600 rounded focus:ring-green-500 focus:ring-2\"\n                                    checked={selectedModalidades.includes(modalidade)}\n                                    onChange={() => handleModalidadeChange(modalidade)}\n                                  />\n                                  <span className=\"text-sm text-gray-200 leading-relaxed\">{modalidade}</span>\n                                </label>\n                              ))}\n                            </div>\n                          </div>\n\n                          {/* 3. Ensino Fundamental */}\n                          <div>\n                            <h4 className=\"text-sm font-semibold text-green-400 mb-2 border-b border-gray-600 pb-1\">\n                              3. Ensino Fundamental\n                            </h4>\n                            <div className=\"space-y-2 ml-2\">\n                              {modalidadesOptions.slice(13, 22).map((modalidade, index) => (\n                                <label key={index + 13} className=\"flex items-start space-x-3 cursor-pointer hover:bg-gray-700 p-2 rounded transition-colors\">\n                                  <input\n                                    type=\"checkbox\"\n                                    className=\"mt-1 h-4 w-4 text-green-600 bg-gray-700 border-gray-600 rounded focus:ring-green-500 focus:ring-2\"\n                                    checked={selectedModalidades.includes(modalidade)}\n                                    onChange={() => handleModalidadeChange(modalidade)}\n                                  />\n                                  <span className=\"text-sm text-gray-200 leading-relaxed\">{modalidade}</span>\n                                </label>\n                              ))}\n                            </div>\n                          </div>\n\n                          {/* 4. Ensino Médio */}\n                          <div>\n                            <h4 className=\"text-sm font-semibold text-green-400 mb-2 border-b border-gray-600 pb-1\">\n                              4. Ensino Médio\n                            </h4>\n                            <div className=\"space-y-2 ml-2\">\n                              {modalidadesOptions.slice(22, 26).map((modalidade, index) => (\n                                <label key={index + 22} className=\"flex items-start space-x-3 cursor-pointer hover:bg-gray-700 p-2 rounded transition-colors\">\n                                  <input\n                                    type=\"checkbox\"\n                                    className=\"mt-1 h-4 w-4 text-green-600 bg-gray-700 border-gray-600 rounded focus:ring-green-500 focus:ring-2\"\n                                    checked={selectedModalidades.includes(modalidade)}\n                                    onChange={() => handleModalidadeChange(modalidade)}\n                                  />\n                                  <span className=\"text-sm text-gray-200 leading-relaxed\">{modalidade}</span>\n                                </label>\n                              ))}\n                            </div>\n                          </div>\n                          \n                          {/* Opção \"Outro\" */}\n                          <div className=\"border-t border-gray-600 pt-3 mt-3\">\n                            <label className=\"flex items-start space-x-3 cursor-pointer hover:bg-gray-700 p-2 rounded transition-colors\">\n                              <input\n                                type=\"checkbox\"\n                                className=\"mt-1 h-4 w-4 text-green-600 bg-gray-700 border-gray-600 rounded focus:ring-green-500 focus:ring-2\"\n                                checked={selectedModalidades.some(m => m.startsWith('Outro:'))}\n                                onChange={() => handleOutroModalidadeChange(outroModalidade)}\n                              />\n                              <div className=\"flex-1\">\n                                <span className=\"text-sm text-gray-200\">Outro (especificar):</span>\n                      <input\n                        type=\"text\"\n                                  className=\"mt-1 w-full px-3 py-2 border border-gray-600 rounded text-sm bg-gray-700 text-gray-100 placeholder-gray-400 focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                                  placeholder=\"Digite a modalidade específica...\"\n                                  value={outroModalidade}\n                                  onChange={(e) => handleOutroModalidadeChange(e.target.value)}\n                      />\n                    </div>\n                            </label>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n\n\n                    {/* Número de Alunos */}\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Número de Alunos</label>\n                      <input\n                        type=\"text\"\n                        className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                        value={editingLocation['Numero de alunos'] || ''}\n                        onChange={e => setEditingLocation({ ...editingLocation, 'Numero de alunos': e.target.value })}\n                      />\n                    </div>\n\n                    {/* Turnos de Funcionamento */}\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Turnos de Funcionamento</label>\n                      <input\n                        type=\"text\"\n                        className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                        value={editingLocation.turnos_funcionamento || ''}\n                        onChange={e => setEditingLocation({ ...editingLocation, turnos_funcionamento: e.target.value })}\n                        placeholder=\"Ex: Diurno, Noturno, Vespertino, etc.\"\n                      />\n                    </div>\n\n                    {/* Botão para salvar modalidades */}\n                    <div className=\"md:col-span-2\">\n                      <button\n                        type=\"button\"\n                        onClick={saveModalidades}\n                        className=\"px-4 py-2 bg-green-700 text-white rounded-lg hover:bg-green-800 focus:outline-none focus:ring-2 focus:ring-green-400 transition-colors\"\n                      >\n                        Salvar Modalidades Selecionadas\n                      </button>\n                    </div>\n\n                    {/* Preview do texto final */}\n                    {selectedModalidades.length > 0 && (\n                      <div className=\"md:col-span-2\">\n                        <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">\n                          Preview do Texto Final\n                        </label>\n                        <div className=\"bg-gray-800 border border-gray-700 rounded px-3 py-2 text-gray-200 text-sm min-h-[60px]\">\n                          {selectedModalidades.join('; ') || 'Nenhuma modalidade selecionada'}\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                )}\n\n                {/* Aba: Infraestrutura */}\n                {editingLocation.activeTab === 'infraestrutura' && (\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6\">\n                    <div className=\"md:col-span-2\">\n                      <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Espaço Escolar e Estrutura</label>\n                      <textarea\n                        className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                        value={editingLocation['Espaço escolar e estrutura'] || ''}\n                        onChange={e => setEditingLocation({ ...editingLocation, 'Espaço escolar e estrutura': e.target.value })}\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Acesso à Água</label>\n                      <input\n                        type=\"text\"\n                        className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                        value={editingLocation['Acesso à água'] || ''}\n                        onChange={e => setEditingLocation({ ...editingLocation, 'Acesso à água': e.target.value })}\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Coleta de Lixo</label>\n                      <input\n                        type=\"text\"\n                        className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                        value={editingLocation['Tem coleta de lixo?'] || ''}\n                        onChange={e => setEditingLocation({ ...editingLocation, 'Tem coleta de lixo?': e.target.value })}\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Acesso à Internet</label>\n                      <input\n                        type=\"text\"\n                        className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                        value={editingLocation['Acesso à internet'] || ''}\n                        onChange={e => setEditingLocation({ ...editingLocation, 'Acesso à internet': e.target.value })}\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Equipamentos Tecnológicos</label>\n                      <input\n                        type=\"text\"\n                        className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                        value={editingLocation['Equipamentos Tecnológicos (Computadores, tablets e impressoras)'] || ''}\n                        onChange={e => setEditingLocation({ ...editingLocation, 'Equipamentos Tecnológicos (Computadores, tablets e impressoras)': e.target.value })}\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Modo de Acesso à Escola</label>\n                      <input\n                        type=\"text\"\n                        className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                        value={editingLocation['Modo de acesso à escola'] || ''}\n                        onChange={e => setEditingLocation({ ...editingLocation, 'Modo de acesso à escola': e.target.value })}\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Cozinha</label>\n                      <input\n                        type=\"text\"\n                        className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                        value={editingLocation.cozinha || ''}\n                        onChange={e => setEditingLocation({ ...editingLocation, cozinha: e.target.value })}\n                        placeholder=\"Ex: Sim, Não, Em construção...\"\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Merenda Escolar</label>\n                      <input\n                        type=\"text\"\n                        className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                        value={editingLocation.merenda_escolar || ''}\n                        onChange={e => setEditingLocation({ ...editingLocation, merenda_escolar: e.target.value })}\n                        placeholder=\"Ex: Sim, Não, Parcial...\"\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Merenda Diferenciada</label>\n                      <input\n                        type=\"text\"\n                        className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                        value={editingLocation.diferenciada || ''}\n                        onChange={e => setEditingLocation({ ...editingLocation, diferenciada: e.target.value })}\n                        placeholder=\"Ex: Sim, Não, Específica...\"\n                      />\n                    </div>\n                    <div className=\"md:col-span-2\">\n                      <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Merenda Diferenciada (Detalhes)</label>\n                      <textarea\n                        className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-24 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                        value={editingLocation.merenda_diferenciada || ''}\n                        onChange={e => setEditingLocation({ ...editingLocation, merenda_diferenciada: e.target.value })}\n                        placeholder=\"Descreva a situação do fornecimento de merenda (ex: se a escola recebe, se há interrupções, etc.)\"\n                      />\n                    </div>\n                  </div>\n                )}\n\n                {/* Aba: Gestores */}\n                {editingLocation.activeTab === 'gestao-professores' && (\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Gestão/Nome</label>\n                      <input\n                        type=\"text\"\n                        className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                        value={editingLocation['Gestão/Nome'] || ''}\n                        onChange={e => setEditingLocation({ ...editingLocation, 'Gestão/Nome': e.target.value })}\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Professores Indígenas</label>\n                      <input\n                        type=\"text\"\n                        className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                        value={editingLocation['Quantidade de professores indígenas'] || ''}\n                        onChange={e => setEditingLocation({ ...editingLocation, 'Quantidade de professores indígenas': e.target.value })}\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Professores Não Indígenas</label>\n                      <input\n                        type=\"text\"\n                        className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                        value={editingLocation['Quantidade de professores não indígenas'] || ''}\n                        onChange={e => setEditingLocation({ ...editingLocation, 'Quantidade de professores não indígenas': e.target.value })}\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Professores Falam Língua Indígena?</label>\n                      <input\n                        type=\"text\"\n                        className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                        value={editingLocation['Professores falam a língua indígena?'] || ''}\n                        onChange={e => setEditingLocation({ ...editingLocation, 'Professores falam a língua indígena?': e.target.value })}\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Formação dos Professores</label>\n                      <input\n                        type=\"text\"\n                        className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                        value={editingLocation['Formação dos professores'] || ''}\n                        onChange={e => setEditingLocation({ ...editingLocation, 'Formação dos professores': e.target.value })}\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Formação Continuada</label>\n                      <input\n                        type=\"text\"\n                        className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                        value={editingLocation['Formação continuada oferecida'] || ''}\n                        onChange={e => setEditingLocation({ ...editingLocation, 'Formação continuada oferecida': e.target.value })}\n                      />\n                    </div>\n                  </div>\n                )}\n\n                {/* Aba: Material Pedagógico */}\n                {editingLocation.activeTab === 'material-pedagogico' && (\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">A escola possui PPP próprio?</label>\n                      <input\n                        type=\"text\"\n                        className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                        value={editingLocation['A escola possui PPP próprio?'] || ''}\n                        onChange={e => setEditingLocation({ ...editingLocation, 'A escola possui PPP próprio?': e.target.value })}\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">PPP elaborado com a comunidade?</label>\n                      <input\n                        type=\"text\"\n                        className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                        value={editingLocation['PPP elaborado com a comunidade?'] || ''}\n                        onChange={e => setEditingLocation({ ...editingLocation, 'PPP elaborado com a comunidade?': e.target.value })}\n                      />\n                    </div>\n                  </div>\n                )}\n\n                {/* Aba: Projetos e Parcerias */}\n                {editingLocation.activeTab === 'projetos-parcerias' && (\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Projetos em Andamento</label>\n                      <input\n                        type=\"text\"\n                        className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                        value={editingLocation['Projetos em andamento'] || ''}\n                        onChange={e => setEditingLocation({ ...editingLocation, 'Projetos em andamento': e.target.value })}\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Parcerias com Universidades?</label>\n                      <input\n                        type=\"text\"\n                        className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                        value={editingLocation['Parcerias com universidades?'] || ''}\n                        onChange={e => setEditingLocation({ ...editingLocation, 'Parcerias com universidades?': e.target.value })}\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Ações com ONGs ou Coletivos?</label>\n                      <input\n                        type=\"text\"\n                        className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                        value={editingLocation['Ações com ONGs ou coletivos?'] || ''}\n                        onChange={e => setEditingLocation({ ...editingLocation, 'Ações com ONGs ou coletivos?': e.target.value })}\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Desejos da Comunidade</label>\n                      <input\n                        type=\"text\"\n                        className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                        value={editingLocation['Desejos da comunidade para a escola'] || ''}\n                        onChange={e => setEditingLocation({ ...editingLocation, 'Desejos da comunidade para a escola': e.target.value })}\n                      />\n                    </div>\n                  </div>\n                )}\n\n                {/* Aba: Redes Sociais */}\n                {editingLocation.activeTab === 'redes-sociais' && (\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Escola utiliza redes sociais?</label>\n                      <input\n                        type=\"text\"\n                        className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                        value={editingLocation['Escola utiliza redes sociais?'] || ''}\n                        onChange={e => setEditingLocation({ ...editingLocation, 'Escola utiliza redes sociais?': e.target.value })}\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Links das Redes Sociais</label>\n                      <input\n                        type=\"text\"\n                        className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                        value={editingLocation['Links das redes sociais'] || ''}\n                        onChange={e => setEditingLocation({ ...editingLocation, 'Links das redes sociais': e.target.value })}\n                      />\n                    </div>\n                  </div>\n                )}\n\n                {/* Aba: Vídeo */}\n                {editingLocation.activeTab === 'video' && (\n                  <div className=\"text-center py-8 text-gray-500\">\n                    <p>Use o gerenciador de vídeos acima para adicionar e editar vídeos.</p>\n                  </div>\n                )}\n\n                {/* Aba: Histórias */}\n                {editingLocation.activeTab === 'historias' && (\n                  <div className=\"grid grid-cols-1 gap-4 md:gap-6\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">História da Escola</label>\n                      <textarea\n                        className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 h-32 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                        value={editingLocation['historia_da_escola'] || ''}\n                        onChange={e => setEditingLocation({ ...editingLocation, 'historia_da_escola': e.target.value })}\n                      />\n                    </div>\n                  </div>\n                )}\n\n                {/* Aba: Coordenadas */}\n                {editingLocation.activeTab === 'coordenadas' && (\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Latitude</label>\n                      <input\n                        type=\"number\"\n                        step=\"any\"\n                        className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                        value={editingLocation['latitude'] || ''}\n                        onChange={e => setEditingLocation({ ...editingLocation, 'latitude': e.target.value })}\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Longitude</label>\n                      <input\n                        type=\"number\"\n                        step=\"any\"\n                        className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                        value={editingLocation['longitude'] || ''}\n                        onChange={e => setEditingLocation({ ...editingLocation, 'longitude': e.target.value })}\n                      />\n                    </div>\n                  </div>\n                )}\n\n                {/* Aba: Imagens da Escola */}\n                {editingLocation.activeTab === 'imagens-escola' && (\n                  <div className=\"space-y-4\">\n                    <ImageUploadSection \n                      escolaId={editingLocation.id}\n                      onImagesUpdate={() => {\n                        // Trigger refresh se necessário\n                        if (triggerRefresh) triggerRefresh();\n                      }}\n                    />\n                  </div>\n                )}\n\n                {/* Aba: Imagens dos Professores */}\n                {editingLocation.activeTab === 'imagens-professores' && (\n                  <div className=\"space-y-4\">\n                    <ProfessorImageUploadSection \n                      escolaId={editingLocation.id}\n                      onImagesUpdate={() => {\n                        // Trigger refresh se necessário\n                        if (triggerRefresh) triggerRefresh();\n                      }}\n                    />\n                  </div>\n                )}\n\n                {/* Aba: Documentos */}\n                {editingLocation.activeTab === 'documentos' && (\n                  <div className=\"space-y-4\">\n                    {/* Botão para adicionar novo documento */}\n                    {!showAddDocument && (\n                      <button\n                        type=\"button\"\n                        onClick={() => setShowAddDocument(true)}\n                        className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 transition-colors\"\n                      >\n                        + Adicionar Documento\n                      </button>\n                    )}\n\n                    {/* Formulário para adicionar documento */}\n                    {showAddDocument && (\n                      <div className=\"bg-green-50 border border-green-200 rounded-lg p-6\">\n                        <h5 className=\"font-medium text-green-800 mb-4\">Adicionar Novo Documento</h5>\n                        <form onSubmit={handleAddDocument} className=\"space-y-4\">\n                          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                            <div>\n                              <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Título *</label>\n                              <input\n                                type=\"text\"\n                                required\n                                className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                                value={newDocument.titulo}\n                                onChange={e => setNewDocument({ ...newDocument, titulo: e.target.value })}\n                              />\n                            </div>\n                            <div>\n                              <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Autor</label>\n                              <input\n                                type=\"text\"\n                                className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                                value={newDocument.autoria}\n                                onChange={e => setNewDocument({ ...newDocument, autoria: e.target.value })}\n                              />\n                            </div>\n                            <div>\n                              <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Tipo</label>\n                              <input\n                                type=\"text\"\n                                className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                                value={newDocument.tipo}\n                                onChange={e => setNewDocument({ ...newDocument, tipo: e.target.value })}\n                              />\n                            </div>\n                            <div className=\"md:col-span-2\">\n                              <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Link do PDF *</label>\n                              <input\n                                type=\"url\"\n                                required\n                                className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                                value={newDocument.link_pdf}\n                                onChange={e => setNewDocument({ ...newDocument, link_pdf: e.target.value })}\n                                placeholder=\"https://drive.google.com/file/d/...\"\n                              />\n                              <p className=\"text-xs text-gray-500 mt-1\">\n                                Recomendado: Link do Google Drive com permissão pública\n                              </p>\n                            </div>\n                          </div>\n                          <div className=\"flex gap-2\">\n                            <button\n                              type=\"submit\"\n                              className=\"px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors min-h-[44px] text-base\"\n                              disabled={isSaving}\n                            >\n                              {isSaving ? 'Salvando...' : 'Salvar Alterações'}\n                            </button>\n                            <button\n                              type=\"button\"\n                              className=\"px-4 py-3 bg-gray-700 text-gray-200 rounded-lg hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors min-h-[44px] text-base\"\n                              onClick={() => {\n                                setShowAddDocument(false);\n                                setNewDocument({ titulo: '', autoria: '', tipo: '', link_pdf: '' });\n                              }}\n                              disabled={isSaving}\n                            >\n                              Cancelar\n                            </button>\n                          </div>\n                        </form>\n                      </div>\n                    )}\n\n                    {/* Lista de documentos com ações */}\n                    {!loadingDocumentos && documentos.length > 0 && (\n                      <div className=\"bg-white border border-gray-200 rounded-lg p-4\">\n                        <h5 className=\"font-medium text-gray-800 mb-4\">Gerenciar Documentos</h5>\n                        <div className=\"space-y-3\">\n                          {documentos.map((doc) => (\n                            <div key={doc.id} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                              <div className=\"flex-1\">\n                                <h6 className=\"font-medium text-gray-800\">{doc.titulo}</h6>\n                                {doc.autoria && (\n                                  <p className=\"text-sm text-gray-600\">Por: {doc.autoria}</p>\n                                )}\n                                {doc.tipo && (\n                                  <span className=\"inline-block mt-1 px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full\">\n                                    {doc.tipo}\n                                  </span>\n                                )}\n                              </div>\n                              <div className=\"flex gap-2\">\n                                <button\n                                  type=\"button\"\n                                  onClick={() => setEditingDocument(doc)}\n                                  className=\"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors\"\n                                >\n                                  Editar\n                                </button>\n                                <button\n                                  type=\"button\"\n                                  onClick={() => handleDeleteDocument(doc.id)}\n                                  className=\"px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700 transition-colors\"\n                                >\n                                  Excluir\n                                </button>\n                              </div>\n                            </div>\n                          ))}\n                        </div>\n                      </div>\n                    )}\n\n                    {/* Formulário para editar documento */}\n                    {editingDocument && (\n                      <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-6\">\n                        <h5 className=\"font-medium text-yellow-800 mb-4\">Editar Documento</h5>\n                        <form onSubmit={handleUpdateDocument} className=\"space-y-4\">\n                          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                            <div>\n                              <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Título *</label>\n                              <input\n                                type=\"text\"\n                                required\n                                className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                                value={editingDocument.titulo}\n                                onChange={e => setEditingDocument({ ...editingDocument, titulo: e.target.value })}\n                              />\n                            </div>\n                            <div>\n                              <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Autor</label>\n                              <input\n                                type=\"text\"\n                                className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                                value={editingDocument.autoria || ''}\n                                onChange={e => setEditingDocument({ ...editingDocument, autoria: e.target.value })}\n                              />\n                            </div>\n                            <div>\n                              <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Tipo</label>\n                              <input\n                                type=\"text\"\n                                className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                                value={editingDocument.tipo || ''}\n                                onChange={e => setEditingDocument({ ...editingDocument, tipo: e.target.value })}\n                              />\n                            </div>\n                            <div className=\"md:col-span-2\">\n                              <label className=\"block text-sm font-medium text-gray-200 mb-2 text-base\">Link do PDF *</label>\n                              <input\n                                type=\"url\"\n                                required\n                                className=\"w-full border border-gray-700 bg-gray-800 rounded px-3 py-2 focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-gray-100 placeholder-gray-400 min-h-[44px] text-base\"\n                                value={editingDocument.link_pdf}\n                                onChange={e => setEditingDocument({ ...editingDocument, link_pdf: e.target.value })}\n                              />\n                            </div>\n                          </div>\n                          <div className=\"flex gap-2\">\n                            <button\n                              type=\"submit\"\n                              className=\"px-4 py-3 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors min-h-[44px] text-base\"\n                            >\n                              Atualizar Documento\n                            </button>\n                            <button\n                              type=\"button\"\n                              className=\"px-4 py-3 bg-gray-700 text-gray-200 rounded-lg hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors min-h-[44px] text-base\"\n                            >\n                              Cancelar\n                            </button>\n                          </div>\n                        </form>\n                      </div>\n                    )}\n\n                    {/* Informações sobre documentos */}\n                    <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n                      <h5 className=\"font-medium text-blue-800 mb-2\">Sobre os Documentos</h5>\n                      <p className=\"text-sm text-blue-700 mb-3\">\n                        Os documentos são armazenados na tabela <code>documentos_escola</code> no Supabase.\n                        Você pode adicionar, editar e remover documentos diretamente neste painel.\n                      </p>\n                      <div className=\"text-xs text-blue-600\">\n                        <p><strong>Estrutura da tabela:</strong></p>\n                        <ul className=\"list-disc list-inside mt-1 space-y-1\">\n                          <li><code>id</code> - ID único do documento</li>\n                          <li><code>escola_id</code> - ID da escola (preenchido automaticamente)</li>\n                          <li><code>titulo</code> - Título do documento</li>\n                          <li><code>autoria</code> - Autor do documento (opcional)</li>\n                          <li><code>tipo</code> - Tipo do documento (opcional)</li>\n                          <li><code>link_pdf</code> - URL do documento (Google Drive ou outro)</li>\n                        </ul>\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </div>\n\n              {/* Botões de ação do formulário principal */}\n              <div className=\"flex gap-2 mt-6 pt-6 border-t border-gray-800 flex-shrink-0\">\n                <button \n                  type=\"submit\"\n                  className=\"px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors min-h-[44px] text-base\"\n                  disabled={isSaving}\n                >\n                  {isSaving ? 'Salvando...' : 'Salvar Alterações'}\n                </button>\n                <button \n                  type=\"button\" \n                  className=\"px-4 py-3 bg-gray-700 text-gray-200 rounded-lg hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors min-h-[44px] text-base\"\n                  onClick={() => setEditingLocation(null)}\n                  disabled={isSaving}\n                >\n                  Cancelar\n                </button>\n              </div>\n            </form>\n\n            {/* ABA HISTÓRIA DOS PROFESSORES: RENDERIZA FORA DO FORM GLOBAL! */}\n            {editingLocation.activeTab === 'historia-professores' && (\n              <HistoriaProfessorManager escolaId={editingLocation.id} escolaNome={editingLocation.Escola} />\n            )}\n\n            {/* ABA VÍDEO: RENDERIZA FORA DO FORM GLOBAL! */}\n            {editingLocation.activeTab === 'video' && (\n              <VideoManager escolaId={editingLocation.id} />\n            )}\n\n            {/* Feedback de erro */}\n            {saveError && (\n              <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-4 flex-shrink-0\">\n                {saveError}\n              </div>\n            )}\n            \n            {/* Feedback de sucesso */}\n            {saveSuccess && (\n              <div className=\"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded mb-4 flex-shrink-0\">\n                Escola salva com sucesso!\n              </div>\n            )}\n          </div>\n        )}\n      </main>\n    </div>\n  );\n};\n\n// Função utilitária para embed de vídeo\nfunction getVideoEmbedUrl(url) {\n  if (!url) return '';\n  // YouTube\n  const ytMatch = url.match(/(?:youtu.be\\/|youtube.com\\/(?:watch\\?v=|embed\\/|v\\/))([\\w-]{11})/);\n  if (ytMatch) {\n    return `https://www.youtube.com/embed/${ytMatch[1]}`;\n  }\n  // Vimeo\n  const vimeoMatch = url.match(/vimeo.com\\/(\\d+)/);\n  if (vimeoMatch) {\n    return `https://player.vimeo.com/video/${vimeoMatch[1]}`;\n  }\n  // Outros: retorna o próprio link\n  return url;\n}\n\nexport default React.memo(AdminPanel); "],"names":["Check","createLucideIcon","d","key","Trash2","x1","x2","y1","y2","User","cx","cy","r","Image","width","height","x","y","rx","ry","CircleAlert","Upload","points","Save","ESCOLA_IMAGE_CONFIG","BUCKET_NAME","MAX_FILE_SIZE","ALLOWED_TYPES","MAX_IMAGES_PER_SCHOOL","MIN_DIMENSIONS","PROFESSOR_IMAGE_CONFIG","validateImageFile","file","config","includes","type","isValid","error","concat","map","t","split","toUpperCase","join","size","extension","name","pop","toLowerCase","allowedExtensions","uploadEscolaImage","async","escolaId","descricao","arguments","length","undefined","validation","Error","fileName","generateUniqueFileName","timestamp","Date","now","random","Math","toString","substring","filePath","uploadError","supabase","storage","from","upload","cacheControl","upsert","message","data","publicUrl","getPublicUrl","id","url","trim","created_at","toISOString","console","uploadProfessorImage","genero","generateUniqueFileNameWithGenero","getEscolaImages","bucketName","files","list","index","deleteImage","imageId","storageError","remove","checkImageLimit","currentCount","current","limit","canUpload","_ref","onImagesUpdate","selectedFiles","setSelectedFiles","useState","uploading","setUploading","uploadProgress","setUploadProgress","setError","success","setSuccess","existingImages","setExistingImages","loading","setLoading","imageLimit","setImageLimit","editingImage","setEditingImage","editingDescription","setEditingDescription","fetchExistingImages","useCallback","images","err","useEffect","log","testLegendasTable","legendasMap","img","legenda","getLegendaByImageUrl","prev","_objectSpread","legendaData","descricao_detalhada","autor_foto","data_foto","categoria","fetchLegendas","timer","setTimeout","clearTimeout","handleDrop","event","preventDefault","Array","dataTransfer","imageFiles","filter","startsWith","handleDragOver","handleLegendaFieldChange","field","value","_jsx","className","children","_jsxs","ImageIcon","AlertCircle","onDrop","onDragOver","multiple","accept","onChange","target","validFiles","isValidType","isValidSize","disabled","round","style","src","URL","createObjectURL","alt","onClick","_","i","removeSelectedFile","X","uploadedImages","progress","uploadedImage","push","newLimit","image","_image$legendaData","_image$legendaData2","_image$legendaData3","_image$legendaData4","_image$legendaData5","window","confirm","handleDeleteImage","title","e","placeholder","imagem_url_relativa","updateData","updated_at","resultado","updateLegendaFoto","novaLegendaData","escola_id","imagem_url","ativo","tipo_foto","novaLegenda","addLegendaFoto","stack","handleLegendaSave","addProfessorImageMeta","insert","meta","select","single","setGenero","titulo","setTitulo","eq","code","getProfessorImageMetaByUrl","updates","update","updateProfessorImageMeta","autor","nome_arquivo","Plus","EyeOff","ArrowUp","ArrowDown","PenLine","escolaNome","historias","setHistorias","showAddForm","setShowAddForm","editingHistoria","setEditingHistoria","uploadingImage","setUploadingImage","formData","setFormData","nome_professor","historia","ordem","carregarHistorias","getHistoriasProfessor","resetForm","handleReorder","historiaId","direction","historiaIndex","findIndex","h","newHistorias","targetIndex","updateHistoriaProfessor","BookOpen","handleEdit","Edit3","deleteHistoriaProfessor","handleDelete","onSubmit","payload","Number","Boolean","createHistoriaProfessor","required","min","parseInt","rows","checked","videos","setVideos","showForm","setShowForm","editingVideo","setEditingVideo","video_url","plataforma","carregarVideos","order","ascending","getVideosEscola","delete","deleteVideoEscola","video","allowFullScreen","updateVideoEscola","createVideoEscola","AdminPanel","triggerRefresh","useRefresh","escolas","setEscolas","searchTerm","setSearchTerm","selectedType","setSelectedType","editingLocation","setEditingLocation","isSaving","setIsSaving","saveError","setSaveError","saveSuccess","setSaveSuccess","documentos","setDocumentos","loadingDocumentos","setLoadingDocumentos","showAddDocument","setShowAddDocument","editingDocument","setEditingDocument","newDocument","setNewDocument","autoria","tipo","link_pdf","sidebarOpen","setSidebarOpen","selectedModalidades","setSelectedModalidades","outroModalidade","setOutroModalidade","isMobile","innerWidth","modalidadesOptions","handleModalidadeChange","modalidade","m","handleOutroModalidadeChange","hasOutro","some","escolasMapeadas","escola","logradouro","numero","complemento","bairro","cep","estado","fetchEscolas","fetchDocumentos","openEditModal","modalidadesText","parts","part","modalidades","outro","forEach","replace","loadExistingModalidades","escolaOriginal","Escola","activeTab","Menu","transform","top","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","_escola$Escola","cozinha","merenda_escolar","diferenciada","label","tab","validationErrors","errors","validateForm","Município","Endereço","turnos_funcionamento","merenda_diferenciada","Object","keys","slice","saveModalidades","step","ImageUploadSection","ProfessorImageUploadSection","alert","doc","documentId","handleDeleteDocument","HistoriaProfessorManager","VideoManager","React"],"sourceRoot":""}