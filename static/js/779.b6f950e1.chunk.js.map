{"version":3,"file":"static/js/779.b6f950e1.chunk.js","mappings":"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","sources":["../node_modules/react-leaflet/lib/GeoJSON.js","components/TerrasIndigenas.js","utils/mobileUtils.js"],"sourcesContent":["import { createElementObject, createPathComponent, extendContext } from '@react-leaflet/core';\nimport { GeoJSON as LeafletGeoJSON } from 'leaflet';\nexport const GeoJSON = createPathComponent(function createGeoJSON({ data , ...options }, ctx) {\n    const geoJSON = new LeafletGeoJSON(data, options);\n    return createElementObject(geoJSON, extendContext(ctx, {\n        overlayContainer: geoJSON\n    }));\n}, function updateGeoJSON(layer, props, prevProps) {\n    if (props.style !== prevProps.style) {\n        if (props.style == null) {\n            layer.resetStyle();\n        } else {\n            layer.setStyle(props.style);\n        }\n    }\n});\n","import React, { useCallback, useMemo, useEffect, useRef } from 'react';\nimport { GeoJSON, useMap } from 'react-leaflet';\nimport L from 'leaflet';\nimport { isMobile } from '../utils/mobileUtils';\n\nconst TerrasIndigenas = ({ data, onClick }) => {\n  const map = useMap();\n  const tooltipRef = useRef(null);\n\n  useEffect(() => {\n    if (data) {\n      console.log(\"TerrasIndigenas: Dados recebidos:\", {\n        type: data.type,\n        features: data.features ? data.features.length : 0,\n        properties: data.features ? data.features[0].properties : null\n      });\n    } else {\n      console.warn(\"TerrasIndigenas: Nenhum dado recebido\");\n    }\n  }, [data]);\n\n  // Função para mostrar tooltip temporário em mobile\n  const showMobileTooltip = useCallback((event, content) => {\n    if (!isMobile()) return;\n\n    // Remove tooltip anterior\n    if (tooltipRef.current) {\n      tooltipRef.current.remove();\n      tooltipRef.current = null;\n    }\n\n    const element = document.createElement('div');\n    element.className = 'mobile-tooltip-terra';\n    element.textContent = content;\n    element.style.position = 'absolute';\n    element.style.backgroundColor = 'rgba(139, 0, 0, 0.95)';\n    element.style.color = 'white';\n    element.style.padding = '8px 12px';\n    element.style.borderRadius = '6px';\n    element.style.fontSize = '14px';\n    element.style.fontFamily = 'Arial, sans-serif';\n    element.style.fontWeight = '500';\n    element.style.maxWidth = '250px';\n    element.style.whiteSpace = 'nowrap';\n    element.style.overflow = 'hidden';\n    element.style.textOverflow = 'ellipsis';\n    element.style.zIndex = '1000';\n    element.style.pointerEvents = 'none';\n    element.style.boxShadow = '0 2px 8px rgba(0, 0, 0, 0.3)';\n    element.style.border = '1px solid rgba(255, 255, 255, 0.2)';\n    \n    const latlng = event.latlng;\n    const point = map.latLngToLayerPoint(latlng);\n    element.style.left = (point.x + 10) + 'px';\n    element.style.top = (point.y - 10) + 'px';\n    \n    map.getContainer().appendChild(element);\n    tooltipRef.current = element;\n\n    // Auto-remove after 2 seconds\n    setTimeout(() => {\n      if (element.parentNode) {\n        element.remove();\n        tooltipRef.current = null;\n      }\n    }, 2000);\n  }, [map]);\n\n  // Estilo padrão das terras indígenas\n  const defaultStyle = useMemo(\n    () => ({\n      color: '#B22222', // Vermelho escuro na borda\n      weight: 2,\n      fillOpacity: 0.3,\n      fillColor: '#DC143C', // Vermelho vivo no preenchimento\n      dashArray: '3',\n      zIndex: 2\n    }),\n    []\n  );\n\n  // Função para determinar o estilo baseado no status da terra indígena\n  const style = useCallback(\n    (feature) => {\n      if (!feature || !feature.properties) {\n        console.warn(\"Feature sem propriedades:\", feature);\n        return defaultStyle;\n      }\n\n      const isRegularizada = feature.properties.fase_ti === 'Regularizada';\n      console.log(`Terra indígena ${feature.properties.terrai_nom}: ${isRegularizada ? 'Regularizada' : 'Não Regularizada'}`);\n      \n      return {\n        ...defaultStyle,\n        fillColor: isRegularizada ? '#DC143C' : '#8B0000', // Regularizada vermelho vivo, não regularizada vermelho escuro\n        fillOpacity: isRegularizada ? 0.3 : 0.25\n      };\n    },\n    [defaultStyle]\n  );\n\n  // Estilo quando o mouse passa por cima\n  const hoverStyle = {\n    weight: 3,\n    color: '#FF0000', // Vermelho puro na borda ao passar o mouse\n    fillOpacity: 0.45,\n    dashArray: ''\n  };\n\n  const onEachFeature = useCallback(\n    (feature, layer) => {\n      if (!feature || !feature.properties) {\n        console.warn(\"Feature sem propriedades no onEachFeature:\", feature);\n        return;\n      }\n\n      // Adiciona tooltip com informações básicas (desktop only)\n      if (!isMobile()) {\n        const tooltipContent = `\n          <div class=\"bg-white p-2 rounded shadow-md\">\n            <strong>${feature.properties.terrai_nom || 'Nome não disponível'}</strong><br/>\n            ${feature.properties.etnia_nome || 'Etnia não disponível'}<br/>\n            ${feature.properties.fase_ti || 'Fase não disponível'}\n          </div>\n        `;\n        layer.bindTooltip(tooltipContent, {\n          sticky: true,\n          className: 'custom-tooltip'\n        });\n      }\n\n      layer.on({\n        mouseover: (e) => {\n          if (isMobile()) return; // Skip hover on mobile\n          const layer = e.target;\n          layer.setStyle(hoverStyle);\n          layer.bringToFront();\n        },\n        mouseout: (e) => {\n          if (isMobile()) return; // Skip hover on mobile\n          e.target.setStyle(style(feature));\n        },\n        click: (e) => {\n          const layer = e.target;\n\n          // Prepara os dados para o painel\n          const terraIndigenaInfo = {\n            titulo: feature.properties.terrai_nom,\n            tipo: 'terra_indigena',\n            etnia: feature.properties.etnia_nome,\n            municipio: feature.properties.municipio_,\n            uf: feature.properties.uf_sigla,\n            superficie: feature.properties.superficie,\n            fase: feature.properties.fase_ti,\n            modalidade: feature.properties.modalidade,\n            reestudo: feature.properties.reestudo_t,\n            cr: feature.properties.cr,\n            faixa_fron: feature.properties.faixa_fron,\n            undadm_nom: feature.properties.undadm_nom,\n            undadm_sig: feature.properties.undadm_sig,\n            dominio_un: feature.properties.dominio_un,\n            data_atual: feature.properties.data_atual,\n            terrai_cod: feature.properties.terrai_cod,\n            undadm_cod: feature.properties.undadm_cod\n          };\n\n          // Handle mobile two-click behavior\n          showMobileTooltip(e, feature.properties.terrai_nom || 'Terra Indígena');\n          onClick?.(terraIndigenaInfo);\n        }\n      });\n    },\n    [map, style, onClick, showMobileTooltip]\n  );\n\n  // Cleanup on unmount\n  useEffect(() => {\n    return () => {\n      if (tooltipRef.current) {\n        tooltipRef.current.remove();\n        tooltipRef.current = null;\n      }\n    };\n  }, []);\n\n  if (!data) {\n    console.warn(\"TerrasIndigenas: Nenhum dado recebido\");\n    return null;\n  }\n\n  if (!data.type || data.type !== 'FeatureCollection') {\n    console.error(\"TerrasIndigenas: Formato de GeoJSON inválido. Esperado FeatureCollection, recebido:\", data.type);\n    return null;\n  }\n\n  if (!data.features || !Array.isArray(data.features) || data.features.length === 0) {\n    console.error(\"TerrasIndigenas: GeoJSON sem features válidas\");\n    return null;\n  }\n\n  return <GeoJSON data={data} style={style} onEachFeature={onEachFeature} />;\n};\n\nexport default TerrasIndigenas; ","// Utility functions for mobile detection and interaction\n\nexport const isMobile = () => {\n  return window.innerWidth <= 768;\n};\n\nexport const isMobileLandscape = () => {\n  return isMobile() && window.innerWidth > window.innerHeight;\n}; "],"names":["GeoJSON","createPathComponent","_ref","ctx","data","options","_objectWithoutProperties","_excluded","geoJSON","LeafletGeoJSON","createElementObject","extendContext","overlayContainer","layer","props","prevProps","style","resetStyle","setStyle","onClick","map","useMap","tooltipRef","useRef","useEffect","console","log","type","features","length","properties","warn","showMobileTooltip","useCallback","event","content","isMobile","current","remove","element","document","createElement","className","textContent","position","backgroundColor","color","padding","borderRadius","fontSize","fontFamily","fontWeight","maxWidth","whiteSpace","overflow","textOverflow","zIndex","pointerEvents","boxShadow","border","latlng","point","latLngToLayerPoint","left","x","top","y","getContainer","appendChild","setTimeout","parentNode","defaultStyle","useMemo","weight","fillOpacity","fillColor","dashArray","feature","isRegularizada","fase_ti","concat","terrai_nom","_objectSpread","hoverStyle","onEachFeature","tooltipContent","etnia_nome","bindTooltip","sticky","on","mouseover","e","target","bringToFront","mouseout","click","terraIndigenaInfo","titulo","tipo","etnia","municipio","municipio_","uf","uf_sigla","superficie","fase","modalidade","reestudo","reestudo_t","cr","faixa_fron","undadm_nom","undadm_sig","dominio_un","data_atual","terrai_cod","undadm_cod","Array","isArray","_jsx","error","window","innerWidth"],"sourceRoot":""}