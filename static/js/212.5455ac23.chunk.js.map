{"version":3,"file":"static/js/212.5455ac23.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/check.ts","../node_modules/lucide-react/src/icons/trash-2.ts","services/escolaImageService.js","../node_modules/lucide-react/src/icons/pen-line.ts","components/EditEscolaPanel/ProfessorImageUploadSection.js","../node_modules/lucide-react/src/icons/user.ts","../node_modules/lucide-react/src/icons/image.ts","components/EditEscolaPanel/ImageUploadSection.js","../node_modules/lucide-react/src/icons/users.ts","../node_modules/lucide-react/src/icons/settings.ts","components/EditEscolaPanel/EditEscolaPanel.js"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'M20 6 9 17l-5-5', key: '1gmf2c' }]];\n\n/**\n * @component @name Check\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgNiA5IDE3bC01LTUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Check = createLucideIcon('Check', __iconNode);\n\nexport default Check;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M3 6h18', key: 'd0wm0j' }],\n  ['path', { d: 'M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6', key: '4alrt4' }],\n  ['path', { d: 'M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2', key: 'v07s0e' }],\n  ['line', { x1: '10', x2: '10', y1: '11', y2: '17', key: '1uufr5' }],\n  ['line', { x1: '14', x2: '14', y1: '11', y2: '17', key: 'xtxkd' }],\n];\n\n/**\n * @component @name Trash2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyA2aDE4IiAvPgogIDxwYXRoIGQ9Ik0xOSA2djE0YzAgMS0xIDItMiAySDdjLTEgMC0yLTEtMi0yVjYiIC8+CiAgPHBhdGggZD0iTTggNlY0YzAtMSAxLTIgMi0yaDRjMSAwIDIgMSAyIDJ2MiIgLz4KICA8bGluZSB4MT0iMTAiIHgyPSIxMCIgeTE9IjExIiB5Mj0iMTciIC8+CiAgPGxpbmUgeDE9IjE0IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjE3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/trash-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Trash2 = createLucideIcon('Trash2', __iconNode);\n\nexport default Trash2;\n","import { supabase } from '../supabaseClient';\n\n// Configurações para imagens das escolas\nconst ESCOLA_IMAGE_CONFIG = {\n  BUCKET_NAME: 'imagens-das-escolas',\n  MAX_FILE_SIZE: 5 * 1024 * 1024, // 5MB\n  ALLOWED_TYPES: ['image/jpeg', 'image/jpg', 'image/png', 'image/webp', 'image/gif'],\n  MAX_IMAGES_PER_SCHOOL: 10,\n  MIN_DIMENSIONS: { width: 200, height: 200 }\n};\n\n// Configurações para imagens dos professores\nconst PROFESSOR_IMAGE_CONFIG = {\n  BUCKET_NAME: 'imagens-professores',\n  MAX_FILE_SIZE: 5 * 1024 * 1024, // 5MB\n  ALLOWED_TYPES: ['image/jpeg', 'image/jpg', 'image/png', 'image/webp', 'image/gif'],\n  MAX_IMAGES_PER_SCHOOL: 5,\n  MIN_DIMENSIONS: { width: 200, height: 200 }\n};\n\n/**\n * Valida um arquivo de imagem\n * @param {File} file - Arquivo a ser validado\n * @param {Object} config - Configuração de validação\n * @returns {Object} Resultado da validação\n */\nconst validateImageFile = (file, config) => {\n  // Verificar tipo MIME\n  if (!config.ALLOWED_TYPES.includes(file.type)) {\n    return {\n      isValid: false,\n      error: `Tipo de arquivo não suportado. Use apenas: ${config.ALLOWED_TYPES.map(t => t.split('/')[1].toUpperCase()).join(', ')}`\n    };\n  }\n\n  // Verificar tamanho\n  if (file.size > config.MAX_FILE_SIZE) {\n    return {\n      isValid: false,\n      error: `Arquivo muito grande. Tamanho máximo: ${config.MAX_FILE_SIZE / (1024 * 1024)}MB`\n    };\n  }\n\n  // Verificar extensão\n  const extension = file.name.split('.').pop().toLowerCase();\n  const allowedExtensions = config.ALLOWED_TYPES.map(t => t.split('/')[1]);\n  if (!allowedExtensions.includes(extension)) {\n    return {\n      isValid: false,\n      error: `Extensão não permitida. Use apenas: ${allowedExtensions.join(', ')}`\n    };\n  }\n\n  return { isValid: true };\n};\n\n/**\n * Gera nome único para o arquivo\n * @param {File} file - Arquivo\n * @param {number} escolaId - ID da escola\n * @returns {string} Nome único do arquivo\n */\nconst generateUniqueFileName = (file, escolaId) => {\n  const timestamp = Date.now();\n  const random = Math.random().toString(36).substring(2, 8);\n  const extension = file.name.split('.').pop().toLowerCase();\n  return `${escolaId}_${timestamp}_${random}.${extension}`;\n};\n\n/**\n * Verifica se a imagem tem as dimensões mínimas\n * @param {File} file - Arquivo de imagem\n * @param {Object} config - Configuração com dimensões mínimas\n * @returns {Promise<boolean>} Se a imagem tem dimensões válidas\n */\nconst validateImageDimensions = async (file, config) => {\n  return new Promise((resolve) => {\n    const img = new Image();\n    img.onload = () => {\n      const isValid = img.width >= config.MIN_DIMENSIONS.width && \n                     img.height >= config.MIN_DIMENSIONS.height;\n      resolve(isValid);\n    };\n    img.onerror = () => resolve(false);\n    img.src = URL.createObjectURL(file);\n  });\n};\n\n/**\n * Upload de imagem da escola\n * @param {File} file - Arquivo de imagem\n * @param {number} escolaId - ID da escola\n * @param {string} descricao - Descrição da imagem\n * @returns {Promise<Object>} Dados da imagem salva\n */\nexport const uploadEscolaImage = async (file, escolaId, descricao = '') => {\n  try {\n    // Validar arquivo\n    const validation = validateImageFile(file, ESCOLA_IMAGE_CONFIG);\n    if (!validation.isValid) {\n      throw new Error(validation.error);\n    }\n\n    // Validar dimensões (opcional)\n    const hasValidDimensions = await validateImageDimensions(file, ESCOLA_IMAGE_CONFIG);\n    if (!hasValidDimensions) {\n      console.warn('Imagem com dimensões menores que o recomendado');\n    }\n\n    // Gerar nome único\n    const fileName = generateUniqueFileName(file, escolaId);\n    const filePath = `${escolaId}/${fileName}`;\n\n    // Upload ao bucket\n    const { error: uploadError } = await supabase.storage\n      .from(ESCOLA_IMAGE_CONFIG.BUCKET_NAME)\n      .upload(filePath, file, {\n        cacheControl: '3600',\n        upsert: false\n      });\n\n    if (uploadError) {\n      throw new Error(`Erro no upload: ${uploadError.message}`);\n    }\n\n    // Obter URL pública\n    const { data: { publicUrl } } = supabase.storage\n      .from(ESCOLA_IMAGE_CONFIG.BUCKET_NAME)\n      .getPublicUrl(filePath);\n\n    // Inserir metadados na tabela\n    const { data: metadata, error: metadataError } = await supabase\n      .from('imagens_escola')\n      .insert([{\n        escola_id: escolaId,\n        url: filePath,\n        descricao: descricao.trim() || `Imagem da escola ${escolaId}`\n      }])\n      .select()\n      .single();\n\n    if (metadataError) {\n      // Se falhar ao inserir metadados, deletar o arquivo\n      await supabase.storage\n        .from(ESCOLA_IMAGE_CONFIG.BUCKET_NAME)\n        .remove([filePath]);\n      throw new Error(`Erro ao salvar metadados: ${metadataError.message}`);\n    }\n\n    return {\n      id: metadata.id,\n      url: filePath,\n      publicUrl,\n      descricao: metadata.descricao,\n      created_at: metadata.created_at\n    };\n\n  } catch (error) {\n    console.error('Erro no upload da imagem da escola:', error);\n    throw error;\n  }\n};\n\n/**\n * Upload de imagem do professor\n * @param {File} file - Arquivo de imagem\n * @param {number} escolaId - ID da escola\n * @param {string} descricao - Descrição da imagem\n * @returns {Promise<Object>} Dados da imagem salva\n */\nexport const uploadProfessorImage = async (file, escolaId, descricao = '') => {\n  try {\n    // Validar arquivo\n    const validation = validateImageFile(file, PROFESSOR_IMAGE_CONFIG);\n    if (!validation.isValid) {\n      throw new Error(validation.error);\n    }\n\n    // Validar dimensões (opcional)\n    const hasValidDimensions = await validateImageDimensions(file, PROFESSOR_IMAGE_CONFIG);\n    if (!hasValidDimensions) {\n      console.warn('Imagem com dimensões menores que o recomendado');\n    }\n\n    // Gerar nome único\n    const fileName = generateUniqueFileName(file, escolaId);\n    const filePath = `${escolaId}/${fileName}`;\n\n    // Upload ao bucket\n    const { error: uploadError } = await supabase.storage\n      .from(PROFESSOR_IMAGE_CONFIG.BUCKET_NAME)\n      .upload(filePath, file, {\n        cacheControl: '3600',\n        upsert: false\n      });\n\n    if (uploadError) {\n      throw new Error(`Erro no upload: ${uploadError.message}`);\n    }\n\n    // Obter URL pública\n    const { data: { publicUrl } } = supabase.storage\n      .from(PROFESSOR_IMAGE_CONFIG.BUCKET_NAME)\n      .getPublicUrl(filePath);\n\n    // Inserir metadados na tabela\n    const { data: metadata, error: metadataError } = await supabase\n      .from('imagens_escola')\n      .insert([{\n        escola_id: escolaId,\n        url: filePath,\n        descricao: descricao.trim() || `Imagem do professor da escola ${escolaId}`\n      }])\n      .select()\n      .single();\n\n    if (metadataError) {\n      // Se falhar ao inserir metadados, deletar o arquivo\n      await supabase.storage\n        .from(PROFESSOR_IMAGE_CONFIG.BUCKET_NAME)\n        .remove([filePath]);\n      throw new Error(`Erro ao salvar metadados: ${metadataError.message}`);\n    }\n\n    return {\n      id: metadata.id,\n      url: filePath,\n      publicUrl,\n      descricao: metadata.descricao,\n      created_at: metadata.created_at\n    };\n\n  } catch (error) {\n    console.error('Erro no upload da imagem do professor:', error);\n    throw error;\n  }\n};\n\n/**\n * Buscar imagens da escola\n * @param {number} escolaId - ID da escola\n * @param {string} bucketName - Nome do bucket (opcional)\n * @returns {Promise<Array>} Lista de imagens\n */\nexport const getEscolaImages = async (escolaId, bucketName = ESCOLA_IMAGE_CONFIG.BUCKET_NAME) => {\n  try {\n    const queryPattern = `${escolaId}/%`;\n\n    const { data, error } = await supabase\n      .from('imagens_escola')\n      .select('*')\n      .like('url', queryPattern)\n      .order('created_at', { ascending: true });\n\n    if (error) {\n      throw error;\n    }\n\n    if (!data || data.length === 0) {\n      return [];\n    }\n\n    // Adicionar URLs públicas\n    const imagensComUrl = data.map((img) => {\n      try {\n        const { data: { publicUrl } } = supabase.storage\n          .from(bucketName)\n          .getPublicUrl(img.url);\n\n        return { ...img, publicUrl };\n      } catch (err) {\n        return { ...img, publicUrl: null, urlError: err.message };\n      }\n    });\n\n    return imagensComUrl;\n\n  } catch (error) {\n    console.error('Erro ao buscar imagens da escola:', error);\n    throw error;\n  }\n};\n\n/**\n * Deletar imagem\n * @param {number} imageId - ID da imagem\n * @param {string} filePath - Caminho do arquivo\n * @param {string} bucketName - Nome do bucket\n * @returns {Promise<void>}\n */\nexport const deleteImage = async (imageId, filePath, bucketName) => {\n  try {\n    // Deletar metadados\n    const { error: metadataError } = await supabase\n      .from('imagens_escola')\n      .delete()\n      .eq('id', imageId);\n\n    if (metadataError) {\n      throw new Error(`Erro ao deletar metadados: ${metadataError.message}`);\n    }\n\n    // Deletar arquivo do storage\n    const { error: storageError } = await supabase.storage\n      .from(bucketName)\n      .remove([filePath]);\n\n    if (storageError) {\n      console.warn('Arquivo não encontrado no storage, mas metadados foram deletados');\n    }\n\n  } catch (error) {\n    console.error('Erro ao deletar imagem:', error);\n    throw error;\n  }\n};\n\n/**\n * Atualizar descrição da imagem\n * @param {number} imageId - ID da imagem\n * @param {string} descricao - Nova descrição\n * @returns {Promise<Object>} Imagem atualizada\n */\nexport const updateImageDescription = async (imageId, descricao) => {\n  try {\n    const { data, error } = await supabase\n      .from('imagens_escola')\n      .update({ descricao: descricao.trim() })\n      .eq('id', imageId)\n      .select()\n      .single();\n\n    if (error) {\n      throw error;\n    }\n\n    return data;\n\n  } catch (error) {\n    console.error('Erro ao atualizar descrição da imagem:', error);\n    throw error;\n  }\n};\n\n/**\n * Verificar limite de imagens\n * @param {number} escolaId - ID da escola\n * @param {string} bucketName - Nome do bucket\n * @returns {Promise<Object>} Informações sobre o limite\n */\nexport const checkImageLimit = async (escolaId, bucketName) => {\n  try {\n    const config = bucketName === PROFESSOR_IMAGE_CONFIG.BUCKET_NAME \n      ? PROFESSOR_IMAGE_CONFIG \n      : ESCOLA_IMAGE_CONFIG;\n\n    const queryPattern = `${escolaId}/%`;\n    const { count, error } = await supabase\n      .from('imagens_escola')\n      .select('*', { count: 'exact', head: true })\n      .like('url', queryPattern);\n\n    if (error) {\n      throw error;\n    }\n\n    return {\n      current: count || 0,\n      limit: config.MAX_IMAGES_PER_SCHOOL,\n      canUpload: (count || 0) < config.MAX_IMAGES_PER_SCHOOL\n    };\n\n  } catch (error) {\n    console.error('Erro ao verificar limite de imagens:', error);\n    throw error;\n  }\n}; ","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 20h9', key: 't2du7b' }],\n  [\n    'path',\n    {\n      d: 'M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z',\n      key: '1ykcvy',\n    },\n  ],\n];\n\n/**\n * @component @name PenLine\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgMjBoOSIgLz4KICA8cGF0aCBkPSJNMTYuMzc2IDMuNjIyYTEgMSAwIDAgMSAzLjAwMiAzLjAwMkw3LjM2OCAxOC42MzVhMiAyIDAgMCAxLS44NTUuNTA2bC0yLjg3Mi44MzhhLjUuNSAwIDAgMS0uNjItLjYybC44MzgtMi44NzJhMiAyIDAgMCAxIC41MDYtLjg1NHoiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/pen-line\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst PenLine = createLucideIcon('PenLine', __iconNode);\n\nexport default PenLine;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { Upload, X, User, Trash2, Edit3, Check, AlertCircle } from 'lucide-react';\nimport { \n  uploadProfessorImage, \n  getEscolaImages, \n  deleteImage, \n  updateImageDescription,\n  checkImageLimit \n} from '../../services/escolaImageService';\n\nconst ProfessorImageUploadSection = ({ escolaId, onImagesUpdate }) => {\n  const [selectedFiles, setSelectedFiles] = useState([]);\n  const [uploading, setUploading] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [existingImages, setExistingImages] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [imageLimit, setImageLimit] = useState({ current: 0, limit: 5, canUpload: true });\n  const [editingImage, setEditingImage] = useState(null);\n  const [editingDescription, setEditingDescription] = useState('');\n\n  // Buscar imagens existentes dos professores\n  const fetchExistingImages = useCallback(async () => {\n    if (!escolaId) return;\n    \n    try {\n      setLoading(true);\n      const images = await getEscolaImages(escolaId, 'imagens-professores');\n      setExistingImages(images);\n      \n      // Verificar limite\n      const limit = await checkImageLimit(escolaId, 'imagens-professores');\n      setImageLimit(limit);\n    } catch (err) {\n      console.error('Erro ao buscar imagens dos professores:', err);\n      setError('Erro ao carregar imagens dos professores');\n    } finally {\n      setLoading(false);\n    }\n  }, [escolaId]);\n\n  useEffect(() => {\n    fetchExistingImages();\n  }, [fetchExistingImages]);\n\n  // Limpar mensagens após 5 segundos\n  useEffect(() => {\n    if (error || success) {\n      const timer = setTimeout(() => {\n        setError('');\n        setSuccess('');\n      }, 5000);\n      return () => clearTimeout(timer);\n    }\n  }, [error, success]);\n\n  // Handler para seleção de arquivos\n  const handleFileSelect = (event) => {\n    const files = Array.from(event.target.files);\n    if (files.length === 0) return;\n\n    // Verificar se ainda pode fazer upload\n    if (!imageLimit.canUpload) {\n      setError(`Limite de ${imageLimit.limit} imagens dos professores atingido. Remova algumas imagens antes de adicionar novas.`);\n      return;\n    }\n\n    // Verificar se não excederá o limite\n    const totalImages = existingImages.length + selectedFiles.length + files.length;\n    if (totalImages > imageLimit.limit) {\n      setError(`Você pode adicionar no máximo ${imageLimit.limit - existingImages.length - selectedFiles.length} imagens dos professores.`);\n      return;\n    }\n\n    // Validar arquivos\n    const validFiles = files.filter(file => {\n      const isValidType = ['image/jpeg', 'image/jpg', 'image/png', 'image/webp', 'image/gif'].includes(file.type);\n      const isValidSize = file.size <= 5 * 1024 * 1024; // 5MB\n      \n      if (!isValidType) {\n        setError(`Arquivo \"${file.name}\" não é uma imagem válida. Use apenas JPG, PNG, WEBP ou GIF.`);\n      }\n      if (!isValidSize) {\n        setError(`Arquivo \"${file.name}\" é muito grande. Tamanho máximo: 5MB.`);\n      }\n      \n      return isValidType && isValidSize;\n    });\n\n    if (validFiles.length > 0) {\n      setSelectedFiles(prev => [...prev, ...validFiles]);\n      setError('');\n    }\n  };\n\n  // Handler para drag & drop\n  const handleDrop = useCallback((event) => {\n    event.preventDefault();\n    const files = Array.from(event.dataTransfer.files);\n    \n    if (files.length === 0) return;\n\n    // Verificar se ainda pode fazer upload\n    if (!imageLimit.canUpload) {\n      setError(`Limite de ${imageLimit.limit} imagens dos professores atingido. Remova algumas imagens antes de adicionar novas.`);\n      return;\n    }\n\n    // Verificar se não excederá o limite\n    const totalImages = existingImages.length + selectedFiles.length + files.length;\n    if (totalImages > imageLimit.limit) {\n      setError(`Você pode adicionar no máximo ${imageLimit.limit - existingImages.length - selectedFiles.length} imagens dos professores.`);\n      return;\n    }\n\n    // Filtrar apenas imagens\n    const imageFiles = files.filter(file => file.type.startsWith('image/'));\n    if (imageFiles.length > 0) {\n      setSelectedFiles(prev => [...prev, ...imageFiles]);\n      setError('');\n    }\n  }, [imageLimit, existingImages.length, selectedFiles.length]);\n\n  const handleDragOver = useCallback((event) => {\n    event.preventDefault();\n  }, []);\n\n  // Remover arquivo selecionado\n  const removeSelectedFile = (index) => {\n    setSelectedFiles(prev => prev.filter((_, i) => i !== index));\n  };\n\n  // Upload das imagens selecionadas\n  const handleUpload = async () => {\n    if (selectedFiles.length === 0) return;\n\n    setUploading(true);\n    setUploadProgress(0);\n    setError('');\n\n    try {\n      const uploadedImages = [];\n      \n      for (let i = 0; i < selectedFiles.length; i++) {\n        const file = selectedFiles[i];\n        const progress = ((i + 1) / selectedFiles.length) * 100;\n        setUploadProgress(progress);\n\n        const uploadedImage = await uploadProfessorImage(file, escolaId);\n        uploadedImages.push(uploadedImage);\n      }\n\n      // Atualizar lista de imagens\n      setExistingImages(prev => [...prev, ...uploadedImages]);\n      setSelectedFiles([]);\n      setUploadProgress(0);\n      setSuccess(`${uploadedImages.length} imagem(ns) do(s) professor(es) carregada(s) com sucesso!`);\n\n      // Atualizar limite\n      const newLimit = await checkImageLimit(escolaId, 'imagens-professores');\n      setImageLimit(newLimit);\n\n      // Notificar componente pai\n      if (onImagesUpdate) {\n        onImagesUpdate();\n      }\n\n    } catch (err) {\n      console.error('Erro no upload:', err);\n      setError(`Erro ao fazer upload: ${err.message}`);\n    } finally {\n      setUploading(false);\n      setUploadProgress(0);\n    }\n  };\n\n  // Deletar imagem existente\n  const handleDeleteImage = async (imageId, filePath) => {\n    if (!window.confirm('Tem certeza que deseja excluir esta imagem do professor?')) return;\n\n    try {\n      await deleteImage(imageId, filePath, 'imagens-professores');\n      \n      // Atualizar lista\n      setExistingImages(prev => prev.filter(img => img.id !== imageId));\n      \n      // Atualizar limite\n      const newLimit = await checkImageLimit(escolaId, 'imagens-professores');\n      setImageLimit(newLimit);\n\n      setSuccess('Imagem do professor excluída com sucesso!');\n\n      // Notificar componente pai\n      if (onImagesUpdate) {\n        onImagesUpdate();\n      }\n\n    } catch (err) {\n      console.error('Erro ao deletar imagem:', err);\n      setError(`Erro ao excluir imagem: ${err.message}`);\n    }\n  };\n\n  // Editar descrição da imagem\n  const handleEditDescription = async (imageId) => {\n    if (!editingDescription.trim()) return;\n\n    try {\n      await updateImageDescription(imageId, editingDescription);\n      \n      // Atualizar lista\n      setExistingImages(prev => prev.map(img => \n        img.id === imageId \n          ? { ...img, descricao: editingDescription.trim() }\n          : img\n      ));\n\n      setEditingImage(null);\n      setEditingDescription('');\n      setSuccess('Descrição atualizada com sucesso!');\n\n    } catch (err) {\n      console.error('Erro ao atualizar descrição:', err);\n      setError(`Erro ao atualizar descrição: ${err.message}`);\n    }\n  };\n\n  // Cancelar edição\n  const cancelEdit = () => {\n    setEditingImage(null);\n    setEditingDescription('');\n  };\n\n  if (loading) {\n    return (\n      <div className=\"p-6 bg-gray-50 rounded-lg\">\n        <div className=\"flex items-center justify-center py-8\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600\"></div>\n          <span className=\"ml-2 text-gray-600\">Carregando imagens dos professores...</span>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <User className=\"w-5 h-5 text-green-600\" />\n          <h3 className=\"text-lg font-semibold text-gray-900\">Imagens dos Professores</h3>\n        </div>\n        <div className=\"text-sm text-gray-500\">\n          {imageLimit.current}/{imageLimit.limit} imagens\n        </div>\n      </div>\n\n      {/* Mensagens */}\n      {error && (\n        <div className=\"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg\">\n          <AlertCircle className=\"w-5 h-5 text-red-600\" />\n          <span className=\"text-red-700\">{error}</span>\n        </div>\n      )}\n\n      {success && (\n        <div className=\"flex items-center gap-2 p-3 bg-green-50 border border-green-200 rounded-lg\">\n          <Check className=\"w-5 h-5 text-green-600\" />\n          <span className=\"text-green-700\">{success}</span>\n        </div>\n      )}\n\n      {/* Área de Upload */}\n      {imageLimit.canUpload && (\n        <div className=\"space-y-4\">\n          {/* Drag & Drop */}\n          <div\n            className={`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${\n              uploading \n                ? 'border-gray-300 bg-gray-50' \n                : 'border-green-300 bg-green-50 hover:border-green-400 hover:bg-green-100'\n            }`}\n            onDrop={handleDrop}\n            onDragOver={handleDragOver}\n          >\n            <Upload className=\"w-8 h-8 text-green-600 mx-auto mb-2\" />\n            <p className=\"text-gray-600 mb-2\">\n              Arraste imagens dos professores aqui ou clique para selecionar\n            </p>\n            <p className=\"text-sm text-gray-500 mb-4\">\n              JPG, PNG, WEBP, GIF • Máximo 5MB por arquivo • Máximo 5 imagens\n            </p>\n            \n            <label className=\"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer transition-colors\">\n              <input\n                type=\"file\"\n                multiple\n                accept=\"image/jpeg,image/jpg,image/png,image/webp,image/gif\"\n                onChange={handleFileSelect}\n                className=\"hidden\"\n                disabled={uploading}\n              />\n              Selecionar Arquivos\n            </label>\n          </div>\n\n          {/* Progress Bar */}\n          {uploading && (\n            <div className=\"space-y-2\">\n              <div className=\"flex justify-between text-sm text-gray-600\">\n                <span>Fazendo upload das imagens dos professores...</span>\n                <span>{Math.round(uploadProgress)}%</span>\n              </div>\n              <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                <div \n                  className=\"bg-green-600 h-2 rounded-full transition-all duration-300\"\n                  style={{ width: `${uploadProgress}%` }}\n                ></div>\n              </div>\n            </div>\n          )}\n\n          {/* Arquivos Selecionados */}\n          {selectedFiles.length > 0 && (\n            <div className=\"space-y-3\">\n              <h4 className=\"font-medium text-gray-900\">Arquivos selecionados ({selectedFiles.length})</h4>\n              <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3\">\n                {selectedFiles.map((file, index) => (\n                  <div key={index} className=\"relative group\">\n                    <img\n                      src={URL.createObjectURL(file)}\n                      alt={file.name}\n                      className=\"w-full h-24 object-cover rounded-lg border\"\n                    />\n                    <button\n                      onClick={() => removeSelectedFile(index)}\n                      className=\"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity\"\n                    >\n                      <X className=\"w-3 h-3\" />\n                    </button>\n                    <p className=\"text-xs text-gray-600 mt-1 truncate\">{file.name}</p>\n                  </div>\n                ))}\n              </div>\n              <button\n                onClick={handleUpload}\n                disabled={uploading}\n                className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                {uploading ? 'Fazendo Upload...' : 'Fazer Upload'}\n              </button>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Imagens Existentes */}\n      {existingImages.length > 0 && (\n        <div className=\"space-y-4\">\n          <h4 className=\"font-medium text-gray-900\">Imagens dos Professores ({existingImages.length})</h4>\n          <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\">\n            {existingImages.map((image) => (\n              <div key={image.id} className=\"relative group\">\n                <img\n                  src={image.publicUrl}\n                  alt={image.descricao || 'Imagem do professor'}\n                  className=\"w-full h-32 object-cover rounded-lg border\"\n                />\n                \n                {/* Overlay de ações */}\n                <div className=\"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 rounded-lg flex items-center justify-center\">\n                  <div className=\"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity\">\n                    <button\n                      onClick={() => {\n                        setEditingImage(image.id);\n                        setEditingDescription(image.descricao || '');\n                      }}\n                      className=\"p-2 bg-green-600 text-white rounded-full hover:bg-green-700\"\n                      title=\"Editar descrição\"\n                    >\n                      <Edit3 className=\"w-4 h-4\" />\n                    </button>\n                    <button\n                      onClick={() => handleDeleteImage(image.id, image.url)}\n                      className=\"p-2 bg-red-600 text-white rounded-full hover:bg-red-700\"\n                      title=\"Excluir imagem\"\n                    >\n                      <Trash2 className=\"w-4 h-4\" />\n                    </button>\n                  </div>\n                </div>\n\n                {/* Descrição */}\n                {image.descricao && (\n                  <p className=\"text-xs text-gray-600 mt-1 line-clamp-2\">\n                    {image.descricao}\n                  </p>\n                )}\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Modal de Edição de Descrição */}\n      {editingImage && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-lg p-6 w-full max-w-md\">\n            <h3 className=\"text-lg font-semibold mb-4\">Editar Descrição</h3>\n            <textarea\n              value={editingDescription}\n              onChange={(e) => setEditingDescription(e.target.value)}\n              className=\"w-full p-3 border rounded-lg resize-none\"\n              rows=\"3\"\n              placeholder=\"Digite a descrição da imagem do professor...\"\n            />\n            <div className=\"flex gap-2 mt-4\">\n              <button\n                onClick={() => handleEditDescription(editingImage)}\n                className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700\"\n              >\n                Salvar\n              </button>\n              <button\n                onClick={cancelEdit}\n                className=\"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400\"\n              >\n                Cancelar\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Mensagem quando não há imagens */}\n      {existingImages.length === 0 && !uploading && (\n        <div className=\"text-center py-8 text-gray-500\">\n          <User className=\"w-12 h-12 mx-auto mb-2 text-gray-300\" />\n          <p>Nenhuma imagem dos professores adicionada ainda.</p>\n          <p className=\"text-sm\">Adicione imagens para mostrar os professores da escola.</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nProfessorImageUploadSection.propTypes = {\n  escolaId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  onImagesUpdate: PropTypes.func\n};\n\nexport default ProfessorImageUploadSection; ","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2', key: '975kel' }],\n  ['circle', { cx: '12', cy: '7', r: '4', key: '17ys0d' }],\n];\n\n/**\n * @component @name User\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTkgMjF2LTJhNCA0IDAgMCAwLTQtNEg5YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjciIHI9IjQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/user\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst User = createLucideIcon('User', __iconNode);\n\nexport default User;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { width: '18', height: '18', x: '3', y: '3', rx: '2', ry: '2', key: '1m3agn' }],\n  ['circle', { cx: '9', cy: '9', r: '2', key: 'af1f0g' }],\n  ['path', { d: 'm21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21', key: '1xmnt7' }],\n];\n\n/**\n * @component @name Image\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjMiIHJ4PSIyIiByeT0iMiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iOSIgcj0iMiIgLz4KICA8cGF0aCBkPSJtMjEgMTUtMy4wODYtMy4wODZhMiAyIDAgMCAwLTIuODI4IDBMNiAyMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/image\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Image = createLucideIcon('Image', __iconNode);\n\nexport default Image;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { Upload, X, Image as ImageIcon, Trash2, Edit3, Check, AlertCircle } from 'lucide-react';\nimport { \n  uploadEscolaImage, \n  getEscolaImages, \n  deleteImage, \n  updateImageDescription,\n  checkImageLimit \n} from '../../services/escolaImageService';\n\nconst ImageUploadSection = ({ escolaId, onImagesUpdate }) => {\n  const [selectedFiles, setSelectedFiles] = useState([]);\n  const [uploading, setUploading] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [existingImages, setExistingImages] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [imageLimit, setImageLimit] = useState({ current: 0, limit: 10, canUpload: true });\n  const [editingImage, setEditingImage] = useState(null);\n  const [editingDescription, setEditingDescription] = useState('');\n\n  // Buscar imagens existentes\n  const fetchExistingImages = useCallback(async () => {\n    if (!escolaId) return;\n    \n    try {\n      setLoading(true);\n      const images = await getEscolaImages(escolaId, 'imagens-das-escolas');\n      setExistingImages(images);\n      \n      // Verificar limite\n      const limit = await checkImageLimit(escolaId, 'imagens-das-escolas');\n      setImageLimit(limit);\n    } catch (err) {\n      console.error('Erro ao buscar imagens:', err);\n      setError('Erro ao carregar imagens existentes');\n    } finally {\n      setLoading(false);\n    }\n  }, [escolaId]);\n\n  useEffect(() => {\n    fetchExistingImages();\n  }, [fetchExistingImages]);\n\n  // Limpar mensagens após 5 segundos\n  useEffect(() => {\n    if (error || success) {\n      const timer = setTimeout(() => {\n        setError('');\n        setSuccess('');\n      }, 5000);\n      return () => clearTimeout(timer);\n    }\n  }, [error, success]);\n\n  // Handler para seleção de arquivos\n  const handleFileSelect = (event) => {\n    const files = Array.from(event.target.files);\n    if (files.length === 0) return;\n\n    // Verificar se ainda pode fazer upload\n    if (!imageLimit.canUpload) {\n      setError(`Limite de ${imageLimit.limit} imagens atingido. Remova algumas imagens antes de adicionar novas.`);\n      return;\n    }\n\n    // Verificar se não excederá o limite\n    const totalImages = existingImages.length + selectedFiles.length + files.length;\n    if (totalImages > imageLimit.limit) {\n      setError(`Você pode adicionar no máximo ${imageLimit.limit - existingImages.length - selectedFiles.length} imagens.`);\n      return;\n    }\n\n    // Validar arquivos\n    const validFiles = files.filter(file => {\n      const isValidType = ['image/jpeg', 'image/jpg', 'image/png', 'image/webp', 'image/gif'].includes(file.type);\n      const isValidSize = file.size <= 5 * 1024 * 1024; // 5MB\n      \n      if (!isValidType) {\n        setError(`Arquivo \"${file.name}\" não é uma imagem válida. Use apenas JPG, PNG, WEBP ou GIF.`);\n      }\n      if (!isValidSize) {\n        setError(`Arquivo \"${file.name}\" é muito grande. Tamanho máximo: 5MB.`);\n      }\n      \n      return isValidType && isValidSize;\n    });\n\n    if (validFiles.length > 0) {\n      setSelectedFiles(prev => [...prev, ...validFiles]);\n      setError('');\n    }\n  };\n\n  // Handler para drag & drop\n  const handleDrop = useCallback((event) => {\n    event.preventDefault();\n    const files = Array.from(event.dataTransfer.files);\n    \n    if (files.length === 0) return;\n\n    // Verificar se ainda pode fazer upload\n    if (!imageLimit.canUpload) {\n      setError(`Limite de ${imageLimit.limit} imagens atingido. Remova algumas imagens antes de adicionar novas.`);\n      return;\n    }\n\n    // Verificar se não excederá o limite\n    const totalImages = existingImages.length + selectedFiles.length + files.length;\n    if (totalImages > imageLimit.limit) {\n      setError(`Você pode adicionar no máximo ${imageLimit.limit - existingImages.length - selectedFiles.length} imagens.`);\n      return;\n    }\n\n    // Filtrar apenas imagens\n    const imageFiles = files.filter(file => file.type.startsWith('image/'));\n    if (imageFiles.length > 0) {\n      setSelectedFiles(prev => [...prev, ...imageFiles]);\n      setError('');\n    }\n  }, [imageLimit, existingImages.length, selectedFiles.length]);\n\n  const handleDragOver = useCallback((event) => {\n    event.preventDefault();\n  }, []);\n\n  // Remover arquivo selecionado\n  const removeSelectedFile = (index) => {\n    setSelectedFiles(prev => prev.filter((_, i) => i !== index));\n  };\n\n  // Upload das imagens selecionadas\n  const handleUpload = async () => {\n    if (selectedFiles.length === 0) return;\n\n    setUploading(true);\n    setUploadProgress(0);\n    setError('');\n\n    try {\n      const uploadedImages = [];\n      \n      for (let i = 0; i < selectedFiles.length; i++) {\n        const file = selectedFiles[i];\n        const progress = ((i + 1) / selectedFiles.length) * 100;\n        setUploadProgress(progress);\n\n        const uploadedImage = await uploadEscolaImage(file, escolaId);\n        uploadedImages.push(uploadedImage);\n      }\n\n      // Atualizar lista de imagens\n      setExistingImages(prev => [...prev, ...uploadedImages]);\n      setSelectedFiles([]);\n      setUploadProgress(0);\n      setSuccess(`${uploadedImages.length} imagem(ns) carregada(s) com sucesso!`);\n\n      // Atualizar limite\n      const newLimit = await checkImageLimit(escolaId, 'imagens-das-escolas');\n      setImageLimit(newLimit);\n\n      // Notificar componente pai\n      if (onImagesUpdate) {\n        onImagesUpdate();\n      }\n\n    } catch (err) {\n      console.error('Erro no upload:', err);\n      setError(`Erro ao fazer upload: ${err.message}`);\n    } finally {\n      setUploading(false);\n      setUploadProgress(0);\n    }\n  };\n\n  // Deletar imagem existente\n  const handleDeleteImage = async (imageId, filePath) => {\n    if (!window.confirm('Tem certeza que deseja excluir esta imagem?')) return;\n\n    try {\n      await deleteImage(imageId, filePath, 'imagens-das-escolas');\n      \n      // Atualizar lista\n      setExistingImages(prev => prev.filter(img => img.id !== imageId));\n      \n      // Atualizar limite\n      const newLimit = await checkImageLimit(escolaId, 'imagens-das-escolas');\n      setImageLimit(newLimit);\n\n      setSuccess('Imagem excluída com sucesso!');\n\n      // Notificar componente pai\n      if (onImagesUpdate) {\n        onImagesUpdate();\n      }\n\n    } catch (err) {\n      console.error('Erro ao deletar imagem:', err);\n      setError(`Erro ao excluir imagem: ${err.message}`);\n    }\n  };\n\n  // Editar descrição da imagem\n  const handleEditDescription = async (imageId) => {\n    if (!editingDescription.trim()) return;\n\n    try {\n      await updateImageDescription(imageId, editingDescription);\n      \n      // Atualizar lista\n      setExistingImages(prev => prev.map(img => \n        img.id === imageId \n          ? { ...img, descricao: editingDescription.trim() }\n          : img\n      ));\n\n      setEditingImage(null);\n      setEditingDescription('');\n      setSuccess('Descrição atualizada com sucesso!');\n\n    } catch (err) {\n      console.error('Erro ao atualizar descrição:', err);\n      setError(`Erro ao atualizar descrição: ${err.message}`);\n    }\n  };\n\n  // Cancelar edição\n  const cancelEdit = () => {\n    setEditingImage(null);\n    setEditingDescription('');\n  };\n\n  if (loading) {\n    return (\n      <div className=\"p-6 bg-gray-50 rounded-lg\">\n        <div className=\"flex items-center justify-center py-8\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n          <span className=\"ml-2 text-gray-600\">Carregando imagens...</span>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <ImageIcon className=\"w-5 h-5 text-blue-600\" />\n          <h3 className=\"text-lg font-semibold text-gray-900\">Imagens da Escola</h3>\n        </div>\n        <div className=\"text-sm text-gray-500\">\n          {imageLimit.current}/{imageLimit.limit} imagens\n        </div>\n      </div>\n\n      {/* Mensagens */}\n      {error && (\n        <div className=\"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg\">\n          <AlertCircle className=\"w-5 h-5 text-red-600\" />\n          <span className=\"text-red-700\">{error}</span>\n        </div>\n      )}\n\n      {success && (\n        <div className=\"flex items-center gap-2 p-3 bg-green-50 border border-green-200 rounded-lg\">\n          <Check className=\"w-5 h-5 text-green-600\" />\n          <span className=\"text-green-700\">{success}</span>\n        </div>\n      )}\n\n      {/* Área de Upload */}\n      {imageLimit.canUpload && (\n        <div className=\"space-y-4\">\n          {/* Drag & Drop */}\n          <div\n            className={`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${\n              uploading \n                ? 'border-gray-300 bg-gray-50' \n                : 'border-blue-300 bg-blue-50 hover:border-blue-400 hover:bg-blue-100'\n            }`}\n            onDrop={handleDrop}\n            onDragOver={handleDragOver}\n          >\n            <Upload className=\"w-8 h-8 text-blue-600 mx-auto mb-2\" />\n            <p className=\"text-gray-600 mb-2\">\n              Arraste imagens aqui ou clique para selecionar\n            </p>\n            <p className=\"text-sm text-gray-500 mb-4\">\n              JPG, PNG, WEBP, GIF • Máximo 5MB por arquivo\n            </p>\n            \n            <label className=\"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer transition-colors\">\n              <input\n                type=\"file\"\n                multiple\n                accept=\"image/jpeg,image/jpg,image/png,image/webp,image/gif\"\n                onChange={handleFileSelect}\n                className=\"hidden\"\n                disabled={uploading}\n              />\n              Selecionar Arquivos\n            </label>\n          </div>\n\n          {/* Progress Bar */}\n          {uploading && (\n            <div className=\"space-y-2\">\n              <div className=\"flex justify-between text-sm text-gray-600\">\n                <span>Fazendo upload...</span>\n                <span>{Math.round(uploadProgress)}%</span>\n              </div>\n              <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                <div \n                  className=\"bg-blue-600 h-2 rounded-full transition-all duration-300\"\n                  style={{ width: `${uploadProgress}%` }}\n                ></div>\n              </div>\n            </div>\n          )}\n\n          {/* Arquivos Selecionados */}\n          {selectedFiles.length > 0 && (\n            <div className=\"space-y-3\">\n              <h4 className=\"font-medium text-gray-900\">Arquivos selecionados ({selectedFiles.length})</h4>\n              <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3\">\n                {selectedFiles.map((file, index) => (\n                  <div key={index} className=\"relative group\">\n                    <img\n                      src={URL.createObjectURL(file)}\n                      alt={file.name}\n                      className=\"w-full h-24 object-cover rounded-lg border\"\n                    />\n                    <button\n                      onClick={() => removeSelectedFile(index)}\n                      className=\"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity\"\n                    >\n                      <X className=\"w-3 h-3\" />\n                    </button>\n                    <p className=\"text-xs text-gray-600 mt-1 truncate\">{file.name}</p>\n                  </div>\n                ))}\n              </div>\n              <button\n                onClick={handleUpload}\n                disabled={uploading}\n                className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                {uploading ? 'Fazendo Upload...' : 'Fazer Upload'}\n              </button>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Imagens Existentes */}\n      {existingImages.length > 0 && (\n        <div className=\"space-y-4\">\n          <h4 className=\"font-medium text-gray-900\">Imagens da Escola ({existingImages.length})</h4>\n          <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\">\n            {existingImages.map((image) => (\n              <div key={image.id} className=\"relative group\">\n                <img\n                  src={image.publicUrl}\n                  alt={image.descricao || 'Imagem da escola'}\n                  className=\"w-full h-32 object-cover rounded-lg border\"\n                />\n                \n                {/* Overlay de ações */}\n                <div className=\"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 rounded-lg flex items-center justify-center\">\n                  <div className=\"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity\">\n                    <button\n                      onClick={() => {\n                        setEditingImage(image.id);\n                        setEditingDescription(image.descricao || '');\n                      }}\n                      className=\"p-2 bg-blue-600 text-white rounded-full hover:bg-blue-700\"\n                      title=\"Editar descrição\"\n                    >\n                      <Edit3 className=\"w-4 h-4\" />\n                    </button>\n                    <button\n                      onClick={() => handleDeleteImage(image.id, image.url)}\n                      className=\"p-2 bg-red-600 text-white rounded-full hover:bg-red-700\"\n                      title=\"Excluir imagem\"\n                    >\n                      <Trash2 className=\"w-4 h-4\" />\n                    </button>\n                  </div>\n                </div>\n\n                {/* Descrição */}\n                {image.descricao && (\n                  <p className=\"text-xs text-gray-600 mt-1 line-clamp-2\">\n                    {image.descricao}\n                  </p>\n                )}\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Modal de Edição de Descrição */}\n      {editingImage && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-lg p-6 w-full max-w-md\">\n            <h3 className=\"text-lg font-semibold mb-4\">Editar Descrição</h3>\n            <textarea\n              value={editingDescription}\n              onChange={(e) => setEditingDescription(e.target.value)}\n              className=\"w-full p-3 border rounded-lg resize-none\"\n              rows=\"3\"\n              placeholder=\"Digite a descrição da imagem...\"\n            />\n            <div className=\"flex gap-2 mt-4\">\n              <button\n                onClick={() => handleEditDescription(editingImage)}\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\n              >\n                Salvar\n              </button>\n              <button\n                onClick={cancelEdit}\n                className=\"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400\"\n              >\n                Cancelar\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Mensagem quando não há imagens */}\n      {existingImages.length === 0 && !uploading && (\n        <div className=\"text-center py-8 text-gray-500\">\n          <ImageIcon className=\"w-12 h-12 mx-auto mb-2 text-gray-300\" />\n          <p>Nenhuma imagem adicionada ainda.</p>\n          <p className=\"text-sm\">Adicione imagens para mostrar a escola.</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nImageUploadSection.propTypes = {\n  escolaId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  onImagesUpdate: PropTypes.func\n};\n\nexport default ImageUploadSection; ","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2', key: '1yyitq' }],\n  ['circle', { cx: '9', cy: '7', r: '4', key: 'nufk8' }],\n  ['path', { d: 'M22 21v-2a4 4 0 0 0-3-3.87', key: 'kshegd' }],\n  ['path', { d: 'M16 3.13a4 4 0 0 1 0 7.75', key: '1da9ce' }],\n];\n\n/**\n * @component @name Users\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iNyIgcj0iNCIgLz4KICA8cGF0aCBkPSJNMjIgMjF2LTJhNCA0IDAgMCAwLTMtMy44NyIgLz4KICA8cGF0aCBkPSJNMTYgMy4xM2E0IDQgMCAwIDEgMCA3Ljc1IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/users\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Users = createLucideIcon('Users', __iconNode);\n\nexport default Users;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z',\n      key: '1qme2f',\n    },\n  ],\n  ['circle', { cx: '12', cy: '12', r: '3', key: '1v7zrd' }],\n];\n\n/**\n * @component @name Settings\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIuMjIgMmgtLjQ0YTIgMiAwIDAgMC0yIDJ2LjE4YTIgMiAwIDAgMS0xIDEuNzNsLS40My4yNWEyIDIgMCAwIDEtMiAwbC0uMTUtLjA4YTIgMiAwIDAgMC0yLjczLjczbC0uMjIuMzhhMiAyIDAgMCAwIC43MyAyLjczbC4xNS4xYTIgMiAwIDAgMSAxIDEuNzJ2LjUxYTIgMiAwIDAgMS0xIDEuNzRsLS4xNS4wOWEyIDIgMCAwIDAtLjczIDIuNzNsLjIyLjM4YTIgMiAwIDAgMCAyLjczLjczbC4xNS0uMDhhMiAyIDAgMCAxIDIgMGwuNDMuMjVhMiAyIDAgMCAxIDEgMS43M1YyMGEyIDIgMCAwIDAgMiAyaC40NGEyIDIgMCAwIDAgMi0ydi0uMThhMiAyIDAgMCAxIDEtMS43M2wuNDMtLjI1YTIgMiAwIDAgMSAyIDBsLjE1LjA4YTIgMiAwIDAgMCAyLjczLS43M2wuMjItLjM5YTIgMiAwIDAgMC0uNzMtMi43M2wtLjE1LS4wOGEyIDIgMCAwIDEtMS0xLjc0di0uNWEyIDIgMCAwIDEgMS0xLjc0bC4xNS0uMDlhMiAyIDAgMCAwIC43My0yLjczbC0uMjItLjM4YTIgMiAwIDAgMC0yLjczLS43M2wtLjE1LjA4YTIgMiAwIDAgMS0yIDBsLS40My0uMjVhMiAyIDAgMCAxLTEtMS43M1Y0YTIgMiAwIDAgMC0yLTJ6IiAvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/settings\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Settings = createLucideIcon('Settings', __iconNode);\n\nexport default Settings;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Image as ImageIcon, User, BookOpen, MapPin, Users, Settings } from 'lucide-react';\nimport ImageUploadSection from './ImageUploadSection';\nimport ProfessorImageUploadSection from './ProfessorImageUploadSection';\n\nconst EditEscolaPanel = ({ escola, onClose, onSave }) => {\n  const [nomeEscola, setNomeEscola] = useState(escola?.Escola || '');\n  const [isSaving, setIsSaving] = useState(false);\n  const [error, setError] = useState('');\n  const [activeTab, setActiveTab] = useState('dados-basicos');\n\n  // Configuração das abas\n  const tabs = [\n    { \n      id: 'dados-basicos', \n      label: 'Dados Básicos', \n      icon: BookOpen,\n      description: 'Informações principais da escola'\n    },\n    { \n      id: 'imagens-escola', \n      label: 'Imagens da Escola', \n      icon: ImageIcon,\n      description: 'Upload e gerenciamento de imagens da escola (máx. 10)'\n    },\n    { \n      id: 'imagens-professores', \n      label: 'Imagens dos Professores', \n      icon: User,\n      description: 'Upload e gerenciamento de imagens dos professores (máx. 5)'\n    },\n    { \n      id: 'localizacao', \n      label: 'Localização', \n      icon: MapPin,\n      description: 'Coordenadas e endereço da escola'\n    },\n    { \n      id: 'gestao', \n      label: 'Gestão', \n      icon: Users,\n      description: 'Informações sobre gestão e funcionários'\n    },\n    { \n      id: 'configuracoes', \n      label: 'Configurações', \n      icon: Settings,\n      description: 'Configurações avançadas da escola'\n    }\n  ];\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!nomeEscola.trim()) {\n      setError('O nome da escola é obrigatório.');\n      return;\n    }\n    setError('');\n    setIsSaving(true);\n    try {\n      await onSave({ ...escola, Escola: nomeEscola });\n      onClose();\n    } catch (err) {\n      setError('Erro ao salvar.');\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  // Handler para atualização de imagens\n  const handleImagesUpdate = () => {\n    // Aqui você pode adicionar lógica para atualizar o PainelInformacoes\n    // Por exemplo, disparar um evento ou callback para refresh\n    console.log('Imagens atualizadas - PainelInformacoes deve ser atualizado');\n  };\n\n  // Renderizar conteúdo da aba ativa\n  const renderTabContent = () => {\n    switch (activeTab) {\n      case 'dados-basicos':\n        return (\n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Nome da Escola *\n              </label>\n              <input\n                type=\"text\"\n                className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                value={nomeEscola}\n                onChange={e => setNomeEscola(e.target.value)}\n                disabled={isSaving}\n                placeholder=\"Digite o nome da escola\"\n              />\n            </div>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Município\n                </label>\n                <input\n                  type=\"text\"\n                  className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  value={escola?.['Município'] || ''}\n                  onChange={e => onSave({ ...escola, 'Município': e.target.value })}\n                  placeholder=\"Nome do município\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Terra Indígena (TI)\n                </label>\n                <input\n                  type=\"text\"\n                  className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  value={escola?.['Terra Indigena (TI)'] || ''}\n                  onChange={e => onSave({ ...escola, 'Terra Indigena (TI)': e.target.value })}\n                  placeholder=\"Nome da terra indígena\"\n                />\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Endereço\n              </label>\n              <textarea\n                className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                rows=\"3\"\n                value={escola?.['Endereço'] || ''}\n                onChange={e => onSave({ ...escola, 'Endereço': e.target.value })}\n                placeholder=\"Endereço completo da escola\"\n              />\n            </div>\n          </div>\n        );\n\n      case 'imagens-escola':\n        return (\n          <ImageUploadSection \n            escolaId={escola?.id} \n            onImagesUpdate={handleImagesUpdate}\n          />\n        );\n\n      case 'imagens-professores':\n        return (\n          <ProfessorImageUploadSection \n            escolaId={escola?.id} \n            onImagesUpdate={handleImagesUpdate}\n          />\n        );\n\n      case 'localizacao':\n        return (\n          <div className=\"space-y-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Latitude\n                </label>\n                <input\n                  type=\"number\"\n                  step=\"any\"\n                  className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  value={escola?.latitude || ''}\n                  onChange={e => onSave({ ...escola, latitude: parseFloat(e.target.value) || null })}\n                  placeholder=\"Ex: -23.5505\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Longitude\n                </label>\n                <input\n                  type=\"number\"\n                  step=\"any\"\n                  className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  value={escola?.longitude || ''}\n                  onChange={e => onSave({ ...escola, longitude: parseFloat(e.target.value) || null })}\n                  placeholder=\"Ex: -46.6333\"\n                />\n              </div>\n            </div>\n            \n            <div className=\"p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n              <p className=\"text-sm text-blue-800\">\n                <strong>Dica:</strong> Use o Google Maps para encontrar as coordenadas exatas da escola.\n                Clique com o botão direito no local da escola e selecione as coordenadas.\n              </p>\n            </div>\n          </div>\n        );\n\n      case 'gestao':\n        return (\n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Gestão/Nome\n              </label>\n              <input\n                type=\"text\"\n                className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                value={escola?.gestao || ''}\n                onChange={e => onSave({ ...escola, gestao: e.target.value })}\n                placeholder=\"Nome da gestão atual\"\n              />\n            </div>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Professores Indígenas\n                </label>\n                <input\n                  type=\"text\"\n                  className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  value={escola?.professores_indigenas || ''}\n                  onChange={e => onSave({ ...escola, professores_indigenas: e.target.value })}\n                  placeholder=\"Quantidade ou nomes\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Professores Não Indígenas\n                </label>\n                <input\n                  type=\"text\"\n                  className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  value={escola?.professores_nao_indigenas || ''}\n                  onChange={e => onSave({ ...escola, professores_nao_indigenas: e.target.value })}\n                  placeholder=\"Quantidade ou nomes\"\n                />\n              </div>\n            </div>\n          </div>\n        );\n\n      case 'configuracoes':\n        return (\n          <div className=\"space-y-4\">\n            <div className=\"p-4 bg-yellow-50 border border-yellow-200 rounded-lg\">\n              <p className=\"text-sm text-yellow-800\">\n                <strong>Configurações Avançadas:</strong> Esta seção será implementada em breve.\n                Aqui você poderá configurar permissões, notificações e outras opções avançadas.\n              </p>\n            </div>\n          </div>\n        );\n\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-xl max-w-4xl mx-auto\">\n      {/* Header */}\n      <div className=\"border-b border-gray-200 px-6 py-4\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h2 className=\"text-xl font-semibold text-gray-900\">\n              Editar Escola: {escola?.Escola || 'Nova Escola'}\n            </h2>\n            <p className=\"text-sm text-gray-500 mt-1\">\n              Gerencie as informações e imagens da escola\n            </p>\n          </div>\n          <button\n            onClick={onClose}\n            className=\"text-gray-400 hover:text-gray-600 transition-colors\"\n          >\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </button>\n        </div>\n      </div>\n\n      {/* Navegação por abas */}\n      <div className=\"border-b border-gray-200\">\n        <nav className=\"flex space-x-8 px-6 overflow-x-auto\">\n          {tabs.map((tab) => {\n            const Icon = tab.icon;\n            return (\n              <button\n                key={tab.id}\n                type=\"button\"\n                onClick={() => setActiveTab(tab.id)}\n                className={`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2 transition-colors ${\n                  activeTab === tab.id\n                    ? 'border-blue-500 text-blue-600'\n                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n                }`}\n                title={tab.description}\n              >\n                <Icon className=\"w-4 h-4\" />\n                {tab.label}\n              </button>\n            );\n          })}\n        </nav>\n      </div>\n\n      {/* Conteúdo */}\n      <div className=\"p-6\">\n        <form onSubmit={handleSubmit}>\n          {/* Conteúdo da aba ativa */}\n          <div className=\"min-h-[400px]\">\n            {renderTabContent()}\n          </div>\n\n          {/* Mensagens de erro */}\n          {error && (\n            <div className=\"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg\">\n              <p className=\"text-red-700 text-sm\">{error}</p>\n            </div>\n          )}\n\n          {/* Botões de ação */}\n          <div className=\"flex gap-3 mt-6 pt-6 border-t border-gray-200\">\n            <button\n              type=\"submit\"\n              className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n              disabled={isSaving}\n            >\n              {isSaving ? 'Salvando...' : 'Salvar Alterações'}\n            </button>\n            <button\n              type=\"button\"\n              className=\"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors\"\n              onClick={onClose}\n              disabled={isSaving}\n            >\n              Cancelar\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nEditEscolaPanel.propTypes = {\n  escola: PropTypes.object.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onSave: PropTypes.func.isRequired,\n};\n\nexport default EditEscolaPanel;"],"names":["Check","createLucideIcon","d","key","Trash2","x1","x2","y1","y2","ESCOLA_IMAGE_CONFIG","BUCKET_NAME","MAX_FILE_SIZE","ALLOWED_TYPES","MAX_IMAGES_PER_SCHOOL","MIN_DIMENSIONS","width","height","PROFESSOR_IMAGE_CONFIG","validateImageFile","file","config","includes","type","isValid","error","concat","map","t","split","toUpperCase","join","size","extension","name","pop","toLowerCase","allowedExtensions","generateUniqueFileName","escolaId","timestamp","Date","now","random","Math","toString","substring","validateImageDimensions","async","Promise","resolve","img","Image","onload","onerror","src","URL","createObjectURL","uploadEscolaImage","descricao","arguments","length","undefined","validation","Error","console","warn","fileName","filePath","uploadError","supabase","storage","from","upload","cacheControl","upsert","message","data","publicUrl","getPublicUrl","metadata","metadataError","insert","escola_id","url","trim","select","single","remove","id","created_at","uploadProfessorImage","getEscolaImages","bucketName","queryPattern","like","order","ascending","_objectSpread","err","urlError","deleteImage","imageId","delete","eq","storageError","updateImageDescription","update","checkImageLimit","count","head","current","limit","canUpload","PenLine","_ref","onImagesUpdate","selectedFiles","setSelectedFiles","useState","uploading","setUploading","uploadProgress","setUploadProgress","setError","success","setSuccess","existingImages","setExistingImages","loading","setLoading","imageLimit","setImageLimit","editingImage","setEditingImage","editingDescription","setEditingDescription","fetchExistingImages","useCallback","images","useEffect","timer","setTimeout","clearTimeout","handleDrop","event","preventDefault","files","Array","dataTransfer","imageFiles","filter","startsWith","prev","handleDragOver","_jsx","className","children","_jsxs","User","AlertCircle","onDrop","onDragOver","Upload","multiple","accept","onChange","target","validFiles","isValidType","isValidSize","disabled","round","style","index","alt","onClick","_","i","removeSelectedFile","X","uploadedImages","progress","uploadedImage","push","newLimit","image","title","Edit3","window","confirm","handleDeleteImage","value","e","rows","placeholder","handleEditDescription","cancelEdit","cx","cy","r","x","y","rx","ry","ImageIcon","Users","Settings","escola","onClose","onSave","nomeEscola","setNomeEscola","Escola","isSaving","setIsSaving","activeTab","setActiveTab","tabs","label","icon","BookOpen","description","MapPin","handleImagesUpdate","log","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","tab","Icon","onSubmit","renderTabContent","ImageUploadSection","ProfessorImageUploadSection","step","latitude","parseFloat","longitude","gestao","professores_indigenas","professores_nao_indigenas"],"sourceRoot":""}